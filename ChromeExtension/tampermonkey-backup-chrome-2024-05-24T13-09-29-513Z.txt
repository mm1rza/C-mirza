{"created_by":"Tampermonkey","version":"1","scripts":[{"name":"Address List BGP","options":{"check_for_updates":true,"comment":null,"compat_foreach":false,"compat_metadata":false,"compat_powerful_this":null,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"merge_connects":true,"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_connects":[],"orig_excludes":[],"orig_includes":[],"orig_matches":["https://bgp.he.net/search*","https://bgp.he.net/AS*"],"orig_noframes":null,"orig_run_at":"document-idle","use_blockers":[],"use_connects":[],"use_excludes":[],"use_includes":[],"use_matches":[]},"run_at":null,"sandbox":null,"tab_types":null,"unwrap":null,"user_modified":null},"storage":{"ts":1715999537189,"data":{}},"enabled":true,"position":1,"file_url":"https://raw.githubusercontent.com/laksa19/addrlistbgp/main/addrlistbgp.user.js","uuid":"63dc9b5a-fe5a-4593-950e-8dbd0fc10133","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICBBZGRyZXNzIExpc3QgQkdQCi8vIEBuYW1lc3BhY2UgICAgaHR0cHM6Ly9sYWtzYTE5LmdpdGh1Yi5pby9hZGRybGlzdGJncAovLyBAdXBkYXRlVVJMICAgIGh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9sYWtzYTE5L2FkZHJsaXN0YmdwL21haW4vYWRkcmxpc3RiZ3AudXNlci5qcwovLyBAZG93bmxvYWRVUkwgIGh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9sYWtzYTE5L2FkZHJsaXN0YmdwL21haW4vYWRkcmxpc3RiZ3AudXNlci5qcwovLyBAdmVyc2lvbiAgICAgIDAuOAovLyBAZGVzY3JpcHRpb24gIEdldCBBZHJlc3MgTGlzdCBmcm9tIEJHUAovLyBAYXV0aG9yICAgICAgIExha3NhbWFkaSBHdWtvCi8vIEBtYXRjaCAgICAgICAgaHR0cHM6Ly9iZ3AuaGUubmV0L3NlYXJjaCoKLy8gQG1hdGNoICAgICAgICBodHRwczovL2JncC5oZS5uZXQvQVMqCi8vIEBncmFudCAgICAgICAgbm9uZQovLyBAcmVxdWlyZSAgICAgIGh0dHA6Ly9jb2RlLmpxdWVyeS5jb20vanF1ZXJ5LTMuNC4xLm1pbi5qcwovLyA9PS9Vc2VyU2NyaXB0PT0KCihmdW5jdGlvbigpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgICQoIiNjb250ZW50IikucHJlcGVuZChgCjxzdHlsZT4KLmJ0bnh7Ym9yZGVyOiAxcHggc29saWQgIzAwMDA2NjtoZWlnaHQ6IDIycHg7bWFyZ2luLXJpZ2h0OiA4cHg7bWFyZ2luLWJvdHRvbTo4cHg7cGFkZGluZy1sZWZ0OiAzcHg7cGFkZGluZy1yaWdodDogM3B4O2N1cnNvcjogcG9pbnRlcjt9CgoudGFicmVzdWx0IHsKICAgIGJvcmRlcjogMXB4IHNvbGlkICMwMDAwNjY7CiAgICBwYWRkaW5nOiAxNXB4OwogICAgbWluLXdpZHRoOiA3NDJweDsKICAgIHdpZHRoOiA3NDJweDsKbWFyZ2luLWJvdHRvbTo4cHg7Cn0KI3RibHJlc3VsdHtib3JkZXI6IG5vbmU7IHdpZHRoOjEwMCV9Cjwvc3R5bGU+Cgo8ZGl2IGlkPSdyZXN1bHQnIHN0eWxlPSdkaXNwbGF5Om5vbmUnIGNsYXNzPSd0YWJyZXN1bHQnPgo8YnV0dG9uIGNsYXNzPSdidG54JyBpZD0nY3BzY3JpcHQnPkNvcHkgU2NyaXB0PC9idXR0b24+CjxidXR0b24gY2xhc3M9J2J0bngnIGlkPSdjbG9zZSc+Q2xvc2U8L2J1dHRvbj4KPHRhYmxlIGlkPSd0YmxyZXN1bHQnPjwvdGFibGU+CjwvZGl2PmAKKTsKICAgICQoIiNoZWFkZXJfc2VhcmNoIikuYXBwZW5kKCI8YSBocmVmPScjJyBpZD0nZ2V0c2NyaXB0JyBzdHlsZT0nY29sb3I6IzAwMDA2NjsnPkdldCBBZGRyZXNzIExpc3QgU2NyaXB0PC9hPiIpOwogICAgJCgiI2dldHNjcmlwdCIpLmNsaWNrKGZ1bmN0aW9uKCl7CgogICAgICAgICAgICBnZXRJUCgpOwogICAgfSkKCgogICAgJCgiI2Nwc2NyaXB0IikuY2xpY2soZnVuY3Rpb24oKXsKICAgICAgICBjb3B5VGFibGUoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInRibHJlc3VsdCIpKTsKICAgIH0pCiAgICAkKCIjY2xvc2UiKS5jbGljayhmdW5jdGlvbigpezsKICAgICAgICAkKCIjcmVzdWx0IikuaGlkZSgpCiAgICAgICAgJCgiI3RibHJlc3VsdCIpLmh0bWwoIiIpOwogICAgfSkKCgoKICAgIGZ1bmN0aW9uIGdldElQKCl7CiAgICAgICAgJCgiI3RibHJlc3VsdCIpLmh0bWwoIiIpOwogICAgICAgICQoIiN0YmxyZXN1bHQiKS5hcHBlbmQoIjx0cj48dGQ+L2lwIGZpcmV3YWxsIGFkZHJlc3MtbGlzdDwvdGQ+PC90cj4iKQogICAgICAgIHZhciB0ciA9ICQoJ3RhYmxlIHRyJykuZmlsdGVyKGZ1bmN0aW9uKCkgewogICAgICAgICAgICByZXR1cm4gICQodGhpcykuZmluZCgidGQiKTsKICAgICAgICB9KTsKCiAgICAgICAgdHIuZWFjaChmdW5jdGlvbigpIHsKICAgICAgICAgICAgdmFyIGxpc3QgPSIiOwogICAgICAgICAgICB2YXIgaXAgPSAoJCh0aGlzKS5maW5kKCdhJykuaHRtbCgpKTsKICAgICAgICAgICAgaWYobG9jYXRpb24uaHJlZi5zcGxpdCgiLyIpWzNdLnN1YnN0cigwLDIpID09ICJBUyIpewogICAgICAgICAgICAgICAgbGlzdCA9ICQoJyNoZWFkZXInKS5maW5kKCdhJylbMV0uaW5uZXJIVE1MLnNwbGl0KGxvY2F0aW9uLmhyZWYuc3BsaXQoIi8iKVszXS5zcGxpdCgnIycpWzBdKVsxXTsKICAgICAgICAgICAgfWVsc2V7CiAgICAgICAgICAgICAgICBsaXN0ID0gJCgnI2hlYWRlcicpLmZpbmQoJ2gxJylbMF0uaW5uZXJIVE1MLnNwbGl0KCciJylbMV0uc3BsaXQoJyInKVswXTsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZihpcCAmJiBpcC5zcGxpdCgiLiIpLmxlbmd0aCA9PSA0KXsKICAgICAgICAgICAgICAgICQoIiN0YmxyZXN1bHQiKS5hcHBlbmQoYDx0cj48dGQ+YWRkIGxpc3Q9ImArbGlzdCtgIiBhZGRyZXNzPWAraXArYDwvdGQ+PC90cj5gKTsKICAgICAgICAgICAgfQoKICAgICAgICB9KTsKICAgICAgICAgJCgiI3RibHJlc3VsdCIpLmFwcGVuZCgiPHRyPjx0ZD48L3RkPjwvdHI+Iik7CiAgICAgICAgJCgiI3Jlc3VsdCIpLnNob3coKTsKICAgIH0KCiAgICBmdW5jdGlvbiBjb3B5VGFibGUoZWwpIHsKICAgICAgICB2YXIgYm9keSA9IGRvY3VtZW50LmJvZHksIHJhbmdlLCBzZWw7CiAgICAgICAgaWYgKGRvY3VtZW50LmNyZWF0ZVJhbmdlICYmIHdpbmRvdy5nZXRTZWxlY3Rpb24pIHsKICAgICAgICAgICAgcmFuZ2UgPSBkb2N1bWVudC5jcmVhdGVSYW5nZSgpOwogICAgICAgICAgICBzZWwgPSB3aW5kb3cuZ2V0U2VsZWN0aW9uKCk7CiAgICAgICAgICAgIHNlbC5yZW1vdmVBbGxSYW5nZXMoKTsKICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgIHJhbmdlLnNlbGVjdE5vZGVDb250ZW50cyhlbCk7CiAgICAgICAgICAgICAgICBzZWwuYWRkUmFuZ2UocmFuZ2UpOwogICAgICAgICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgICAgICAgICByYW5nZS5zZWxlY3ROb2RlKGVsKTsKICAgICAgICAgICAgICAgIHNlbC5hZGRSYW5nZShyYW5nZSk7CiAgICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgaWYgKGJvZHkuY3JlYXRlVGV4dFJhbmdlKSB7CiAgICAgICAgICAgIHJhbmdlID0gYm9keS5jcmVhdGVUZXh0UmFuZ2UoKTsKICAgICAgICAgICAgcmFuZ2UubW92ZVRvRWxlbWVudFRleHQoZWwpOwogICAgICAgICAgICByYW5nZS5zZWxlY3QoKTsKICAgICAgICB9CiAgICAgICAgZG9jdW1lbnQuZXhlY0NvbW1hbmQoImNvcHkiKTsKICAgIH0KCn0pKCk7Cgo=","requires":[{"meta":{"name":"jquery-3.4.1.min.js","url":"http://code.jquery.com/jquery-3.4.1.min.js","ts":1716549252352,"mimetype":"text/javascript"},"source":"LyohIGpRdWVyeSB2My40LjEgfCAoYykgSlMgRm91bmRhdGlvbiBhbmQgb3RoZXIgY29udHJpYnV0b3JzIHwganF1ZXJ5Lm9yZy9saWNlbnNlICovCiFmdW5jdGlvbihlLHQpeyJ1c2Ugc3RyaWN0Ijsib2JqZWN0Ij09dHlwZW9mIG1vZHVsZSYmIm9iamVjdCI9PXR5cGVvZiBtb2R1bGUuZXhwb3J0cz9tb2R1bGUuZXhwb3J0cz1lLmRvY3VtZW50P3QoZSwhMCk6ZnVuY3Rpb24oZSl7aWYoIWUuZG9jdW1lbnQpdGhyb3cgbmV3IEVycm9yKCJqUXVlcnkgcmVxdWlyZXMgYSB3aW5kb3cgd2l0aCBhIGRvY3VtZW50Iik7cmV0dXJuIHQoZSl9OnQoZSl9KCJ1bmRlZmluZWQiIT10eXBlb2Ygd2luZG93P3dpbmRvdzp0aGlzLGZ1bmN0aW9uKEMsZSl7InVzZSBzdHJpY3QiO3ZhciB0PVtdLEU9Qy5kb2N1bWVudCxyPU9iamVjdC5nZXRQcm90b3R5cGVPZixzPXQuc2xpY2UsZz10LmNvbmNhdCx1PXQucHVzaCxpPXQuaW5kZXhPZixuPXt9LG89bi50b1N0cmluZyx2PW4uaGFzT3duUHJvcGVydHksYT12LnRvU3RyaW5nLGw9YS5jYWxsKE9iamVjdCkseT17fSxtPWZ1bmN0aW9uKGUpe3JldHVybiJmdW5jdGlvbiI9PXR5cGVvZiBlJiYibnVtYmVyIiE9dHlwZW9mIGUubm9kZVR5cGV9LHg9ZnVuY3Rpb24oZSl7cmV0dXJuIG51bGwhPWUmJmU9PT1lLndpbmRvd30sYz17dHlwZTohMCxzcmM6ITAsbm9uY2U6ITAsbm9Nb2R1bGU6ITB9O2Z1bmN0aW9uIGIoZSx0LG4pe3ZhciByLGksbz0obj1ufHxFKS5jcmVhdGVFbGVtZW50KCJzY3JpcHQiKTtpZihvLnRleHQ9ZSx0KWZvcihyIGluIGMpKGk9dFtyXXx8dC5nZXRBdHRyaWJ1dGUmJnQuZ2V0QXR0cmlidXRlKHIpKSYmby5zZXRBdHRyaWJ1dGUocixpKTtuLmhlYWQuYXBwZW5kQ2hpbGQobykucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChvKX1mdW5jdGlvbiB3KGUpe3JldHVybiBudWxsPT1lP2UrIiI6Im9iamVjdCI9PXR5cGVvZiBlfHwiZnVuY3Rpb24iPT10eXBlb2YgZT9uW28uY2FsbChlKV18fCJvYmplY3QiOnR5cGVvZiBlfXZhciBmPSIzLjQuMSIsaz1mdW5jdGlvbihlLHQpe3JldHVybiBuZXcgay5mbi5pbml0KGUsdCl9LHA9L15bXHNcdUZFRkZceEEwXSt8W1xzXHVGRUZGXHhBMF0rJC9nO2Z1bmN0aW9uIGQoZSl7dmFyIHQ9ISFlJiYibGVuZ3RoImluIGUmJmUubGVuZ3RoLG49dyhlKTtyZXR1cm4hbShlKSYmIXgoZSkmJigiYXJyYXkiPT09bnx8MD09PXR8fCJudW1iZXIiPT10eXBlb2YgdCYmMDx0JiZ0LTEgaW4gZSl9ay5mbj1rLnByb3RvdHlwZT17anF1ZXJ5OmYsY29uc3RydWN0b3I6ayxsZW5ndGg6MCx0b0FycmF5OmZ1bmN0aW9uKCl7cmV0dXJuIHMuY2FsbCh0aGlzKX0sZ2V0OmZ1bmN0aW9uKGUpe3JldHVybiBudWxsPT1lP3MuY2FsbCh0aGlzKTplPDA/dGhpc1tlK3RoaXMubGVuZ3RoXTp0aGlzW2VdfSxwdXNoU3RhY2s6ZnVuY3Rpb24oZSl7dmFyIHQ9ay5tZXJnZSh0aGlzLmNvbnN0cnVjdG9yKCksZSk7cmV0dXJuIHQucHJldk9iamVjdD10aGlzLHR9LGVhY2g6ZnVuY3Rpb24oZSl7cmV0dXJuIGsuZWFjaCh0aGlzLGUpfSxtYXA6ZnVuY3Rpb24obil7cmV0dXJuIHRoaXMucHVzaFN0YWNrKGsubWFwKHRoaXMsZnVuY3Rpb24oZSx0KXtyZXR1cm4gbi5jYWxsKGUsdCxlKX0pKX0sc2xpY2U6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wdXNoU3RhY2socy5hcHBseSh0aGlzLGFyZ3VtZW50cykpfSxmaXJzdDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVxKDApfSxsYXN0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZXEoLTEpfSxlcTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLmxlbmd0aCxuPStlKyhlPDA/dDowKTtyZXR1cm4gdGhpcy5wdXNoU3RhY2soMDw9biYmbjx0P1t0aGlzW25dXTpbXSl9LGVuZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnByZXZPYmplY3R8fHRoaXMuY29uc3RydWN0b3IoKX0scHVzaDp1LHNvcnQ6dC5zb3J0LHNwbGljZTp0LnNwbGljZX0say5leHRlbmQ9ay5mbi5leHRlbmQ9ZnVuY3Rpb24oKXt2YXIgZSx0LG4scixpLG8sYT1hcmd1bWVudHNbMF18fHt9LHM9MSx1PWFyZ3VtZW50cy5sZW5ndGgsbD0hMTtmb3IoImJvb2xlYW4iPT10eXBlb2YgYSYmKGw9YSxhPWFyZ3VtZW50c1tzXXx8e30scysrKSwib2JqZWN0Ij09dHlwZW9mIGF8fG0oYSl8fChhPXt9KSxzPT09dSYmKGE9dGhpcyxzLS0pO3M8dTtzKyspaWYobnVsbCE9KGU9YXJndW1lbnRzW3NdKSlmb3IodCBpbiBlKXI9ZVt0XSwiX19wcm90b19fIiE9PXQmJmEhPT1yJiYobCYmciYmKGsuaXNQbGFpbk9iamVjdChyKXx8KGk9QXJyYXkuaXNBcnJheShyKSkpPyhuPWFbdF0sbz1pJiYhQXJyYXkuaXNBcnJheShuKT9bXTppfHxrLmlzUGxhaW5PYmplY3Qobik/bjp7fSxpPSExLGFbdF09ay5leHRlbmQobCxvLHIpKTp2b2lkIDAhPT1yJiYoYVt0XT1yKSk7cmV0dXJuIGF9LGsuZXh0ZW5kKHtleHBhbmRvOiJqUXVlcnkiKyhmK01hdGgucmFuZG9tKCkpLnJlcGxhY2UoL1xEL2csIiIpLGlzUmVhZHk6ITAsZXJyb3I6ZnVuY3Rpb24oZSl7dGhyb3cgbmV3IEVycm9yKGUpfSxub29wOmZ1bmN0aW9uKCl7fSxpc1BsYWluT2JqZWN0OmZ1bmN0aW9uKGUpe3ZhciB0LG47cmV0dXJuISghZXx8IltvYmplY3QgT2JqZWN0XSIhPT1vLmNhbGwoZSkpJiYoISh0PXIoZSkpfHwiZnVuY3Rpb24iPT10eXBlb2Yobj12LmNhbGwodCwiY29uc3RydWN0b3IiKSYmdC5jb25zdHJ1Y3RvcikmJmEuY2FsbChuKT09PWwpfSxpc0VtcHR5T2JqZWN0OmZ1bmN0aW9uKGUpe3ZhciB0O2Zvcih0IGluIGUpcmV0dXJuITE7cmV0dXJuITB9LGdsb2JhbEV2YWw6ZnVuY3Rpb24oZSx0KXtiKGUse25vbmNlOnQmJnQubm9uY2V9KX0sZWFjaDpmdW5jdGlvbihlLHQpe3ZhciBuLHI9MDtpZihkKGUpKXtmb3Iobj1lLmxlbmd0aDtyPG47cisrKWlmKCExPT09dC5jYWxsKGVbcl0scixlW3JdKSlicmVha31lbHNlIGZvcihyIGluIGUpaWYoITE9PT10LmNhbGwoZVtyXSxyLGVbcl0pKWJyZWFrO3JldHVybiBlfSx0cmltOmZ1bmN0aW9uKGUpe3JldHVybiBudWxsPT1lPyIiOihlKyIiKS5yZXBsYWNlKHAsIiIpfSxtYWtlQXJyYXk6ZnVuY3Rpb24oZSx0KXt2YXIgbj10fHxbXTtyZXR1cm4gbnVsbCE9ZSYmKGQoT2JqZWN0KGUpKT9rLm1lcmdlKG4sInN0cmluZyI9PXR5cGVvZiBlP1tlXTplKTp1LmNhbGwobixlKSksbn0saW5BcnJheTpmdW5jdGlvbihlLHQsbil7cmV0dXJuIG51bGw9PXQ/LTE6aS5jYWxsKHQsZSxuKX0sbWVyZ2U6ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49K3QubGVuZ3RoLHI9MCxpPWUubGVuZ3RoO3I8bjtyKyspZVtpKytdPXRbcl07cmV0dXJuIGUubGVuZ3RoPWksZX0sZ3JlcDpmdW5jdGlvbihlLHQsbil7Zm9yKHZhciByPVtdLGk9MCxvPWUubGVuZ3RoLGE9IW47aTxvO2krKykhdChlW2ldLGkpIT09YSYmci5wdXNoKGVbaV0pO3JldHVybiByfSxtYXA6ZnVuY3Rpb24oZSx0LG4pe3ZhciByLGksbz0wLGE9W107aWYoZChlKSlmb3Iocj1lLmxlbmd0aDtvPHI7bysrKW51bGwhPShpPXQoZVtvXSxvLG4pKSYmYS5wdXNoKGkpO2Vsc2UgZm9yKG8gaW4gZSludWxsIT0oaT10KGVbb10sbyxuKSkmJmEucHVzaChpKTtyZXR1cm4gZy5hcHBseShbXSxhKX0sZ3VpZDoxLHN1cHBvcnQ6eX0pLCJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJihrLmZuW1N5bWJvbC5pdGVyYXRvcl09dFtTeW1ib2wuaXRlcmF0b3JdKSxrLmVhY2goIkJvb2xlYW4gTnVtYmVyIFN0cmluZyBGdW5jdGlvbiBBcnJheSBEYXRlIFJlZ0V4cCBPYmplY3QgRXJyb3IgU3ltYm9sIi5zcGxpdCgiICIpLGZ1bmN0aW9uKGUsdCl7blsiW29iamVjdCAiK3QrIl0iXT10LnRvTG93ZXJDYXNlKCl9KTt2YXIgaD1mdW5jdGlvbihuKXt2YXIgZSxkLGIsbyxpLGgsZixnLHcsdSxsLFQsQyxhLEUsdixzLGMseSxrPSJzaXp6bGUiKzEqbmV3IERhdGUsbT1uLmRvY3VtZW50LFM9MCxyPTAscD11ZSgpLHg9dWUoKSxOPXVlKCksQT11ZSgpLEQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZT09PXQmJihsPSEwKSwwfSxqPXt9Lmhhc093blByb3BlcnR5LHQ9W10scT10LnBvcCxMPXQucHVzaCxIPXQucHVzaCxPPXQuc2xpY2UsUD1mdW5jdGlvbihlLHQpe2Zvcih2YXIgbj0wLHI9ZS5sZW5ndGg7bjxyO24rKylpZihlW25dPT09dClyZXR1cm4gbjtyZXR1cm4tMX0sUj0iY2hlY2tlZHxzZWxlY3RlZHxhc3luY3xhdXRvZm9jdXN8YXV0b3BsYXl8Y29udHJvbHN8ZGVmZXJ8ZGlzYWJsZWR8aGlkZGVufGlzbWFwfGxvb3B8bXVsdGlwbGV8b3BlbnxyZWFkb25seXxyZXF1aXJlZHxzY29wZWQiLE09IltcXHgyMFxcdFxcclxcblxcZl0iLEk9Iig/OlxcXFwufFtcXHctXXxbXlwwLVxceGEwXSkrIixXPSJcXFsiK00rIiooIitJKyIpKD86IitNKyIqKFsqXiR8IX5dPz0pIitNKyIqKD86JygoPzpcXFxcLnxbXlxcXFwnXSkqKSd8XCIoKD86XFxcXC58W15cXFxcXCJdKSopXCJ8KCIrSSsiKSl8KSIrTSsiKlxcXSIsJD0iOigiK0krIikoPzpcXCgoKCcoKD86XFxcXC58W15cXFxcJ10pKiknfFwiKCg/OlxcXFwufFteXFxcXFwiXSkqKVwiKXwoKD86XFxcXC58W15cXFxcKClbXFxdXXwiK1crIikqKXwuKilcXCl8KSIsRj1uZXcgUmVnRXhwKE0rIisiLCJnIiksQj1uZXcgUmVnRXhwKCJeIitNKyIrfCgoPzpefFteXFxcXF0pKD86XFxcXC4pKikiK00rIiskIiwiZyIpLF89bmV3IFJlZ0V4cCgiXiIrTSsiKiwiK00rIioiKSx6PW5ldyBSZWdFeHAoIl4iK00rIiooWz4rfl18IitNKyIpIitNKyIqIiksVT1uZXcgUmVnRXhwKE0rInw+IiksWD1uZXcgUmVnRXhwKCQpLFY9bmV3IFJlZ0V4cCgiXiIrSSsiJCIpLEc9e0lEOm5ldyBSZWdFeHAoIl4jKCIrSSsiKSIpLENMQVNTOm5ldyBSZWdFeHAoIl5cXC4oIitJKyIpIiksVEFHOm5ldyBSZWdFeHAoIl4oIitJKyJ8WypdKSIpLEFUVFI6bmV3IFJlZ0V4cCgiXiIrVyksUFNFVURPOm5ldyBSZWdFeHAoIl4iKyQpLENISUxEOm5ldyBSZWdFeHAoIl46KG9ubHl8Zmlyc3R8bGFzdHxudGh8bnRoLWxhc3QpLShjaGlsZHxvZi10eXBlKSg/OlxcKCIrTSsiKihldmVufG9kZHwoKFsrLV18KShcXGQqKW58KSIrTSsiKig/OihbKy1dfCkiK00rIiooXFxkKyl8KSkiK00rIipcXCl8KSIsImkiKSxib29sOm5ldyBSZWdFeHAoIl4oPzoiK1IrIikkIiwiaSIpLG5lZWRzQ29udGV4dDpuZXcgUmVnRXhwKCJeIitNKyIqWz4rfl18OihldmVufG9kZHxlcXxndHxsdHxudGh8Zmlyc3R8bGFzdCkoPzpcXCgiK00rIiooKD86LVxcZCk/XFxkKikiK00rIipcXCl8KSg/PVteLV18JCkiLCJpIil9LFk9L0hUTUwkL2ksUT0vXig/OmlucHV0fHNlbGVjdHx0ZXh0YXJlYXxidXR0b24pJC9pLEo9L15oXGQkL2ksSz0vXltee10rXHtccypcW25hdGl2ZSBcdy8sWj0vXig/OiMoW1x3LV0rKXwoXHcrKXxcLihbXHctXSspKSQvLGVlPS9bK35dLyx0ZT1uZXcgUmVnRXhwKCJcXFxcKFtcXGRhLWZdezEsNn0iK00rIj98KCIrTSsiKXwuKSIsImlnIiksbmU9ZnVuY3Rpb24oZSx0LG4pe3ZhciByPSIweCIrdC02NTUzNjtyZXR1cm4gciE9cnx8bj90OnI8MD9TdHJpbmcuZnJvbUNoYXJDb2RlKHIrNjU1MzYpOlN0cmluZy5mcm9tQ2hhckNvZGUocj4+MTB8NTUyOTYsMTAyMyZyfDU2MzIwKX0scmU9LyhbXDAtXHgxZlx4N2ZdfF4tP1xkKXxeLSR8W15cMC1ceDFmXHg3Zi1cdUZGRkZcdy1dL2csaWU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdD8iXDAiPT09ZT8iXHVmZmZkIjplLnNsaWNlKDAsLTEpKyJcXCIrZS5jaGFyQ29kZUF0KGUubGVuZ3RoLTEpLnRvU3RyaW5nKDE2KSsiICI6IlxcIitlfSxvZT1mdW5jdGlvbigpe1QoKX0sYWU9YmUoZnVuY3Rpb24oZSl7cmV0dXJuITA9PT1lLmRpc2FibGVkJiYiZmllbGRzZXQiPT09ZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpfSx7ZGlyOiJwYXJlbnROb2RlIixuZXh0OiJsZWdlbmQifSk7dHJ5e0guYXBwbHkodD1PLmNhbGwobS5jaGlsZE5vZGVzKSxtLmNoaWxkTm9kZXMpLHRbbS5jaGlsZE5vZGVzLmxlbmd0aF0ubm9kZVR5cGV9Y2F0Y2goZSl7SD17YXBwbHk6dC5sZW5ndGg/ZnVuY3Rpb24oZSx0KXtMLmFwcGx5KGUsTy5jYWxsKHQpKX06ZnVuY3Rpb24oZSx0KXt2YXIgbj1lLmxlbmd0aCxyPTA7d2hpbGUoZVtuKytdPXRbcisrXSk7ZS5sZW5ndGg9bi0xfX19ZnVuY3Rpb24gc2UodCxlLG4scil7dmFyIGksbyxhLHMsdSxsLGMsZj1lJiZlLm93bmVyRG9jdW1lbnQscD1lP2Uubm9kZVR5cGU6OTtpZihuPW58fFtdLCJzdHJpbmciIT10eXBlb2YgdHx8IXR8fDEhPT1wJiY5IT09cCYmMTEhPT1wKXJldHVybiBuO2lmKCFyJiYoKGU/ZS5vd25lckRvY3VtZW50fHxlOm0pIT09QyYmVChlKSxlPWV8fEMsRSkpe2lmKDExIT09cCYmKHU9Wi5leGVjKHQpKSlpZihpPXVbMV0pe2lmKDk9PT1wKXtpZighKGE9ZS5nZXRFbGVtZW50QnlJZChpKSkpcmV0dXJuIG47aWYoYS5pZD09PWkpcmV0dXJuIG4ucHVzaChhKSxufWVsc2UgaWYoZiYmKGE9Zi5nZXRFbGVtZW50QnlJZChpKSkmJnkoZSxhKSYmYS5pZD09PWkpcmV0dXJuIG4ucHVzaChhKSxufWVsc2V7aWYodVsyXSlyZXR1cm4gSC5hcHBseShuLGUuZ2V0RWxlbWVudHNCeVRhZ05hbWUodCkpLG47aWYoKGk9dVszXSkmJmQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSYmZS5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKXJldHVybiBILmFwcGx5KG4sZS5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKGkpKSxufWlmKGQucXNhJiYhQVt0KyIgIl0mJighdnx8IXYudGVzdCh0KSkmJigxIT09cHx8Im9iamVjdCIhPT1lLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkpKXtpZihjPXQsZj1lLDE9PT1wJiZVLnRlc3QodCkpeyhzPWUuZ2V0QXR0cmlidXRlKCJpZCIpKT9zPXMucmVwbGFjZShyZSxpZSk6ZS5zZXRBdHRyaWJ1dGUoImlkIixzPWspLG89KGw9aCh0KSkubGVuZ3RoO3doaWxlKG8tLSlsW29dPSIjIitzKyIgIit4ZShsW29dKTtjPWwuam9pbigiLCIpLGY9ZWUudGVzdCh0KSYmeWUoZS5wYXJlbnROb2RlKXx8ZX10cnl7cmV0dXJuIEguYXBwbHkobixmLnF1ZXJ5U2VsZWN0b3JBbGwoYykpLG59Y2F0Y2goZSl7QSh0LCEwKX1maW5hbGx5e3M9PT1rJiZlLnJlbW92ZUF0dHJpYnV0ZSgiaWQiKX19fXJldHVybiBnKHQucmVwbGFjZShCLCIkMSIpLGUsbixyKX1mdW5jdGlvbiB1ZSgpe3ZhciByPVtdO3JldHVybiBmdW5jdGlvbiBlKHQsbil7cmV0dXJuIHIucHVzaCh0KyIgIik+Yi5jYWNoZUxlbmd0aCYmZGVsZXRlIGVbci5zaGlmdCgpXSxlW3QrIiAiXT1ufX1mdW5jdGlvbiBsZShlKXtyZXR1cm4gZVtrXT0hMCxlfWZ1bmN0aW9uIGNlKGUpe3ZhciB0PUMuY3JlYXRlRWxlbWVudCgiZmllbGRzZXQiKTt0cnl7cmV0dXJuISFlKHQpfWNhdGNoKGUpe3JldHVybiExfWZpbmFsbHl7dC5wYXJlbnROb2RlJiZ0LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodCksdD1udWxsfX1mdW5jdGlvbiBmZShlLHQpe3ZhciBuPWUuc3BsaXQoInwiKSxyPW4ubGVuZ3RoO3doaWxlKHItLSliLmF0dHJIYW5kbGVbbltyXV09dH1mdW5jdGlvbiBwZShlLHQpe3ZhciBuPXQmJmUscj1uJiYxPT09ZS5ub2RlVHlwZSYmMT09PXQubm9kZVR5cGUmJmUuc291cmNlSW5kZXgtdC5zb3VyY2VJbmRleDtpZihyKXJldHVybiByO2lmKG4pd2hpbGUobj1uLm5leHRTaWJsaW5nKWlmKG49PT10KXJldHVybi0xO3JldHVybiBlPzE6LTF9ZnVuY3Rpb24gZGUodCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3JldHVybiJpbnB1dCI9PT1lLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkmJmUudHlwZT09PXR9fWZ1bmN0aW9uIGhlKG4pe3JldHVybiBmdW5jdGlvbihlKXt2YXIgdD1lLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7cmV0dXJuKCJpbnB1dCI9PT10fHwiYnV0dG9uIj09PXQpJiZlLnR5cGU9PT1ufX1mdW5jdGlvbiBnZSh0KXtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuImZvcm0iaW4gZT9lLnBhcmVudE5vZGUmJiExPT09ZS5kaXNhYmxlZD8ibGFiZWwiaW4gZT8ibGFiZWwiaW4gZS5wYXJlbnROb2RlP2UucGFyZW50Tm9kZS5kaXNhYmxlZD09PXQ6ZS5kaXNhYmxlZD09PXQ6ZS5pc0Rpc2FibGVkPT09dHx8ZS5pc0Rpc2FibGVkIT09IXQmJmFlKGUpPT09dDplLmRpc2FibGVkPT09dDoibGFiZWwiaW4gZSYmZS5kaXNhYmxlZD09PXR9fWZ1bmN0aW9uIHZlKGEpe3JldHVybiBsZShmdW5jdGlvbihvKXtyZXR1cm4gbz0rbyxsZShmdW5jdGlvbihlLHQpe3ZhciBuLHI9YShbXSxlLmxlbmd0aCxvKSxpPXIubGVuZ3RoO3doaWxlKGktLSllW249cltpXV0mJihlW25dPSEodFtuXT1lW25dKSl9KX0pfWZ1bmN0aW9uIHllKGUpe3JldHVybiBlJiYidW5kZWZpbmVkIiE9dHlwZW9mIGUuZ2V0RWxlbWVudHNCeVRhZ05hbWUmJmV9Zm9yKGUgaW4gZD1zZS5zdXBwb3J0PXt9LGk9c2UuaXNYTUw9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5uYW1lc3BhY2VVUkksbj0oZS5vd25lckRvY3VtZW50fHxlKS5kb2N1bWVudEVsZW1lbnQ7cmV0dXJuIVkudGVzdCh0fHxuJiZuLm5vZGVOYW1lfHwiSFRNTCIpfSxUPXNlLnNldERvY3VtZW50PWZ1bmN0aW9uKGUpe3ZhciB0LG4scj1lP2Uub3duZXJEb2N1bWVudHx8ZTptO3JldHVybiByIT09QyYmOT09PXIubm9kZVR5cGUmJnIuZG9jdW1lbnRFbGVtZW50JiYoYT0oQz1yKS5kb2N1bWVudEVsZW1lbnQsRT0haShDKSxtIT09QyYmKG49Qy5kZWZhdWx0VmlldykmJm4udG9wIT09biYmKG4uYWRkRXZlbnRMaXN0ZW5lcj9uLmFkZEV2ZW50TGlzdGVuZXIoInVubG9hZCIsb2UsITEpOm4uYXR0YWNoRXZlbnQmJm4uYXR0YWNoRXZlbnQoIm9udW5sb2FkIixvZSkpLGQuYXR0cmlidXRlcz1jZShmdW5jdGlvbihlKXtyZXR1cm4gZS5jbGFzc05hbWU9ImkiLCFlLmdldEF0dHJpYnV0ZSgiY2xhc3NOYW1lIil9KSxkLmdldEVsZW1lbnRzQnlUYWdOYW1lPWNlKGZ1bmN0aW9uKGUpe3JldHVybiBlLmFwcGVuZENoaWxkKEMuY3JlYXRlQ29tbWVudCgiIikpLCFlLmdldEVsZW1lbnRzQnlUYWdOYW1lKCIqIikubGVuZ3RofSksZC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lPUsudGVzdChDLmdldEVsZW1lbnRzQnlDbGFzc05hbWUpLGQuZ2V0QnlJZD1jZShmdW5jdGlvbihlKXtyZXR1cm4gYS5hcHBlbmRDaGlsZChlKS5pZD1rLCFDLmdldEVsZW1lbnRzQnlOYW1lfHwhQy5nZXRFbGVtZW50c0J5TmFtZShrKS5sZW5ndGh9KSxkLmdldEJ5SWQ/KGIuZmlsdGVyLklEPWZ1bmN0aW9uKGUpe3ZhciB0PWUucmVwbGFjZSh0ZSxuZSk7cmV0dXJuIGZ1bmN0aW9uKGUpe3JldHVybiBlLmdldEF0dHJpYnV0ZSgiaWQiKT09PXR9fSxiLmZpbmQuSUQ9ZnVuY3Rpb24oZSx0KXtpZigidW5kZWZpbmVkIiE9dHlwZW9mIHQuZ2V0RWxlbWVudEJ5SWQmJkUpe3ZhciBuPXQuZ2V0RWxlbWVudEJ5SWQoZSk7cmV0dXJuIG4/W25dOltdfX0pOihiLmZpbHRlci5JRD1mdW5jdGlvbihlKXt2YXIgbj1lLnJlcGxhY2UodGUsbmUpO3JldHVybiBmdW5jdGlvbihlKXt2YXIgdD0idW5kZWZpbmVkIiE9dHlwZW9mIGUuZ2V0QXR0cmlidXRlTm9kZSYmZS5nZXRBdHRyaWJ1dGVOb2RlKCJpZCIpO3JldHVybiB0JiZ0LnZhbHVlPT09bn19LGIuZmluZC5JRD1mdW5jdGlvbihlLHQpe2lmKCJ1bmRlZmluZWQiIT10eXBlb2YgdC5nZXRFbGVtZW50QnlJZCYmRSl7dmFyIG4scixpLG89dC5nZXRFbGVtZW50QnlJZChlKTtpZihvKXtpZigobj1vLmdldEF0dHJpYnV0ZU5vZGUoImlkIikpJiZuLnZhbHVlPT09ZSlyZXR1cm5bb107aT10LmdldEVsZW1lbnRzQnlOYW1lKGUpLHI9MDt3aGlsZShvPWlbcisrXSlpZigobj1vLmdldEF0dHJpYnV0ZU5vZGUoImlkIikpJiZuLnZhbHVlPT09ZSlyZXR1cm5bb119cmV0dXJuW119fSksYi5maW5kLlRBRz1kLmdldEVsZW1lbnRzQnlUYWdOYW1lP2Z1bmN0aW9uKGUsdCl7cmV0dXJuInVuZGVmaW5lZCIhPXR5cGVvZiB0LmdldEVsZW1lbnRzQnlUYWdOYW1lP3QuZ2V0RWxlbWVudHNCeVRhZ05hbWUoZSk6ZC5xc2E/dC5xdWVyeVNlbGVjdG9yQWxsKGUpOnZvaWQgMH06ZnVuY3Rpb24oZSx0KXt2YXIgbixyPVtdLGk9MCxvPXQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoZSk7aWYoIioiPT09ZSl7d2hpbGUobj1vW2krK10pMT09PW4ubm9kZVR5cGUmJnIucHVzaChuKTtyZXR1cm4gcn1yZXR1cm4gb30sYi5maW5kLkNMQVNTPWQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSYmZnVuY3Rpb24oZSx0KXtpZigidW5kZWZpbmVkIiE9dHlwZW9mIHQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSYmRSlyZXR1cm4gdC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKGUpfSxzPVtdLHY9W10sKGQucXNhPUsudGVzdChDLnF1ZXJ5U2VsZWN0b3JBbGwpKSYmKGNlKGZ1bmN0aW9uKGUpe2EuYXBwZW5kQ2hpbGQoZSkuaW5uZXJIVE1MPSI8YSBpZD0nIitrKyInPjwvYT48c2VsZWN0IGlkPSciK2srIi1cclxcJyBtc2FsbG93Y2FwdHVyZT0nJz48b3B0aW9uIHNlbGVjdGVkPScnPjwvb3B0aW9uPjwvc2VsZWN0PiIsZS5xdWVyeVNlbGVjdG9yQWxsKCJbbXNhbGxvd2NhcHR1cmVePScnXSIpLmxlbmd0aCYmdi5wdXNoKCJbKl4kXT0iK00rIiooPzonJ3xcIlwiKSIpLGUucXVlcnlTZWxlY3RvckFsbCgiW3NlbGVjdGVkXSIpLmxlbmd0aHx8di5wdXNoKCJcXFsiK00rIiooPzp2YWx1ZXwiK1IrIikiKSxlLnF1ZXJ5U2VsZWN0b3JBbGwoIltpZH49IitrKyItXSIpLmxlbmd0aHx8di5wdXNoKCJ+PSIpLGUucXVlcnlTZWxlY3RvckFsbCgiOmNoZWNrZWQiKS5sZW5ndGh8fHYucHVzaCgiOmNoZWNrZWQiKSxlLnF1ZXJ5U2VsZWN0b3JBbGwoImEjIitrKyIrKiIpLmxlbmd0aHx8di5wdXNoKCIuIy4rWyt+XSIpfSksY2UoZnVuY3Rpb24oZSl7ZS5pbm5lckhUTUw9IjxhIGhyZWY9JycgZGlzYWJsZWQ9J2Rpc2FibGVkJz48L2E+PHNlbGVjdCBkaXNhYmxlZD0nZGlzYWJsZWQnPjxvcHRpb24vPjwvc2VsZWN0PiI7dmFyIHQ9Qy5jcmVhdGVFbGVtZW50KCJpbnB1dCIpO3Quc2V0QXR0cmlidXRlKCJ0eXBlIiwiaGlkZGVuIiksZS5hcHBlbmRDaGlsZCh0KS5zZXRBdHRyaWJ1dGUoIm5hbWUiLCJEIiksZS5xdWVyeVNlbGVjdG9yQWxsKCJbbmFtZT1kXSIpLmxlbmd0aCYmdi5wdXNoKCJuYW1lIitNKyIqWypeJHwhfl0/PSIpLDIhPT1lLnF1ZXJ5U2VsZWN0b3JBbGwoIjplbmFibGVkIikubGVuZ3RoJiZ2LnB1c2goIjplbmFibGVkIiwiOmRpc2FibGVkIiksYS5hcHBlbmRDaGlsZChlKS5kaXNhYmxlZD0hMCwyIT09ZS5xdWVyeVNlbGVjdG9yQWxsKCI6ZGlzYWJsZWQiKS5sZW5ndGgmJnYucHVzaCgiOmVuYWJsZWQiLCI6ZGlzYWJsZWQiKSxlLnF1ZXJ5U2VsZWN0b3JBbGwoIiosOngiKSx2LnB1c2goIiwuKjoiKX0pKSwoZC5tYXRjaGVzU2VsZWN0b3I9Sy50ZXN0KGM9YS5tYXRjaGVzfHxhLndlYmtpdE1hdGNoZXNTZWxlY3Rvcnx8YS5tb3pNYXRjaGVzU2VsZWN0b3J8fGEub01hdGNoZXNTZWxlY3Rvcnx8YS5tc01hdGNoZXNTZWxlY3RvcikpJiZjZShmdW5jdGlvbihlKXtkLmRpc2Nvbm5lY3RlZE1hdGNoPWMuY2FsbChlLCIqIiksYy5jYWxsKGUsIltzIT0nJ106eCIpLHMucHVzaCgiIT0iLCQpfSksdj12Lmxlbmd0aCYmbmV3IFJlZ0V4cCh2LmpvaW4oInwiKSkscz1zLmxlbmd0aCYmbmV3IFJlZ0V4cChzLmpvaW4oInwiKSksdD1LLnRlc3QoYS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbikseT10fHxLLnRlc3QoYS5jb250YWlucyk/ZnVuY3Rpb24oZSx0KXt2YXIgbj05PT09ZS5ub2RlVHlwZT9lLmRvY3VtZW50RWxlbWVudDplLHI9dCYmdC5wYXJlbnROb2RlO3JldHVybiBlPT09cnx8ISghcnx8MSE9PXIubm9kZVR5cGV8fCEobi5jb250YWlucz9uLmNvbnRhaW5zKHIpOmUuY29tcGFyZURvY3VtZW50UG9zaXRpb24mJjE2JmUuY29tcGFyZURvY3VtZW50UG9zaXRpb24ocikpKX06ZnVuY3Rpb24oZSx0KXtpZih0KXdoaWxlKHQ9dC5wYXJlbnROb2RlKWlmKHQ9PT1lKXJldHVybiEwO3JldHVybiExfSxEPXQ/ZnVuY3Rpb24oZSx0KXtpZihlPT09dClyZXR1cm4gbD0hMCwwO3ZhciBuPSFlLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uLSF0LmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uO3JldHVybiBufHwoMSYobj0oZS5vd25lckRvY3VtZW50fHxlKT09PSh0Lm93bmVyRG9jdW1lbnR8fHQpP2UuY29tcGFyZURvY3VtZW50UG9zaXRpb24odCk6MSl8fCFkLnNvcnREZXRhY2hlZCYmdC5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbihlKT09PW4/ZT09PUN8fGUub3duZXJEb2N1bWVudD09PW0mJnkobSxlKT8tMTp0PT09Q3x8dC5vd25lckRvY3VtZW50PT09bSYmeShtLHQpPzE6dT9QKHUsZSktUCh1LHQpOjA6NCZuPy0xOjEpfTpmdW5jdGlvbihlLHQpe2lmKGU9PT10KXJldHVybiBsPSEwLDA7dmFyIG4scj0wLGk9ZS5wYXJlbnROb2RlLG89dC5wYXJlbnROb2RlLGE9W2VdLHM9W3RdO2lmKCFpfHwhbylyZXR1cm4gZT09PUM/LTE6dD09PUM/MTppPy0xOm8/MTp1P1AodSxlKS1QKHUsdCk6MDtpZihpPT09bylyZXR1cm4gcGUoZSx0KTtuPWU7d2hpbGUobj1uLnBhcmVudE5vZGUpYS51bnNoaWZ0KG4pO249dDt3aGlsZShuPW4ucGFyZW50Tm9kZSlzLnVuc2hpZnQobik7d2hpbGUoYVtyXT09PXNbcl0pcisrO3JldHVybiByP3BlKGFbcl0sc1tyXSk6YVtyXT09PW0/LTE6c1tyXT09PW0/MTowfSksQ30sc2UubWF0Y2hlcz1mdW5jdGlvbihlLHQpe3JldHVybiBzZShlLG51bGwsbnVsbCx0KX0sc2UubWF0Y2hlc1NlbGVjdG9yPWZ1bmN0aW9uKGUsdCl7aWYoKGUub3duZXJEb2N1bWVudHx8ZSkhPT1DJiZUKGUpLGQubWF0Y2hlc1NlbGVjdG9yJiZFJiYhQVt0KyIgIl0mJighc3x8IXMudGVzdCh0KSkmJighdnx8IXYudGVzdCh0KSkpdHJ5e3ZhciBuPWMuY2FsbChlLHQpO2lmKG58fGQuZGlzY29ubmVjdGVkTWF0Y2h8fGUuZG9jdW1lbnQmJjExIT09ZS5kb2N1bWVudC5ub2RlVHlwZSlyZXR1cm4gbn1jYXRjaChlKXtBKHQsITApfXJldHVybiAwPHNlKHQsQyxudWxsLFtlXSkubGVuZ3RofSxzZS5jb250YWlucz1mdW5jdGlvbihlLHQpe3JldHVybihlLm93bmVyRG9jdW1lbnR8fGUpIT09QyYmVChlKSx5KGUsdCl9LHNlLmF0dHI9ZnVuY3Rpb24oZSx0KXsoZS5vd25lckRvY3VtZW50fHxlKSE9PUMmJlQoZSk7dmFyIG49Yi5hdHRySGFuZGxlW3QudG9Mb3dlckNhc2UoKV0scj1uJiZqLmNhbGwoYi5hdHRySGFuZGxlLHQudG9Mb3dlckNhc2UoKSk/bihlLHQsIUUpOnZvaWQgMDtyZXR1cm4gdm9pZCAwIT09cj9yOmQuYXR0cmlidXRlc3x8IUU/ZS5nZXRBdHRyaWJ1dGUodCk6KHI9ZS5nZXRBdHRyaWJ1dGVOb2RlKHQpKSYmci5zcGVjaWZpZWQ/ci52YWx1ZTpudWxsfSxzZS5lc2NhcGU9ZnVuY3Rpb24oZSl7cmV0dXJuKGUrIiIpLnJlcGxhY2UocmUsaWUpfSxzZS5lcnJvcj1mdW5jdGlvbihlKXt0aHJvdyBuZXcgRXJyb3IoIlN5bnRheCBlcnJvciwgdW5yZWNvZ25pemVkIGV4cHJlc3Npb246ICIrZSl9LHNlLnVuaXF1ZVNvcnQ9ZnVuY3Rpb24oZSl7dmFyIHQsbj1bXSxyPTAsaT0wO2lmKGw9IWQuZGV0ZWN0RHVwbGljYXRlcyx1PSFkLnNvcnRTdGFibGUmJmUuc2xpY2UoMCksZS5zb3J0KEQpLGwpe3doaWxlKHQ9ZVtpKytdKXQ9PT1lW2ldJiYocj1uLnB1c2goaSkpO3doaWxlKHItLSllLnNwbGljZShuW3JdLDEpfXJldHVybiB1PW51bGwsZX0sbz1zZS5nZXRUZXh0PWZ1bmN0aW9uKGUpe3ZhciB0LG49IiIscj0wLGk9ZS5ub2RlVHlwZTtpZihpKXtpZigxPT09aXx8OT09PWl8fDExPT09aSl7aWYoInN0cmluZyI9PXR5cGVvZiBlLnRleHRDb250ZW50KXJldHVybiBlLnRleHRDb250ZW50O2ZvcihlPWUuZmlyc3RDaGlsZDtlO2U9ZS5uZXh0U2libGluZyluKz1vKGUpfWVsc2UgaWYoMz09PWl8fDQ9PT1pKXJldHVybiBlLm5vZGVWYWx1ZX1lbHNlIHdoaWxlKHQ9ZVtyKytdKW4rPW8odCk7cmV0dXJuIG59LChiPXNlLnNlbGVjdG9ycz17Y2FjaGVMZW5ndGg6NTAsY3JlYXRlUHNldWRvOmxlLG1hdGNoOkcsYXR0ckhhbmRsZTp7fSxmaW5kOnt9LHJlbGF0aXZlOnsiPiI6e2RpcjoicGFyZW50Tm9kZSIsZmlyc3Q6ITB9LCIgIjp7ZGlyOiJwYXJlbnROb2RlIn0sIisiOntkaXI6InByZXZpb3VzU2libGluZyIsZmlyc3Q6ITB9LCJ+Ijp7ZGlyOiJwcmV2aW91c1NpYmxpbmcifX0scHJlRmlsdGVyOntBVFRSOmZ1bmN0aW9uKGUpe3JldHVybiBlWzFdPWVbMV0ucmVwbGFjZSh0ZSxuZSksZVszXT0oZVszXXx8ZVs0XXx8ZVs1XXx8IiIpLnJlcGxhY2UodGUsbmUpLCJ+PSI9PT1lWzJdJiYoZVszXT0iICIrZVszXSsiICIpLGUuc2xpY2UoMCw0KX0sQ0hJTEQ6ZnVuY3Rpb24oZSl7cmV0dXJuIGVbMV09ZVsxXS50b0xvd2VyQ2FzZSgpLCJudGgiPT09ZVsxXS5zbGljZSgwLDMpPyhlWzNdfHxzZS5lcnJvcihlWzBdKSxlWzRdPSsoZVs0XT9lWzVdKyhlWzZdfHwxKToyKigiZXZlbiI9PT1lWzNdfHwib2RkIj09PWVbM10pKSxlWzVdPSsoZVs3XStlWzhdfHwib2RkIj09PWVbM10pKTplWzNdJiZzZS5lcnJvcihlWzBdKSxlfSxQU0VVRE86ZnVuY3Rpb24oZSl7dmFyIHQsbj0hZVs2XSYmZVsyXTtyZXR1cm4gRy5DSElMRC50ZXN0KGVbMF0pP251bGw6KGVbM10/ZVsyXT1lWzRdfHxlWzVdfHwiIjpuJiZYLnRlc3QobikmJih0PWgobiwhMCkpJiYodD1uLmluZGV4T2YoIikiLG4ubGVuZ3RoLXQpLW4ubGVuZ3RoKSYmKGVbMF09ZVswXS5zbGljZSgwLHQpLGVbMl09bi5zbGljZSgwLHQpKSxlLnNsaWNlKDAsMykpfX0sZmlsdGVyOntUQUc6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5yZXBsYWNlKHRlLG5lKS50b0xvd2VyQ2FzZSgpO3JldHVybiIqIj09PWU/ZnVuY3Rpb24oKXtyZXR1cm4hMH06ZnVuY3Rpb24oZSl7cmV0dXJuIGUubm9kZU5hbWUmJmUubm9kZU5hbWUudG9Mb3dlckNhc2UoKT09PXR9fSxDTEFTUzpmdW5jdGlvbihlKXt2YXIgdD1wW2UrIiAiXTtyZXR1cm4gdHx8KHQ9bmV3IFJlZ0V4cCgiKF58IitNKyIpIitlKyIoIitNKyJ8JCkiKSkmJnAoZSxmdW5jdGlvbihlKXtyZXR1cm4gdC50ZXN0KCJzdHJpbmciPT10eXBlb2YgZS5jbGFzc05hbWUmJmUuY2xhc3NOYW1lfHwidW5kZWZpbmVkIiE9dHlwZW9mIGUuZ2V0QXR0cmlidXRlJiZlLmdldEF0dHJpYnV0ZSgiY2xhc3MiKXx8IiIpfSl9LEFUVFI6ZnVuY3Rpb24obixyLGkpe3JldHVybiBmdW5jdGlvbihlKXt2YXIgdD1zZS5hdHRyKGUsbik7cmV0dXJuIG51bGw9PXQ/IiE9Ij09PXI6IXJ8fCh0Kz0iIiwiPSI9PT1yP3Q9PT1pOiIhPSI9PT1yP3QhPT1pOiJePSI9PT1yP2kmJjA9PT10LmluZGV4T2YoaSk6Iio9Ij09PXI/aSYmLTE8dC5pbmRleE9mKGkpOiIkPSI9PT1yP2kmJnQuc2xpY2UoLWkubGVuZ3RoKT09PWk6In49Ij09PXI/LTE8KCIgIit0LnJlcGxhY2UoRiwiICIpKyIgIikuaW5kZXhPZihpKToifD0iPT09ciYmKHQ9PT1pfHx0LnNsaWNlKDAsaS5sZW5ndGgrMSk9PT1pKyItIikpfX0sQ0hJTEQ6ZnVuY3Rpb24oaCxlLHQsZyx2KXt2YXIgeT0ibnRoIiE9PWguc2xpY2UoMCwzKSxtPSJsYXN0IiE9PWguc2xpY2UoLTQpLHg9Im9mLXR5cGUiPT09ZTtyZXR1cm4gMT09PWcmJjA9PT12P2Z1bmN0aW9uKGUpe3JldHVybiEhZS5wYXJlbnROb2RlfTpmdW5jdGlvbihlLHQsbil7dmFyIHIsaSxvLGEscyx1LGw9eSE9PW0/Im5leHRTaWJsaW5nIjoicHJldmlvdXNTaWJsaW5nIixjPWUucGFyZW50Tm9kZSxmPXgmJmUubm9kZU5hbWUudG9Mb3dlckNhc2UoKSxwPSFuJiYheCxkPSExO2lmKGMpe2lmKHkpe3doaWxlKGwpe2E9ZTt3aGlsZShhPWFbbF0paWYoeD9hLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk9PT1mOjE9PT1hLm5vZGVUeXBlKXJldHVybiExO3U9bD0ib25seSI9PT1oJiYhdSYmIm5leHRTaWJsaW5nIn1yZXR1cm4hMH1pZih1PVttP2MuZmlyc3RDaGlsZDpjLmxhc3RDaGlsZF0sbSYmcCl7ZD0ocz0ocj0oaT0obz0oYT1jKVtrXXx8KGFba109e30pKVthLnVuaXF1ZUlEXXx8KG9bYS51bmlxdWVJRF09e30pKVtoXXx8W10pWzBdPT09UyYmclsxXSkmJnJbMl0sYT1zJiZjLmNoaWxkTm9kZXNbc107d2hpbGUoYT0rK3MmJmEmJmFbbF18fChkPXM9MCl8fHUucG9wKCkpaWYoMT09PWEubm9kZVR5cGUmJisrZCYmYT09PWUpe2lbaF09W1MscyxkXTticmVha319ZWxzZSBpZihwJiYoZD1zPShyPShpPShvPShhPWUpW2tdfHwoYVtrXT17fSkpW2EudW5pcXVlSURdfHwob1thLnVuaXF1ZUlEXT17fSkpW2hdfHxbXSlbMF09PT1TJiZyWzFdKSwhMT09PWQpd2hpbGUoYT0rK3MmJmEmJmFbbF18fChkPXM9MCl8fHUucG9wKCkpaWYoKHg/YS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpPT09ZjoxPT09YS5ub2RlVHlwZSkmJisrZCYmKHAmJigoaT0obz1hW2tdfHwoYVtrXT17fSkpW2EudW5pcXVlSURdfHwob1thLnVuaXF1ZUlEXT17fSkpW2hdPVtTLGRdKSxhPT09ZSkpYnJlYWs7cmV0dXJuKGQtPXYpPT09Z3x8ZCVnPT0wJiYwPD1kL2d9fX0sUFNFVURPOmZ1bmN0aW9uKGUsbyl7dmFyIHQsYT1iLnBzZXVkb3NbZV18fGIuc2V0RmlsdGVyc1tlLnRvTG93ZXJDYXNlKCldfHxzZS5lcnJvcigidW5zdXBwb3J0ZWQgcHNldWRvOiAiK2UpO3JldHVybiBhW2tdP2Eobyk6MTxhLmxlbmd0aD8odD1bZSxlLCIiLG9dLGIuc2V0RmlsdGVycy5oYXNPd25Qcm9wZXJ0eShlLnRvTG93ZXJDYXNlKCkpP2xlKGZ1bmN0aW9uKGUsdCl7dmFyIG4scj1hKGUsbyksaT1yLmxlbmd0aDt3aGlsZShpLS0pZVtuPVAoZSxyW2ldKV09ISh0W25dPXJbaV0pfSk6ZnVuY3Rpb24oZSl7cmV0dXJuIGEoZSwwLHQpfSk6YX19LHBzZXVkb3M6e25vdDpsZShmdW5jdGlvbihlKXt2YXIgcj1bXSxpPVtdLHM9ZihlLnJlcGxhY2UoQiwiJDEiKSk7cmV0dXJuIHNba10/bGUoZnVuY3Rpb24oZSx0LG4scil7dmFyIGksbz1zKGUsbnVsbCxyLFtdKSxhPWUubGVuZ3RoO3doaWxlKGEtLSkoaT1vW2FdKSYmKGVbYV09ISh0W2FdPWkpKX0pOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gclswXT1lLHMocixudWxsLG4saSksclswXT1udWxsLCFpLnBvcCgpfX0pLGhhczpsZShmdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuIDA8c2UodCxlKS5sZW5ndGh9fSksY29udGFpbnM6bGUoZnVuY3Rpb24odCl7cmV0dXJuIHQ9dC5yZXBsYWNlKHRlLG5lKSxmdW5jdGlvbihlKXtyZXR1cm4tMTwoZS50ZXh0Q29udGVudHx8byhlKSkuaW5kZXhPZih0KX19KSxsYW5nOmxlKGZ1bmN0aW9uKG4pe3JldHVybiBWLnRlc3Qobnx8IiIpfHxzZS5lcnJvcigidW5zdXBwb3J0ZWQgbGFuZzogIituKSxuPW4ucmVwbGFjZSh0ZSxuZSkudG9Mb3dlckNhc2UoKSxmdW5jdGlvbihlKXt2YXIgdDtkb3tpZih0PUU/ZS5sYW5nOmUuZ2V0QXR0cmlidXRlKCJ4bWw6bGFuZyIpfHxlLmdldEF0dHJpYnV0ZSgibGFuZyIpKXJldHVybih0PXQudG9Mb3dlckNhc2UoKSk9PT1ufHwwPT09dC5pbmRleE9mKG4rIi0iKX13aGlsZSgoZT1lLnBhcmVudE5vZGUpJiYxPT09ZS5ub2RlVHlwZSk7cmV0dXJuITF9fSksdGFyZ2V0OmZ1bmN0aW9uKGUpe3ZhciB0PW4ubG9jYXRpb24mJm4ubG9jYXRpb24uaGFzaDtyZXR1cm4gdCYmdC5zbGljZSgxKT09PWUuaWR9LHJvb3Q6ZnVuY3Rpb24oZSl7cmV0dXJuIGU9PT1hfSxmb2N1czpmdW5jdGlvbihlKXtyZXR1cm4gZT09PUMuYWN0aXZlRWxlbWVudCYmKCFDLmhhc0ZvY3VzfHxDLmhhc0ZvY3VzKCkpJiYhIShlLnR5cGV8fGUuaHJlZnx8fmUudGFiSW5kZXgpfSxlbmFibGVkOmdlKCExKSxkaXNhYmxlZDpnZSghMCksY2hlY2tlZDpmdW5jdGlvbihlKXt2YXIgdD1lLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7cmV0dXJuImlucHV0Ij09PXQmJiEhZS5jaGVja2VkfHwib3B0aW9uIj09PXQmJiEhZS5zZWxlY3RlZH0sc2VsZWN0ZWQ6ZnVuY3Rpb24oZSl7cmV0dXJuIGUucGFyZW50Tm9kZSYmZS5wYXJlbnROb2RlLnNlbGVjdGVkSW5kZXgsITA9PT1lLnNlbGVjdGVkfSxlbXB0eTpmdW5jdGlvbihlKXtmb3IoZT1lLmZpcnN0Q2hpbGQ7ZTtlPWUubmV4dFNpYmxpbmcpaWYoZS5ub2RlVHlwZTw2KXJldHVybiExO3JldHVybiEwfSxwYXJlbnQ6ZnVuY3Rpb24oZSl7cmV0dXJuIWIucHNldWRvcy5lbXB0eShlKX0saGVhZGVyOmZ1bmN0aW9uKGUpe3JldHVybiBKLnRlc3QoZS5ub2RlTmFtZSl9LGlucHV0OmZ1bmN0aW9uKGUpe3JldHVybiBRLnRlc3QoZS5ub2RlTmFtZSl9LGJ1dHRvbjpmdW5jdGlvbihlKXt2YXIgdD1lLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7cmV0dXJuImlucHV0Ij09PXQmJiJidXR0b24iPT09ZS50eXBlfHwiYnV0dG9uIj09PXR9LHRleHQ6ZnVuY3Rpb24oZSl7dmFyIHQ7cmV0dXJuImlucHV0Ij09PWUubm9kZU5hbWUudG9Mb3dlckNhc2UoKSYmInRleHQiPT09ZS50eXBlJiYobnVsbD09KHQ9ZS5nZXRBdHRyaWJ1dGUoInR5cGUiKSl8fCJ0ZXh0Ij09PXQudG9Mb3dlckNhc2UoKSl9LGZpcnN0OnZlKGZ1bmN0aW9uKCl7cmV0dXJuWzBdfSksbGFzdDp2ZShmdW5jdGlvbihlLHQpe3JldHVyblt0LTFdfSksZXE6dmUoZnVuY3Rpb24oZSx0LG4pe3JldHVybltuPDA/bit0Om5dfSksZXZlbjp2ZShmdW5jdGlvbihlLHQpe2Zvcih2YXIgbj0wO248dDtuKz0yKWUucHVzaChuKTtyZXR1cm4gZX0pLG9kZDp2ZShmdW5jdGlvbihlLHQpe2Zvcih2YXIgbj0xO248dDtuKz0yKWUucHVzaChuKTtyZXR1cm4gZX0pLGx0OnZlKGZ1bmN0aW9uKGUsdCxuKXtmb3IodmFyIHI9bjwwP24rdDp0PG4/dDpuOzA8PS0tcjspZS5wdXNoKHIpO3JldHVybiBlfSksZ3Q6dmUoZnVuY3Rpb24oZSx0LG4pe2Zvcih2YXIgcj1uPDA/bit0Om47KytyPHQ7KWUucHVzaChyKTtyZXR1cm4gZX0pfX0pLnBzZXVkb3MubnRoPWIucHNldWRvcy5lcSx7cmFkaW86ITAsY2hlY2tib3g6ITAsZmlsZTohMCxwYXNzd29yZDohMCxpbWFnZTohMH0pYi5wc2V1ZG9zW2VdPWRlKGUpO2ZvcihlIGlue3N1Ym1pdDohMCxyZXNldDohMH0pYi5wc2V1ZG9zW2VdPWhlKGUpO2Z1bmN0aW9uIG1lKCl7fWZ1bmN0aW9uIHhlKGUpe2Zvcih2YXIgdD0wLG49ZS5sZW5ndGgscj0iIjt0PG47dCsrKXIrPWVbdF0udmFsdWU7cmV0dXJuIHJ9ZnVuY3Rpb24gYmUocyxlLHQpe3ZhciB1PWUuZGlyLGw9ZS5uZXh0LGM9bHx8dSxmPXQmJiJwYXJlbnROb2RlIj09PWMscD1yKys7cmV0dXJuIGUuZmlyc3Q/ZnVuY3Rpb24oZSx0LG4pe3doaWxlKGU9ZVt1XSlpZigxPT09ZS5ub2RlVHlwZXx8ZilyZXR1cm4gcyhlLHQsbik7cmV0dXJuITF9OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcixpLG8sYT1bUyxwXTtpZihuKXt3aGlsZShlPWVbdV0paWYoKDE9PT1lLm5vZGVUeXBlfHxmKSYmcyhlLHQsbikpcmV0dXJuITB9ZWxzZSB3aGlsZShlPWVbdV0paWYoMT09PWUubm9kZVR5cGV8fGYpaWYoaT0obz1lW2tdfHwoZVtrXT17fSkpW2UudW5pcXVlSURdfHwob1tlLnVuaXF1ZUlEXT17fSksbCYmbD09PWUubm9kZU5hbWUudG9Mb3dlckNhc2UoKSllPWVbdV18fGU7ZWxzZXtpZigocj1pW2NdKSYmclswXT09PVMmJnJbMV09PT1wKXJldHVybiBhWzJdPXJbMl07aWYoKGlbY109YSlbMl09cyhlLHQsbikpcmV0dXJuITB9cmV0dXJuITF9fWZ1bmN0aW9uIHdlKGkpe3JldHVybiAxPGkubGVuZ3RoP2Z1bmN0aW9uKGUsdCxuKXt2YXIgcj1pLmxlbmd0aDt3aGlsZShyLS0paWYoIWlbcl0oZSx0LG4pKXJldHVybiExO3JldHVybiEwfTppWzBdfWZ1bmN0aW9uIFRlKGUsdCxuLHIsaSl7Zm9yKHZhciBvLGE9W10scz0wLHU9ZS5sZW5ndGgsbD1udWxsIT10O3M8dTtzKyspKG89ZVtzXSkmJihuJiYhbihvLHIsaSl8fChhLnB1c2gobyksbCYmdC5wdXNoKHMpKSk7cmV0dXJuIGF9ZnVuY3Rpb24gQ2UoZCxoLGcsdix5LGUpe3JldHVybiB2JiYhdltrXSYmKHY9Q2UodikpLHkmJiF5W2tdJiYoeT1DZSh5LGUpKSxsZShmdW5jdGlvbihlLHQsbixyKXt2YXIgaSxvLGEscz1bXSx1PVtdLGw9dC5sZW5ndGgsYz1lfHxmdW5jdGlvbihlLHQsbil7Zm9yKHZhciByPTAsaT10Lmxlbmd0aDtyPGk7cisrKXNlKGUsdFtyXSxuKTtyZXR1cm4gbn0oaHx8IioiLG4ubm9kZVR5cGU/W25dOm4sW10pLGY9IWR8fCFlJiZoP2M6VGUoYyxzLGQsbixyKSxwPWc/eXx8KGU/ZDpsfHx2KT9bXTp0OmY7aWYoZyYmZyhmLHAsbixyKSx2KXtpPVRlKHAsdSksdihpLFtdLG4sciksbz1pLmxlbmd0aDt3aGlsZShvLS0pKGE9aVtvXSkmJihwW3Vbb11dPSEoZlt1W29dXT1hKSl9aWYoZSl7aWYoeXx8ZCl7aWYoeSl7aT1bXSxvPXAubGVuZ3RoO3doaWxlKG8tLSkoYT1wW29dKSYmaS5wdXNoKGZbb109YSk7eShudWxsLHA9W10saSxyKX1vPXAubGVuZ3RoO3doaWxlKG8tLSkoYT1wW29dKSYmLTE8KGk9eT9QKGUsYSk6c1tvXSkmJihlW2ldPSEodFtpXT1hKSl9fWVsc2UgcD1UZShwPT09dD9wLnNwbGljZShsLHAubGVuZ3RoKTpwKSx5P3kobnVsbCx0LHAscik6SC5hcHBseSh0LHApfSl9ZnVuY3Rpb24gRWUoZSl7Zm9yKHZhciBpLHQsbixyPWUubGVuZ3RoLG89Yi5yZWxhdGl2ZVtlWzBdLnR5cGVdLGE9b3x8Yi5yZWxhdGl2ZVsiICJdLHM9bz8xOjAsdT1iZShmdW5jdGlvbihlKXtyZXR1cm4gZT09PWl9LGEsITApLGw9YmUoZnVuY3Rpb24oZSl7cmV0dXJuLTE8UChpLGUpfSxhLCEwKSxjPVtmdW5jdGlvbihlLHQsbil7dmFyIHI9IW8mJihufHx0IT09dyl8fCgoaT10KS5ub2RlVHlwZT91KGUsdCxuKTpsKGUsdCxuKSk7cmV0dXJuIGk9bnVsbCxyfV07czxyO3MrKylpZih0PWIucmVsYXRpdmVbZVtzXS50eXBlXSljPVtiZSh3ZShjKSx0KV07ZWxzZXtpZigodD1iLmZpbHRlcltlW3NdLnR5cGVdLmFwcGx5KG51bGwsZVtzXS5tYXRjaGVzKSlba10pe2ZvcihuPSsrcztuPHI7bisrKWlmKGIucmVsYXRpdmVbZVtuXS50eXBlXSlicmVhaztyZXR1cm4gQ2UoMTxzJiZ3ZShjKSwxPHMmJnhlKGUuc2xpY2UoMCxzLTEpLmNvbmNhdCh7dmFsdWU6IiAiPT09ZVtzLTJdLnR5cGU/IioiOiIifSkpLnJlcGxhY2UoQiwiJDEiKSx0LHM8biYmRWUoZS5zbGljZShzLG4pKSxuPHImJkVlKGU9ZS5zbGljZShuKSksbjxyJiZ4ZShlKSl9Yy5wdXNoKHQpfXJldHVybiB3ZShjKX1yZXR1cm4gbWUucHJvdG90eXBlPWIuZmlsdGVycz1iLnBzZXVkb3MsYi5zZXRGaWx0ZXJzPW5ldyBtZSxoPXNlLnRva2VuaXplPWZ1bmN0aW9uKGUsdCl7dmFyIG4scixpLG8sYSxzLHUsbD14W2UrIiAiXTtpZihsKXJldHVybiB0PzA6bC5zbGljZSgwKTthPWUscz1bXSx1PWIucHJlRmlsdGVyO3doaWxlKGEpe2ZvcihvIGluIG4mJiEocj1fLmV4ZWMoYSkpfHwociYmKGE9YS5zbGljZShyWzBdLmxlbmd0aCl8fGEpLHMucHVzaChpPVtdKSksbj0hMSwocj16LmV4ZWMoYSkpJiYobj1yLnNoaWZ0KCksaS5wdXNoKHt2YWx1ZTpuLHR5cGU6clswXS5yZXBsYWNlKEIsIiAiKX0pLGE9YS5zbGljZShuLmxlbmd0aCkpLGIuZmlsdGVyKSEocj1HW29dLmV4ZWMoYSkpfHx1W29dJiYhKHI9dVtvXShyKSl8fChuPXIuc2hpZnQoKSxpLnB1c2goe3ZhbHVlOm4sdHlwZTpvLG1hdGNoZXM6cn0pLGE9YS5zbGljZShuLmxlbmd0aCkpO2lmKCFuKWJyZWFrfXJldHVybiB0P2EubGVuZ3RoOmE/c2UuZXJyb3IoZSk6eChlLHMpLnNsaWNlKDApfSxmPXNlLmNvbXBpbGU9ZnVuY3Rpb24oZSx0KXt2YXIgbix2LHksbSx4LHIsaT1bXSxvPVtdLGE9TltlKyIgIl07aWYoIWEpe3R8fCh0PWgoZSkpLG49dC5sZW5ndGg7d2hpbGUobi0tKShhPUVlKHRbbl0pKVtrXT9pLnB1c2goYSk6by5wdXNoKGEpOyhhPU4oZSwodj1vLG09MDwoeT1pKS5sZW5ndGgseD0wPHYubGVuZ3RoLHI9ZnVuY3Rpb24oZSx0LG4scixpKXt2YXIgbyxhLHMsdT0wLGw9IjAiLGM9ZSYmW10sZj1bXSxwPXcsZD1lfHx4JiZiLmZpbmQuVEFHKCIqIixpKSxoPVMrPW51bGw9PXA/MTpNYXRoLnJhbmRvbSgpfHwuMSxnPWQubGVuZ3RoO2ZvcihpJiYodz10PT09Q3x8dHx8aSk7bCE9PWcmJm51bGwhPShvPWRbbF0pO2wrKyl7aWYoeCYmbyl7YT0wLHR8fG8ub3duZXJEb2N1bWVudD09PUN8fChUKG8pLG49IUUpO3doaWxlKHM9dlthKytdKWlmKHMobyx0fHxDLG4pKXtyLnB1c2gobyk7YnJlYWt9aSYmKFM9aCl9bSYmKChvPSFzJiZvKSYmdS0tLGUmJmMucHVzaChvKSl9aWYodSs9bCxtJiZsIT09dSl7YT0wO3doaWxlKHM9eVthKytdKXMoYyxmLHQsbik7aWYoZSl7aWYoMDx1KXdoaWxlKGwtLSljW2xdfHxmW2xdfHwoZltsXT1xLmNhbGwocikpO2Y9VGUoZil9SC5hcHBseShyLGYpLGkmJiFlJiYwPGYubGVuZ3RoJiYxPHUreS5sZW5ndGgmJnNlLnVuaXF1ZVNvcnQocil9cmV0dXJuIGkmJihTPWgsdz1wKSxjfSxtP2xlKHIpOnIpKSkuc2VsZWN0b3I9ZX1yZXR1cm4gYX0sZz1zZS5zZWxlY3Q9ZnVuY3Rpb24oZSx0LG4scil7dmFyIGksbyxhLHMsdSxsPSJmdW5jdGlvbiI9PXR5cGVvZiBlJiZlLGM9IXImJmgoZT1sLnNlbGVjdG9yfHxlKTtpZihuPW58fFtdLDE9PT1jLmxlbmd0aCl7aWYoMjwobz1jWzBdPWNbMF0uc2xpY2UoMCkpLmxlbmd0aCYmIklEIj09PShhPW9bMF0pLnR5cGUmJjk9PT10Lm5vZGVUeXBlJiZFJiZiLnJlbGF0aXZlW29bMV0udHlwZV0pe2lmKCEodD0oYi5maW5kLklEKGEubWF0Y2hlc1swXS5yZXBsYWNlKHRlLG5lKSx0KXx8W10pWzBdKSlyZXR1cm4gbjtsJiYodD10LnBhcmVudE5vZGUpLGU9ZS5zbGljZShvLnNoaWZ0KCkudmFsdWUubGVuZ3RoKX1pPUcubmVlZHNDb250ZXh0LnRlc3QoZSk/MDpvLmxlbmd0aDt3aGlsZShpLS0pe2lmKGE9b1tpXSxiLnJlbGF0aXZlW3M9YS50eXBlXSlicmVhaztpZigodT1iLmZpbmRbc10pJiYocj11KGEubWF0Y2hlc1swXS5yZXBsYWNlKHRlLG5lKSxlZS50ZXN0KG9bMF0udHlwZSkmJnllKHQucGFyZW50Tm9kZSl8fHQpKSl7aWYoby5zcGxpY2UoaSwxKSwhKGU9ci5sZW5ndGgmJnhlKG8pKSlyZXR1cm4gSC5hcHBseShuLHIpLG47YnJlYWt9fX1yZXR1cm4obHx8ZihlLGMpKShyLHQsIUUsbiwhdHx8ZWUudGVzdChlKSYmeWUodC5wYXJlbnROb2RlKXx8dCksbn0sZC5zb3J0U3RhYmxlPWsuc3BsaXQoIiIpLnNvcnQoRCkuam9pbigiIik9PT1rLGQuZGV0ZWN0RHVwbGljYXRlcz0hIWwsVCgpLGQuc29ydERldGFjaGVkPWNlKGZ1bmN0aW9uKGUpe3JldHVybiAxJmUuY29tcGFyZURvY3VtZW50UG9zaXRpb24oQy5jcmVhdGVFbGVtZW50KCJmaWVsZHNldCIpKX0pLGNlKGZ1bmN0aW9uKGUpe3JldHVybiBlLmlubmVySFRNTD0iPGEgaHJlZj0nIyc+PC9hPiIsIiMiPT09ZS5maXJzdENoaWxkLmdldEF0dHJpYnV0ZSgiaHJlZiIpfSl8fGZlKCJ0eXBlfGhyZWZ8aGVpZ2h0fHdpZHRoIixmdW5jdGlvbihlLHQsbil7aWYoIW4pcmV0dXJuIGUuZ2V0QXR0cmlidXRlKHQsInR5cGUiPT09dC50b0xvd2VyQ2FzZSgpPzE6Mil9KSxkLmF0dHJpYnV0ZXMmJmNlKGZ1bmN0aW9uKGUpe3JldHVybiBlLmlubmVySFRNTD0iPGlucHV0Lz4iLGUuZmlyc3RDaGlsZC5zZXRBdHRyaWJ1dGUoInZhbHVlIiwiIiksIiI9PT1lLmZpcnN0Q2hpbGQuZ2V0QXR0cmlidXRlKCJ2YWx1ZSIpfSl8fGZlKCJ2YWx1ZSIsZnVuY3Rpb24oZSx0LG4pe2lmKCFuJiYiaW5wdXQiPT09ZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpKXJldHVybiBlLmRlZmF1bHRWYWx1ZX0pLGNlKGZ1bmN0aW9uKGUpe3JldHVybiBudWxsPT1lLmdldEF0dHJpYnV0ZSgiZGlzYWJsZWQiKX0pfHxmZShSLGZ1bmN0aW9uKGUsdCxuKXt2YXIgcjtpZighbilyZXR1cm4hMD09PWVbdF0/dC50b0xvd2VyQ2FzZSgpOihyPWUuZ2V0QXR0cmlidXRlTm9kZSh0KSkmJnIuc3BlY2lmaWVkP3IudmFsdWU6bnVsbH0pLHNlfShDKTtrLmZpbmQ9aCxrLmV4cHI9aC5zZWxlY3RvcnMsay5leHByWyI6Il09ay5leHByLnBzZXVkb3Msay51bmlxdWVTb3J0PWsudW5pcXVlPWgudW5pcXVlU29ydCxrLnRleHQ9aC5nZXRUZXh0LGsuaXNYTUxEb2M9aC5pc1hNTCxrLmNvbnRhaW5zPWguY29udGFpbnMsay5lc2NhcGVTZWxlY3Rvcj1oLmVzY2FwZTt2YXIgVD1mdW5jdGlvbihlLHQsbil7dmFyIHI9W10saT12b2lkIDAhPT1uO3doaWxlKChlPWVbdF0pJiY5IT09ZS5ub2RlVHlwZSlpZigxPT09ZS5ub2RlVHlwZSl7aWYoaSYmayhlKS5pcyhuKSlicmVhaztyLnB1c2goZSl9cmV0dXJuIHJ9LFM9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49W107ZTtlPWUubmV4dFNpYmxpbmcpMT09PWUubm9kZVR5cGUmJmUhPT10JiZuLnB1c2goZSk7cmV0dXJuIG59LE49ay5leHByLm1hdGNoLm5lZWRzQ29udGV4dDtmdW5jdGlvbiBBKGUsdCl7cmV0dXJuIGUubm9kZU5hbWUmJmUubm9kZU5hbWUudG9Mb3dlckNhc2UoKT09PXQudG9Mb3dlckNhc2UoKX12YXIgRD0vXjwoW2Etel1bXlwvXDA+Olx4MjBcdFxyXG5cZl0qKVtceDIwXHRcclxuXGZdKlwvPz4oPzo8XC9cMT58KSQvaTtmdW5jdGlvbiBqKGUsbixyKXtyZXR1cm4gbShuKT9rLmdyZXAoZSxmdW5jdGlvbihlLHQpe3JldHVybiEhbi5jYWxsKGUsdCxlKSE9PXJ9KTpuLm5vZGVUeXBlP2suZ3JlcChlLGZ1bmN0aW9uKGUpe3JldHVybiBlPT09biE9PXJ9KToic3RyaW5nIiE9dHlwZW9mIG4/ay5ncmVwKGUsZnVuY3Rpb24oZSl7cmV0dXJuLTE8aS5jYWxsKG4sZSkhPT1yfSk6ay5maWx0ZXIobixlLHIpfWsuZmlsdGVyPWZ1bmN0aW9uKGUsdCxuKXt2YXIgcj10WzBdO3JldHVybiBuJiYoZT0iOm5vdCgiK2UrIikiKSwxPT09dC5sZW5ndGgmJjE9PT1yLm5vZGVUeXBlP2suZmluZC5tYXRjaGVzU2VsZWN0b3IocixlKT9bcl06W106ay5maW5kLm1hdGNoZXMoZSxrLmdyZXAodCxmdW5jdGlvbihlKXtyZXR1cm4gMT09PWUubm9kZVR5cGV9KSl9LGsuZm4uZXh0ZW5kKHtmaW5kOmZ1bmN0aW9uKGUpe3ZhciB0LG4scj10aGlzLmxlbmd0aCxpPXRoaXM7aWYoInN0cmluZyIhPXR5cGVvZiBlKXJldHVybiB0aGlzLnB1c2hTdGFjayhrKGUpLmZpbHRlcihmdW5jdGlvbigpe2Zvcih0PTA7dDxyO3QrKylpZihrLmNvbnRhaW5zKGlbdF0sdGhpcykpcmV0dXJuITB9KSk7Zm9yKG49dGhpcy5wdXNoU3RhY2soW10pLHQ9MDt0PHI7dCsrKWsuZmluZChlLGlbdF0sbik7cmV0dXJuIDE8cj9rLnVuaXF1ZVNvcnQobik6bn0sZmlsdGVyOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnB1c2hTdGFjayhqKHRoaXMsZXx8W10sITEpKX0sbm90OmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnB1c2hTdGFjayhqKHRoaXMsZXx8W10sITApKX0saXM6ZnVuY3Rpb24oZSl7cmV0dXJuISFqKHRoaXMsInN0cmluZyI9PXR5cGVvZiBlJiZOLnRlc3QoZSk/ayhlKTplfHxbXSwhMSkubGVuZ3RofX0pO3ZhciBxLEw9L14oPzpccyooPFtcd1xXXSs+KVtePl0qfCMoW1x3LV0rKSkkLzsoay5mbi5pbml0PWZ1bmN0aW9uKGUsdCxuKXt2YXIgcixpO2lmKCFlKXJldHVybiB0aGlzO2lmKG49bnx8cSwic3RyaW5nIj09dHlwZW9mIGUpe2lmKCEocj0iPCI9PT1lWzBdJiYiPiI9PT1lW2UubGVuZ3RoLTFdJiYzPD1lLmxlbmd0aD9bbnVsbCxlLG51bGxdOkwuZXhlYyhlKSl8fCFyWzFdJiZ0KXJldHVybiF0fHx0LmpxdWVyeT8odHx8bikuZmluZChlKTp0aGlzLmNvbnN0cnVjdG9yKHQpLmZpbmQoZSk7aWYoclsxXSl7aWYodD10IGluc3RhbmNlb2Ygaz90WzBdOnQsay5tZXJnZSh0aGlzLGsucGFyc2VIVE1MKHJbMV0sdCYmdC5ub2RlVHlwZT90Lm93bmVyRG9jdW1lbnR8fHQ6RSwhMCkpLEQudGVzdChyWzFdKSYmay5pc1BsYWluT2JqZWN0KHQpKWZvcihyIGluIHQpbSh0aGlzW3JdKT90aGlzW3JdKHRbcl0pOnRoaXMuYXR0cihyLHRbcl0pO3JldHVybiB0aGlzfXJldHVybihpPUUuZ2V0RWxlbWVudEJ5SWQoclsyXSkpJiYodGhpc1swXT1pLHRoaXMubGVuZ3RoPTEpLHRoaXN9cmV0dXJuIGUubm9kZVR5cGU/KHRoaXNbMF09ZSx0aGlzLmxlbmd0aD0xLHRoaXMpOm0oZSk/dm9pZCAwIT09bi5yZWFkeT9uLnJlYWR5KGUpOmUoayk6ay5tYWtlQXJyYXkoZSx0aGlzKX0pLnByb3RvdHlwZT1rLmZuLHE9ayhFKTt2YXIgSD0vXig/OnBhcmVudHN8cHJldig/OlVudGlsfEFsbCkpLyxPPXtjaGlsZHJlbjohMCxjb250ZW50czohMCxuZXh0OiEwLHByZXY6ITB9O2Z1bmN0aW9uIFAoZSx0KXt3aGlsZSgoZT1lW3RdKSYmMSE9PWUubm9kZVR5cGUpO3JldHVybiBlfWsuZm4uZXh0ZW5kKHtoYXM6ZnVuY3Rpb24oZSl7dmFyIHQ9ayhlLHRoaXMpLG49dC5sZW5ndGg7cmV0dXJuIHRoaXMuZmlsdGVyKGZ1bmN0aW9uKCl7Zm9yKHZhciBlPTA7ZTxuO2UrKylpZihrLmNvbnRhaW5zKHRoaXMsdFtlXSkpcmV0dXJuITB9KX0sY2xvc2VzdDpmdW5jdGlvbihlLHQpe3ZhciBuLHI9MCxpPXRoaXMubGVuZ3RoLG89W10sYT0ic3RyaW5nIiE9dHlwZW9mIGUmJmsoZSk7aWYoIU4udGVzdChlKSlmb3IoO3I8aTtyKyspZm9yKG49dGhpc1tyXTtuJiZuIT09dDtuPW4ucGFyZW50Tm9kZSlpZihuLm5vZGVUeXBlPDExJiYoYT8tMTxhLmluZGV4KG4pOjE9PT1uLm5vZGVUeXBlJiZrLmZpbmQubWF0Y2hlc1NlbGVjdG9yKG4sZSkpKXtvLnB1c2gobik7YnJlYWt9cmV0dXJuIHRoaXMucHVzaFN0YWNrKDE8by5sZW5ndGg/ay51bmlxdWVTb3J0KG8pOm8pfSxpbmRleDpmdW5jdGlvbihlKXtyZXR1cm4gZT8ic3RyaW5nIj09dHlwZW9mIGU/aS5jYWxsKGsoZSksdGhpc1swXSk6aS5jYWxsKHRoaXMsZS5qcXVlcnk/ZVswXTplKTp0aGlzWzBdJiZ0aGlzWzBdLnBhcmVudE5vZGU/dGhpcy5maXJzdCgpLnByZXZBbGwoKS5sZW5ndGg6LTF9LGFkZDpmdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLnB1c2hTdGFjayhrLnVuaXF1ZVNvcnQoay5tZXJnZSh0aGlzLmdldCgpLGsoZSx0KSkpKX0sYWRkQmFjazpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5hZGQobnVsbD09ZT90aGlzLnByZXZPYmplY3Q6dGhpcy5wcmV2T2JqZWN0LmZpbHRlcihlKSl9fSksay5lYWNoKHtwYXJlbnQ6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5wYXJlbnROb2RlO3JldHVybiB0JiYxMSE9PXQubm9kZVR5cGU/dDpudWxsfSxwYXJlbnRzOmZ1bmN0aW9uKGUpe3JldHVybiBUKGUsInBhcmVudE5vZGUiKX0scGFyZW50c1VudGlsOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gVChlLCJwYXJlbnROb2RlIixuKX0sbmV4dDpmdW5jdGlvbihlKXtyZXR1cm4gUChlLCJuZXh0U2libGluZyIpfSxwcmV2OmZ1bmN0aW9uKGUpe3JldHVybiBQKGUsInByZXZpb3VzU2libGluZyIpfSxuZXh0QWxsOmZ1bmN0aW9uKGUpe3JldHVybiBUKGUsIm5leHRTaWJsaW5nIil9LHByZXZBbGw6ZnVuY3Rpb24oZSl7cmV0dXJuIFQoZSwicHJldmlvdXNTaWJsaW5nIil9LG5leHRVbnRpbDpmdW5jdGlvbihlLHQsbil7cmV0dXJuIFQoZSwibmV4dFNpYmxpbmciLG4pfSxwcmV2VW50aWw6ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBUKGUsInByZXZpb3VzU2libGluZyIsbil9LHNpYmxpbmdzOmZ1bmN0aW9uKGUpe3JldHVybiBTKChlLnBhcmVudE5vZGV8fHt9KS5maXJzdENoaWxkLGUpfSxjaGlsZHJlbjpmdW5jdGlvbihlKXtyZXR1cm4gUyhlLmZpcnN0Q2hpbGQpfSxjb250ZW50czpmdW5jdGlvbihlKXtyZXR1cm4idW5kZWZpbmVkIiE9dHlwZW9mIGUuY29udGVudERvY3VtZW50P2UuY29udGVudERvY3VtZW50OihBKGUsInRlbXBsYXRlIikmJihlPWUuY29udGVudHx8ZSksay5tZXJnZShbXSxlLmNoaWxkTm9kZXMpKX19LGZ1bmN0aW9uKHIsaSl7ay5mbltyXT1mdW5jdGlvbihlLHQpe3ZhciBuPWsubWFwKHRoaXMsaSxlKTtyZXR1cm4iVW50aWwiIT09ci5zbGljZSgtNSkmJih0PWUpLHQmJiJzdHJpbmciPT10eXBlb2YgdCYmKG49ay5maWx0ZXIodCxuKSksMTx0aGlzLmxlbmd0aCYmKE9bcl18fGsudW5pcXVlU29ydChuKSxILnRlc3QocikmJm4ucmV2ZXJzZSgpKSx0aGlzLnB1c2hTdGFjayhuKX19KTt2YXIgUj0vW15ceDIwXHRcclxuXGZdKy9nO2Z1bmN0aW9uIE0oZSl7cmV0dXJuIGV9ZnVuY3Rpb24gSShlKXt0aHJvdyBlfWZ1bmN0aW9uIFcoZSx0LG4scil7dmFyIGk7dHJ5e2UmJm0oaT1lLnByb21pc2UpP2kuY2FsbChlKS5kb25lKHQpLmZhaWwobik6ZSYmbShpPWUudGhlbik/aS5jYWxsKGUsdCxuKTp0LmFwcGx5KHZvaWQgMCxbZV0uc2xpY2UocikpfWNhdGNoKGUpe24uYXBwbHkodm9pZCAwLFtlXSl9fWsuQ2FsbGJhY2tzPWZ1bmN0aW9uKHIpe3ZhciBlLG47cj0ic3RyaW5nIj09dHlwZW9mIHI/KGU9cixuPXt9LGsuZWFjaChlLm1hdGNoKFIpfHxbXSxmdW5jdGlvbihlLHQpe25bdF09ITB9KSxuKTprLmV4dGVuZCh7fSxyKTt2YXIgaSx0LG8sYSxzPVtdLHU9W10sbD0tMSxjPWZ1bmN0aW9uKCl7Zm9yKGE9YXx8ci5vbmNlLG89aT0hMDt1Lmxlbmd0aDtsPS0xKXt0PXUuc2hpZnQoKTt3aGlsZSgrK2w8cy5sZW5ndGgpITE9PT1zW2xdLmFwcGx5KHRbMF0sdFsxXSkmJnIuc3RvcE9uRmFsc2UmJihsPXMubGVuZ3RoLHQ9ITEpfXIubWVtb3J5fHwodD0hMSksaT0hMSxhJiYocz10P1tdOiIiKX0sZj17YWRkOmZ1bmN0aW9uKCl7cmV0dXJuIHMmJih0JiYhaSYmKGw9cy5sZW5ndGgtMSx1LnB1c2godCkpLGZ1bmN0aW9uIG4oZSl7ay5lYWNoKGUsZnVuY3Rpb24oZSx0KXttKHQpP3IudW5pcXVlJiZmLmhhcyh0KXx8cy5wdXNoKHQpOnQmJnQubGVuZ3RoJiYic3RyaW5nIiE9PXcodCkmJm4odCl9KX0oYXJndW1lbnRzKSx0JiYhaSYmYygpKSx0aGlzfSxyZW1vdmU6ZnVuY3Rpb24oKXtyZXR1cm4gay5lYWNoKGFyZ3VtZW50cyxmdW5jdGlvbihlLHQpe3ZhciBuO3doaWxlKC0xPChuPWsuaW5BcnJheSh0LHMsbikpKXMuc3BsaWNlKG4sMSksbjw9bCYmbC0tfSksdGhpc30saGFzOmZ1bmN0aW9uKGUpe3JldHVybiBlPy0xPGsuaW5BcnJheShlLHMpOjA8cy5sZW5ndGh9LGVtcHR5OmZ1bmN0aW9uKCl7cmV0dXJuIHMmJihzPVtdKSx0aGlzfSxkaXNhYmxlOmZ1bmN0aW9uKCl7cmV0dXJuIGE9dT1bXSxzPXQ9IiIsdGhpc30sZGlzYWJsZWQ6ZnVuY3Rpb24oKXtyZXR1cm4hc30sbG9jazpmdW5jdGlvbigpe3JldHVybiBhPXU9W10sdHx8aXx8KHM9dD0iIiksdGhpc30sbG9ja2VkOmZ1bmN0aW9uKCl7cmV0dXJuISFhfSxmaXJlV2l0aDpmdW5jdGlvbihlLHQpe3JldHVybiBhfHwodD1bZSwodD10fHxbXSkuc2xpY2U/dC5zbGljZSgpOnRdLHUucHVzaCh0KSxpfHxjKCkpLHRoaXN9LGZpcmU6ZnVuY3Rpb24oKXtyZXR1cm4gZi5maXJlV2l0aCh0aGlzLGFyZ3VtZW50cyksdGhpc30sZmlyZWQ6ZnVuY3Rpb24oKXtyZXR1cm4hIW99fTtyZXR1cm4gZn0say5leHRlbmQoe0RlZmVycmVkOmZ1bmN0aW9uKGUpe3ZhciBvPVtbIm5vdGlmeSIsInByb2dyZXNzIixrLkNhbGxiYWNrcygibWVtb3J5Iiksay5DYWxsYmFja3MoIm1lbW9yeSIpLDJdLFsicmVzb2x2ZSIsImRvbmUiLGsuQ2FsbGJhY2tzKCJvbmNlIG1lbW9yeSIpLGsuQ2FsbGJhY2tzKCJvbmNlIG1lbW9yeSIpLDAsInJlc29sdmVkIl0sWyJyZWplY3QiLCJmYWlsIixrLkNhbGxiYWNrcygib25jZSBtZW1vcnkiKSxrLkNhbGxiYWNrcygib25jZSBtZW1vcnkiKSwxLCJyZWplY3RlZCJdXSxpPSJwZW5kaW5nIixhPXtzdGF0ZTpmdW5jdGlvbigpe3JldHVybiBpfSxhbHdheXM6ZnVuY3Rpb24oKXtyZXR1cm4gcy5kb25lKGFyZ3VtZW50cykuZmFpbChhcmd1bWVudHMpLHRoaXN9LCJjYXRjaCI6ZnVuY3Rpb24oZSl7cmV0dXJuIGEudGhlbihudWxsLGUpfSxwaXBlOmZ1bmN0aW9uKCl7dmFyIGk9YXJndW1lbnRzO3JldHVybiBrLkRlZmVycmVkKGZ1bmN0aW9uKHIpe2suZWFjaChvLGZ1bmN0aW9uKGUsdCl7dmFyIG49bShpW3RbNF1dKSYmaVt0WzRdXTtzW3RbMV1dKGZ1bmN0aW9uKCl7dmFyIGU9biYmbi5hcHBseSh0aGlzLGFyZ3VtZW50cyk7ZSYmbShlLnByb21pc2UpP2UucHJvbWlzZSgpLnByb2dyZXNzKHIubm90aWZ5KS5kb25lKHIucmVzb2x2ZSkuZmFpbChyLnJlamVjdCk6clt0WzBdKyJXaXRoIl0odGhpcyxuP1tlXTphcmd1bWVudHMpfSl9KSxpPW51bGx9KS5wcm9taXNlKCl9LHRoZW46ZnVuY3Rpb24odCxuLHIpe3ZhciB1PTA7ZnVuY3Rpb24gbChpLG8sYSxzKXtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgbj10aGlzLHI9YXJndW1lbnRzLGU9ZnVuY3Rpb24oKXt2YXIgZSx0O2lmKCEoaTx1KSl7aWYoKGU9YS5hcHBseShuLHIpKT09PW8ucHJvbWlzZSgpKXRocm93IG5ldyBUeXBlRXJyb3IoIlRoZW5hYmxlIHNlbGYtcmVzb2x1dGlvbiIpO3Q9ZSYmKCJvYmplY3QiPT10eXBlb2YgZXx8ImZ1bmN0aW9uIj09dHlwZW9mIGUpJiZlLnRoZW4sbSh0KT9zP3QuY2FsbChlLGwodSxvLE0scyksbCh1LG8sSSxzKSk6KHUrKyx0LmNhbGwoZSxsKHUsbyxNLHMpLGwodSxvLEkscyksbCh1LG8sTSxvLm5vdGlmeVdpdGgpKSk6KGEhPT1NJiYobj12b2lkIDAscj1bZV0pLChzfHxvLnJlc29sdmVXaXRoKShuLHIpKX19LHQ9cz9lOmZ1bmN0aW9uKCl7dHJ5e2UoKX1jYXRjaChlKXtrLkRlZmVycmVkLmV4Y2VwdGlvbkhvb2smJmsuRGVmZXJyZWQuZXhjZXB0aW9uSG9vayhlLHQuc3RhY2tUcmFjZSksdTw9aSsxJiYoYSE9PUkmJihuPXZvaWQgMCxyPVtlXSksby5yZWplY3RXaXRoKG4scikpfX07aT90KCk6KGsuRGVmZXJyZWQuZ2V0U3RhY2tIb29rJiYodC5zdGFja1RyYWNlPWsuRGVmZXJyZWQuZ2V0U3RhY2tIb29rKCkpLEMuc2V0VGltZW91dCh0KSl9fXJldHVybiBrLkRlZmVycmVkKGZ1bmN0aW9uKGUpe29bMF1bM10uYWRkKGwoMCxlLG0ocik/cjpNLGUubm90aWZ5V2l0aCkpLG9bMV1bM10uYWRkKGwoMCxlLG0odCk/dDpNKSksb1syXVszXS5hZGQobCgwLGUsbShuKT9uOkkpKX0pLnByb21pc2UoKX0scHJvbWlzZTpmdW5jdGlvbihlKXtyZXR1cm4gbnVsbCE9ZT9rLmV4dGVuZChlLGEpOmF9fSxzPXt9O3JldHVybiBrLmVhY2gobyxmdW5jdGlvbihlLHQpe3ZhciBuPXRbMl0scj10WzVdO2FbdFsxXV09bi5hZGQsciYmbi5hZGQoZnVuY3Rpb24oKXtpPXJ9LG9bMy1lXVsyXS5kaXNhYmxlLG9bMy1lXVszXS5kaXNhYmxlLG9bMF1bMl0ubG9jayxvWzBdWzNdLmxvY2spLG4uYWRkKHRbM10uZmlyZSksc1t0WzBdXT1mdW5jdGlvbigpe3JldHVybiBzW3RbMF0rIldpdGgiXSh0aGlzPT09cz92b2lkIDA6dGhpcyxhcmd1bWVudHMpLHRoaXN9LHNbdFswXSsiV2l0aCJdPW4uZmlyZVdpdGh9KSxhLnByb21pc2UocyksZSYmZS5jYWxsKHMscyksc30sd2hlbjpmdW5jdGlvbihlKXt2YXIgbj1hcmd1bWVudHMubGVuZ3RoLHQ9bixyPUFycmF5KHQpLGk9cy5jYWxsKGFyZ3VtZW50cyksbz1rLkRlZmVycmVkKCksYT1mdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oZSl7clt0XT10aGlzLGlbdF09MTxhcmd1bWVudHMubGVuZ3RoP3MuY2FsbChhcmd1bWVudHMpOmUsLS1ufHxvLnJlc29sdmVXaXRoKHIsaSl9fTtpZihuPD0xJiYoVyhlLG8uZG9uZShhKHQpKS5yZXNvbHZlLG8ucmVqZWN0LCFuKSwicGVuZGluZyI9PT1vLnN0YXRlKCl8fG0oaVt0XSYmaVt0XS50aGVuKSkpcmV0dXJuIG8udGhlbigpO3doaWxlKHQtLSlXKGlbdF0sYSh0KSxvLnJlamVjdCk7cmV0dXJuIG8ucHJvbWlzZSgpfX0pO3ZhciAkPS9eKEV2YWx8SW50ZXJuYWx8UmFuZ2V8UmVmZXJlbmNlfFN5bnRheHxUeXBlfFVSSSlFcnJvciQvO2suRGVmZXJyZWQuZXhjZXB0aW9uSG9vaz1mdW5jdGlvbihlLHQpe0MuY29uc29sZSYmQy5jb25zb2xlLndhcm4mJmUmJiQudGVzdChlLm5hbWUpJiZDLmNvbnNvbGUud2FybigialF1ZXJ5LkRlZmVycmVkIGV4Y2VwdGlvbjogIitlLm1lc3NhZ2UsZS5zdGFjayx0KX0say5yZWFkeUV4Y2VwdGlvbj1mdW5jdGlvbihlKXtDLnNldFRpbWVvdXQoZnVuY3Rpb24oKXt0aHJvdyBlfSl9O3ZhciBGPWsuRGVmZXJyZWQoKTtmdW5jdGlvbiBCKCl7RS5yZW1vdmVFdmVudExpc3RlbmVyKCJET01Db250ZW50TG9hZGVkIixCKSxDLnJlbW92ZUV2ZW50TGlzdGVuZXIoImxvYWQiLEIpLGsucmVhZHkoKX1rLmZuLnJlYWR5PWZ1bmN0aW9uKGUpe3JldHVybiBGLnRoZW4oZSlbImNhdGNoIl0oZnVuY3Rpb24oZSl7ay5yZWFkeUV4Y2VwdGlvbihlKX0pLHRoaXN9LGsuZXh0ZW5kKHtpc1JlYWR5OiExLHJlYWR5V2FpdDoxLHJlYWR5OmZ1bmN0aW9uKGUpeyghMD09PWU/LS1rLnJlYWR5V2FpdDprLmlzUmVhZHkpfHwoay5pc1JlYWR5PSEwKSE9PWUmJjA8LS1rLnJlYWR5V2FpdHx8Ri5yZXNvbHZlV2l0aChFLFtrXSl9fSksay5yZWFkeS50aGVuPUYudGhlbiwiY29tcGxldGUiPT09RS5yZWFkeVN0YXRlfHwibG9hZGluZyIhPT1FLnJlYWR5U3RhdGUmJiFFLmRvY3VtZW50RWxlbWVudC5kb1Njcm9sbD9DLnNldFRpbWVvdXQoay5yZWFkeSk6KEUuYWRkRXZlbnRMaXN0ZW5lcigiRE9NQ29udGVudExvYWRlZCIsQiksQy5hZGRFdmVudExpc3RlbmVyKCJsb2FkIixCKSk7dmFyIF89ZnVuY3Rpb24oZSx0LG4scixpLG8sYSl7dmFyIHM9MCx1PWUubGVuZ3RoLGw9bnVsbD09bjtpZigib2JqZWN0Ij09PXcobikpZm9yKHMgaW4gaT0hMCxuKV8oZSx0LHMsbltzXSwhMCxvLGEpO2Vsc2UgaWYodm9pZCAwIT09ciYmKGk9ITAsbShyKXx8KGE9ITApLGwmJihhPyh0LmNhbGwoZSxyKSx0PW51bGwpOihsPXQsdD1mdW5jdGlvbihlLHQsbil7cmV0dXJuIGwuY2FsbChrKGUpLG4pfSkpLHQpKWZvcig7czx1O3MrKyl0KGVbc10sbixhP3I6ci5jYWxsKGVbc10scyx0KGVbc10sbikpKTtyZXR1cm4gaT9lOmw/dC5jYWxsKGUpOnU/dChlWzBdLG4pOm99LHo9L14tbXMtLyxVPS8tKFthLXpdKS9nO2Z1bmN0aW9uIFgoZSx0KXtyZXR1cm4gdC50b1VwcGVyQ2FzZSgpfWZ1bmN0aW9uIFYoZSl7cmV0dXJuIGUucmVwbGFjZSh6LCJtcy0iKS5yZXBsYWNlKFUsWCl9dmFyIEc9ZnVuY3Rpb24oZSl7cmV0dXJuIDE9PT1lLm5vZGVUeXBlfHw5PT09ZS5ub2RlVHlwZXx8IStlLm5vZGVUeXBlfTtmdW5jdGlvbiBZKCl7dGhpcy5leHBhbmRvPWsuZXhwYW5kbytZLnVpZCsrfVkudWlkPTEsWS5wcm90b3R5cGU9e2NhY2hlOmZ1bmN0aW9uKGUpe3ZhciB0PWVbdGhpcy5leHBhbmRvXTtyZXR1cm4gdHx8KHQ9e30sRyhlKSYmKGUubm9kZVR5cGU/ZVt0aGlzLmV4cGFuZG9dPXQ6T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdGhpcy5leHBhbmRvLHt2YWx1ZTp0LGNvbmZpZ3VyYWJsZTohMH0pKSksdH0sc2V0OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcixpPXRoaXMuY2FjaGUoZSk7aWYoInN0cmluZyI9PXR5cGVvZiB0KWlbVih0KV09bjtlbHNlIGZvcihyIGluIHQpaVtWKHIpXT10W3JdO3JldHVybiBpfSxnZXQ6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdm9pZCAwPT09dD90aGlzLmNhY2hlKGUpOmVbdGhpcy5leHBhbmRvXSYmZVt0aGlzLmV4cGFuZG9dW1YodCldfSxhY2Nlc3M6ZnVuY3Rpb24oZSx0LG4pe3JldHVybiB2b2lkIDA9PT10fHx0JiYic3RyaW5nIj09dHlwZW9mIHQmJnZvaWQgMD09PW4/dGhpcy5nZXQoZSx0KToodGhpcy5zZXQoZSx0LG4pLHZvaWQgMCE9PW4/bjp0KX0scmVtb3ZlOmZ1bmN0aW9uKGUsdCl7dmFyIG4scj1lW3RoaXMuZXhwYW5kb107aWYodm9pZCAwIT09cil7aWYodm9pZCAwIT09dCl7bj0odD1BcnJheS5pc0FycmF5KHQpP3QubWFwKFYpOih0PVYodCkpaW4gcj9bdF06dC5tYXRjaChSKXx8W10pLmxlbmd0aDt3aGlsZShuLS0pZGVsZXRlIHJbdFtuXV19KHZvaWQgMD09PXR8fGsuaXNFbXB0eU9iamVjdChyKSkmJihlLm5vZGVUeXBlP2VbdGhpcy5leHBhbmRvXT12b2lkIDA6ZGVsZXRlIGVbdGhpcy5leHBhbmRvXSl9fSxoYXNEYXRhOmZ1bmN0aW9uKGUpe3ZhciB0PWVbdGhpcy5leHBhbmRvXTtyZXR1cm4gdm9pZCAwIT09dCYmIWsuaXNFbXB0eU9iamVjdCh0KX19O3ZhciBRPW5ldyBZLEo9bmV3IFksSz0vXig/Olx7W1x3XFddKlx9fFxbW1x3XFddKlxdKSQvLFo9L1tBLVpdL2c7ZnVuY3Rpb24gZWUoZSx0LG4pe3ZhciByLGk7aWYodm9pZCAwPT09biYmMT09PWUubm9kZVR5cGUpaWYocj0iZGF0YS0iK3QucmVwbGFjZShaLCItJCYiKS50b0xvd2VyQ2FzZSgpLCJzdHJpbmciPT10eXBlb2Yobj1lLmdldEF0dHJpYnV0ZShyKSkpe3RyeXtuPSJ0cnVlIj09PShpPW4pfHwiZmFsc2UiIT09aSYmKCJudWxsIj09PWk/bnVsbDppPT09K2krIiI/K2k6Sy50ZXN0KGkpP0pTT04ucGFyc2UoaSk6aSl9Y2F0Y2goZSl7fUouc2V0KGUsdCxuKX1lbHNlIG49dm9pZCAwO3JldHVybiBufWsuZXh0ZW5kKHtoYXNEYXRhOmZ1bmN0aW9uKGUpe3JldHVybiBKLmhhc0RhdGEoZSl8fFEuaGFzRGF0YShlKX0sZGF0YTpmdW5jdGlvbihlLHQsbil7cmV0dXJuIEouYWNjZXNzKGUsdCxuKX0scmVtb3ZlRGF0YTpmdW5jdGlvbihlLHQpe0oucmVtb3ZlKGUsdCl9LF9kYXRhOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gUS5hY2Nlc3MoZSx0LG4pfSxfcmVtb3ZlRGF0YTpmdW5jdGlvbihlLHQpe1EucmVtb3ZlKGUsdCl9fSksay5mbi5leHRlbmQoe2RhdGE6ZnVuY3Rpb24obixlKXt2YXIgdCxyLGksbz10aGlzWzBdLGE9byYmby5hdHRyaWJ1dGVzO2lmKHZvaWQgMD09PW4pe2lmKHRoaXMubGVuZ3RoJiYoaT1KLmdldChvKSwxPT09by5ub2RlVHlwZSYmIVEuZ2V0KG8sImhhc0RhdGFBdHRycyIpKSl7dD1hLmxlbmd0aDt3aGlsZSh0LS0pYVt0XSYmMD09PShyPWFbdF0ubmFtZSkuaW5kZXhPZigiZGF0YS0iKSYmKHI9VihyLnNsaWNlKDUpKSxlZShvLHIsaVtyXSkpO1Euc2V0KG8sImhhc0RhdGFBdHRycyIsITApfXJldHVybiBpfXJldHVybiJvYmplY3QiPT10eXBlb2Ygbj90aGlzLmVhY2goZnVuY3Rpb24oKXtKLnNldCh0aGlzLG4pfSk6Xyh0aGlzLGZ1bmN0aW9uKGUpe3ZhciB0O2lmKG8mJnZvaWQgMD09PWUpcmV0dXJuIHZvaWQgMCE9PSh0PUouZ2V0KG8sbikpP3Q6dm9pZCAwIT09KHQ9ZWUobyxuKSk/dDp2b2lkIDA7dGhpcy5lYWNoKGZ1bmN0aW9uKCl7Si5zZXQodGhpcyxuLGUpfSl9LG51bGwsZSwxPGFyZ3VtZW50cy5sZW5ndGgsbnVsbCwhMCl9LHJlbW92ZURhdGE6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe0oucmVtb3ZlKHRoaXMsZSl9KX19KSxrLmV4dGVuZCh7cXVldWU6ZnVuY3Rpb24oZSx0LG4pe3ZhciByO2lmKGUpcmV0dXJuIHQ9KHR8fCJmeCIpKyJxdWV1ZSIscj1RLmdldChlLHQpLG4mJighcnx8QXJyYXkuaXNBcnJheShuKT9yPVEuYWNjZXNzKGUsdCxrLm1ha2VBcnJheShuKSk6ci5wdXNoKG4pKSxyfHxbXX0sZGVxdWV1ZTpmdW5jdGlvbihlLHQpe3Q9dHx8ImZ4Ijt2YXIgbj1rLnF1ZXVlKGUsdCkscj1uLmxlbmd0aCxpPW4uc2hpZnQoKSxvPWsuX3F1ZXVlSG9va3MoZSx0KTsiaW5wcm9ncmVzcyI9PT1pJiYoaT1uLnNoaWZ0KCksci0tKSxpJiYoImZ4Ij09PXQmJm4udW5zaGlmdCgiaW5wcm9ncmVzcyIpLGRlbGV0ZSBvLnN0b3AsaS5jYWxsKGUsZnVuY3Rpb24oKXtrLmRlcXVldWUoZSx0KX0sbykpLCFyJiZvJiZvLmVtcHR5LmZpcmUoKX0sX3F1ZXVlSG9va3M6ZnVuY3Rpb24oZSx0KXt2YXIgbj10KyJxdWV1ZUhvb2tzIjtyZXR1cm4gUS5nZXQoZSxuKXx8US5hY2Nlc3MoZSxuLHtlbXB0eTprLkNhbGxiYWNrcygib25jZSBtZW1vcnkiKS5hZGQoZnVuY3Rpb24oKXtRLnJlbW92ZShlLFt0KyJxdWV1ZSIsbl0pfSl9KX19KSxrLmZuLmV4dGVuZCh7cXVldWU6ZnVuY3Rpb24odCxuKXt2YXIgZT0yO3JldHVybiJzdHJpbmciIT10eXBlb2YgdCYmKG49dCx0PSJmeCIsZS0tKSxhcmd1bWVudHMubGVuZ3RoPGU/ay5xdWV1ZSh0aGlzWzBdLHQpOnZvaWQgMD09PW4/dGhpczp0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgZT1rLnF1ZXVlKHRoaXMsdCxuKTtrLl9xdWV1ZUhvb2tzKHRoaXMsdCksImZ4Ij09PXQmJiJpbnByb2dyZXNzIiE9PWVbMF0mJmsuZGVxdWV1ZSh0aGlzLHQpfSl9LGRlcXVldWU6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe2suZGVxdWV1ZSh0aGlzLGUpfSl9LGNsZWFyUXVldWU6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMucXVldWUoZXx8ImZ4IixbXSl9LHByb21pc2U6ZnVuY3Rpb24oZSx0KXt2YXIgbixyPTEsaT1rLkRlZmVycmVkKCksbz10aGlzLGE9dGhpcy5sZW5ndGgscz1mdW5jdGlvbigpey0tcnx8aS5yZXNvbHZlV2l0aChvLFtvXSl9OyJzdHJpbmciIT10eXBlb2YgZSYmKHQ9ZSxlPXZvaWQgMCksZT1lfHwiZngiO3doaWxlKGEtLSkobj1RLmdldChvW2FdLGUrInF1ZXVlSG9va3MiKSkmJm4uZW1wdHkmJihyKyssbi5lbXB0eS5hZGQocykpO3JldHVybiBzKCksaS5wcm9taXNlKHQpfX0pO3ZhciB0ZT0vWystXT8oPzpcZCpcLnwpXGQrKD86W2VFXVsrLV0/XGQrfCkvLnNvdXJjZSxuZT1uZXcgUmVnRXhwKCJeKD86KFsrLV0pPXwpKCIrdGUrIikoW2EteiVdKikkIiwiaSIpLHJlPVsiVG9wIiwiUmlnaHQiLCJCb3R0b20iLCJMZWZ0Il0saWU9RS5kb2N1bWVudEVsZW1lbnQsb2U9ZnVuY3Rpb24oZSl7cmV0dXJuIGsuY29udGFpbnMoZS5vd25lckRvY3VtZW50LGUpfSxhZT17Y29tcG9zZWQ6ITB9O2llLmdldFJvb3ROb2RlJiYob2U9ZnVuY3Rpb24oZSl7cmV0dXJuIGsuY29udGFpbnMoZS5vd25lckRvY3VtZW50LGUpfHxlLmdldFJvb3ROb2RlKGFlKT09PWUub3duZXJEb2N1bWVudH0pO3ZhciBzZT1mdW5jdGlvbihlLHQpe3JldHVybiJub25lIj09PShlPXR8fGUpLnN0eWxlLmRpc3BsYXl8fCIiPT09ZS5zdHlsZS5kaXNwbGF5JiZvZShlKSYmIm5vbmUiPT09ay5jc3MoZSwiZGlzcGxheSIpfSx1ZT1mdW5jdGlvbihlLHQsbixyKXt2YXIgaSxvLGE9e307Zm9yKG8gaW4gdClhW29dPWUuc3R5bGVbb10sZS5zdHlsZVtvXT10W29dO2ZvcihvIGluIGk9bi5hcHBseShlLHJ8fFtdKSx0KWUuc3R5bGVbb109YVtvXTtyZXR1cm4gaX07ZnVuY3Rpb24gbGUoZSx0LG4scil7dmFyIGksbyxhPTIwLHM9cj9mdW5jdGlvbigpe3JldHVybiByLmN1cigpfTpmdW5jdGlvbigpe3JldHVybiBrLmNzcyhlLHQsIiIpfSx1PXMoKSxsPW4mJm5bM118fChrLmNzc051bWJlclt0XT8iIjoicHgiKSxjPWUubm9kZVR5cGUmJihrLmNzc051bWJlclt0XXx8InB4IiE9PWwmJit1KSYmbmUuZXhlYyhrLmNzcyhlLHQpKTtpZihjJiZjWzNdIT09bCl7dS89MixsPWx8fGNbM10sYz0rdXx8MTt3aGlsZShhLS0pay5zdHlsZShlLHQsYytsKSwoMS1vKSooMS0obz1zKCkvdXx8LjUpKTw9MCYmKGE9MCksYy89bztjKj0yLGsuc3R5bGUoZSx0LGMrbCksbj1ufHxbXX1yZXR1cm4gbiYmKGM9K2N8fCt1fHwwLGk9blsxXT9jKyhuWzFdKzEpKm5bMl06K25bMl0sciYmKHIudW5pdD1sLHIuc3RhcnQ9YyxyLmVuZD1pKSksaX12YXIgY2U9e307ZnVuY3Rpb24gZmUoZSx0KXtmb3IodmFyIG4scixpLG8sYSxzLHUsbD1bXSxjPTAsZj1lLmxlbmd0aDtjPGY7YysrKShyPWVbY10pLnN0eWxlJiYobj1yLnN0eWxlLmRpc3BsYXksdD8oIm5vbmUiPT09biYmKGxbY109US5nZXQociwiZGlzcGxheSIpfHxudWxsLGxbY118fChyLnN0eWxlLmRpc3BsYXk9IiIpKSwiIj09PXIuc3R5bGUuZGlzcGxheSYmc2UocikmJihsW2NdPSh1PWE9bz12b2lkIDAsYT0oaT1yKS5vd25lckRvY3VtZW50LHM9aS5ub2RlTmFtZSwodT1jZVtzXSl8fChvPWEuYm9keS5hcHBlbmRDaGlsZChhLmNyZWF0ZUVsZW1lbnQocykpLHU9ay5jc3MobywiZGlzcGxheSIpLG8ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChvKSwibm9uZSI9PT11JiYodT0iYmxvY2siKSxjZVtzXT11KSkpKToibm9uZSIhPT1uJiYobFtjXT0ibm9uZSIsUS5zZXQociwiZGlzcGxheSIsbikpKTtmb3IoYz0wO2M8ZjtjKyspbnVsbCE9bFtjXSYmKGVbY10uc3R5bGUuZGlzcGxheT1sW2NdKTtyZXR1cm4gZX1rLmZuLmV4dGVuZCh7c2hvdzpmdW5jdGlvbigpe3JldHVybiBmZSh0aGlzLCEwKX0saGlkZTpmdW5jdGlvbigpe3JldHVybiBmZSh0aGlzKX0sdG9nZ2xlOmZ1bmN0aW9uKGUpe3JldHVybiJib29sZWFuIj09dHlwZW9mIGU/ZT90aGlzLnNob3coKTp0aGlzLmhpZGUoKTp0aGlzLmVhY2goZnVuY3Rpb24oKXtzZSh0aGlzKT9rKHRoaXMpLnNob3coKTprKHRoaXMpLmhpZGUoKX0pfX0pO3ZhciBwZT0vXig/OmNoZWNrYm94fHJhZGlvKSQvaSxkZT0vPChbYS16XVteXC9cMD5ceDIwXHRcclxuXGZdKikvaSxoZT0vXiR8Xm1vZHVsZSR8XC8oPzpqYXZhfGVjbWEpc2NyaXB0L2ksZ2U9e29wdGlvbjpbMSwiPHNlbGVjdCBtdWx0aXBsZT0nbXVsdGlwbGUnPiIsIjwvc2VsZWN0PiJdLHRoZWFkOlsxLCI8dGFibGU+IiwiPC90YWJsZT4iXSxjb2w6WzIsIjx0YWJsZT48Y29sZ3JvdXA+IiwiPC9jb2xncm91cD48L3RhYmxlPiJdLHRyOlsyLCI8dGFibGU+PHRib2R5PiIsIjwvdGJvZHk+PC90YWJsZT4iXSx0ZDpbMywiPHRhYmxlPjx0Ym9keT48dHI+IiwiPC90cj48L3Rib2R5PjwvdGFibGU+Il0sX2RlZmF1bHQ6WzAsIiIsIiJdfTtmdW5jdGlvbiB2ZShlLHQpe3ZhciBuO3JldHVybiBuPSJ1bmRlZmluZWQiIT10eXBlb2YgZS5nZXRFbGVtZW50c0J5VGFnTmFtZT9lLmdldEVsZW1lbnRzQnlUYWdOYW1lKHR8fCIqIik6InVuZGVmaW5lZCIhPXR5cGVvZiBlLnF1ZXJ5U2VsZWN0b3JBbGw/ZS5xdWVyeVNlbGVjdG9yQWxsKHR8fCIqIik6W10sdm9pZCAwPT09dHx8dCYmQShlLHQpP2subWVyZ2UoW2VdLG4pOm59ZnVuY3Rpb24geWUoZSx0KXtmb3IodmFyIG49MCxyPWUubGVuZ3RoO248cjtuKyspUS5zZXQoZVtuXSwiZ2xvYmFsRXZhbCIsIXR8fFEuZ2V0KHRbbl0sImdsb2JhbEV2YWwiKSl9Z2Uub3B0Z3JvdXA9Z2Uub3B0aW9uLGdlLnRib2R5PWdlLnRmb290PWdlLmNvbGdyb3VwPWdlLmNhcHRpb249Z2UudGhlYWQsZ2UudGg9Z2UudGQ7dmFyIG1lLHhlLGJlPS88fCYjP1x3KzsvO2Z1bmN0aW9uIHdlKGUsdCxuLHIsaSl7Zm9yKHZhciBvLGEscyx1LGwsYyxmPXQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpLHA9W10sZD0wLGg9ZS5sZW5ndGg7ZDxoO2QrKylpZigobz1lW2RdKXx8MD09PW8paWYoIm9iamVjdCI9PT13KG8pKWsubWVyZ2UocCxvLm5vZGVUeXBlP1tvXTpvKTtlbHNlIGlmKGJlLnRlc3Qobykpe2E9YXx8Zi5hcHBlbmRDaGlsZCh0LmNyZWF0ZUVsZW1lbnQoImRpdiIpKSxzPShkZS5leGVjKG8pfHxbIiIsIiJdKVsxXS50b0xvd2VyQ2FzZSgpLHU9Z2Vbc118fGdlLl9kZWZhdWx0LGEuaW5uZXJIVE1MPXVbMV0ray5odG1sUHJlZmlsdGVyKG8pK3VbMl0sYz11WzBdO3doaWxlKGMtLSlhPWEubGFzdENoaWxkO2subWVyZ2UocCxhLmNoaWxkTm9kZXMpLChhPWYuZmlyc3RDaGlsZCkudGV4dENvbnRlbnQ9IiJ9ZWxzZSBwLnB1c2godC5jcmVhdGVUZXh0Tm9kZShvKSk7Zi50ZXh0Q29udGVudD0iIixkPTA7d2hpbGUobz1wW2QrK10paWYociYmLTE8ay5pbkFycmF5KG8scikpaSYmaS5wdXNoKG8pO2Vsc2UgaWYobD1vZShvKSxhPXZlKGYuYXBwZW5kQ2hpbGQobyksInNjcmlwdCIpLGwmJnllKGEpLG4pe2M9MDt3aGlsZShvPWFbYysrXSloZS50ZXN0KG8udHlwZXx8IiIpJiZuLnB1c2gobyl9cmV0dXJuIGZ9bWU9RS5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCkuYXBwZW5kQ2hpbGQoRS5jcmVhdGVFbGVtZW50KCJkaXYiKSksKHhlPUUuY3JlYXRlRWxlbWVudCgiaW5wdXQiKSkuc2V0QXR0cmlidXRlKCJ0eXBlIiwicmFkaW8iKSx4ZS5zZXRBdHRyaWJ1dGUoImNoZWNrZWQiLCJjaGVja2VkIikseGUuc2V0QXR0cmlidXRlKCJuYW1lIiwidCIpLG1lLmFwcGVuZENoaWxkKHhlKSx5LmNoZWNrQ2xvbmU9bWUuY2xvbmVOb2RlKCEwKS5jbG9uZU5vZGUoITApLmxhc3RDaGlsZC5jaGVja2VkLG1lLmlubmVySFRNTD0iPHRleHRhcmVhPng8L3RleHRhcmVhPiIseS5ub0Nsb25lQ2hlY2tlZD0hIW1lLmNsb25lTm9kZSghMCkubGFzdENoaWxkLmRlZmF1bHRWYWx1ZTt2YXIgVGU9L15rZXkvLENlPS9eKD86bW91c2V8cG9pbnRlcnxjb250ZXh0bWVudXxkcmFnfGRyb3ApfGNsaWNrLyxFZT0vXihbXi5dKikoPzpcLiguKyl8KS87ZnVuY3Rpb24ga2UoKXtyZXR1cm4hMH1mdW5jdGlvbiBTZSgpe3JldHVybiExfWZ1bmN0aW9uIE5lKGUsdCl7cmV0dXJuIGU9PT1mdW5jdGlvbigpe3RyeXtyZXR1cm4gRS5hY3RpdmVFbGVtZW50fWNhdGNoKGUpe319KCk9PSgiZm9jdXMiPT09dCl9ZnVuY3Rpb24gQWUoZSx0LG4scixpLG8pe3ZhciBhLHM7aWYoIm9iamVjdCI9PXR5cGVvZiB0KXtmb3IocyBpbiJzdHJpbmciIT10eXBlb2YgbiYmKHI9cnx8bixuPXZvaWQgMCksdClBZShlLHMsbixyLHRbc10sbyk7cmV0dXJuIGV9aWYobnVsbD09ciYmbnVsbD09aT8oaT1uLHI9bj12b2lkIDApOm51bGw9PWkmJigic3RyaW5nIj09dHlwZW9mIG4/KGk9cixyPXZvaWQgMCk6KGk9cixyPW4sbj12b2lkIDApKSwhMT09PWkpaT1TZTtlbHNlIGlmKCFpKXJldHVybiBlO3JldHVybiAxPT09byYmKGE9aSwoaT1mdW5jdGlvbihlKXtyZXR1cm4gaygpLm9mZihlKSxhLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0pLmd1aWQ9YS5ndWlkfHwoYS5ndWlkPWsuZ3VpZCsrKSksZS5lYWNoKGZ1bmN0aW9uKCl7ay5ldmVudC5hZGQodGhpcyx0LGkscixuKX0pfWZ1bmN0aW9uIERlKGUsaSxvKXtvPyhRLnNldChlLGksITEpLGsuZXZlbnQuYWRkKGUsaSx7bmFtZXNwYWNlOiExLGhhbmRsZXI6ZnVuY3Rpb24oZSl7dmFyIHQsbixyPVEuZ2V0KHRoaXMsaSk7aWYoMSZlLmlzVHJpZ2dlciYmdGhpc1tpXSl7aWYoci5sZW5ndGgpKGsuZXZlbnQuc3BlY2lhbFtpXXx8e30pLmRlbGVnYXRlVHlwZSYmZS5zdG9wUHJvcGFnYXRpb24oKTtlbHNlIGlmKHI9cy5jYWxsKGFyZ3VtZW50cyksUS5zZXQodGhpcyxpLHIpLHQ9byh0aGlzLGkpLHRoaXNbaV0oKSxyIT09KG49US5nZXQodGhpcyxpKSl8fHQ/US5zZXQodGhpcyxpLCExKTpuPXt9LHIhPT1uKXJldHVybiBlLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpLGUucHJldmVudERlZmF1bHQoKSxuLnZhbHVlfWVsc2Ugci5sZW5ndGgmJihRLnNldCh0aGlzLGkse3ZhbHVlOmsuZXZlbnQudHJpZ2dlcihrLmV4dGVuZChyWzBdLGsuRXZlbnQucHJvdG90eXBlKSxyLnNsaWNlKDEpLHRoaXMpfSksZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKSl9fSkpOnZvaWQgMD09PVEuZ2V0KGUsaSkmJmsuZXZlbnQuYWRkKGUsaSxrZSl9ay5ldmVudD17Z2xvYmFsOnt9LGFkZDpmdW5jdGlvbih0LGUsbixyLGkpe3ZhciBvLGEscyx1LGwsYyxmLHAsZCxoLGcsdj1RLmdldCh0KTtpZih2KXtuLmhhbmRsZXImJihuPShvPW4pLmhhbmRsZXIsaT1vLnNlbGVjdG9yKSxpJiZrLmZpbmQubWF0Y2hlc1NlbGVjdG9yKGllLGkpLG4uZ3VpZHx8KG4uZ3VpZD1rLmd1aWQrKyksKHU9di5ldmVudHMpfHwodT12LmV2ZW50cz17fSksKGE9di5oYW5kbGUpfHwoYT12LmhhbmRsZT1mdW5jdGlvbihlKXtyZXR1cm4idW5kZWZpbmVkIiE9dHlwZW9mIGsmJmsuZXZlbnQudHJpZ2dlcmVkIT09ZS50eXBlP2suZXZlbnQuZGlzcGF0Y2guYXBwbHkodCxhcmd1bWVudHMpOnZvaWQgMH0pLGw9KGU9KGV8fCIiKS5tYXRjaChSKXx8WyIiXSkubGVuZ3RoO3doaWxlKGwtLSlkPWc9KHM9RWUuZXhlYyhlW2xdKXx8W10pWzFdLGg9KHNbMl18fCIiKS5zcGxpdCgiLiIpLnNvcnQoKSxkJiYoZj1rLmV2ZW50LnNwZWNpYWxbZF18fHt9LGQ9KGk/Zi5kZWxlZ2F0ZVR5cGU6Zi5iaW5kVHlwZSl8fGQsZj1rLmV2ZW50LnNwZWNpYWxbZF18fHt9LGM9ay5leHRlbmQoe3R5cGU6ZCxvcmlnVHlwZTpnLGRhdGE6cixoYW5kbGVyOm4sZ3VpZDpuLmd1aWQsc2VsZWN0b3I6aSxuZWVkc0NvbnRleHQ6aSYmay5leHByLm1hdGNoLm5lZWRzQ29udGV4dC50ZXN0KGkpLG5hbWVzcGFjZTpoLmpvaW4oIi4iKX0sbyksKHA9dVtkXSl8fCgocD11W2RdPVtdKS5kZWxlZ2F0ZUNvdW50PTAsZi5zZXR1cCYmITEhPT1mLnNldHVwLmNhbGwodCxyLGgsYSl8fHQuYWRkRXZlbnRMaXN0ZW5lciYmdC5hZGRFdmVudExpc3RlbmVyKGQsYSkpLGYuYWRkJiYoZi5hZGQuY2FsbCh0LGMpLGMuaGFuZGxlci5ndWlkfHwoYy5oYW5kbGVyLmd1aWQ9bi5ndWlkKSksaT9wLnNwbGljZShwLmRlbGVnYXRlQ291bnQrKywwLGMpOnAucHVzaChjKSxrLmV2ZW50Lmdsb2JhbFtkXT0hMCl9fSxyZW1vdmU6ZnVuY3Rpb24oZSx0LG4scixpKXt2YXIgbyxhLHMsdSxsLGMsZixwLGQsaCxnLHY9US5oYXNEYXRhKGUpJiZRLmdldChlKTtpZih2JiYodT12LmV2ZW50cykpe2w9KHQ9KHR8fCIiKS5tYXRjaChSKXx8WyIiXSkubGVuZ3RoO3doaWxlKGwtLSlpZihkPWc9KHM9RWUuZXhlYyh0W2xdKXx8W10pWzFdLGg9KHNbMl18fCIiKS5zcGxpdCgiLiIpLnNvcnQoKSxkKXtmPWsuZXZlbnQuc3BlY2lhbFtkXXx8e30scD11W2Q9KHI/Zi5kZWxlZ2F0ZVR5cGU6Zi5iaW5kVHlwZSl8fGRdfHxbXSxzPXNbMl0mJm5ldyBSZWdFeHAoIihefFxcLikiK2guam9pbigiXFwuKD86LipcXC58KSIpKyIoXFwufCQpIiksYT1vPXAubGVuZ3RoO3doaWxlKG8tLSljPXBbb10sIWkmJmchPT1jLm9yaWdUeXBlfHxuJiZuLmd1aWQhPT1jLmd1aWR8fHMmJiFzLnRlc3QoYy5uYW1lc3BhY2UpfHxyJiZyIT09Yy5zZWxlY3RvciYmKCIqKiIhPT1yfHwhYy5zZWxlY3Rvcil8fChwLnNwbGljZShvLDEpLGMuc2VsZWN0b3ImJnAuZGVsZWdhdGVDb3VudC0tLGYucmVtb3ZlJiZmLnJlbW92ZS5jYWxsKGUsYykpO2EmJiFwLmxlbmd0aCYmKGYudGVhcmRvd24mJiExIT09Zi50ZWFyZG93bi5jYWxsKGUsaCx2LmhhbmRsZSl8fGsucmVtb3ZlRXZlbnQoZSxkLHYuaGFuZGxlKSxkZWxldGUgdVtkXSl9ZWxzZSBmb3IoZCBpbiB1KWsuZXZlbnQucmVtb3ZlKGUsZCt0W2xdLG4sciwhMCk7ay5pc0VtcHR5T2JqZWN0KHUpJiZRLnJlbW92ZShlLCJoYW5kbGUgZXZlbnRzIil9fSxkaXNwYXRjaDpmdW5jdGlvbihlKXt2YXIgdCxuLHIsaSxvLGEscz1rLmV2ZW50LmZpeChlKSx1PW5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoKSxsPShRLmdldCh0aGlzLCJldmVudHMiKXx8e30pW3MudHlwZV18fFtdLGM9ay5ldmVudC5zcGVjaWFsW3MudHlwZV18fHt9O2Zvcih1WzBdPXMsdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0KyspdVt0XT1hcmd1bWVudHNbdF07aWYocy5kZWxlZ2F0ZVRhcmdldD10aGlzLCFjLnByZURpc3BhdGNofHwhMSE9PWMucHJlRGlzcGF0Y2guY2FsbCh0aGlzLHMpKXthPWsuZXZlbnQuaGFuZGxlcnMuY2FsbCh0aGlzLHMsbCksdD0wO3doaWxlKChpPWFbdCsrXSkmJiFzLmlzUHJvcGFnYXRpb25TdG9wcGVkKCkpe3MuY3VycmVudFRhcmdldD1pLmVsZW0sbj0wO3doaWxlKChvPWkuaGFuZGxlcnNbbisrXSkmJiFzLmlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkKCkpcy5ybmFtZXNwYWNlJiYhMSE9PW8ubmFtZXNwYWNlJiYhcy5ybmFtZXNwYWNlLnRlc3Qoby5uYW1lc3BhY2UpfHwocy5oYW5kbGVPYmo9byxzLmRhdGE9by5kYXRhLHZvaWQgMCE9PShyPSgoay5ldmVudC5zcGVjaWFsW28ub3JpZ1R5cGVdfHx7fSkuaGFuZGxlfHxvLmhhbmRsZXIpLmFwcGx5KGkuZWxlbSx1KSkmJiExPT09KHMucmVzdWx0PXIpJiYocy5wcmV2ZW50RGVmYXVsdCgpLHMuc3RvcFByb3BhZ2F0aW9uKCkpKX1yZXR1cm4gYy5wb3N0RGlzcGF0Y2gmJmMucG9zdERpc3BhdGNoLmNhbGwodGhpcyxzKSxzLnJlc3VsdH19LGhhbmRsZXJzOmZ1bmN0aW9uKGUsdCl7dmFyIG4scixpLG8sYSxzPVtdLHU9dC5kZWxlZ2F0ZUNvdW50LGw9ZS50YXJnZXQ7aWYodSYmbC5ub2RlVHlwZSYmISgiY2xpY2siPT09ZS50eXBlJiYxPD1lLmJ1dHRvbikpZm9yKDtsIT09dGhpcztsPWwucGFyZW50Tm9kZXx8dGhpcylpZigxPT09bC5ub2RlVHlwZSYmKCJjbGljayIhPT1lLnR5cGV8fCEwIT09bC5kaXNhYmxlZCkpe2ZvcihvPVtdLGE9e30sbj0wO248dTtuKyspdm9pZCAwPT09YVtpPShyPXRbbl0pLnNlbGVjdG9yKyIgIl0mJihhW2ldPXIubmVlZHNDb250ZXh0Py0xPGsoaSx0aGlzKS5pbmRleChsKTprLmZpbmQoaSx0aGlzLG51bGwsW2xdKS5sZW5ndGgpLGFbaV0mJm8ucHVzaChyKTtvLmxlbmd0aCYmcy5wdXNoKHtlbGVtOmwsaGFuZGxlcnM6b30pfXJldHVybiBsPXRoaXMsdTx0Lmxlbmd0aCYmcy5wdXNoKHtlbGVtOmwsaGFuZGxlcnM6dC5zbGljZSh1KX0pLHN9LGFkZFByb3A6ZnVuY3Rpb24odCxlKXtPYmplY3QuZGVmaW5lUHJvcGVydHkoay5FdmVudC5wcm90b3R5cGUsdCx7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsZ2V0Om0oZSk/ZnVuY3Rpb24oKXtpZih0aGlzLm9yaWdpbmFsRXZlbnQpcmV0dXJuIGUodGhpcy5vcmlnaW5hbEV2ZW50KX06ZnVuY3Rpb24oKXtpZih0aGlzLm9yaWdpbmFsRXZlbnQpcmV0dXJuIHRoaXMub3JpZ2luYWxFdmVudFt0XX0sc2V0OmZ1bmN0aW9uKGUpe09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLHQse2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOmV9KX19KX0sZml4OmZ1bmN0aW9uKGUpe3JldHVybiBlW2suZXhwYW5kb10/ZTpuZXcgay5FdmVudChlKX0sc3BlY2lhbDp7bG9hZDp7bm9CdWJibGU6ITB9LGNsaWNrOntzZXR1cDpmdW5jdGlvbihlKXt2YXIgdD10aGlzfHxlO3JldHVybiBwZS50ZXN0KHQudHlwZSkmJnQuY2xpY2smJkEodCwiaW5wdXQiKSYmRGUodCwiY2xpY2siLGtlKSwhMX0sdHJpZ2dlcjpmdW5jdGlvbihlKXt2YXIgdD10aGlzfHxlO3JldHVybiBwZS50ZXN0KHQudHlwZSkmJnQuY2xpY2smJkEodCwiaW5wdXQiKSYmRGUodCwiY2xpY2siKSwhMH0sX2RlZmF1bHQ6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS50YXJnZXQ7cmV0dXJuIHBlLnRlc3QodC50eXBlKSYmdC5jbGljayYmQSh0LCJpbnB1dCIpJiZRLmdldCh0LCJjbGljayIpfHxBKHQsImEiKX19LGJlZm9yZXVubG9hZDp7cG9zdERpc3BhdGNoOmZ1bmN0aW9uKGUpe3ZvaWQgMCE9PWUucmVzdWx0JiZlLm9yaWdpbmFsRXZlbnQmJihlLm9yaWdpbmFsRXZlbnQucmV0dXJuVmFsdWU9ZS5yZXN1bHQpfX19fSxrLnJlbW92ZUV2ZW50PWZ1bmN0aW9uKGUsdCxuKXtlLnJlbW92ZUV2ZW50TGlzdGVuZXImJmUucmVtb3ZlRXZlbnRMaXN0ZW5lcih0LG4pfSxrLkV2ZW50PWZ1bmN0aW9uKGUsdCl7aWYoISh0aGlzIGluc3RhbmNlb2Ygay5FdmVudCkpcmV0dXJuIG5ldyBrLkV2ZW50KGUsdCk7ZSYmZS50eXBlPyh0aGlzLm9yaWdpbmFsRXZlbnQ9ZSx0aGlzLnR5cGU9ZS50eXBlLHRoaXMuaXNEZWZhdWx0UHJldmVudGVkPWUuZGVmYXVsdFByZXZlbnRlZHx8dm9pZCAwPT09ZS5kZWZhdWx0UHJldmVudGVkJiYhMT09PWUucmV0dXJuVmFsdWU/a2U6U2UsdGhpcy50YXJnZXQ9ZS50YXJnZXQmJjM9PT1lLnRhcmdldC5ub2RlVHlwZT9lLnRhcmdldC5wYXJlbnROb2RlOmUudGFyZ2V0LHRoaXMuY3VycmVudFRhcmdldD1lLmN1cnJlbnRUYXJnZXQsdGhpcy5yZWxhdGVkVGFyZ2V0PWUucmVsYXRlZFRhcmdldCk6dGhpcy50eXBlPWUsdCYmay5leHRlbmQodGhpcyx0KSx0aGlzLnRpbWVTdGFtcD1lJiZlLnRpbWVTdGFtcHx8RGF0ZS5ub3coKSx0aGlzW2suZXhwYW5kb109ITB9LGsuRXZlbnQucHJvdG90eXBlPXtjb25zdHJ1Y3RvcjprLkV2ZW50LGlzRGVmYXVsdFByZXZlbnRlZDpTZSxpc1Byb3BhZ2F0aW9uU3RvcHBlZDpTZSxpc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZDpTZSxpc1NpbXVsYXRlZDohMSxwcmV2ZW50RGVmYXVsdDpmdW5jdGlvbigpe3ZhciBlPXRoaXMub3JpZ2luYWxFdmVudDt0aGlzLmlzRGVmYXVsdFByZXZlbnRlZD1rZSxlJiYhdGhpcy5pc1NpbXVsYXRlZCYmZS5wcmV2ZW50RGVmYXVsdCgpfSxzdG9wUHJvcGFnYXRpb246ZnVuY3Rpb24oKXt2YXIgZT10aGlzLm9yaWdpbmFsRXZlbnQ7dGhpcy5pc1Byb3BhZ2F0aW9uU3RvcHBlZD1rZSxlJiYhdGhpcy5pc1NpbXVsYXRlZCYmZS5zdG9wUHJvcGFnYXRpb24oKX0sc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5vcmlnaW5hbEV2ZW50O3RoaXMuaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQ9a2UsZSYmIXRoaXMuaXNTaW11bGF0ZWQmJmUuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCksdGhpcy5zdG9wUHJvcGFnYXRpb24oKX19LGsuZWFjaCh7YWx0S2V5OiEwLGJ1YmJsZXM6ITAsY2FuY2VsYWJsZTohMCxjaGFuZ2VkVG91Y2hlczohMCxjdHJsS2V5OiEwLGRldGFpbDohMCxldmVudFBoYXNlOiEwLG1ldGFLZXk6ITAscGFnZVg6ITAscGFnZVk6ITAsc2hpZnRLZXk6ITAsdmlldzohMCwiY2hhciI6ITAsY29kZTohMCxjaGFyQ29kZTohMCxrZXk6ITAsa2V5Q29kZTohMCxidXR0b246ITAsYnV0dG9uczohMCxjbGllbnRYOiEwLGNsaWVudFk6ITAsb2Zmc2V0WDohMCxvZmZzZXRZOiEwLHBvaW50ZXJJZDohMCxwb2ludGVyVHlwZTohMCxzY3JlZW5YOiEwLHNjcmVlblk6ITAsdGFyZ2V0VG91Y2hlczohMCx0b0VsZW1lbnQ6ITAsdG91Y2hlczohMCx3aGljaDpmdW5jdGlvbihlKXt2YXIgdD1lLmJ1dHRvbjtyZXR1cm4gbnVsbD09ZS53aGljaCYmVGUudGVzdChlLnR5cGUpP251bGwhPWUuY2hhckNvZGU/ZS5jaGFyQ29kZTplLmtleUNvZGU6IWUud2hpY2gmJnZvaWQgMCE9PXQmJkNlLnRlc3QoZS50eXBlKT8xJnQ/MToyJnQ/Mzo0JnQ/MjowOmUud2hpY2h9fSxrLmV2ZW50LmFkZFByb3ApLGsuZWFjaCh7Zm9jdXM6ImZvY3VzaW4iLGJsdXI6ImZvY3Vzb3V0In0sZnVuY3Rpb24oZSx0KXtrLmV2ZW50LnNwZWNpYWxbZV09e3NldHVwOmZ1bmN0aW9uKCl7cmV0dXJuIERlKHRoaXMsZSxOZSksITF9LHRyaWdnZXI6ZnVuY3Rpb24oKXtyZXR1cm4gRGUodGhpcyxlKSwhMH0sZGVsZWdhdGVUeXBlOnR9fSksay5lYWNoKHttb3VzZWVudGVyOiJtb3VzZW92ZXIiLG1vdXNlbGVhdmU6Im1vdXNlb3V0Iixwb2ludGVyZW50ZXI6InBvaW50ZXJvdmVyIixwb2ludGVybGVhdmU6InBvaW50ZXJvdXQifSxmdW5jdGlvbihlLGkpe2suZXZlbnQuc3BlY2lhbFtlXT17ZGVsZWdhdGVUeXBlOmksYmluZFR5cGU6aSxoYW5kbGU6ZnVuY3Rpb24oZSl7dmFyIHQsbj1lLnJlbGF0ZWRUYXJnZXQscj1lLmhhbmRsZU9iajtyZXR1cm4gbiYmKG49PT10aGlzfHxrLmNvbnRhaW5zKHRoaXMsbikpfHwoZS50eXBlPXIub3JpZ1R5cGUsdD1yLmhhbmRsZXIuYXBwbHkodGhpcyxhcmd1bWVudHMpLGUudHlwZT1pKSx0fX19KSxrLmZuLmV4dGVuZCh7b246ZnVuY3Rpb24oZSx0LG4scil7cmV0dXJuIEFlKHRoaXMsZSx0LG4scil9LG9uZTpmdW5jdGlvbihlLHQsbixyKXtyZXR1cm4gQWUodGhpcyxlLHQsbixyLDEpfSxvZmY6ZnVuY3Rpb24oZSx0LG4pe3ZhciByLGk7aWYoZSYmZS5wcmV2ZW50RGVmYXVsdCYmZS5oYW5kbGVPYmopcmV0dXJuIHI9ZS5oYW5kbGVPYmosayhlLmRlbGVnYXRlVGFyZ2V0KS5vZmYoci5uYW1lc3BhY2U/ci5vcmlnVHlwZSsiLiIrci5uYW1lc3BhY2U6ci5vcmlnVHlwZSxyLnNlbGVjdG9yLHIuaGFuZGxlciksdGhpcztpZigib2JqZWN0Ij09dHlwZW9mIGUpe2ZvcihpIGluIGUpdGhpcy5vZmYoaSx0LGVbaV0pO3JldHVybiB0aGlzfXJldHVybiExIT09dCYmImZ1bmN0aW9uIiE9dHlwZW9mIHR8fChuPXQsdD12b2lkIDApLCExPT09biYmKG49U2UpLHRoaXMuZWFjaChmdW5jdGlvbigpe2suZXZlbnQucmVtb3ZlKHRoaXMsZSxuLHQpfSl9fSk7dmFyIGplPS88KD8hYXJlYXxicnxjb2x8ZW1iZWR8aHJ8aW1nfGlucHV0fGxpbmt8bWV0YXxwYXJhbSkoKFthLXpdW15cL1wwPlx4MjBcdFxyXG5cZl0qKVtePl0qKVwvPi9naSxxZT0vPHNjcmlwdHw8c3R5bGV8PGxpbmsvaSxMZT0vY2hlY2tlZFxzKig/OltePV18PVxzKi5jaGVja2VkLikvaSxIZT0vXlxzKjwhKD86XFtDREFUQVxbfC0tKXwoPzpcXVxdfC0tKT5ccyokL2c7ZnVuY3Rpb24gT2UoZSx0KXtyZXR1cm4gQShlLCJ0YWJsZSIpJiZBKDExIT09dC5ub2RlVHlwZT90OnQuZmlyc3RDaGlsZCwidHIiKSYmayhlKS5jaGlsZHJlbigidGJvZHkiKVswXXx8ZX1mdW5jdGlvbiBQZShlKXtyZXR1cm4gZS50eXBlPShudWxsIT09ZS5nZXRBdHRyaWJ1dGUoInR5cGUiKSkrIi8iK2UudHlwZSxlfWZ1bmN0aW9uIFJlKGUpe3JldHVybiJ0cnVlLyI9PT0oZS50eXBlfHwiIikuc2xpY2UoMCw1KT9lLnR5cGU9ZS50eXBlLnNsaWNlKDUpOmUucmVtb3ZlQXR0cmlidXRlKCJ0eXBlIiksZX1mdW5jdGlvbiBNZShlLHQpe3ZhciBuLHIsaSxvLGEscyx1LGw7aWYoMT09PXQubm9kZVR5cGUpe2lmKFEuaGFzRGF0YShlKSYmKG89US5hY2Nlc3MoZSksYT1RLnNldCh0LG8pLGw9by5ldmVudHMpKWZvcihpIGluIGRlbGV0ZSBhLmhhbmRsZSxhLmV2ZW50cz17fSxsKWZvcihuPTAscj1sW2ldLmxlbmd0aDtuPHI7bisrKWsuZXZlbnQuYWRkKHQsaSxsW2ldW25dKTtKLmhhc0RhdGEoZSkmJihzPUouYWNjZXNzKGUpLHU9ay5leHRlbmQoe30scyksSi5zZXQodCx1KSl9fWZ1bmN0aW9uIEllKG4scixpLG8pe3I9Zy5hcHBseShbXSxyKTt2YXIgZSx0LGEscyx1LGwsYz0wLGY9bi5sZW5ndGgscD1mLTEsZD1yWzBdLGg9bShkKTtpZihofHwxPGYmJiJzdHJpbmciPT10eXBlb2YgZCYmIXkuY2hlY2tDbG9uZSYmTGUudGVzdChkKSlyZXR1cm4gbi5lYWNoKGZ1bmN0aW9uKGUpe3ZhciB0PW4uZXEoZSk7aCYmKHJbMF09ZC5jYWxsKHRoaXMsZSx0Lmh0bWwoKSkpLEllKHQscixpLG8pfSk7aWYoZiYmKHQ9KGU9d2UocixuWzBdLm93bmVyRG9jdW1lbnQsITEsbixvKSkuZmlyc3RDaGlsZCwxPT09ZS5jaGlsZE5vZGVzLmxlbmd0aCYmKGU9dCksdHx8bykpe2ZvcihzPShhPWsubWFwKHZlKGUsInNjcmlwdCIpLFBlKSkubGVuZ3RoO2M8ZjtjKyspdT1lLGMhPT1wJiYodT1rLmNsb25lKHUsITAsITApLHMmJmsubWVyZ2UoYSx2ZSh1LCJzY3JpcHQiKSkpLGkuY2FsbChuW2NdLHUsYyk7aWYocylmb3IobD1hW2EubGVuZ3RoLTFdLm93bmVyRG9jdW1lbnQsay5tYXAoYSxSZSksYz0wO2M8cztjKyspdT1hW2NdLGhlLnRlc3QodS50eXBlfHwiIikmJiFRLmFjY2Vzcyh1LCJnbG9iYWxFdmFsIikmJmsuY29udGFpbnMobCx1KSYmKHUuc3JjJiYibW9kdWxlIiE9PSh1LnR5cGV8fCIiKS50b0xvd2VyQ2FzZSgpP2suX2V2YWxVcmwmJiF1Lm5vTW9kdWxlJiZrLl9ldmFsVXJsKHUuc3JjLHtub25jZTp1Lm5vbmNlfHx1LmdldEF0dHJpYnV0ZSgibm9uY2UiKX0pOmIodS50ZXh0Q29udGVudC5yZXBsYWNlKEhlLCIiKSx1LGwpKX1yZXR1cm4gbn1mdW5jdGlvbiBXZShlLHQsbil7Zm9yKHZhciByLGk9dD9rLmZpbHRlcih0LGUpOmUsbz0wO251bGwhPShyPWlbb10pO28rKylufHwxIT09ci5ub2RlVHlwZXx8ay5jbGVhbkRhdGEodmUocikpLHIucGFyZW50Tm9kZSYmKG4mJm9lKHIpJiZ5ZSh2ZShyLCJzY3JpcHQiKSksci5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHIpKTtyZXR1cm4gZX1rLmV4dGVuZCh7aHRtbFByZWZpbHRlcjpmdW5jdGlvbihlKXtyZXR1cm4gZS5yZXBsYWNlKGplLCI8JDE+PC8kMj4iKX0sY2xvbmU6ZnVuY3Rpb24oZSx0LG4pe3ZhciByLGksbyxhLHMsdSxsLGM9ZS5jbG9uZU5vZGUoITApLGY9b2UoZSk7aWYoISh5Lm5vQ2xvbmVDaGVja2VkfHwxIT09ZS5ub2RlVHlwZSYmMTEhPT1lLm5vZGVUeXBlfHxrLmlzWE1MRG9jKGUpKSlmb3IoYT12ZShjKSxyPTAsaT0obz12ZShlKSkubGVuZ3RoO3I8aTtyKyspcz1vW3JdLHU9YVtyXSx2b2lkIDAsImlucHV0Ij09PShsPXUubm9kZU5hbWUudG9Mb3dlckNhc2UoKSkmJnBlLnRlc3Qocy50eXBlKT91LmNoZWNrZWQ9cy5jaGVja2VkOiJpbnB1dCIhPT1sJiYidGV4dGFyZWEiIT09bHx8KHUuZGVmYXVsdFZhbHVlPXMuZGVmYXVsdFZhbHVlKTtpZih0KWlmKG4pZm9yKG89b3x8dmUoZSksYT1hfHx2ZShjKSxyPTAsaT1vLmxlbmd0aDtyPGk7cisrKU1lKG9bcl0sYVtyXSk7ZWxzZSBNZShlLGMpO3JldHVybiAwPChhPXZlKGMsInNjcmlwdCIpKS5sZW5ndGgmJnllKGEsIWYmJnZlKGUsInNjcmlwdCIpKSxjfSxjbGVhbkRhdGE6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0LG4scixpPWsuZXZlbnQuc3BlY2lhbCxvPTA7dm9pZCAwIT09KG49ZVtvXSk7bysrKWlmKEcobikpe2lmKHQ9bltRLmV4cGFuZG9dKXtpZih0LmV2ZW50cylmb3IociBpbiB0LmV2ZW50cylpW3JdP2suZXZlbnQucmVtb3ZlKG4scik6ay5yZW1vdmVFdmVudChuLHIsdC5oYW5kbGUpO25bUS5leHBhbmRvXT12b2lkIDB9bltKLmV4cGFuZG9dJiYobltKLmV4cGFuZG9dPXZvaWQgMCl9fX0pLGsuZm4uZXh0ZW5kKHtkZXRhY2g6ZnVuY3Rpb24oZSl7cmV0dXJuIFdlKHRoaXMsZSwhMCl9LHJlbW92ZTpmdW5jdGlvbihlKXtyZXR1cm4gV2UodGhpcyxlKX0sdGV4dDpmdW5jdGlvbihlKXtyZXR1cm4gXyh0aGlzLGZ1bmN0aW9uKGUpe3JldHVybiB2b2lkIDA9PT1lP2sudGV4dCh0aGlzKTp0aGlzLmVtcHR5KCkuZWFjaChmdW5jdGlvbigpezEhPT10aGlzLm5vZGVUeXBlJiYxMSE9PXRoaXMubm9kZVR5cGUmJjkhPT10aGlzLm5vZGVUeXBlfHwodGhpcy50ZXh0Q29udGVudD1lKX0pfSxudWxsLGUsYXJndW1lbnRzLmxlbmd0aCl9LGFwcGVuZDpmdW5jdGlvbigpe3JldHVybiBJZSh0aGlzLGFyZ3VtZW50cyxmdW5jdGlvbihlKXsxIT09dGhpcy5ub2RlVHlwZSYmMTEhPT10aGlzLm5vZGVUeXBlJiY5IT09dGhpcy5ub2RlVHlwZXx8T2UodGhpcyxlKS5hcHBlbmRDaGlsZChlKX0pfSxwcmVwZW5kOmZ1bmN0aW9uKCl7cmV0dXJuIEllKHRoaXMsYXJndW1lbnRzLGZ1bmN0aW9uKGUpe2lmKDE9PT10aGlzLm5vZGVUeXBlfHwxMT09PXRoaXMubm9kZVR5cGV8fDk9PT10aGlzLm5vZGVUeXBlKXt2YXIgdD1PZSh0aGlzLGUpO3QuaW5zZXJ0QmVmb3JlKGUsdC5maXJzdENoaWxkKX19KX0sYmVmb3JlOmZ1bmN0aW9uKCl7cmV0dXJuIEllKHRoaXMsYXJndW1lbnRzLGZ1bmN0aW9uKGUpe3RoaXMucGFyZW50Tm9kZSYmdGhpcy5wYXJlbnROb2RlLmluc2VydEJlZm9yZShlLHRoaXMpfSl9LGFmdGVyOmZ1bmN0aW9uKCl7cmV0dXJuIEllKHRoaXMsYXJndW1lbnRzLGZ1bmN0aW9uKGUpe3RoaXMucGFyZW50Tm9kZSYmdGhpcy5wYXJlbnROb2RlLmluc2VydEJlZm9yZShlLHRoaXMubmV4dFNpYmxpbmcpfSl9LGVtcHR5OmZ1bmN0aW9uKCl7Zm9yKHZhciBlLHQ9MDtudWxsIT0oZT10aGlzW3RdKTt0KyspMT09PWUubm9kZVR5cGUmJihrLmNsZWFuRGF0YSh2ZShlLCExKSksZS50ZXh0Q29udGVudD0iIik7cmV0dXJuIHRoaXN9LGNsb25lOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIGU9bnVsbCE9ZSYmZSx0PW51bGw9PXQ/ZTp0LHRoaXMubWFwKGZ1bmN0aW9uKCl7cmV0dXJuIGsuY2xvbmUodGhpcyxlLHQpfSl9LGh0bWw6ZnVuY3Rpb24oZSl7cmV0dXJuIF8odGhpcyxmdW5jdGlvbihlKXt2YXIgdD10aGlzWzBdfHx7fSxuPTAscj10aGlzLmxlbmd0aDtpZih2b2lkIDA9PT1lJiYxPT09dC5ub2RlVHlwZSlyZXR1cm4gdC5pbm5lckhUTUw7aWYoInN0cmluZyI9PXR5cGVvZiBlJiYhcWUudGVzdChlKSYmIWdlWyhkZS5leGVjKGUpfHxbIiIsIiJdKVsxXS50b0xvd2VyQ2FzZSgpXSl7ZT1rLmh0bWxQcmVmaWx0ZXIoZSk7dHJ5e2Zvcig7bjxyO24rKykxPT09KHQ9dGhpc1tuXXx8e30pLm5vZGVUeXBlJiYoay5jbGVhbkRhdGEodmUodCwhMSkpLHQuaW5uZXJIVE1MPWUpO3Q9MH1jYXRjaChlKXt9fXQmJnRoaXMuZW1wdHkoKS5hcHBlbmQoZSl9LG51bGwsZSxhcmd1bWVudHMubGVuZ3RoKX0scmVwbGFjZVdpdGg6ZnVuY3Rpb24oKXt2YXIgbj1bXTtyZXR1cm4gSWUodGhpcyxhcmd1bWVudHMsZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5wYXJlbnROb2RlO2suaW5BcnJheSh0aGlzLG4pPDAmJihrLmNsZWFuRGF0YSh2ZSh0aGlzKSksdCYmdC5yZXBsYWNlQ2hpbGQoZSx0aGlzKSl9LG4pfX0pLGsuZWFjaCh7YXBwZW5kVG86ImFwcGVuZCIscHJlcGVuZFRvOiJwcmVwZW5kIixpbnNlcnRCZWZvcmU6ImJlZm9yZSIsaW5zZXJ0QWZ0ZXI6ImFmdGVyIixyZXBsYWNlQWxsOiJyZXBsYWNlV2l0aCJ9LGZ1bmN0aW9uKGUsYSl7ay5mbltlXT1mdW5jdGlvbihlKXtmb3IodmFyIHQsbj1bXSxyPWsoZSksaT1yLmxlbmd0aC0xLG89MDtvPD1pO28rKyl0PW89PT1pP3RoaXM6dGhpcy5jbG9uZSghMCksayhyW29dKVthXSh0KSx1LmFwcGx5KG4sdC5nZXQoKSk7cmV0dXJuIHRoaXMucHVzaFN0YWNrKG4pfX0pO3ZhciAkZT1uZXcgUmVnRXhwKCJeKCIrdGUrIikoPyFweClbYS16JV0rJCIsImkiKSxGZT1mdW5jdGlvbihlKXt2YXIgdD1lLm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXc7cmV0dXJuIHQmJnQub3BlbmVyfHwodD1DKSx0LmdldENvbXB1dGVkU3R5bGUoZSl9LEJlPW5ldyBSZWdFeHAocmUuam9pbigifCIpLCJpIik7ZnVuY3Rpb24gX2UoZSx0LG4pe3ZhciByLGksbyxhLHM9ZS5zdHlsZTtyZXR1cm4obj1ufHxGZShlKSkmJigiIiE9PShhPW4uZ2V0UHJvcGVydHlWYWx1ZSh0KXx8blt0XSl8fG9lKGUpfHwoYT1rLnN0eWxlKGUsdCkpLCF5LnBpeGVsQm94U3R5bGVzKCkmJiRlLnRlc3QoYSkmJkJlLnRlc3QodCkmJihyPXMud2lkdGgsaT1zLm1pbldpZHRoLG89cy5tYXhXaWR0aCxzLm1pbldpZHRoPXMubWF4V2lkdGg9cy53aWR0aD1hLGE9bi53aWR0aCxzLndpZHRoPXIscy5taW5XaWR0aD1pLHMubWF4V2lkdGg9bykpLHZvaWQgMCE9PWE/YSsiIjphfWZ1bmN0aW9uIHplKGUsdCl7cmV0dXJue2dldDpmdW5jdGlvbigpe2lmKCFlKCkpcmV0dXJuKHRoaXMuZ2V0PXQpLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtkZWxldGUgdGhpcy5nZXR9fX0hZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7aWYodSl7cy5zdHlsZS5jc3NUZXh0PSJwb3NpdGlvbjphYnNvbHV0ZTtsZWZ0Oi0xMTExMXB4O3dpZHRoOjYwcHg7bWFyZ2luLXRvcDoxcHg7cGFkZGluZzowO2JvcmRlcjowIix1LnN0eWxlLmNzc1RleHQ9InBvc2l0aW9uOnJlbGF0aXZlO2Rpc3BsYXk6YmxvY2s7Ym94LXNpemluZzpib3JkZXItYm94O292ZXJmbG93OnNjcm9sbDttYXJnaW46YXV0bztib3JkZXI6MXB4O3BhZGRpbmc6MXB4O3dpZHRoOjYwJTt0b3A6MSUiLGllLmFwcGVuZENoaWxkKHMpLmFwcGVuZENoaWxkKHUpO3ZhciBlPUMuZ2V0Q29tcHV0ZWRTdHlsZSh1KTtuPSIxJSIhPT1lLnRvcCxhPTEyPT09dChlLm1hcmdpbkxlZnQpLHUuc3R5bGUucmlnaHQ9IjYwJSIsbz0zNj09PXQoZS5yaWdodCkscj0zNj09PXQoZS53aWR0aCksdS5zdHlsZS5wb3NpdGlvbj0iYWJzb2x1dGUiLGk9MTI9PT10KHUub2Zmc2V0V2lkdGgvMyksaWUucmVtb3ZlQ2hpbGQocyksdT1udWxsfX1mdW5jdGlvbiB0KGUpe3JldHVybiBNYXRoLnJvdW5kKHBhcnNlRmxvYXQoZSkpfXZhciBuLHIsaSxvLGEscz1FLmNyZWF0ZUVsZW1lbnQoImRpdiIpLHU9RS5jcmVhdGVFbGVtZW50KCJkaXYiKTt1LnN0eWxlJiYodS5zdHlsZS5iYWNrZ3JvdW5kQ2xpcD0iY29udGVudC1ib3giLHUuY2xvbmVOb2RlKCEwKS5zdHlsZS5iYWNrZ3JvdW5kQ2xpcD0iIix5LmNsZWFyQ2xvbmVTdHlsZT0iY29udGVudC1ib3giPT09dS5zdHlsZS5iYWNrZ3JvdW5kQ2xpcCxrLmV4dGVuZCh5LHtib3hTaXppbmdSZWxpYWJsZTpmdW5jdGlvbigpe3JldHVybiBlKCkscn0scGl4ZWxCb3hTdHlsZXM6ZnVuY3Rpb24oKXtyZXR1cm4gZSgpLG99LHBpeGVsUG9zaXRpb246ZnVuY3Rpb24oKXtyZXR1cm4gZSgpLG59LHJlbGlhYmxlTWFyZ2luTGVmdDpmdW5jdGlvbigpe3JldHVybiBlKCksYX0sc2Nyb2xsYm94U2l6ZTpmdW5jdGlvbigpe3JldHVybiBlKCksaX19KSl9KCk7dmFyIFVlPVsiV2Via2l0IiwiTW96IiwibXMiXSxYZT1FLmNyZWF0ZUVsZW1lbnQoImRpdiIpLnN0eWxlLFZlPXt9O2Z1bmN0aW9uIEdlKGUpe3ZhciB0PWsuY3NzUHJvcHNbZV18fFZlW2VdO3JldHVybiB0fHwoZSBpbiBYZT9lOlZlW2VdPWZ1bmN0aW9uKGUpe3ZhciB0PWVbMF0udG9VcHBlckNhc2UoKStlLnNsaWNlKDEpLG49VWUubGVuZ3RoO3doaWxlKG4tLSlpZigoZT1VZVtuXSt0KWluIFhlKXJldHVybiBlfShlKXx8ZSl9dmFyIFllPS9eKG5vbmV8dGFibGUoPyEtY1tlYV0pLispLyxRZT0vXi0tLyxKZT17cG9zaXRpb246ImFic29sdXRlIix2aXNpYmlsaXR5OiJoaWRkZW4iLGRpc3BsYXk6ImJsb2NrIn0sS2U9e2xldHRlclNwYWNpbmc6IjAiLGZvbnRXZWlnaHQ6IjQwMCJ9O2Z1bmN0aW9uIFplKGUsdCxuKXt2YXIgcj1uZS5leGVjKHQpO3JldHVybiByP01hdGgubWF4KDAsclsyXS0obnx8MCkpKyhyWzNdfHwicHgiKTp0fWZ1bmN0aW9uIGV0KGUsdCxuLHIsaSxvKXt2YXIgYT0id2lkdGgiPT09dD8xOjAscz0wLHU9MDtpZihuPT09KHI/ImJvcmRlciI6ImNvbnRlbnQiKSlyZXR1cm4gMDtmb3IoO2E8NDthKz0yKSJtYXJnaW4iPT09biYmKHUrPWsuY3NzKGUsbityZVthXSwhMCxpKSkscj8oImNvbnRlbnQiPT09biYmKHUtPWsuY3NzKGUsInBhZGRpbmciK3JlW2FdLCEwLGkpKSwibWFyZ2luIiE9PW4mJih1LT1rLmNzcyhlLCJib3JkZXIiK3JlW2FdKyJXaWR0aCIsITAsaSkpKToodSs9ay5jc3MoZSwicGFkZGluZyIrcmVbYV0sITAsaSksInBhZGRpbmciIT09bj91Kz1rLmNzcyhlLCJib3JkZXIiK3JlW2FdKyJXaWR0aCIsITAsaSk6cys9ay5jc3MoZSwiYm9yZGVyIityZVthXSsiV2lkdGgiLCEwLGkpKTtyZXR1cm4hciYmMDw9byYmKHUrPU1hdGgubWF4KDAsTWF0aC5jZWlsKGVbIm9mZnNldCIrdFswXS50b1VwcGVyQ2FzZSgpK3Quc2xpY2UoMSldLW8tdS1zLS41KSl8fDApLHV9ZnVuY3Rpb24gdHQoZSx0LG4pe3ZhciByPUZlKGUpLGk9KCF5LmJveFNpemluZ1JlbGlhYmxlKCl8fG4pJiYiYm9yZGVyLWJveCI9PT1rLmNzcyhlLCJib3hTaXppbmciLCExLHIpLG89aSxhPV9lKGUsdCxyKSxzPSJvZmZzZXQiK3RbMF0udG9VcHBlckNhc2UoKSt0LnNsaWNlKDEpO2lmKCRlLnRlc3QoYSkpe2lmKCFuKXJldHVybiBhO2E9ImF1dG8ifXJldHVybigheS5ib3hTaXppbmdSZWxpYWJsZSgpJiZpfHwiYXV0byI9PT1hfHwhcGFyc2VGbG9hdChhKSYmImlubGluZSI9PT1rLmNzcyhlLCJkaXNwbGF5IiwhMSxyKSkmJmUuZ2V0Q2xpZW50UmVjdHMoKS5sZW5ndGgmJihpPSJib3JkZXItYm94Ij09PWsuY3NzKGUsImJveFNpemluZyIsITEsciksKG89cyBpbiBlKSYmKGE9ZVtzXSkpLChhPXBhcnNlRmxvYXQoYSl8fDApK2V0KGUsdCxufHwoaT8iYm9yZGVyIjoiY29udGVudCIpLG8scixhKSsicHgifWZ1bmN0aW9uIG50KGUsdCxuLHIsaSl7cmV0dXJuIG5ldyBudC5wcm90b3R5cGUuaW5pdChlLHQsbixyLGkpfWsuZXh0ZW5kKHtjc3NIb29rczp7b3BhY2l0eTp7Z2V0OmZ1bmN0aW9uKGUsdCl7aWYodCl7dmFyIG49X2UoZSwib3BhY2l0eSIpO3JldHVybiIiPT09bj8iMSI6bn19fX0sY3NzTnVtYmVyOnthbmltYXRpb25JdGVyYXRpb25Db3VudDohMCxjb2x1bW5Db3VudDohMCxmaWxsT3BhY2l0eTohMCxmbGV4R3JvdzohMCxmbGV4U2hyaW5rOiEwLGZvbnRXZWlnaHQ6ITAsZ3JpZEFyZWE6ITAsZ3JpZENvbHVtbjohMCxncmlkQ29sdW1uRW5kOiEwLGdyaWRDb2x1bW5TdGFydDohMCxncmlkUm93OiEwLGdyaWRSb3dFbmQ6ITAsZ3JpZFJvd1N0YXJ0OiEwLGxpbmVIZWlnaHQ6ITAsb3BhY2l0eTohMCxvcmRlcjohMCxvcnBoYW5zOiEwLHdpZG93czohMCx6SW5kZXg6ITAsem9vbTohMH0sY3NzUHJvcHM6e30sc3R5bGU6ZnVuY3Rpb24oZSx0LG4scil7aWYoZSYmMyE9PWUubm9kZVR5cGUmJjghPT1lLm5vZGVUeXBlJiZlLnN0eWxlKXt2YXIgaSxvLGEscz1WKHQpLHU9UWUudGVzdCh0KSxsPWUuc3R5bGU7aWYodXx8KHQ9R2UocykpLGE9ay5jc3NIb29rc1t0XXx8ay5jc3NIb29rc1tzXSx2b2lkIDA9PT1uKXJldHVybiBhJiYiZ2V0ImluIGEmJnZvaWQgMCE9PShpPWEuZ2V0KGUsITEscikpP2k6bFt0XTsic3RyaW5nIj09PShvPXR5cGVvZiBuKSYmKGk9bmUuZXhlYyhuKSkmJmlbMV0mJihuPWxlKGUsdCxpKSxvPSJudW1iZXIiKSxudWxsIT1uJiZuPT1uJiYoIm51bWJlciIhPT1vfHx1fHwobis9aSYmaVszXXx8KGsuY3NzTnVtYmVyW3NdPyIiOiJweCIpKSx5LmNsZWFyQ2xvbmVTdHlsZXx8IiIhPT1ufHwwIT09dC5pbmRleE9mKCJiYWNrZ3JvdW5kIil8fChsW3RdPSJpbmhlcml0IiksYSYmInNldCJpbiBhJiZ2b2lkIDA9PT0obj1hLnNldChlLG4scikpfHwodT9sLnNldFByb3BlcnR5KHQsbik6bFt0XT1uKSl9fSxjc3M6ZnVuY3Rpb24oZSx0LG4scil7dmFyIGksbyxhLHM9Vih0KTtyZXR1cm4gUWUudGVzdCh0KXx8KHQ9R2UocykpLChhPWsuY3NzSG9va3NbdF18fGsuY3NzSG9va3Nbc10pJiYiZ2V0ImluIGEmJihpPWEuZ2V0KGUsITAsbikpLHZvaWQgMD09PWkmJihpPV9lKGUsdCxyKSksIm5vcm1hbCI9PT1pJiZ0IGluIEtlJiYoaT1LZVt0XSksIiI9PT1ufHxuPyhvPXBhcnNlRmxvYXQoaSksITA9PT1ufHxpc0Zpbml0ZShvKT9vfHwwOmkpOml9fSksay5lYWNoKFsiaGVpZ2h0Iiwid2lkdGgiXSxmdW5jdGlvbihlLHUpe2suY3NzSG9va3NbdV09e2dldDpmdW5jdGlvbihlLHQsbil7aWYodClyZXR1cm4hWWUudGVzdChrLmNzcyhlLCJkaXNwbGF5IikpfHxlLmdldENsaWVudFJlY3RzKCkubGVuZ3RoJiZlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoP3R0KGUsdSxuKTp1ZShlLEplLGZ1bmN0aW9uKCl7cmV0dXJuIHR0KGUsdSxuKX0pfSxzZXQ6ZnVuY3Rpb24oZSx0LG4pe3ZhciByLGk9RmUoZSksbz0heS5zY3JvbGxib3hTaXplKCkmJiJhYnNvbHV0ZSI9PT1pLnBvc2l0aW9uLGE9KG98fG4pJiYiYm9yZGVyLWJveCI9PT1rLmNzcyhlLCJib3hTaXppbmciLCExLGkpLHM9bj9ldChlLHUsbixhLGkpOjA7cmV0dXJuIGEmJm8mJihzLT1NYXRoLmNlaWwoZVsib2Zmc2V0Iit1WzBdLnRvVXBwZXJDYXNlKCkrdS5zbGljZSgxKV0tcGFyc2VGbG9hdChpW3VdKS1ldChlLHUsImJvcmRlciIsITEsaSktLjUpKSxzJiYocj1uZS5leGVjKHQpKSYmInB4IiE9PShyWzNdfHwicHgiKSYmKGUuc3R5bGVbdV09dCx0PWsuY3NzKGUsdSkpLFplKDAsdCxzKX19fSksay5jc3NIb29rcy5tYXJnaW5MZWZ0PXplKHkucmVsaWFibGVNYXJnaW5MZWZ0LGZ1bmN0aW9uKGUsdCl7aWYodClyZXR1cm4ocGFyc2VGbG9hdChfZShlLCJtYXJnaW5MZWZ0IikpfHxlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmxlZnQtdWUoZSx7bWFyZ2luTGVmdDowfSxmdW5jdGlvbigpe3JldHVybiBlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmxlZnR9KSkrInB4In0pLGsuZWFjaCh7bWFyZ2luOiIiLHBhZGRpbmc6IiIsYm9yZGVyOiJXaWR0aCJ9LGZ1bmN0aW9uKGksbyl7ay5jc3NIb29rc1tpK29dPXtleHBhbmQ6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTAsbj17fSxyPSJzdHJpbmciPT10eXBlb2YgZT9lLnNwbGl0KCIgIik6W2VdO3Q8NDt0KyspbltpK3JlW3RdK29dPXJbdF18fHJbdC0yXXx8clswXTtyZXR1cm4gbn19LCJtYXJnaW4iIT09aSYmKGsuY3NzSG9va3NbaStvXS5zZXQ9WmUpfSksay5mbi5leHRlbmQoe2NzczpmdW5jdGlvbihlLHQpe3JldHVybiBfKHRoaXMsZnVuY3Rpb24oZSx0LG4pe3ZhciByLGksbz17fSxhPTA7aWYoQXJyYXkuaXNBcnJheSh0KSl7Zm9yKHI9RmUoZSksaT10Lmxlbmd0aDthPGk7YSsrKW9bdFthXV09ay5jc3MoZSx0W2FdLCExLHIpO3JldHVybiBvfXJldHVybiB2b2lkIDAhPT1uP2suc3R5bGUoZSx0LG4pOmsuY3NzKGUsdCl9LGUsdCwxPGFyZ3VtZW50cy5sZW5ndGgpfX0pLCgoay5Ud2Vlbj1udCkucHJvdG90eXBlPXtjb25zdHJ1Y3RvcjpudCxpbml0OmZ1bmN0aW9uKGUsdCxuLHIsaSxvKXt0aGlzLmVsZW09ZSx0aGlzLnByb3A9bix0aGlzLmVhc2luZz1pfHxrLmVhc2luZy5fZGVmYXVsdCx0aGlzLm9wdGlvbnM9dCx0aGlzLnN0YXJ0PXRoaXMubm93PXRoaXMuY3VyKCksdGhpcy5lbmQ9cix0aGlzLnVuaXQ9b3x8KGsuY3NzTnVtYmVyW25dPyIiOiJweCIpfSxjdXI6ZnVuY3Rpb24oKXt2YXIgZT1udC5wcm9wSG9va3NbdGhpcy5wcm9wXTtyZXR1cm4gZSYmZS5nZXQ/ZS5nZXQodGhpcyk6bnQucHJvcEhvb2tzLl9kZWZhdWx0LmdldCh0aGlzKX0scnVuOmZ1bmN0aW9uKGUpe3ZhciB0LG49bnQucHJvcEhvb2tzW3RoaXMucHJvcF07cmV0dXJuIHRoaXMub3B0aW9ucy5kdXJhdGlvbj90aGlzLnBvcz10PWsuZWFzaW5nW3RoaXMuZWFzaW5nXShlLHRoaXMub3B0aW9ucy5kdXJhdGlvbiplLDAsMSx0aGlzLm9wdGlvbnMuZHVyYXRpb24pOnRoaXMucG9zPXQ9ZSx0aGlzLm5vdz0odGhpcy5lbmQtdGhpcy5zdGFydCkqdCt0aGlzLnN0YXJ0LHRoaXMub3B0aW9ucy5zdGVwJiZ0aGlzLm9wdGlvbnMuc3RlcC5jYWxsKHRoaXMuZWxlbSx0aGlzLm5vdyx0aGlzKSxuJiZuLnNldD9uLnNldCh0aGlzKTpudC5wcm9wSG9va3MuX2RlZmF1bHQuc2V0KHRoaXMpLHRoaXN9fSkuaW5pdC5wcm90b3R5cGU9bnQucHJvdG90eXBlLChudC5wcm9wSG9va3M9e19kZWZhdWx0OntnZXQ6ZnVuY3Rpb24oZSl7dmFyIHQ7cmV0dXJuIDEhPT1lLmVsZW0ubm9kZVR5cGV8fG51bGwhPWUuZWxlbVtlLnByb3BdJiZudWxsPT1lLmVsZW0uc3R5bGVbZS5wcm9wXT9lLmVsZW1bZS5wcm9wXToodD1rLmNzcyhlLmVsZW0sZS5wcm9wLCIiKSkmJiJhdXRvIiE9PXQ/dDowfSxzZXQ6ZnVuY3Rpb24oZSl7ay5meC5zdGVwW2UucHJvcF0/ay5meC5zdGVwW2UucHJvcF0oZSk6MSE9PWUuZWxlbS5ub2RlVHlwZXx8IWsuY3NzSG9va3NbZS5wcm9wXSYmbnVsbD09ZS5lbGVtLnN0eWxlW0dlKGUucHJvcCldP2UuZWxlbVtlLnByb3BdPWUubm93Omsuc3R5bGUoZS5lbGVtLGUucHJvcCxlLm5vdytlLnVuaXQpfX19KS5zY3JvbGxUb3A9bnQucHJvcEhvb2tzLnNjcm9sbExlZnQ9e3NldDpmdW5jdGlvbihlKXtlLmVsZW0ubm9kZVR5cGUmJmUuZWxlbS5wYXJlbnROb2RlJiYoZS5lbGVtW2UucHJvcF09ZS5ub3cpfX0say5lYXNpbmc9e2xpbmVhcjpmdW5jdGlvbihlKXtyZXR1cm4gZX0sc3dpbmc6ZnVuY3Rpb24oZSl7cmV0dXJuLjUtTWF0aC5jb3MoZSpNYXRoLlBJKS8yfSxfZGVmYXVsdDoic3dpbmcifSxrLmZ4PW50LnByb3RvdHlwZS5pbml0LGsuZnguc3RlcD17fTt2YXIgcnQsaXQsb3QsYXQsc3Q9L14oPzp0b2dnbGV8c2hvd3xoaWRlKSQvLHV0PS9xdWV1ZUhvb2tzJC87ZnVuY3Rpb24gbHQoKXtpdCYmKCExPT09RS5oaWRkZW4mJkMucmVxdWVzdEFuaW1hdGlvbkZyYW1lP0MucmVxdWVzdEFuaW1hdGlvbkZyYW1lKGx0KTpDLnNldFRpbWVvdXQobHQsay5meC5pbnRlcnZhbCksay5meC50aWNrKCkpfWZ1bmN0aW9uIGN0KCl7cmV0dXJuIEMuc2V0VGltZW91dChmdW5jdGlvbigpe3J0PXZvaWQgMH0pLHJ0PURhdGUubm93KCl9ZnVuY3Rpb24gZnQoZSx0KXt2YXIgbixyPTAsaT17aGVpZ2h0OmV9O2Zvcih0PXQ/MTowO3I8NDtyKz0yLXQpaVsibWFyZ2luIisobj1yZVtyXSldPWlbInBhZGRpbmciK25dPWU7cmV0dXJuIHQmJihpLm9wYWNpdHk9aS53aWR0aD1lKSxpfWZ1bmN0aW9uIHB0KGUsdCxuKXtmb3IodmFyIHIsaT0oZHQudHdlZW5lcnNbdF18fFtdKS5jb25jYXQoZHQudHdlZW5lcnNbIioiXSksbz0wLGE9aS5sZW5ndGg7bzxhO28rKylpZihyPWlbb10uY2FsbChuLHQsZSkpcmV0dXJuIHJ9ZnVuY3Rpb24gZHQobyxlLHQpe3ZhciBuLGEscj0wLGk9ZHQucHJlZmlsdGVycy5sZW5ndGgscz1rLkRlZmVycmVkKCkuYWx3YXlzKGZ1bmN0aW9uKCl7ZGVsZXRlIHUuZWxlbX0pLHU9ZnVuY3Rpb24oKXtpZihhKXJldHVybiExO2Zvcih2YXIgZT1ydHx8Y3QoKSx0PU1hdGgubWF4KDAsbC5zdGFydFRpbWUrbC5kdXJhdGlvbi1lKSxuPTEtKHQvbC5kdXJhdGlvbnx8MCkscj0wLGk9bC50d2VlbnMubGVuZ3RoO3I8aTtyKyspbC50d2VlbnNbcl0ucnVuKG4pO3JldHVybiBzLm5vdGlmeVdpdGgobyxbbCxuLHRdKSxuPDEmJmk/dDooaXx8cy5ub3RpZnlXaXRoKG8sW2wsMSwwXSkscy5yZXNvbHZlV2l0aChvLFtsXSksITEpfSxsPXMucHJvbWlzZSh7ZWxlbTpvLHByb3BzOmsuZXh0ZW5kKHt9LGUpLG9wdHM6ay5leHRlbmQoITAse3NwZWNpYWxFYXNpbmc6e30sZWFzaW5nOmsuZWFzaW5nLl9kZWZhdWx0fSx0KSxvcmlnaW5hbFByb3BlcnRpZXM6ZSxvcmlnaW5hbE9wdGlvbnM6dCxzdGFydFRpbWU6cnR8fGN0KCksZHVyYXRpb246dC5kdXJhdGlvbix0d2VlbnM6W10sY3JlYXRlVHdlZW46ZnVuY3Rpb24oZSx0KXt2YXIgbj1rLlR3ZWVuKG8sbC5vcHRzLGUsdCxsLm9wdHMuc3BlY2lhbEVhc2luZ1tlXXx8bC5vcHRzLmVhc2luZyk7cmV0dXJuIGwudHdlZW5zLnB1c2gobiksbn0sc3RvcDpmdW5jdGlvbihlKXt2YXIgdD0wLG49ZT9sLnR3ZWVucy5sZW5ndGg6MDtpZihhKXJldHVybiB0aGlzO2ZvcihhPSEwO3Q8bjt0KyspbC50d2VlbnNbdF0ucnVuKDEpO3JldHVybiBlPyhzLm5vdGlmeVdpdGgobyxbbCwxLDBdKSxzLnJlc29sdmVXaXRoKG8sW2wsZV0pKTpzLnJlamVjdFdpdGgobyxbbCxlXSksdGhpc319KSxjPWwucHJvcHM7Zm9yKCFmdW5jdGlvbihlLHQpe3ZhciBuLHIsaSxvLGE7Zm9yKG4gaW4gZSlpZihpPXRbcj1WKG4pXSxvPWVbbl0sQXJyYXkuaXNBcnJheShvKSYmKGk9b1sxXSxvPWVbbl09b1swXSksbiE9PXImJihlW3JdPW8sZGVsZXRlIGVbbl0pLChhPWsuY3NzSG9va3Nbcl0pJiYiZXhwYW5kImluIGEpZm9yKG4gaW4gbz1hLmV4cGFuZChvKSxkZWxldGUgZVtyXSxvKW4gaW4gZXx8KGVbbl09b1tuXSx0W25dPWkpO2Vsc2UgdFtyXT1pfShjLGwub3B0cy5zcGVjaWFsRWFzaW5nKTtyPGk7cisrKWlmKG49ZHQucHJlZmlsdGVyc1tyXS5jYWxsKGwsbyxjLGwub3B0cykpcmV0dXJuIG0obi5zdG9wKSYmKGsuX3F1ZXVlSG9va3MobC5lbGVtLGwub3B0cy5xdWV1ZSkuc3RvcD1uLnN0b3AuYmluZChuKSksbjtyZXR1cm4gay5tYXAoYyxwdCxsKSxtKGwub3B0cy5zdGFydCkmJmwub3B0cy5zdGFydC5jYWxsKG8sbCksbC5wcm9ncmVzcyhsLm9wdHMucHJvZ3Jlc3MpLmRvbmUobC5vcHRzLmRvbmUsbC5vcHRzLmNvbXBsZXRlKS5mYWlsKGwub3B0cy5mYWlsKS5hbHdheXMobC5vcHRzLmFsd2F5cyksay5meC50aW1lcihrLmV4dGVuZCh1LHtlbGVtOm8sYW5pbTpsLHF1ZXVlOmwub3B0cy5xdWV1ZX0pKSxsfWsuQW5pbWF0aW9uPWsuZXh0ZW5kKGR0LHt0d2VlbmVyczp7IioiOltmdW5jdGlvbihlLHQpe3ZhciBuPXRoaXMuY3JlYXRlVHdlZW4oZSx0KTtyZXR1cm4gbGUobi5lbGVtLGUsbmUuZXhlYyh0KSxuKSxufV19LHR3ZWVuZXI6ZnVuY3Rpb24oZSx0KXttKGUpPyh0PWUsZT1bIioiXSk6ZT1lLm1hdGNoKFIpO2Zvcih2YXIgbixyPTAsaT1lLmxlbmd0aDtyPGk7cisrKW49ZVtyXSxkdC50d2VlbmVyc1tuXT1kdC50d2VlbmVyc1tuXXx8W10sZHQudHdlZW5lcnNbbl0udW5zaGlmdCh0KX0scHJlZmlsdGVyczpbZnVuY3Rpb24oZSx0LG4pe3ZhciByLGksbyxhLHMsdSxsLGMsZj0id2lkdGgiaW4gdHx8ImhlaWdodCJpbiB0LHA9dGhpcyxkPXt9LGg9ZS5zdHlsZSxnPWUubm9kZVR5cGUmJnNlKGUpLHY9US5nZXQoZSwiZnhzaG93Iik7Zm9yKHIgaW4gbi5xdWV1ZXx8KG51bGw9PShhPWsuX3F1ZXVlSG9va3MoZSwiZngiKSkudW5xdWV1ZWQmJihhLnVucXVldWVkPTAscz1hLmVtcHR5LmZpcmUsYS5lbXB0eS5maXJlPWZ1bmN0aW9uKCl7YS51bnF1ZXVlZHx8cygpfSksYS51bnF1ZXVlZCsrLHAuYWx3YXlzKGZ1bmN0aW9uKCl7cC5hbHdheXMoZnVuY3Rpb24oKXthLnVucXVldWVkLS0say5xdWV1ZShlLCJmeCIpLmxlbmd0aHx8YS5lbXB0eS5maXJlKCl9KX0pKSx0KWlmKGk9dFtyXSxzdC50ZXN0KGkpKXtpZihkZWxldGUgdFtyXSxvPW98fCJ0b2dnbGUiPT09aSxpPT09KGc/ImhpZGUiOiJzaG93Iikpe2lmKCJzaG93IiE9PWl8fCF2fHx2b2lkIDA9PT12W3JdKWNvbnRpbnVlO2c9ITB9ZFtyXT12JiZ2W3JdfHxrLnN0eWxlKGUscil9aWYoKHU9IWsuaXNFbXB0eU9iamVjdCh0KSl8fCFrLmlzRW1wdHlPYmplY3QoZCkpZm9yKHIgaW4gZiYmMT09PWUubm9kZVR5cGUmJihuLm92ZXJmbG93PVtoLm92ZXJmbG93LGgub3ZlcmZsb3dYLGgub3ZlcmZsb3dZXSxudWxsPT0obD12JiZ2LmRpc3BsYXkpJiYobD1RLmdldChlLCJkaXNwbGF5IikpLCJub25lIj09PShjPWsuY3NzKGUsImRpc3BsYXkiKSkmJihsP2M9bDooZmUoW2VdLCEwKSxsPWUuc3R5bGUuZGlzcGxheXx8bCxjPWsuY3NzKGUsImRpc3BsYXkiKSxmZShbZV0pKSksKCJpbmxpbmUiPT09Y3x8ImlubGluZS1ibG9jayI9PT1jJiZudWxsIT1sKSYmIm5vbmUiPT09ay5jc3MoZSwiZmxvYXQiKSYmKHV8fChwLmRvbmUoZnVuY3Rpb24oKXtoLmRpc3BsYXk9bH0pLG51bGw9PWwmJihjPWguZGlzcGxheSxsPSJub25lIj09PWM/IiI6YykpLGguZGlzcGxheT0iaW5saW5lLWJsb2NrIikpLG4ub3ZlcmZsb3cmJihoLm92ZXJmbG93PSJoaWRkZW4iLHAuYWx3YXlzKGZ1bmN0aW9uKCl7aC5vdmVyZmxvdz1uLm92ZXJmbG93WzBdLGgub3ZlcmZsb3dYPW4ub3ZlcmZsb3dbMV0saC5vdmVyZmxvd1k9bi5vdmVyZmxvd1syXX0pKSx1PSExLGQpdXx8KHY/ImhpZGRlbiJpbiB2JiYoZz12LmhpZGRlbik6dj1RLmFjY2VzcyhlLCJmeHNob3ciLHtkaXNwbGF5Omx9KSxvJiYodi5oaWRkZW49IWcpLGcmJmZlKFtlXSwhMCkscC5kb25lKGZ1bmN0aW9uKCl7Zm9yKHIgaW4gZ3x8ZmUoW2VdKSxRLnJlbW92ZShlLCJmeHNob3ciKSxkKWsuc3R5bGUoZSxyLGRbcl0pfSkpLHU9cHQoZz92W3JdOjAscixwKSxyIGluIHZ8fCh2W3JdPXUuc3RhcnQsZyYmKHUuZW5kPXUuc3RhcnQsdS5zdGFydD0wKSl9XSxwcmVmaWx0ZXI6ZnVuY3Rpb24oZSx0KXt0P2R0LnByZWZpbHRlcnMudW5zaGlmdChlKTpkdC5wcmVmaWx0ZXJzLnB1c2goZSl9fSksay5zcGVlZD1mdW5jdGlvbihlLHQsbil7dmFyIHI9ZSYmIm9iamVjdCI9PXR5cGVvZiBlP2suZXh0ZW5kKHt9LGUpOntjb21wbGV0ZTpufHwhbiYmdHx8bShlKSYmZSxkdXJhdGlvbjplLGVhc2luZzpuJiZ0fHx0JiYhbSh0KSYmdH07cmV0dXJuIGsuZngub2ZmP3IuZHVyYXRpb249MDoibnVtYmVyIiE9dHlwZW9mIHIuZHVyYXRpb24mJihyLmR1cmF0aW9uIGluIGsuZnguc3BlZWRzP3IuZHVyYXRpb249ay5meC5zcGVlZHNbci5kdXJhdGlvbl06ci5kdXJhdGlvbj1rLmZ4LnNwZWVkcy5fZGVmYXVsdCksbnVsbCE9ci5xdWV1ZSYmITAhPT1yLnF1ZXVlfHwoci5xdWV1ZT0iZngiKSxyLm9sZD1yLmNvbXBsZXRlLHIuY29tcGxldGU9ZnVuY3Rpb24oKXttKHIub2xkKSYmci5vbGQuY2FsbCh0aGlzKSxyLnF1ZXVlJiZrLmRlcXVldWUodGhpcyxyLnF1ZXVlKX0scn0say5mbi5leHRlbmQoe2ZhZGVUbzpmdW5jdGlvbihlLHQsbixyKXtyZXR1cm4gdGhpcy5maWx0ZXIoc2UpLmNzcygib3BhY2l0eSIsMCkuc2hvdygpLmVuZCgpLmFuaW1hdGUoe29wYWNpdHk6dH0sZSxuLHIpfSxhbmltYXRlOmZ1bmN0aW9uKHQsZSxuLHIpe3ZhciBpPWsuaXNFbXB0eU9iamVjdCh0KSxvPWsuc3BlZWQoZSxuLHIpLGE9ZnVuY3Rpb24oKXt2YXIgZT1kdCh0aGlzLGsuZXh0ZW5kKHt9LHQpLG8pOyhpfHxRLmdldCh0aGlzLCJmaW5pc2giKSkmJmUuc3RvcCghMCl9O3JldHVybiBhLmZpbmlzaD1hLGl8fCExPT09by5xdWV1ZT90aGlzLmVhY2goYSk6dGhpcy5xdWV1ZShvLnF1ZXVlLGEpfSxzdG9wOmZ1bmN0aW9uKGksZSxvKXt2YXIgYT1mdW5jdGlvbihlKXt2YXIgdD1lLnN0b3A7ZGVsZXRlIGUuc3RvcCx0KG8pfTtyZXR1cm4ic3RyaW5nIiE9dHlwZW9mIGkmJihvPWUsZT1pLGk9dm9pZCAwKSxlJiYhMSE9PWkmJnRoaXMucXVldWUoaXx8ImZ4IixbXSksdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGU9ITAsdD1udWxsIT1pJiZpKyJxdWV1ZUhvb2tzIixuPWsudGltZXJzLHI9US5nZXQodGhpcyk7aWYodClyW3RdJiZyW3RdLnN0b3AmJmEoclt0XSk7ZWxzZSBmb3IodCBpbiByKXJbdF0mJnJbdF0uc3RvcCYmdXQudGVzdCh0KSYmYShyW3RdKTtmb3IodD1uLmxlbmd0aDt0LS07KW5bdF0uZWxlbSE9PXRoaXN8fG51bGwhPWkmJm5bdF0ucXVldWUhPT1pfHwoblt0XS5hbmltLnN0b3AobyksZT0hMSxuLnNwbGljZSh0LDEpKTshZSYmb3x8ay5kZXF1ZXVlKHRoaXMsaSl9KX0sZmluaXNoOmZ1bmN0aW9uKGEpe3JldHVybiExIT09YSYmKGE9YXx8ImZ4IiksdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGUsdD1RLmdldCh0aGlzKSxuPXRbYSsicXVldWUiXSxyPXRbYSsicXVldWVIb29rcyJdLGk9ay50aW1lcnMsbz1uP24ubGVuZ3RoOjA7Zm9yKHQuZmluaXNoPSEwLGsucXVldWUodGhpcyxhLFtdKSxyJiZyLnN0b3AmJnIuc3RvcC5jYWxsKHRoaXMsITApLGU9aS5sZW5ndGg7ZS0tOylpW2VdLmVsZW09PT10aGlzJiZpW2VdLnF1ZXVlPT09YSYmKGlbZV0uYW5pbS5zdG9wKCEwKSxpLnNwbGljZShlLDEpKTtmb3IoZT0wO2U8bztlKyspbltlXSYmbltlXS5maW5pc2gmJm5bZV0uZmluaXNoLmNhbGwodGhpcyk7ZGVsZXRlIHQuZmluaXNofSl9fSksay5lYWNoKFsidG9nZ2xlIiwic2hvdyIsImhpZGUiXSxmdW5jdGlvbihlLHIpe3ZhciBpPWsuZm5bcl07ay5mbltyXT1mdW5jdGlvbihlLHQsbil7cmV0dXJuIG51bGw9PWV8fCJib29sZWFuIj09dHlwZW9mIGU/aS5hcHBseSh0aGlzLGFyZ3VtZW50cyk6dGhpcy5hbmltYXRlKGZ0KHIsITApLGUsdCxuKX19KSxrLmVhY2goe3NsaWRlRG93bjpmdCgic2hvdyIpLHNsaWRlVXA6ZnQoImhpZGUiKSxzbGlkZVRvZ2dsZTpmdCgidG9nZ2xlIiksZmFkZUluOntvcGFjaXR5OiJzaG93In0sZmFkZU91dDp7b3BhY2l0eToiaGlkZSJ9LGZhZGVUb2dnbGU6e29wYWNpdHk6InRvZ2dsZSJ9fSxmdW5jdGlvbihlLHIpe2suZm5bZV09ZnVuY3Rpb24oZSx0LG4pe3JldHVybiB0aGlzLmFuaW1hdGUocixlLHQsbil9fSksay50aW1lcnM9W10say5meC50aWNrPWZ1bmN0aW9uKCl7dmFyIGUsdD0wLG49ay50aW1lcnM7Zm9yKHJ0PURhdGUubm93KCk7dDxuLmxlbmd0aDt0KyspKGU9blt0XSkoKXx8blt0XSE9PWV8fG4uc3BsaWNlKHQtLSwxKTtuLmxlbmd0aHx8ay5meC5zdG9wKCkscnQ9dm9pZCAwfSxrLmZ4LnRpbWVyPWZ1bmN0aW9uKGUpe2sudGltZXJzLnB1c2goZSksay5meC5zdGFydCgpfSxrLmZ4LmludGVydmFsPTEzLGsuZnguc3RhcnQ9ZnVuY3Rpb24oKXtpdHx8KGl0PSEwLGx0KCkpfSxrLmZ4LnN0b3A9ZnVuY3Rpb24oKXtpdD1udWxsfSxrLmZ4LnNwZWVkcz17c2xvdzo2MDAsZmFzdDoyMDAsX2RlZmF1bHQ6NDAwfSxrLmZuLmRlbGF5PWZ1bmN0aW9uKHIsZSl7cmV0dXJuIHI9ay5meCYmay5meC5zcGVlZHNbcl18fHIsZT1lfHwiZngiLHRoaXMucXVldWUoZSxmdW5jdGlvbihlLHQpe3ZhciBuPUMuc2V0VGltZW91dChlLHIpO3Quc3RvcD1mdW5jdGlvbigpe0MuY2xlYXJUaW1lb3V0KG4pfX0pfSxvdD1FLmNyZWF0ZUVsZW1lbnQoImlucHV0IiksYXQ9RS5jcmVhdGVFbGVtZW50KCJzZWxlY3QiKS5hcHBlbmRDaGlsZChFLmNyZWF0ZUVsZW1lbnQoIm9wdGlvbiIpKSxvdC50eXBlPSJjaGVja2JveCIseS5jaGVja09uPSIiIT09b3QudmFsdWUseS5vcHRTZWxlY3RlZD1hdC5zZWxlY3RlZCwob3Q9RS5jcmVhdGVFbGVtZW50KCJpbnB1dCIpKS52YWx1ZT0idCIsb3QudHlwZT0icmFkaW8iLHkucmFkaW9WYWx1ZT0idCI9PT1vdC52YWx1ZTt2YXIgaHQsZ3Q9ay5leHByLmF0dHJIYW5kbGU7ay5mbi5leHRlbmQoe2F0dHI6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gXyh0aGlzLGsuYXR0cixlLHQsMTxhcmd1bWVudHMubGVuZ3RoKX0scmVtb3ZlQXR0cjpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7ay5yZW1vdmVBdHRyKHRoaXMsZSl9KX19KSxrLmV4dGVuZCh7YXR0cjpmdW5jdGlvbihlLHQsbil7dmFyIHIsaSxvPWUubm9kZVR5cGU7aWYoMyE9PW8mJjghPT1vJiYyIT09bylyZXR1cm4idW5kZWZpbmVkIj09dHlwZW9mIGUuZ2V0QXR0cmlidXRlP2sucHJvcChlLHQsbik6KDE9PT1vJiZrLmlzWE1MRG9jKGUpfHwoaT1rLmF0dHJIb29rc1t0LnRvTG93ZXJDYXNlKCldfHwoay5leHByLm1hdGNoLmJvb2wudGVzdCh0KT9odDp2b2lkIDApKSx2b2lkIDAhPT1uP251bGw9PT1uP3ZvaWQgay5yZW1vdmVBdHRyKGUsdCk6aSYmInNldCJpbiBpJiZ2b2lkIDAhPT0ocj1pLnNldChlLG4sdCkpP3I6KGUuc2V0QXR0cmlidXRlKHQsbisiIiksbik6aSYmImdldCJpbiBpJiZudWxsIT09KHI9aS5nZXQoZSx0KSk/cjpudWxsPT0ocj1rLmZpbmQuYXR0cihlLHQpKT92b2lkIDA6cil9LGF0dHJIb29rczp7dHlwZTp7c2V0OmZ1bmN0aW9uKGUsdCl7aWYoIXkucmFkaW9WYWx1ZSYmInJhZGlvIj09PXQmJkEoZSwiaW5wdXQiKSl7dmFyIG49ZS52YWx1ZTtyZXR1cm4gZS5zZXRBdHRyaWJ1dGUoInR5cGUiLHQpLG4mJihlLnZhbHVlPW4pLHR9fX19LHJlbW92ZUF0dHI6ZnVuY3Rpb24oZSx0KXt2YXIgbixyPTAsaT10JiZ0Lm1hdGNoKFIpO2lmKGkmJjE9PT1lLm5vZGVUeXBlKXdoaWxlKG49aVtyKytdKWUucmVtb3ZlQXR0cmlidXRlKG4pfX0pLGh0PXtzZXQ6ZnVuY3Rpb24oZSx0LG4pe3JldHVybiExPT09dD9rLnJlbW92ZUF0dHIoZSxuKTplLnNldEF0dHJpYnV0ZShuLG4pLG59fSxrLmVhY2goay5leHByLm1hdGNoLmJvb2wuc291cmNlLm1hdGNoKC9cdysvZyksZnVuY3Rpb24oZSx0KXt2YXIgYT1ndFt0XXx8ay5maW5kLmF0dHI7Z3RbdF09ZnVuY3Rpb24oZSx0LG4pe3ZhciByLGksbz10LnRvTG93ZXJDYXNlKCk7cmV0dXJuIG58fChpPWd0W29dLGd0W29dPXIscj1udWxsIT1hKGUsdCxuKT9vOm51bGwsZ3Rbb109aSkscn19KTt2YXIgdnQ9L14oPzppbnB1dHxzZWxlY3R8dGV4dGFyZWF8YnV0dG9uKSQvaSx5dD0vXig/OmF8YXJlYSkkL2k7ZnVuY3Rpb24gbXQoZSl7cmV0dXJuKGUubWF0Y2goUil8fFtdKS5qb2luKCIgIil9ZnVuY3Rpb24geHQoZSl7cmV0dXJuIGUuZ2V0QXR0cmlidXRlJiZlLmdldEF0dHJpYnV0ZSgiY2xhc3MiKXx8IiJ9ZnVuY3Rpb24gYnQoZSl7cmV0dXJuIEFycmF5LmlzQXJyYXkoZSk/ZToic3RyaW5nIj09dHlwZW9mIGUmJmUubWF0Y2goUil8fFtdfWsuZm4uZXh0ZW5kKHtwcm9wOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIF8odGhpcyxrLnByb3AsZSx0LDE8YXJndW1lbnRzLmxlbmd0aCl9LHJlbW92ZVByb3A6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe2RlbGV0ZSB0aGlzW2sucHJvcEZpeFtlXXx8ZV19KX19KSxrLmV4dGVuZCh7cHJvcDpmdW5jdGlvbihlLHQsbil7dmFyIHIsaSxvPWUubm9kZVR5cGU7aWYoMyE9PW8mJjghPT1vJiYyIT09bylyZXR1cm4gMT09PW8mJmsuaXNYTUxEb2MoZSl8fCh0PWsucHJvcEZpeFt0XXx8dCxpPWsucHJvcEhvb2tzW3RdKSx2b2lkIDAhPT1uP2kmJiJzZXQiaW4gaSYmdm9pZCAwIT09KHI9aS5zZXQoZSxuLHQpKT9yOmVbdF09bjppJiYiZ2V0ImluIGkmJm51bGwhPT0ocj1pLmdldChlLHQpKT9yOmVbdF19LHByb3BIb29rczp7dGFiSW5kZXg6e2dldDpmdW5jdGlvbihlKXt2YXIgdD1rLmZpbmQuYXR0cihlLCJ0YWJpbmRleCIpO3JldHVybiB0P3BhcnNlSW50KHQsMTApOnZ0LnRlc3QoZS5ub2RlTmFtZSl8fHl0LnRlc3QoZS5ub2RlTmFtZSkmJmUuaHJlZj8wOi0xfX19LHByb3BGaXg6eyJmb3IiOiJodG1sRm9yIiwiY2xhc3MiOiJjbGFzc05hbWUifX0pLHkub3B0U2VsZWN0ZWR8fChrLnByb3BIb29rcy5zZWxlY3RlZD17Z2V0OmZ1bmN0aW9uKGUpe3ZhciB0PWUucGFyZW50Tm9kZTtyZXR1cm4gdCYmdC5wYXJlbnROb2RlJiZ0LnBhcmVudE5vZGUuc2VsZWN0ZWRJbmRleCxudWxsfSxzZXQ6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5wYXJlbnROb2RlO3QmJih0LnNlbGVjdGVkSW5kZXgsdC5wYXJlbnROb2RlJiZ0LnBhcmVudE5vZGUuc2VsZWN0ZWRJbmRleCl9fSksay5lYWNoKFsidGFiSW5kZXgiLCJyZWFkT25seSIsIm1heExlbmd0aCIsImNlbGxTcGFjaW5nIiwiY2VsbFBhZGRpbmciLCJyb3dTcGFuIiwiY29sU3BhbiIsInVzZU1hcCIsImZyYW1lQm9yZGVyIiwiY29udGVudEVkaXRhYmxlIl0sZnVuY3Rpb24oKXtrLnByb3BGaXhbdGhpcy50b0xvd2VyQ2FzZSgpXT10aGlzfSksay5mbi5leHRlbmQoe2FkZENsYXNzOmZ1bmN0aW9uKHQpe3ZhciBlLG4scixpLG8sYSxzLHU9MDtpZihtKHQpKXJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oZSl7ayh0aGlzKS5hZGRDbGFzcyh0LmNhbGwodGhpcyxlLHh0KHRoaXMpKSl9KTtpZigoZT1idCh0KSkubGVuZ3RoKXdoaWxlKG49dGhpc1t1KytdKWlmKGk9eHQobikscj0xPT09bi5ub2RlVHlwZSYmIiAiK210KGkpKyIgIil7YT0wO3doaWxlKG89ZVthKytdKXIuaW5kZXhPZigiICIrbysiICIpPDAmJihyKz1vKyIgIik7aSE9PShzPW10KHIpKSYmbi5zZXRBdHRyaWJ1dGUoImNsYXNzIixzKX1yZXR1cm4gdGhpc30scmVtb3ZlQ2xhc3M6ZnVuY3Rpb24odCl7dmFyIGUsbixyLGksbyxhLHMsdT0wO2lmKG0odCkpcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbihlKXtrKHRoaXMpLnJlbW92ZUNsYXNzKHQuY2FsbCh0aGlzLGUseHQodGhpcykpKX0pO2lmKCFhcmd1bWVudHMubGVuZ3RoKXJldHVybiB0aGlzLmF0dHIoImNsYXNzIiwiIik7aWYoKGU9YnQodCkpLmxlbmd0aCl3aGlsZShuPXRoaXNbdSsrXSlpZihpPXh0KG4pLHI9MT09PW4ubm9kZVR5cGUmJiIgIittdChpKSsiICIpe2E9MDt3aGlsZShvPWVbYSsrXSl3aGlsZSgtMTxyLmluZGV4T2YoIiAiK28rIiAiKSlyPXIucmVwbGFjZSgiICIrbysiICIsIiAiKTtpIT09KHM9bXQocikpJiZuLnNldEF0dHJpYnV0ZSgiY2xhc3MiLHMpfXJldHVybiB0aGlzfSx0b2dnbGVDbGFzczpmdW5jdGlvbihpLHQpe3ZhciBvPXR5cGVvZiBpLGE9InN0cmluZyI9PT1vfHxBcnJheS5pc0FycmF5KGkpO3JldHVybiJib29sZWFuIj09dHlwZW9mIHQmJmE/dD90aGlzLmFkZENsYXNzKGkpOnRoaXMucmVtb3ZlQ2xhc3MoaSk6bShpKT90aGlzLmVhY2goZnVuY3Rpb24oZSl7ayh0aGlzKS50b2dnbGVDbGFzcyhpLmNhbGwodGhpcyxlLHh0KHRoaXMpLHQpLHQpfSk6dGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGUsdCxuLHI7aWYoYSl7dD0wLG49ayh0aGlzKSxyPWJ0KGkpO3doaWxlKGU9clt0KytdKW4uaGFzQ2xhc3MoZSk/bi5yZW1vdmVDbGFzcyhlKTpuLmFkZENsYXNzKGUpfWVsc2Ugdm9pZCAwIT09aSYmImJvb2xlYW4iIT09b3x8KChlPXh0KHRoaXMpKSYmUS5zZXQodGhpcywiX19jbGFzc05hbWVfXyIsZSksdGhpcy5zZXRBdHRyaWJ1dGUmJnRoaXMuc2V0QXR0cmlidXRlKCJjbGFzcyIsZXx8ITE9PT1pPyIiOlEuZ2V0KHRoaXMsIl9fY2xhc3NOYW1lX18iKXx8IiIpKX0pfSxoYXNDbGFzczpmdW5jdGlvbihlKXt2YXIgdCxuLHI9MDt0PSIgIitlKyIgIjt3aGlsZShuPXRoaXNbcisrXSlpZigxPT09bi5ub2RlVHlwZSYmLTE8KCIgIittdCh4dChuKSkrIiAiKS5pbmRleE9mKHQpKXJldHVybiEwO3JldHVybiExfX0pO3ZhciB3dD0vXHIvZztrLmZuLmV4dGVuZCh7dmFsOmZ1bmN0aW9uKG4pe3ZhciByLGUsaSx0PXRoaXNbMF07cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGk9bShuKSx0aGlzLmVhY2goZnVuY3Rpb24oZSl7dmFyIHQ7MT09PXRoaXMubm9kZVR5cGUmJihudWxsPT0odD1pP24uY2FsbCh0aGlzLGUsayh0aGlzKS52YWwoKSk6bik/dD0iIjoibnVtYmVyIj09dHlwZW9mIHQ/dCs9IiI6QXJyYXkuaXNBcnJheSh0KSYmKHQ9ay5tYXAodCxmdW5jdGlvbihlKXtyZXR1cm4gbnVsbD09ZT8iIjplKyIifSkpLChyPWsudmFsSG9va3NbdGhpcy50eXBlXXx8ay52YWxIb29rc1t0aGlzLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCldKSYmInNldCJpbiByJiZ2b2lkIDAhPT1yLnNldCh0aGlzLHQsInZhbHVlIil8fCh0aGlzLnZhbHVlPXQpKX0pKTp0PyhyPWsudmFsSG9va3NbdC50eXBlXXx8ay52YWxIb29rc1t0Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCldKSYmImdldCJpbiByJiZ2b2lkIDAhPT0oZT1yLmdldCh0LCJ2YWx1ZSIpKT9lOiJzdHJpbmciPT10eXBlb2YoZT10LnZhbHVlKT9lLnJlcGxhY2Uod3QsIiIpOm51bGw9PWU/IiI6ZTp2b2lkIDB9fSksay5leHRlbmQoe3ZhbEhvb2tzOntvcHRpb246e2dldDpmdW5jdGlvbihlKXt2YXIgdD1rLmZpbmQuYXR0cihlLCJ2YWx1ZSIpO3JldHVybiBudWxsIT10P3Q6bXQoay50ZXh0KGUpKX19LHNlbGVjdDp7Z2V0OmZ1bmN0aW9uKGUpe3ZhciB0LG4scixpPWUub3B0aW9ucyxvPWUuc2VsZWN0ZWRJbmRleCxhPSJzZWxlY3Qtb25lIj09PWUudHlwZSxzPWE/bnVsbDpbXSx1PWE/bysxOmkubGVuZ3RoO2ZvcihyPW88MD91OmE/bzowO3I8dTtyKyspaWYoKChuPWlbcl0pLnNlbGVjdGVkfHxyPT09bykmJiFuLmRpc2FibGVkJiYoIW4ucGFyZW50Tm9kZS5kaXNhYmxlZHx8IUEobi5wYXJlbnROb2RlLCJvcHRncm91cCIpKSl7aWYodD1rKG4pLnZhbCgpLGEpcmV0dXJuIHQ7cy5wdXNoKHQpfXJldHVybiBzfSxzZXQ6ZnVuY3Rpb24oZSx0KXt2YXIgbixyLGk9ZS5vcHRpb25zLG89ay5tYWtlQXJyYXkodCksYT1pLmxlbmd0aDt3aGlsZShhLS0pKChyPWlbYV0pLnNlbGVjdGVkPS0xPGsuaW5BcnJheShrLnZhbEhvb2tzLm9wdGlvbi5nZXQociksbykpJiYobj0hMCk7cmV0dXJuIG58fChlLnNlbGVjdGVkSW5kZXg9LTEpLG99fX19KSxrLmVhY2goWyJyYWRpbyIsImNoZWNrYm94Il0sZnVuY3Rpb24oKXtrLnZhbEhvb2tzW3RoaXNdPXtzZXQ6ZnVuY3Rpb24oZSx0KXtpZihBcnJheS5pc0FycmF5KHQpKXJldHVybiBlLmNoZWNrZWQ9LTE8ay5pbkFycmF5KGsoZSkudmFsKCksdCl9fSx5LmNoZWNrT258fChrLnZhbEhvb2tzW3RoaXNdLmdldD1mdW5jdGlvbihlKXtyZXR1cm4gbnVsbD09PWUuZ2V0QXR0cmlidXRlKCJ2YWx1ZSIpPyJvbiI6ZS52YWx1ZX0pfSkseS5mb2N1c2luPSJvbmZvY3VzaW4iaW4gQzt2YXIgVHQ9L14oPzpmb2N1c2luZm9jdXN8Zm9jdXNvdXRibHVyKSQvLEN0PWZ1bmN0aW9uKGUpe2Uuc3RvcFByb3BhZ2F0aW9uKCl9O2suZXh0ZW5kKGsuZXZlbnQse3RyaWdnZXI6ZnVuY3Rpb24oZSx0LG4scil7dmFyIGksbyxhLHMsdSxsLGMsZixwPVtufHxFXSxkPXYuY2FsbChlLCJ0eXBlIik/ZS50eXBlOmUsaD12LmNhbGwoZSwibmFtZXNwYWNlIik/ZS5uYW1lc3BhY2Uuc3BsaXQoIi4iKTpbXTtpZihvPWY9YT1uPW58fEUsMyE9PW4ubm9kZVR5cGUmJjghPT1uLm5vZGVUeXBlJiYhVHQudGVzdChkK2suZXZlbnQudHJpZ2dlcmVkKSYmKC0xPGQuaW5kZXhPZigiLiIpJiYoZD0oaD1kLnNwbGl0KCIuIikpLnNoaWZ0KCksaC5zb3J0KCkpLHU9ZC5pbmRleE9mKCI6Iik8MCYmIm9uIitkLChlPWVbay5leHBhbmRvXT9lOm5ldyBrLkV2ZW50KGQsIm9iamVjdCI9PXR5cGVvZiBlJiZlKSkuaXNUcmlnZ2VyPXI/MjozLGUubmFtZXNwYWNlPWguam9pbigiLiIpLGUucm5hbWVzcGFjZT1lLm5hbWVzcGFjZT9uZXcgUmVnRXhwKCIoXnxcXC4pIitoLmpvaW4oIlxcLig/Oi4qXFwufCkiKSsiKFxcLnwkKSIpOm51bGwsZS5yZXN1bHQ9dm9pZCAwLGUudGFyZ2V0fHwoZS50YXJnZXQ9biksdD1udWxsPT10P1tlXTprLm1ha2VBcnJheSh0LFtlXSksYz1rLmV2ZW50LnNwZWNpYWxbZF18fHt9LHJ8fCFjLnRyaWdnZXJ8fCExIT09Yy50cmlnZ2VyLmFwcGx5KG4sdCkpKXtpZighciYmIWMubm9CdWJibGUmJiF4KG4pKXtmb3Iocz1jLmRlbGVnYXRlVHlwZXx8ZCxUdC50ZXN0KHMrZCl8fChvPW8ucGFyZW50Tm9kZSk7bztvPW8ucGFyZW50Tm9kZSlwLnB1c2gobyksYT1vO2E9PT0obi5vd25lckRvY3VtZW50fHxFKSYmcC5wdXNoKGEuZGVmYXVsdFZpZXd8fGEucGFyZW50V2luZG93fHxDKX1pPTA7d2hpbGUoKG89cFtpKytdKSYmIWUuaXNQcm9wYWdhdGlvblN0b3BwZWQoKSlmPW8sZS50eXBlPTE8aT9zOmMuYmluZFR5cGV8fGQsKGw9KFEuZ2V0KG8sImV2ZW50cyIpfHx7fSlbZS50eXBlXSYmUS5nZXQobywiaGFuZGxlIikpJiZsLmFwcGx5KG8sdCksKGw9dSYmb1t1XSkmJmwuYXBwbHkmJkcobykmJihlLnJlc3VsdD1sLmFwcGx5KG8sdCksITE9PT1lLnJlc3VsdCYmZS5wcmV2ZW50RGVmYXVsdCgpKTtyZXR1cm4gZS50eXBlPWQscnx8ZS5pc0RlZmF1bHRQcmV2ZW50ZWQoKXx8Yy5fZGVmYXVsdCYmITEhPT1jLl9kZWZhdWx0LmFwcGx5KHAucG9wKCksdCl8fCFHKG4pfHx1JiZtKG5bZF0pJiYheChuKSYmKChhPW5bdV0pJiYoblt1XT1udWxsKSxrLmV2ZW50LnRyaWdnZXJlZD1kLGUuaXNQcm9wYWdhdGlvblN0b3BwZWQoKSYmZi5hZGRFdmVudExpc3RlbmVyKGQsQ3QpLG5bZF0oKSxlLmlzUHJvcGFnYXRpb25TdG9wcGVkKCkmJmYucmVtb3ZlRXZlbnRMaXN0ZW5lcihkLEN0KSxrLmV2ZW50LnRyaWdnZXJlZD12b2lkIDAsYSYmKG5bdV09YSkpLGUucmVzdWx0fX0sc2ltdWxhdGU6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPWsuZXh0ZW5kKG5ldyBrLkV2ZW50LG4se3R5cGU6ZSxpc1NpbXVsYXRlZDohMH0pO2suZXZlbnQudHJpZ2dlcihyLG51bGwsdCl9fSksay5mbi5leHRlbmQoe3RyaWdnZXI6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7ay5ldmVudC50cmlnZ2VyKGUsdCx0aGlzKX0pfSx0cmlnZ2VySGFuZGxlcjpmdW5jdGlvbihlLHQpe3ZhciBuPXRoaXNbMF07aWYobilyZXR1cm4gay5ldmVudC50cmlnZ2VyKGUsdCxuLCEwKX19KSx5LmZvY3VzaW58fGsuZWFjaCh7Zm9jdXM6ImZvY3VzaW4iLGJsdXI6ImZvY3Vzb3V0In0sZnVuY3Rpb24obixyKXt2YXIgaT1mdW5jdGlvbihlKXtrLmV2ZW50LnNpbXVsYXRlKHIsZS50YXJnZXQsay5ldmVudC5maXgoZSkpfTtrLmV2ZW50LnNwZWNpYWxbcl09e3NldHVwOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5vd25lckRvY3VtZW50fHx0aGlzLHQ9US5hY2Nlc3MoZSxyKTt0fHxlLmFkZEV2ZW50TGlzdGVuZXIobixpLCEwKSxRLmFjY2VzcyhlLHIsKHR8fDApKzEpfSx0ZWFyZG93bjpmdW5jdGlvbigpe3ZhciBlPXRoaXMub3duZXJEb2N1bWVudHx8dGhpcyx0PVEuYWNjZXNzKGUsciktMTt0P1EuYWNjZXNzKGUscix0KTooZS5yZW1vdmVFdmVudExpc3RlbmVyKG4saSwhMCksUS5yZW1vdmUoZSxyKSl9fX0pO3ZhciBFdD1DLmxvY2F0aW9uLGt0PURhdGUubm93KCksU3Q9L1w/LztrLnBhcnNlWE1MPWZ1bmN0aW9uKGUpe3ZhciB0O2lmKCFlfHwic3RyaW5nIiE9dHlwZW9mIGUpcmV0dXJuIG51bGw7dHJ5e3Q9KG5ldyBDLkRPTVBhcnNlcikucGFyc2VGcm9tU3RyaW5nKGUsInRleHQveG1sIil9Y2F0Y2goZSl7dD12b2lkIDB9cmV0dXJuIHQmJiF0LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJwYXJzZXJlcnJvciIpLmxlbmd0aHx8ay5lcnJvcigiSW52YWxpZCBYTUw6ICIrZSksdH07dmFyIE50PS9cW1xdJC8sQXQ9L1xyP1xuL2csRHQ9L14oPzpzdWJtaXR8YnV0dG9ufGltYWdlfHJlc2V0fGZpbGUpJC9pLGp0PS9eKD86aW5wdXR8c2VsZWN0fHRleHRhcmVhfGtleWdlbikvaTtmdW5jdGlvbiBxdChuLGUscixpKXt2YXIgdDtpZihBcnJheS5pc0FycmF5KGUpKWsuZWFjaChlLGZ1bmN0aW9uKGUsdCl7cnx8TnQudGVzdChuKT9pKG4sdCk6cXQobisiWyIrKCJvYmplY3QiPT10eXBlb2YgdCYmbnVsbCE9dD9lOiIiKSsiXSIsdCxyLGkpfSk7ZWxzZSBpZihyfHwib2JqZWN0IiE9PXcoZSkpaShuLGUpO2Vsc2UgZm9yKHQgaW4gZSlxdChuKyJbIit0KyJdIixlW3RdLHIsaSl9ay5wYXJhbT1mdW5jdGlvbihlLHQpe3ZhciBuLHI9W10saT1mdW5jdGlvbihlLHQpe3ZhciBuPW0odCk/dCgpOnQ7cltyLmxlbmd0aF09ZW5jb2RlVVJJQ29tcG9uZW50KGUpKyI9IitlbmNvZGVVUklDb21wb25lbnQobnVsbD09bj8iIjpuKX07aWYobnVsbD09ZSlyZXR1cm4iIjtpZihBcnJheS5pc0FycmF5KGUpfHxlLmpxdWVyeSYmIWsuaXNQbGFpbk9iamVjdChlKSlrLmVhY2goZSxmdW5jdGlvbigpe2kodGhpcy5uYW1lLHRoaXMudmFsdWUpfSk7ZWxzZSBmb3IobiBpbiBlKXF0KG4sZVtuXSx0LGkpO3JldHVybiByLmpvaW4oIiYiKX0say5mbi5leHRlbmQoe3NlcmlhbGl6ZTpmdW5jdGlvbigpe3JldHVybiBrLnBhcmFtKHRoaXMuc2VyaWFsaXplQXJyYXkoKSl9LHNlcmlhbGl6ZUFycmF5OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uKCl7dmFyIGU9ay5wcm9wKHRoaXMsImVsZW1lbnRzIik7cmV0dXJuIGU/ay5tYWtlQXJyYXkoZSk6dGhpc30pLmZpbHRlcihmdW5jdGlvbigpe3ZhciBlPXRoaXMudHlwZTtyZXR1cm4gdGhpcy5uYW1lJiYhayh0aGlzKS5pcygiOmRpc2FibGVkIikmJmp0LnRlc3QodGhpcy5ub2RlTmFtZSkmJiFEdC50ZXN0KGUpJiYodGhpcy5jaGVja2VkfHwhcGUudGVzdChlKSl9KS5tYXAoZnVuY3Rpb24oZSx0KXt2YXIgbj1rKHRoaXMpLnZhbCgpO3JldHVybiBudWxsPT1uP251bGw6QXJyYXkuaXNBcnJheShuKT9rLm1hcChuLGZ1bmN0aW9uKGUpe3JldHVybntuYW1lOnQubmFtZSx2YWx1ZTplLnJlcGxhY2UoQXQsIlxyXG4iKX19KTp7bmFtZTp0Lm5hbWUsdmFsdWU6bi5yZXBsYWNlKEF0LCJcclxuIil9fSkuZ2V0KCl9fSk7dmFyIEx0PS8lMjAvZyxIdD0vIy4qJC8sT3Q9LyhbPyZdKV89W14mXSovLFB0PS9eKC4qPyk6WyBcdF0qKFteXHJcbl0qKSQvZ20sUnQ9L14oPzpHRVR8SEVBRCkkLyxNdD0vXlwvXC8vLEl0PXt9LFd0PXt9LCR0PSIqLyIuY29uY2F0KCIqIiksRnQ9RS5jcmVhdGVFbGVtZW50KCJhIik7ZnVuY3Rpb24gQnQobyl7cmV0dXJuIGZ1bmN0aW9uKGUsdCl7InN0cmluZyIhPXR5cGVvZiBlJiYodD1lLGU9IioiKTt2YXIgbixyPTAsaT1lLnRvTG93ZXJDYXNlKCkubWF0Y2goUil8fFtdO2lmKG0odCkpd2hpbGUobj1pW3IrK10pIisiPT09blswXT8obj1uLnNsaWNlKDEpfHwiKiIsKG9bbl09b1tuXXx8W10pLnVuc2hpZnQodCkpOihvW25dPW9bbl18fFtdKS5wdXNoKHQpfX1mdW5jdGlvbiBfdCh0LGksbyxhKXt2YXIgcz17fSx1PXQ9PT1XdDtmdW5jdGlvbiBsKGUpe3ZhciByO3JldHVybiBzW2VdPSEwLGsuZWFjaCh0W2VdfHxbXSxmdW5jdGlvbihlLHQpe3ZhciBuPXQoaSxvLGEpO3JldHVybiJzdHJpbmciIT10eXBlb2Ygbnx8dXx8c1tuXT91PyEocj1uKTp2b2lkIDA6KGkuZGF0YVR5cGVzLnVuc2hpZnQobiksbChuKSwhMSl9KSxyfXJldHVybiBsKGkuZGF0YVR5cGVzWzBdKXx8IXNbIioiXSYmbCgiKiIpfWZ1bmN0aW9uIHp0KGUsdCl7dmFyIG4scixpPWsuYWpheFNldHRpbmdzLmZsYXRPcHRpb25zfHx7fTtmb3IobiBpbiB0KXZvaWQgMCE9PXRbbl0mJigoaVtuXT9lOnJ8fChyPXt9KSlbbl09dFtuXSk7cmV0dXJuIHImJmsuZXh0ZW5kKCEwLGUsciksZX1GdC5ocmVmPUV0LmhyZWYsay5leHRlbmQoe2FjdGl2ZTowLGxhc3RNb2RpZmllZDp7fSxldGFnOnt9LGFqYXhTZXR0aW5nczp7dXJsOkV0LmhyZWYsdHlwZToiR0VUIixpc0xvY2FsOi9eKD86YWJvdXR8YXBwfGFwcC1zdG9yYWdlfC4rLWV4dGVuc2lvbnxmaWxlfHJlc3x3aWRnZXQpOiQvLnRlc3QoRXQucHJvdG9jb2wpLGdsb2JhbDohMCxwcm9jZXNzRGF0YTohMCxhc3luYzohMCxjb250ZW50VHlwZToiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkOyBjaGFyc2V0PVVURi04IixhY2NlcHRzOnsiKiI6JHQsdGV4dDoidGV4dC9wbGFpbiIsaHRtbDoidGV4dC9odG1sIix4bWw6ImFwcGxpY2F0aW9uL3htbCwgdGV4dC94bWwiLGpzb246ImFwcGxpY2F0aW9uL2pzb24sIHRleHQvamF2YXNjcmlwdCJ9LGNvbnRlbnRzOnt4bWw6L1xieG1sXGIvLGh0bWw6L1xiaHRtbC8sanNvbjovXGJqc29uXGIvfSxyZXNwb25zZUZpZWxkczp7eG1sOiJyZXNwb25zZVhNTCIsdGV4dDoicmVzcG9uc2VUZXh0Iixqc29uOiJyZXNwb25zZUpTT04ifSxjb252ZXJ0ZXJzOnsiKiB0ZXh0IjpTdHJpbmcsInRleHQgaHRtbCI6ITAsInRleHQganNvbiI6SlNPTi5wYXJzZSwidGV4dCB4bWwiOmsucGFyc2VYTUx9LGZsYXRPcHRpb25zOnt1cmw6ITAsY29udGV4dDohMH19LGFqYXhTZXR1cDpmdW5jdGlvbihlLHQpe3JldHVybiB0P3p0KHp0KGUsay5hamF4U2V0dGluZ3MpLHQpOnp0KGsuYWpheFNldHRpbmdzLGUpfSxhamF4UHJlZmlsdGVyOkJ0KEl0KSxhamF4VHJhbnNwb3J0OkJ0KFd0KSxhamF4OmZ1bmN0aW9uKGUsdCl7Im9iamVjdCI9PXR5cGVvZiBlJiYodD1lLGU9dm9pZCAwKSx0PXR8fHt9O3ZhciBjLGYscCxuLGQscixoLGcsaSxvLHY9ay5hamF4U2V0dXAoe30sdCkseT12LmNvbnRleHR8fHYsbT12LmNvbnRleHQmJih5Lm5vZGVUeXBlfHx5LmpxdWVyeSk/ayh5KTprLmV2ZW50LHg9ay5EZWZlcnJlZCgpLGI9ay5DYWxsYmFja3MoIm9uY2UgbWVtb3J5Iiksdz12LnN0YXR1c0NvZGV8fHt9LGE9e30scz17fSx1PSJjYW5jZWxlZCIsVD17cmVhZHlTdGF0ZTowLGdldFJlc3BvbnNlSGVhZGVyOmZ1bmN0aW9uKGUpe3ZhciB0O2lmKGgpe2lmKCFuKXtuPXt9O3doaWxlKHQ9UHQuZXhlYyhwKSluW3RbMV0udG9Mb3dlckNhc2UoKSsiICJdPShuW3RbMV0udG9Mb3dlckNhc2UoKSsiICJdfHxbXSkuY29uY2F0KHRbMl0pfXQ9bltlLnRvTG93ZXJDYXNlKCkrIiAiXX1yZXR1cm4gbnVsbD09dD9udWxsOnQuam9pbigiLCAiKX0sZ2V0QWxsUmVzcG9uc2VIZWFkZXJzOmZ1bmN0aW9uKCl7cmV0dXJuIGg/cDpudWxsfSxzZXRSZXF1ZXN0SGVhZGVyOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIG51bGw9PWgmJihlPXNbZS50b0xvd2VyQ2FzZSgpXT1zW2UudG9Mb3dlckNhc2UoKV18fGUsYVtlXT10KSx0aGlzfSxvdmVycmlkZU1pbWVUeXBlOmZ1bmN0aW9uKGUpe3JldHVybiBudWxsPT1oJiYodi5taW1lVHlwZT1lKSx0aGlzfSxzdGF0dXNDb2RlOmZ1bmN0aW9uKGUpe3ZhciB0O2lmKGUpaWYoaClULmFsd2F5cyhlW1Quc3RhdHVzXSk7ZWxzZSBmb3IodCBpbiBlKXdbdF09W3dbdF0sZVt0XV07cmV0dXJuIHRoaXN9LGFib3J0OmZ1bmN0aW9uKGUpe3ZhciB0PWV8fHU7cmV0dXJuIGMmJmMuYWJvcnQodCksbCgwLHQpLHRoaXN9fTtpZih4LnByb21pc2UoVCksdi51cmw9KChlfHx2LnVybHx8RXQuaHJlZikrIiIpLnJlcGxhY2UoTXQsRXQucHJvdG9jb2wrIi8vIiksdi50eXBlPXQubWV0aG9kfHx0LnR5cGV8fHYubWV0aG9kfHx2LnR5cGUsdi5kYXRhVHlwZXM9KHYuZGF0YVR5cGV8fCIqIikudG9Mb3dlckNhc2UoKS5tYXRjaChSKXx8WyIiXSxudWxsPT12LmNyb3NzRG9tYWluKXtyPUUuY3JlYXRlRWxlbWVudCgiYSIpO3RyeXtyLmhyZWY9di51cmwsci5ocmVmPXIuaHJlZix2LmNyb3NzRG9tYWluPUZ0LnByb3RvY29sKyIvLyIrRnQuaG9zdCE9ci5wcm90b2NvbCsiLy8iK3IuaG9zdH1jYXRjaChlKXt2LmNyb3NzRG9tYWluPSEwfX1pZih2LmRhdGEmJnYucHJvY2Vzc0RhdGEmJiJzdHJpbmciIT10eXBlb2Ygdi5kYXRhJiYodi5kYXRhPWsucGFyYW0odi5kYXRhLHYudHJhZGl0aW9uYWwpKSxfdChJdCx2LHQsVCksaClyZXR1cm4gVDtmb3IoaSBpbihnPWsuZXZlbnQmJnYuZ2xvYmFsKSYmMD09ay5hY3RpdmUrKyYmay5ldmVudC50cmlnZ2VyKCJhamF4U3RhcnQiKSx2LnR5cGU9di50eXBlLnRvVXBwZXJDYXNlKCksdi5oYXNDb250ZW50PSFSdC50ZXN0KHYudHlwZSksZj12LnVybC5yZXBsYWNlKEh0LCIiKSx2Lmhhc0NvbnRlbnQ/di5kYXRhJiZ2LnByb2Nlc3NEYXRhJiYwPT09KHYuY29udGVudFR5cGV8fCIiKS5pbmRleE9mKCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQiKSYmKHYuZGF0YT12LmRhdGEucmVwbGFjZShMdCwiKyIpKToobz12LnVybC5zbGljZShmLmxlbmd0aCksdi5kYXRhJiYodi5wcm9jZXNzRGF0YXx8InN0cmluZyI9PXR5cGVvZiB2LmRhdGEpJiYoZis9KFN0LnRlc3QoZik/IiYiOiI/Iikrdi5kYXRhLGRlbGV0ZSB2LmRhdGEpLCExPT09di5jYWNoZSYmKGY9Zi5yZXBsYWNlKE90LCIkMSIpLG89KFN0LnRlc3QoZik/IiYiOiI/IikrIl89IitrdCsrK28pLHYudXJsPWYrbyksdi5pZk1vZGlmaWVkJiYoay5sYXN0TW9kaWZpZWRbZl0mJlQuc2V0UmVxdWVzdEhlYWRlcigiSWYtTW9kaWZpZWQtU2luY2UiLGsubGFzdE1vZGlmaWVkW2ZdKSxrLmV0YWdbZl0mJlQuc2V0UmVxdWVzdEhlYWRlcigiSWYtTm9uZS1NYXRjaCIsay5ldGFnW2ZdKSksKHYuZGF0YSYmdi5oYXNDb250ZW50JiYhMSE9PXYuY29udGVudFR5cGV8fHQuY29udGVudFR5cGUpJiZULnNldFJlcXVlc3RIZWFkZXIoIkNvbnRlbnQtVHlwZSIsdi5jb250ZW50VHlwZSksVC5zZXRSZXF1ZXN0SGVhZGVyKCJBY2NlcHQiLHYuZGF0YVR5cGVzWzBdJiZ2LmFjY2VwdHNbdi5kYXRhVHlwZXNbMF1dP3YuYWNjZXB0c1t2LmRhdGFUeXBlc1swXV0rKCIqIiE9PXYuZGF0YVR5cGVzWzBdPyIsICIrJHQrIjsgcT0wLjAxIjoiIik6di5hY2NlcHRzWyIqIl0pLHYuaGVhZGVycylULnNldFJlcXVlc3RIZWFkZXIoaSx2LmhlYWRlcnNbaV0pO2lmKHYuYmVmb3JlU2VuZCYmKCExPT09di5iZWZvcmVTZW5kLmNhbGwoeSxULHYpfHxoKSlyZXR1cm4gVC5hYm9ydCgpO2lmKHU9ImFib3J0IixiLmFkZCh2LmNvbXBsZXRlKSxULmRvbmUodi5zdWNjZXNzKSxULmZhaWwodi5lcnJvciksYz1fdChXdCx2LHQsVCkpe2lmKFQucmVhZHlTdGF0ZT0xLGcmJm0udHJpZ2dlcigiYWpheFNlbmQiLFtULHZdKSxoKXJldHVybiBUO3YuYXN5bmMmJjA8di50aW1lb3V0JiYoZD1DLnNldFRpbWVvdXQoZnVuY3Rpb24oKXtULmFib3J0KCJ0aW1lb3V0Iil9LHYudGltZW91dCkpO3RyeXtoPSExLGMuc2VuZChhLGwpfWNhdGNoKGUpe2lmKGgpdGhyb3cgZTtsKC0xLGUpfX1lbHNlIGwoLTEsIk5vIFRyYW5zcG9ydCIpO2Z1bmN0aW9uIGwoZSx0LG4scil7dmFyIGksbyxhLHMsdSxsPXQ7aHx8KGg9ITAsZCYmQy5jbGVhclRpbWVvdXQoZCksYz12b2lkIDAscD1yfHwiIixULnJlYWR5U3RhdGU9MDxlPzQ6MCxpPTIwMDw9ZSYmZTwzMDB8fDMwND09PWUsbiYmKHM9ZnVuY3Rpb24oZSx0LG4pe3ZhciByLGksbyxhLHM9ZS5jb250ZW50cyx1PWUuZGF0YVR5cGVzO3doaWxlKCIqIj09PXVbMF0pdS5zaGlmdCgpLHZvaWQgMD09PXImJihyPWUubWltZVR5cGV8fHQuZ2V0UmVzcG9uc2VIZWFkZXIoIkNvbnRlbnQtVHlwZSIpKTtpZihyKWZvcihpIGluIHMpaWYoc1tpXSYmc1tpXS50ZXN0KHIpKXt1LnVuc2hpZnQoaSk7YnJlYWt9aWYodVswXWluIG4pbz11WzBdO2Vsc2V7Zm9yKGkgaW4gbil7aWYoIXVbMF18fGUuY29udmVydGVyc1tpKyIgIit1WzBdXSl7bz1pO2JyZWFrfWF8fChhPWkpfW89b3x8YX1pZihvKXJldHVybiBvIT09dVswXSYmdS51bnNoaWZ0KG8pLG5bb119KHYsVCxuKSkscz1mdW5jdGlvbihlLHQsbixyKXt2YXIgaSxvLGEscyx1LGw9e30sYz1lLmRhdGFUeXBlcy5zbGljZSgpO2lmKGNbMV0pZm9yKGEgaW4gZS5jb252ZXJ0ZXJzKWxbYS50b0xvd2VyQ2FzZSgpXT1lLmNvbnZlcnRlcnNbYV07bz1jLnNoaWZ0KCk7d2hpbGUobylpZihlLnJlc3BvbnNlRmllbGRzW29dJiYobltlLnJlc3BvbnNlRmllbGRzW29dXT10KSwhdSYmciYmZS5kYXRhRmlsdGVyJiYodD1lLmRhdGFGaWx0ZXIodCxlLmRhdGFUeXBlKSksdT1vLG89Yy5zaGlmdCgpKWlmKCIqIj09PW8pbz11O2Vsc2UgaWYoIioiIT09dSYmdSE9PW8pe2lmKCEoYT1sW3UrIiAiK29dfHxsWyIqICIrb10pKWZvcihpIGluIGwpaWYoKHM9aS5zcGxpdCgiICIpKVsxXT09PW8mJihhPWxbdSsiICIrc1swXV18fGxbIiogIitzWzBdXSkpeyEwPT09YT9hPWxbaV06ITAhPT1sW2ldJiYobz1zWzBdLGMudW5zaGlmdChzWzFdKSk7YnJlYWt9aWYoITAhPT1hKWlmKGEmJmVbInRocm93cyJdKXQ9YSh0KTtlbHNlIHRyeXt0PWEodCl9Y2F0Y2goZSl7cmV0dXJue3N0YXRlOiJwYXJzZXJlcnJvciIsZXJyb3I6YT9lOiJObyBjb252ZXJzaW9uIGZyb20gIit1KyIgdG8gIitvfX19cmV0dXJue3N0YXRlOiJzdWNjZXNzIixkYXRhOnR9fSh2LHMsVCxpKSxpPyh2LmlmTW9kaWZpZWQmJigodT1ULmdldFJlc3BvbnNlSGVhZGVyKCJMYXN0LU1vZGlmaWVkIikpJiYoay5sYXN0TW9kaWZpZWRbZl09dSksKHU9VC5nZXRSZXNwb25zZUhlYWRlcigiZXRhZyIpKSYmKGsuZXRhZ1tmXT11KSksMjA0PT09ZXx8IkhFQUQiPT09di50eXBlP2w9Im5vY29udGVudCI6MzA0PT09ZT9sPSJub3Rtb2RpZmllZCI6KGw9cy5zdGF0ZSxvPXMuZGF0YSxpPSEoYT1zLmVycm9yKSkpOihhPWwsIWUmJmx8fChsPSJlcnJvciIsZTwwJiYoZT0wKSkpLFQuc3RhdHVzPWUsVC5zdGF0dXNUZXh0PSh0fHxsKSsiIixpP3gucmVzb2x2ZVdpdGgoeSxbbyxsLFRdKTp4LnJlamVjdFdpdGgoeSxbVCxsLGFdKSxULnN0YXR1c0NvZGUodyksdz12b2lkIDAsZyYmbS50cmlnZ2VyKGk/ImFqYXhTdWNjZXNzIjoiYWpheEVycm9yIixbVCx2LGk/bzphXSksYi5maXJlV2l0aCh5LFtULGxdKSxnJiYobS50cmlnZ2VyKCJhamF4Q29tcGxldGUiLFtULHZdKSwtLWsuYWN0aXZlfHxrLmV2ZW50LnRyaWdnZXIoImFqYXhTdG9wIikpKX1yZXR1cm4gVH0sZ2V0SlNPTjpmdW5jdGlvbihlLHQsbil7cmV0dXJuIGsuZ2V0KGUsdCxuLCJqc29uIil9LGdldFNjcmlwdDpmdW5jdGlvbihlLHQpe3JldHVybiBrLmdldChlLHZvaWQgMCx0LCJzY3JpcHQiKX19KSxrLmVhY2goWyJnZXQiLCJwb3N0Il0sZnVuY3Rpb24oZSxpKXtrW2ldPWZ1bmN0aW9uKGUsdCxuLHIpe3JldHVybiBtKHQpJiYocj1yfHxuLG49dCx0PXZvaWQgMCksay5hamF4KGsuZXh0ZW5kKHt1cmw6ZSx0eXBlOmksZGF0YVR5cGU6cixkYXRhOnQsc3VjY2VzczpufSxrLmlzUGxhaW5PYmplY3QoZSkmJmUpKX19KSxrLl9ldmFsVXJsPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGsuYWpheCh7dXJsOmUsdHlwZToiR0VUIixkYXRhVHlwZToic2NyaXB0IixjYWNoZTohMCxhc3luYzohMSxnbG9iYWw6ITEsY29udmVydGVyczp7InRleHQgc2NyaXB0IjpmdW5jdGlvbigpe319LGRhdGFGaWx0ZXI6ZnVuY3Rpb24oZSl7ay5nbG9iYWxFdmFsKGUsdCl9fSl9LGsuZm4uZXh0ZW5kKHt3cmFwQWxsOmZ1bmN0aW9uKGUpe3ZhciB0O3JldHVybiB0aGlzWzBdJiYobShlKSYmKGU9ZS5jYWxsKHRoaXNbMF0pKSx0PWsoZSx0aGlzWzBdLm93bmVyRG9jdW1lbnQpLmVxKDApLmNsb25lKCEwKSx0aGlzWzBdLnBhcmVudE5vZGUmJnQuaW5zZXJ0QmVmb3JlKHRoaXNbMF0pLHQubWFwKGZ1bmN0aW9uKCl7dmFyIGU9dGhpczt3aGlsZShlLmZpcnN0RWxlbWVudENoaWxkKWU9ZS5maXJzdEVsZW1lbnRDaGlsZDtyZXR1cm4gZX0pLmFwcGVuZCh0aGlzKSksdGhpc30sd3JhcElubmVyOmZ1bmN0aW9uKG4pe3JldHVybiBtKG4pP3RoaXMuZWFjaChmdW5jdGlvbihlKXtrKHRoaXMpLndyYXBJbm5lcihuLmNhbGwodGhpcyxlKSl9KTp0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgZT1rKHRoaXMpLHQ9ZS5jb250ZW50cygpO3QubGVuZ3RoP3Qud3JhcEFsbChuKTplLmFwcGVuZChuKX0pfSx3cmFwOmZ1bmN0aW9uKHQpe3ZhciBuPW0odCk7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbihlKXtrKHRoaXMpLndyYXBBbGwobj90LmNhbGwodGhpcyxlKTp0KX0pfSx1bndyYXA6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMucGFyZW50KGUpLm5vdCgiYm9keSIpLmVhY2goZnVuY3Rpb24oKXtrKHRoaXMpLnJlcGxhY2VXaXRoKHRoaXMuY2hpbGROb2Rlcyl9KSx0aGlzfX0pLGsuZXhwci5wc2V1ZG9zLmhpZGRlbj1mdW5jdGlvbihlKXtyZXR1cm4hay5leHByLnBzZXVkb3MudmlzaWJsZShlKX0say5leHByLnBzZXVkb3MudmlzaWJsZT1mdW5jdGlvbihlKXtyZXR1cm4hIShlLm9mZnNldFdpZHRofHxlLm9mZnNldEhlaWdodHx8ZS5nZXRDbGllbnRSZWN0cygpLmxlbmd0aCl9LGsuYWpheFNldHRpbmdzLnhocj1mdW5jdGlvbigpe3RyeXtyZXR1cm4gbmV3IEMuWE1MSHR0cFJlcXVlc3R9Y2F0Y2goZSl7fX07dmFyIFV0PXswOjIwMCwxMjIzOjIwNH0sWHQ9ay5hamF4U2V0dGluZ3MueGhyKCk7eS5jb3JzPSEhWHQmJiJ3aXRoQ3JlZGVudGlhbHMiaW4gWHQseS5hamF4PVh0PSEhWHQsay5hamF4VHJhbnNwb3J0KGZ1bmN0aW9uKGkpe3ZhciBvLGE7aWYoeS5jb3JzfHxYdCYmIWkuY3Jvc3NEb21haW4pcmV0dXJue3NlbmQ6ZnVuY3Rpb24oZSx0KXt2YXIgbixyPWkueGhyKCk7aWYoci5vcGVuKGkudHlwZSxpLnVybCxpLmFzeW5jLGkudXNlcm5hbWUsaS5wYXNzd29yZCksaS54aHJGaWVsZHMpZm9yKG4gaW4gaS54aHJGaWVsZHMpcltuXT1pLnhockZpZWxkc1tuXTtmb3IobiBpbiBpLm1pbWVUeXBlJiZyLm92ZXJyaWRlTWltZVR5cGUmJnIub3ZlcnJpZGVNaW1lVHlwZShpLm1pbWVUeXBlKSxpLmNyb3NzRG9tYWlufHxlWyJYLVJlcXVlc3RlZC1XaXRoIl18fChlWyJYLVJlcXVlc3RlZC1XaXRoIl09IlhNTEh0dHBSZXF1ZXN0IiksZSlyLnNldFJlcXVlc3RIZWFkZXIobixlW25dKTtvPWZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbigpe28mJihvPWE9ci5vbmxvYWQ9ci5vbmVycm9yPXIub25hYm9ydD1yLm9udGltZW91dD1yLm9ucmVhZHlzdGF0ZWNoYW5nZT1udWxsLCJhYm9ydCI9PT1lP3IuYWJvcnQoKToiZXJyb3IiPT09ZT8ibnVtYmVyIiE9dHlwZW9mIHIuc3RhdHVzP3QoMCwiZXJyb3IiKTp0KHIuc3RhdHVzLHIuc3RhdHVzVGV4dCk6dChVdFtyLnN0YXR1c118fHIuc3RhdHVzLHIuc3RhdHVzVGV4dCwidGV4dCIhPT0oci5yZXNwb25zZVR5cGV8fCJ0ZXh0Iil8fCJzdHJpbmciIT10eXBlb2Ygci5yZXNwb25zZVRleHQ/e2JpbmFyeTpyLnJlc3BvbnNlfTp7dGV4dDpyLnJlc3BvbnNlVGV4dH0sci5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKSkpfX0sci5vbmxvYWQ9bygpLGE9ci5vbmVycm9yPXIub250aW1lb3V0PW8oImVycm9yIiksdm9pZCAwIT09ci5vbmFib3J0P3Iub25hYm9ydD1hOnIub25yZWFkeXN0YXRlY2hhbmdlPWZ1bmN0aW9uKCl7ND09PXIucmVhZHlTdGF0ZSYmQy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7byYmYSgpfSl9LG89bygiYWJvcnQiKTt0cnl7ci5zZW5kKGkuaGFzQ29udGVudCYmaS5kYXRhfHxudWxsKX1jYXRjaChlKXtpZihvKXRocm93IGV9fSxhYm9ydDpmdW5jdGlvbigpe28mJm8oKX19fSksay5hamF4UHJlZmlsdGVyKGZ1bmN0aW9uKGUpe2UuY3Jvc3NEb21haW4mJihlLmNvbnRlbnRzLnNjcmlwdD0hMSl9KSxrLmFqYXhTZXR1cCh7YWNjZXB0czp7c2NyaXB0OiJ0ZXh0L2phdmFzY3JpcHQsIGFwcGxpY2F0aW9uL2phdmFzY3JpcHQsIGFwcGxpY2F0aW9uL2VjbWFzY3JpcHQsIGFwcGxpY2F0aW9uL3gtZWNtYXNjcmlwdCJ9LGNvbnRlbnRzOntzY3JpcHQ6L1xiKD86amF2YXxlY21hKXNjcmlwdFxiL30sY29udmVydGVyczp7InRleHQgc2NyaXB0IjpmdW5jdGlvbihlKXtyZXR1cm4gay5nbG9iYWxFdmFsKGUpLGV9fX0pLGsuYWpheFByZWZpbHRlcigic2NyaXB0IixmdW5jdGlvbihlKXt2b2lkIDA9PT1lLmNhY2hlJiYoZS5jYWNoZT0hMSksZS5jcm9zc0RvbWFpbiYmKGUudHlwZT0iR0VUIil9KSxrLmFqYXhUcmFuc3BvcnQoInNjcmlwdCIsZnVuY3Rpb24obil7dmFyIHIsaTtpZihuLmNyb3NzRG9tYWlufHxuLnNjcmlwdEF0dHJzKXJldHVybntzZW5kOmZ1bmN0aW9uKGUsdCl7cj1rKCI8c2NyaXB0PiIpLmF0dHIobi5zY3JpcHRBdHRyc3x8e30pLnByb3Aoe2NoYXJzZXQ6bi5zY3JpcHRDaGFyc2V0LHNyYzpuLnVybH0pLm9uKCJsb2FkIGVycm9yIixpPWZ1bmN0aW9uKGUpe3IucmVtb3ZlKCksaT1udWxsLGUmJnQoImVycm9yIj09PWUudHlwZT80MDQ6MjAwLGUudHlwZSl9KSxFLmhlYWQuYXBwZW5kQ2hpbGQoclswXSl9LGFib3J0OmZ1bmN0aW9uKCl7aSYmaSgpfX19KTt2YXIgVnQsR3Q9W10sWXQ9Lyg9KVw/KD89JnwkKXxcP1w/LztrLmFqYXhTZXR1cCh7anNvbnA6ImNhbGxiYWNrIixqc29ucENhbGxiYWNrOmZ1bmN0aW9uKCl7dmFyIGU9R3QucG9wKCl8fGsuZXhwYW5kbysiXyIra3QrKztyZXR1cm4gdGhpc1tlXT0hMCxlfX0pLGsuYWpheFByZWZpbHRlcigianNvbiBqc29ucCIsZnVuY3Rpb24oZSx0LG4pe3ZhciByLGksbyxhPSExIT09ZS5qc29ucCYmKFl0LnRlc3QoZS51cmwpPyJ1cmwiOiJzdHJpbmciPT10eXBlb2YgZS5kYXRhJiYwPT09KGUuY29udGVudFR5cGV8fCIiKS5pbmRleE9mKCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQiKSYmWXQudGVzdChlLmRhdGEpJiYiZGF0YSIpO2lmKGF8fCJqc29ucCI9PT1lLmRhdGFUeXBlc1swXSlyZXR1cm4gcj1lLmpzb25wQ2FsbGJhY2s9bShlLmpzb25wQ2FsbGJhY2spP2UuanNvbnBDYWxsYmFjaygpOmUuanNvbnBDYWxsYmFjayxhP2VbYV09ZVthXS5yZXBsYWNlKFl0LCIkMSIrcik6ITEhPT1lLmpzb25wJiYoZS51cmwrPShTdC50ZXN0KGUudXJsKT8iJiI6Ij8iKStlLmpzb25wKyI9IityKSxlLmNvbnZlcnRlcnNbInNjcmlwdCBqc29uIl09ZnVuY3Rpb24oKXtyZXR1cm4gb3x8ay5lcnJvcihyKyIgd2FzIG5vdCBjYWxsZWQiKSxvWzBdfSxlLmRhdGFUeXBlc1swXT0ianNvbiIsaT1DW3JdLENbcl09ZnVuY3Rpb24oKXtvPWFyZ3VtZW50c30sbi5hbHdheXMoZnVuY3Rpb24oKXt2b2lkIDA9PT1pP2soQykucmVtb3ZlUHJvcChyKTpDW3JdPWksZVtyXSYmKGUuanNvbnBDYWxsYmFjaz10Lmpzb25wQ2FsbGJhY2ssR3QucHVzaChyKSksbyYmbShpKSYmaShvWzBdKSxvPWk9dm9pZCAwfSksInNjcmlwdCJ9KSx5LmNyZWF0ZUhUTUxEb2N1bWVudD0oKFZ0PUUuaW1wbGVtZW50YXRpb24uY3JlYXRlSFRNTERvY3VtZW50KCIiKS5ib2R5KS5pbm5lckhUTUw9Ijxmb3JtPjwvZm9ybT48Zm9ybT48L2Zvcm0+IiwyPT09VnQuY2hpbGROb2Rlcy5sZW5ndGgpLGsucGFyc2VIVE1MPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4ic3RyaW5nIiE9dHlwZW9mIGU/W106KCJib29sZWFuIj09dHlwZW9mIHQmJihuPXQsdD0hMSksdHx8KHkuY3JlYXRlSFRNTERvY3VtZW50Pygocj0odD1FLmltcGxlbWVudGF0aW9uLmNyZWF0ZUhUTUxEb2N1bWVudCgiIikpLmNyZWF0ZUVsZW1lbnQoImJhc2UiKSkuaHJlZj1FLmxvY2F0aW9uLmhyZWYsdC5oZWFkLmFwcGVuZENoaWxkKHIpKTp0PUUpLG89IW4mJltdLChpPUQuZXhlYyhlKSk/W3QuY3JlYXRlRWxlbWVudChpWzFdKV06KGk9d2UoW2VdLHQsbyksbyYmby5sZW5ndGgmJmsobykucmVtb3ZlKCksay5tZXJnZShbXSxpLmNoaWxkTm9kZXMpKSk7dmFyIHIsaSxvfSxrLmZuLmxvYWQ9ZnVuY3Rpb24oZSx0LG4pe3ZhciByLGksbyxhPXRoaXMscz1lLmluZGV4T2YoIiAiKTtyZXR1cm4tMTxzJiYocj1tdChlLnNsaWNlKHMpKSxlPWUuc2xpY2UoMCxzKSksbSh0KT8obj10LHQ9dm9pZCAwKTp0JiYib2JqZWN0Ij09dHlwZW9mIHQmJihpPSJQT1NUIiksMDxhLmxlbmd0aCYmay5hamF4KHt1cmw6ZSx0eXBlOml8fCJHRVQiLGRhdGFUeXBlOiJodG1sIixkYXRhOnR9KS5kb25lKGZ1bmN0aW9uKGUpe289YXJndW1lbnRzLGEuaHRtbChyP2soIjxkaXY+IikuYXBwZW5kKGsucGFyc2VIVE1MKGUpKS5maW5kKHIpOmUpfSkuYWx3YXlzKG4mJmZ1bmN0aW9uKGUsdCl7YS5lYWNoKGZ1bmN0aW9uKCl7bi5hcHBseSh0aGlzLG98fFtlLnJlc3BvbnNlVGV4dCx0LGVdKX0pfSksdGhpc30say5lYWNoKFsiYWpheFN0YXJ0IiwiYWpheFN0b3AiLCJhamF4Q29tcGxldGUiLCJhamF4RXJyb3IiLCJhamF4U3VjY2VzcyIsImFqYXhTZW5kIl0sZnVuY3Rpb24oZSx0KXtrLmZuW3RdPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLm9uKHQsZSl9fSksay5leHByLnBzZXVkb3MuYW5pbWF0ZWQ9ZnVuY3Rpb24odCl7cmV0dXJuIGsuZ3JlcChrLnRpbWVycyxmdW5jdGlvbihlKXtyZXR1cm4gdD09PWUuZWxlbX0pLmxlbmd0aH0say5vZmZzZXQ9e3NldE9mZnNldDpmdW5jdGlvbihlLHQsbil7dmFyIHIsaSxvLGEscyx1LGw9ay5jc3MoZSwicG9zaXRpb24iKSxjPWsoZSksZj17fTsic3RhdGljIj09PWwmJihlLnN0eWxlLnBvc2l0aW9uPSJyZWxhdGl2ZSIpLHM9Yy5vZmZzZXQoKSxvPWsuY3NzKGUsInRvcCIpLHU9ay5jc3MoZSwibGVmdCIpLCgiYWJzb2x1dGUiPT09bHx8ImZpeGVkIj09PWwpJiYtMTwobyt1KS5pbmRleE9mKCJhdXRvIik/KGE9KHI9Yy5wb3NpdGlvbigpKS50b3AsaT1yLmxlZnQpOihhPXBhcnNlRmxvYXQobyl8fDAsaT1wYXJzZUZsb2F0KHUpfHwwKSxtKHQpJiYodD10LmNhbGwoZSxuLGsuZXh0ZW5kKHt9LHMpKSksbnVsbCE9dC50b3AmJihmLnRvcD10LnRvcC1zLnRvcCthKSxudWxsIT10LmxlZnQmJihmLmxlZnQ9dC5sZWZ0LXMubGVmdCtpKSwidXNpbmciaW4gdD90LnVzaW5nLmNhbGwoZSxmKTpjLmNzcyhmKX19LGsuZm4uZXh0ZW5kKHtvZmZzZXQ6ZnVuY3Rpb24odCl7aWYoYXJndW1lbnRzLmxlbmd0aClyZXR1cm4gdm9pZCAwPT09dD90aGlzOnRoaXMuZWFjaChmdW5jdGlvbihlKXtrLm9mZnNldC5zZXRPZmZzZXQodGhpcyx0LGUpfSk7dmFyIGUsbixyPXRoaXNbMF07cmV0dXJuIHI/ci5nZXRDbGllbnRSZWN0cygpLmxlbmd0aD8oZT1yLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLG49ci5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3LHt0b3A6ZS50b3Arbi5wYWdlWU9mZnNldCxsZWZ0OmUubGVmdCtuLnBhZ2VYT2Zmc2V0fSk6e3RvcDowLGxlZnQ6MH06dm9pZCAwfSxwb3NpdGlvbjpmdW5jdGlvbigpe2lmKHRoaXNbMF0pe3ZhciBlLHQsbixyPXRoaXNbMF0saT17dG9wOjAsbGVmdDowfTtpZigiZml4ZWQiPT09ay5jc3MociwicG9zaXRpb24iKSl0PXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7ZWxzZXt0PXRoaXMub2Zmc2V0KCksbj1yLm93bmVyRG9jdW1lbnQsZT1yLm9mZnNldFBhcmVudHx8bi5kb2N1bWVudEVsZW1lbnQ7d2hpbGUoZSYmKGU9PT1uLmJvZHl8fGU9PT1uLmRvY3VtZW50RWxlbWVudCkmJiJzdGF0aWMiPT09ay5jc3MoZSwicG9zaXRpb24iKSllPWUucGFyZW50Tm9kZTtlJiZlIT09ciYmMT09PWUubm9kZVR5cGUmJigoaT1rKGUpLm9mZnNldCgpKS50b3ArPWsuY3NzKGUsImJvcmRlclRvcFdpZHRoIiwhMCksaS5sZWZ0Kz1rLmNzcyhlLCJib3JkZXJMZWZ0V2lkdGgiLCEwKSl9cmV0dXJue3RvcDp0LnRvcC1pLnRvcC1rLmNzcyhyLCJtYXJnaW5Ub3AiLCEwKSxsZWZ0OnQubGVmdC1pLmxlZnQtay5jc3MociwibWFyZ2luTGVmdCIsITApfX19LG9mZnNldFBhcmVudDpmdW5jdGlvbigpe3JldHVybiB0aGlzLm1hcChmdW5jdGlvbigpe3ZhciBlPXRoaXMub2Zmc2V0UGFyZW50O3doaWxlKGUmJiJzdGF0aWMiPT09ay5jc3MoZSwicG9zaXRpb24iKSllPWUub2Zmc2V0UGFyZW50O3JldHVybiBlfHxpZX0pfX0pLGsuZWFjaCh7c2Nyb2xsTGVmdDoicGFnZVhPZmZzZXQiLHNjcm9sbFRvcDoicGFnZVlPZmZzZXQifSxmdW5jdGlvbih0LGkpe3ZhciBvPSJwYWdlWU9mZnNldCI9PT1pO2suZm5bdF09ZnVuY3Rpb24oZSl7cmV0dXJuIF8odGhpcyxmdW5jdGlvbihlLHQsbil7dmFyIHI7aWYoeChlKT9yPWU6OT09PWUubm9kZVR5cGUmJihyPWUuZGVmYXVsdFZpZXcpLHZvaWQgMD09PW4pcmV0dXJuIHI/cltpXTplW3RdO3I/ci5zY3JvbGxUbyhvP3IucGFnZVhPZmZzZXQ6bixvP246ci5wYWdlWU9mZnNldCk6ZVt0XT1ufSx0LGUsYXJndW1lbnRzLmxlbmd0aCl9fSksay5lYWNoKFsidG9wIiwibGVmdCJdLGZ1bmN0aW9uKGUsbil7ay5jc3NIb29rc1tuXT16ZSh5LnBpeGVsUG9zaXRpb24sZnVuY3Rpb24oZSx0KXtpZih0KXJldHVybiB0PV9lKGUsbiksJGUudGVzdCh0KT9rKGUpLnBvc2l0aW9uKClbbl0rInB4Ijp0fSl9KSxrLmVhY2goe0hlaWdodDoiaGVpZ2h0IixXaWR0aDoid2lkdGgifSxmdW5jdGlvbihhLHMpe2suZWFjaCh7cGFkZGluZzoiaW5uZXIiK2EsY29udGVudDpzLCIiOiJvdXRlciIrYX0sZnVuY3Rpb24ocixvKXtrLmZuW29dPWZ1bmN0aW9uKGUsdCl7dmFyIG49YXJndW1lbnRzLmxlbmd0aCYmKHJ8fCJib29sZWFuIiE9dHlwZW9mIGUpLGk9cnx8KCEwPT09ZXx8ITA9PT10PyJtYXJnaW4iOiJib3JkZXIiKTtyZXR1cm4gXyh0aGlzLGZ1bmN0aW9uKGUsdCxuKXt2YXIgcjtyZXR1cm4geChlKT8wPT09by5pbmRleE9mKCJvdXRlciIpP2VbImlubmVyIithXTplLmRvY3VtZW50LmRvY3VtZW50RWxlbWVudFsiY2xpZW50IithXTo5PT09ZS5ub2RlVHlwZT8ocj1lLmRvY3VtZW50RWxlbWVudCxNYXRoLm1heChlLmJvZHlbInNjcm9sbCIrYV0sclsic2Nyb2xsIithXSxlLmJvZHlbIm9mZnNldCIrYV0sclsib2Zmc2V0IithXSxyWyJjbGllbnQiK2FdKSk6dm9pZCAwPT09bj9rLmNzcyhlLHQsaSk6ay5zdHlsZShlLHQsbixpKX0scyxuP2U6dm9pZCAwLG4pfX0pfSksay5lYWNoKCJibHVyIGZvY3VzIGZvY3VzaW4gZm9jdXNvdXQgcmVzaXplIHNjcm9sbCBjbGljayBkYmxjbGljayBtb3VzZWRvd24gbW91c2V1cCBtb3VzZW1vdmUgbW91c2VvdmVyIG1vdXNlb3V0IG1vdXNlZW50ZXIgbW91c2VsZWF2ZSBjaGFuZ2Ugc2VsZWN0IHN1Ym1pdCBrZXlkb3duIGtleXByZXNzIGtleXVwIGNvbnRleHRtZW51Ii5zcGxpdCgiICIpLGZ1bmN0aW9uKGUsbil7ay5mbltuXT1mdW5jdGlvbihlLHQpe3JldHVybiAwPGFyZ3VtZW50cy5sZW5ndGg/dGhpcy5vbihuLG51bGwsZSx0KTp0aGlzLnRyaWdnZXIobil9fSksay5mbi5leHRlbmQoe2hvdmVyOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMubW91c2VlbnRlcihlKS5tb3VzZWxlYXZlKHR8fGUpfX0pLGsuZm4uZXh0ZW5kKHtiaW5kOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gdGhpcy5vbihlLG51bGwsdCxuKX0sdW5iaW5kOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMub2ZmKGUsbnVsbCx0KX0sZGVsZWdhdGU6ZnVuY3Rpb24oZSx0LG4scil7cmV0dXJuIHRoaXMub24odCxlLG4scil9LHVuZGVsZWdhdGU6ZnVuY3Rpb24oZSx0LG4pe3JldHVybiAxPT09YXJndW1lbnRzLmxlbmd0aD90aGlzLm9mZihlLCIqKiIpOnRoaXMub2ZmKHQsZXx8IioqIixuKX19KSxrLnByb3h5PWZ1bmN0aW9uKGUsdCl7dmFyIG4scixpO2lmKCJzdHJpbmciPT10eXBlb2YgdCYmKG49ZVt0XSx0PWUsZT1uKSxtKGUpKXJldHVybiByPXMuY2FsbChhcmd1bWVudHMsMiksKGk9ZnVuY3Rpb24oKXtyZXR1cm4gZS5hcHBseSh0fHx0aGlzLHIuY29uY2F0KHMuY2FsbChhcmd1bWVudHMpKSl9KS5ndWlkPWUuZ3VpZD1lLmd1aWR8fGsuZ3VpZCsrLGl9LGsuaG9sZFJlYWR5PWZ1bmN0aW9uKGUpe2U/ay5yZWFkeVdhaXQrKzprLnJlYWR5KCEwKX0say5pc0FycmF5PUFycmF5LmlzQXJyYXksay5wYXJzZUpTT049SlNPTi5wYXJzZSxrLm5vZGVOYW1lPUEsay5pc0Z1bmN0aW9uPW0say5pc1dpbmRvdz14LGsuY2FtZWxDYXNlPVYsay50eXBlPXcsay5ub3c9RGF0ZS5ub3csay5pc051bWVyaWM9ZnVuY3Rpb24oZSl7dmFyIHQ9ay50eXBlKGUpO3JldHVybigibnVtYmVyIj09PXR8fCJzdHJpbmciPT09dCkmJiFpc05hTihlLXBhcnNlRmxvYXQoZSkpfSwiZnVuY3Rpb24iPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kJiZkZWZpbmUoImpxdWVyeSIsW10sZnVuY3Rpb24oKXtyZXR1cm4ga30pO3ZhciBRdD1DLmpRdWVyeSxKdD1DLiQ7cmV0dXJuIGsubm9Db25mbGljdD1mdW5jdGlvbihlKXtyZXR1cm4gQy4kPT09ayYmKEMuJD1KdCksZSYmQy5qUXVlcnk9PT1rJiYoQy5qUXVlcnk9UXQpLGt9LGV8fChDLmpRdWVyeT1DLiQ9ayksa30pOwo="}]},{"name":"Remove Link Target","options":{"check_for_updates":false,"comment":null,"compat_foreach":false,"compat_metadata":false,"compat_powerful_this":null,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"merge_connects":true,"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_connects":[],"orig_excludes":[],"orig_includes":[],"orig_matches":["https://pahe.li/*"],"orig_noframes":null,"orig_run_at":"document-idle","use_blockers":[],"use_connects":[],"use_excludes":[],"use_includes":[],"use_matches":[]},"run_at":null,"sandbox":null,"tab_types":null,"unwrap":null,"user_modified":null},"storage":{"ts":1715999537194,"data":{}},"enabled":true,"position":2,"file_url":"https://greasyfork.org/scripts/3039-link-target-blank-to-removal/code/Link%20Target%20'blank'%20to%20removal.user.js","uuid":"bcdf80d9-ac3a-4537-822e-536f3ad49e7d","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICAgIFJlbW92ZSBMaW5rIFRhcmdldAovLyBAY3JlYXRvciAgICAgICAga291c2kKLy8gQGRlc2NyaXB0aW9uICAgIFJlbW92ZXMgdGFyZ2V0IGF0dHJpYnV0ZSBjb21wbGV0ZWx5LgovLyBAdmVyc2lvbiAgICAgICAgMS4wCgovLyBAbWF0Y2ggICAgICAgIGh0dHBzOi8vcGFoZS5saS8qCi8vID09L1VzZXJTY3JpcHQ9PQoKdmFyIGxpbmtzID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2EnKTsKCmZvciAodmFyIGkgPSBsaW5rcy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkgewogICBsaW5rc1tpXS5yZW1vdmVBdHRyaWJ1dGUoInRhcmdldCIpOwp9"},{"name":"Menghilangkan Web Limit","options":{"check_for_updates":true,"comment":null,"compat_foreach":false,"compat_metadata":false,"compat_powerful_this":null,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"merge_connects":true,"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_connects":[],"orig_excludes":[],"orig_includes":[],"orig_matches":["*://*/*"],"orig_noframes":null,"orig_run_at":"document-start","use_blockers":[],"use_connects":[],"use_excludes":[],"use_includes":[],"use_matches":[]},"run_at":null,"sandbox":null,"tab_types":null,"unwrap":null,"user_modified":null},"storage":{"ts":1715999537194,"data":{}},"enabled":false,"position":3,"file_url":"https://greasyfork.org/scripts/18886-menghilangkan-web-limit/code/Menghilangkan%20Web%20Limit.user.js","uuid":"904741cd-a0be-4c60-882b-b63ecd98ca6d","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWVzcGFjZSAgICAgICAgIGh0dHA6Ly93d3cuZm9ybmVzaWEuY29tCi8vIEBuYW1lICAgICAgICAgICAgICBNZW5naGlsYW5na2FuIFdlYiBMaW1pdAovLyBAZGVzY3JpcHRpb24gICAgICAgTWVuZ2hpbGFuZ2thbiBsaW1pdCBwYWRhIHdlYnNpdGUgeWFuZyB0aWRhayBiaXNhIGNvcHksIGN1dCwgc2VsZWN0IHRoZSB0ZXh0LCByaWdodC1jbGljayBtZW51LgovLyBAaG9tZXBhZ2VVUkwgICAgICAgaHR0cDovL3d3dy5mb3JuZXNpYS5jb20KLy8gQHN1cHBvcnRVUkwgICAgICAgIGh0dHA6Ly93d3cuZm9ybmVzaWEuY29tCgovLyBAYXV0aG9yICAgICAgICAgICAgZm9ybmVzaWFmcmVhawovLyBAdmVyc2lvbiAgICAgICAgICAgMS4wCi8vIEBsaWNlbnNlICAgICAgICAgICBMR1BMdjMKLy8gQGNvbXBhdGlibGUgICAgICAgIGNocm9tZSBDaHJvbWVfNDYuMC4yNDkwLjg2ICsgVGFtcGVyTW9ua2V5Ci8vIEBjb21wYXRpYmxlICAgICAgICBmaXJlZm94IEZpcmVmb3hfNDIuMCArIEdyZWFzZU1vbmtleQovLyBAY29tcGF0aWJsZSAgICAgICAgb3BlcmEgT3BlcmFfMzMuMC4xOTkwLjExNSArIFRhbXBlck1vbmtleQovLyBAY29tcGF0aWJsZSAgICAgICAgc2FmYXJpCi8vIEBtYXRjaCAgICAgICAgICAgICAqOi8vKi8qCi8vIEBncmFudCAgICAgICAgICAgICBub25lCi8vIEBydW4tYXQgICAgICAgICAgICBkb2N1bWVudC1zdGFydAovLyA9PS9Vc2VyU2NyaXB0PT0KJ3VzZSBzdHJpY3QnOwoKdmFyIHJ1bGVzID0gewogIGJsYWNrX3J1bGU6IHsKICAgIG5hbWU6ICJibGFjayIsCiAgICBob29rX2V2ZW50TmFtZXM6ICIiLAogICAgdW5ob29rX2V2ZW50TmFtZXM6ICIiCiAgfSwKICBkZWZhdWx0X3J1bGU6IHsKICAgIG5hbWU6ICJkZWZhdWx0IiwKICAgIGhvb2tfZXZlbnROYW1lczogImNvbnRleHRtZW51fHNlbGVjdHxzZWxlY3RzdGFydHxjb3B5fGN1dHxkcmFnc3RhcnQiLAogICAgdW5ob29rX2V2ZW50TmFtZXM6ICJtb3VzZWRvd258bW91c2V1cHxrZXlkb3dufGtleXVwIiwKICAgIGRvbTA6IHRydWUsCiAgICBob29rX2FkZEV2ZW50TGlzdGVuZXI6IHRydWUsCiAgICBob29rX3ByZXZlbnREZWZhdWx0OiB0cnVlLAogICAgaG9va19zZXRfcmV0dXJuVmFsdWU6IHRydWUsCiAgICBhZGRfY3NzOiB0cnVlCiAgfQp9OwoKdmFyIGxpc3RzID0gewoKICBibGFja19saXN0OiBbCiAgICAvLipcLnlvdXR1YmVcLmNvbS4qLywKICAgIC90cmFuc2xhdGVcLmdvb2dsZVwuLiovCiAgXQp9OwoKdmFyIGhvb2tfZXZlbnROYW1lcywgdW5ob29rX2V2ZW50TmFtZXMsIGV2ZW50TmFtZXM7Cgp2YXIgc3RvcmFnZU5hbWUgPSBnZXRSYW5kU3RyKCdxd2VydHl1aW9wYXNkZmdoamtsenhjdmJubVFXRVJUWVVJT1BBU0RGR0hKS0xaWENWQk5NJywgcGFyc2VJbnQoTWF0aC5yYW5kb20oKSAqIDEyICsgOCkpOwoKdmFyIEV2ZW50VGFyZ2V0X2FkZEV2ZW50TGlzdGVuZXIgPSBFdmVudFRhcmdldC5wcm90b3R5cGUuYWRkRXZlbnRMaXN0ZW5lcjsKdmFyIGRvY3VtZW50X2FkZEV2ZW50TGlzdGVuZXIgPSBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyOwp2YXIgRXZlbnRfcHJldmVudERlZmF1bHQgPSBFdmVudC5wcm90b3R5cGUucHJldmVudERlZmF1bHQ7CgovLyBIb29rIGFkZEV2ZW50TGlzdGVuZXIgcHJvYwpmdW5jdGlvbiBhZGRFdmVudExpc3RlbmVyKHR5cGUsIGZ1bmMsIHVzZUNhcHR1cmUpIHsKICB2YXIgX2FkZEV2ZW50TGlzdGVuZXIgPSB0aGlzID09PSBkb2N1bWVudCA/IGRvY3VtZW50X2FkZEV2ZW50TGlzdGVuZXIgOiBFdmVudFRhcmdldF9hZGRFdmVudExpc3RlbmVyOwogIGlmKGhvb2tfZXZlbnROYW1lcy5pbmRleE9mKHR5cGUpID49IDApIHsKICAgIF9hZGRFdmVudExpc3RlbmVyLmFwcGx5KHRoaXMsIFt0eXBlLCByZXR1cm5UcnVlLCB1c2VDYXB0dXJlXSk7CiAgfSBlbHNlIGlmKHVuaG9va19ldmVudE5hbWVzLmluZGV4T2YodHlwZSkgPj0gMCkgewogICAgdmFyIGZ1bmNzTmFtZSA9IHN0b3JhZ2VOYW1lICsgdHlwZSArICh1c2VDYXB0dXJlID8gJ3QnIDogJ2YnKTsKCiAgICBpZih0aGlzW2Z1bmNzTmFtZV0gPT09IHVuZGVmaW5lZCkgewogICAgICB0aGlzW2Z1bmNzTmFtZV0gPSBbXTsKICAgICAgX2FkZEV2ZW50TGlzdGVuZXIuYXBwbHkodGhpcywgW3R5cGUsIHVzZUNhcHR1cmUgPyB1bmhvb2tfdCA6IHVuaG9va19mLCB1c2VDYXB0dXJlXSk7CiAgICB9CgogICAgdGhpc1tmdW5jc05hbWVdLnB1c2goZnVuYykKICB9IGVsc2UgewogICAgX2FkZEV2ZW50TGlzdGVuZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICB9Cn0KCmZ1bmN0aW9uIGNsZWFyTG9vcCgpIHsKICB2YXIgZWxlbWVudHMgPSBnZXRFbGVtZW50cygpOwoKICBmb3IodmFyIGkgaW4gZWxlbWVudHMpIHsKICAgIGZvcih2YXIgaiBpbiBldmVudE5hbWVzKSB7CiAgICAgIHZhciBuYW1lID0gJ29uJyArIGV2ZW50TmFtZXNbal07CiAgICAgIGlmKGVsZW1lbnRzW2ldW25hbWVdICE9IG51bGwgJiYgZWxlbWVudHNbaV1bbmFtZV0gIT0gb254eHgpIHsKICAgICAgICBpZih1bmhvb2tfZXZlbnROYW1lcy5pbmRleE9mKGV2ZW50TmFtZXNbal0pID49IDApIHsKICAgICAgICAgIGVsZW1lbnRzW2ldW3N0b3JhZ2VOYW1lICsgbmFtZV0gPSBlbGVtZW50c1tpXVtuYW1lXTsKICAgICAgICAgIGVsZW1lbnRzW2ldW25hbWVdID0gb254eHg7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGVsZW1lbnRzW2ldW25hbWVdID0gbnVsbDsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICB9Cn0KCmZ1bmN0aW9uIHJldHVyblRydWUoZSkgewogIHJldHVybiB0cnVlOwp9CmZ1bmN0aW9uIHVuaG9va190KGUpIHsKICByZXR1cm4gdW5ob29rKGUsIHRoaXMsIHN0b3JhZ2VOYW1lICsgZS50eXBlICsgJ3QnKTsKfQpmdW5jdGlvbiB1bmhvb2tfZihlKSB7CiAgcmV0dXJuIHVuaG9vayhlLCB0aGlzLCBzdG9yYWdlTmFtZSArIGUudHlwZSArICdmJyk7Cn0KZnVuY3Rpb24gdW5ob29rKGUsIHNlbGYsIGZ1bmNzTmFtZSkgewogIHZhciBsaXN0ID0gc2VsZltmdW5jc05hbWVdOwogIGZvcih2YXIgaSBpbiBsaXN0KSB7CiAgICBsaXN0W2ldKGUpOwogIH0KCiAgZS5yZXR1cm5WYWx1ZSA9IHRydWU7CiAgcmV0dXJuIHRydWU7Cn0KZnVuY3Rpb24gb254eHgoZSkgewogIHZhciBuYW1lID0gc3RvcmFnZU5hbWUgKyAnb24nICsgZS50eXBlOwogIHRoaXNbbmFtZV0oZSk7CgogIGUucmV0dXJuVmFsdWUgPSB0cnVlOwogIHJldHVybiB0cnVlOwp9CgpmdW5jdGlvbiBnZXRSYW5kU3RyKGNocywgbGVuKSB7CiAgdmFyIHN0ciA9ICcnOwoKICB3aGlsZShsZW4tLSkgewogICAgc3RyICs9IGNoc1twYXJzZUludChNYXRoLnJhbmRvbSgpICogY2hzLmxlbmd0aCldOwogIH0KCiAgcmV0dXJuIHN0cjsKfQoKCmZ1bmN0aW9uIGdldEVsZW1lbnRzKCkgewogIHZhciBlbGVtZW50cyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCcqJykpOwogIGVsZW1lbnRzLnB1c2goZG9jdW1lbnQpOwoKICByZXR1cm4gZWxlbWVudHM7Cn0KCmZ1bmN0aW9uIGFkZFN0eWxlKGNzcykgewogIHZhciBzdHlsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJyk7CiAgc3R5bGUuaW5uZXJIVE1MID0gY3NzOwogIGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoc3R5bGUpOwp9CgpmdW5jdGlvbiBnZXRSdWxlKHVybCkgewogIGZ1bmN0aW9uIHRlc3RVcmwobGlzdCwgdXJsKSB7CiAgICBmb3IodmFyIGkgaW4gbGlzdCkgewogICAgICBpZihsaXN0W2ldLnRlc3QodXJsKSkgewogICAgICAgIHJldHVybiB0cnVlOwogICAgICB9CiAgICB9CgogICAgcmV0dXJuIGZhbHNlOwogIH0KCiAgaWYodGVzdFVybChsaXN0cy5ibGFja19saXN0LCB1cmwpKSB7CiAgICByZXR1cm4gcnVsZXMuYmxhY2tfcnVsZTsKICB9CgogIHJldHVybiBydWxlcy5kZWZhdWx0X3J1bGU7Cn0KCgpmdW5jdGlvbiBpbml0KCkgewoKICB2YXIgdXJsID0gd2luZG93LmxvY2F0aW9uLmhvc3QgKyB3aW5kb3cubG9jYXRpb24ucGF0aG5hbWU7CiAgdmFyIHJ1bGUgPSBnZXRSdWxlKHVybCk7CgogIGhvb2tfZXZlbnROYW1lcyA9IHJ1bGUuaG9va19ldmVudE5hbWVzLnNwbGl0KCJ8Iik7CiAgLy8gVE9ETyBBbGxvd2VkIHRvIHJldHVybiB2YWx1ZQogIHVuaG9va19ldmVudE5hbWVzID0gcnVsZS51bmhvb2tfZXZlbnROYW1lcy5zcGxpdCgifCIpOwogIGV2ZW50TmFtZXMgPSBob29rX2V2ZW50TmFtZXMuY29uY2F0KHVuaG9va19ldmVudE5hbWVzKTsKCiAgaWYocnVsZS5kb20wKSB7CiAgICBzZXRJbnRlcnZhbChjbGVhckxvb3AsIDMwICogMTAwMCk7CiAgICBzZXRUaW1lb3V0KGNsZWFyTG9vcCwgMjUwMCk7CiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsIGNsZWFyTG9vcCwgdHJ1ZSk7CiAgICBjbGVhckxvb3AoKTsKICB9CgogIC8vIGhvb2sgYWRkRXZlbnRMaXN0ZW5lcgogIGlmKHJ1bGUuaG9va19hZGRFdmVudExpc3RlbmVyKSB7CiAgICBFdmVudFRhcmdldC5wcm90b3R5cGUuYWRkRXZlbnRMaXN0ZW5lciA9IGFkZEV2ZW50TGlzdGVuZXI7CiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyID0gYWRkRXZlbnRMaXN0ZW5lcjsKICB9CgogIC8vIGhvb2sgcHJldmVudERlZmF1bHQKICBpZihydWxlLmhvb2tfcHJldmVudERlZmF1bHQpIHsKICAgIEV2ZW50LnByb3RvdHlwZS5wcmV2ZW50RGVmYXVsdCA9IGZ1bmN0aW9uKCkgewogICAgICBpZihldmVudE5hbWVzLmluZGV4T2YodGhpcy50eXBlKSA8IDApIHsKICAgICAgICBFdmVudF9wcmV2ZW50RGVmYXVsdC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9CiAgICB9OwogIH0KCiAgLy8gSG9vayBzZXQgcmV0dXJuVmFsdWUKICBpZihydWxlLmhvb2tfc2V0X3JldHVyblZhbHVlKSB7CiAgICBFdmVudC5wcm90b3R5cGUuX19kZWZpbmVTZXR0ZXJfXygncmV0dXJuVmFsdWUnLCBmdW5jdGlvbigpIHsKICAgICAgaWYodGhpcy5yZXR1cm5WYWx1ZSAhPSB0cnVlICYmIGV2ZW50TmFtZXMuaW5kZXhPZih0aGlzLnR5cGUpID49IDApIHsKICAgICAgICB0aGlzLnJldHVyblZhbHVlID0gdHJ1ZTsKICAgICAgfQogICAgfSk7CiAgfQoKICBjb25zb2xlLmRlYnVnKCd1cmw6ICcgKyB1cmwsICdzdG9yYWdlTmFtZe+8micgKyBzdG9yYWdlTmFtZSwgJ3J1bGU6ICcgKyBydWxlLm5hbWUpOwoKICBpZihydWxlLmFkZF9jc3MpIHsKICAgIGFkZFN0eWxlKCdodG1sLCAqIHstd2Via2l0LXVzZXItc2VsZWN0OnRleHQhaW1wb3J0YW50OyAtbW96LXVzZXItc2VsZWN0OnRleHQhaW1wb3J0YW50O30nKTsKICB9Cn0KCmluaXQoKTsK"},{"name":"Instagram Download Button","options":{"check_for_updates":true,"comment":null,"compat_foreach":false,"compat_metadata":false,"compat_powerful_this":null,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"merge_connects":true,"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_connects":[],"orig_excludes":[],"orig_includes":[],"orig_matches":["https://www.instagram.com/*"],"orig_noframes":null,"orig_run_at":"document-idle","use_blockers":[],"use_connects":[],"use_excludes":[],"use_includes":[],"use_matches":[]},"run_at":null,"sandbox":null,"tab_types":null,"unwrap":null,"user_modified":null},"storage":{"ts":1715999537194,"data":{}},"enabled":true,"position":4,"file_url":"https://update.greasyfork.org/scripts/406535/Instagram%20Download%20Button.user.js","uuid":"75bf9b9c-d4f3-4a13-90f2-5f41a49921c5","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICAgICAgICAgSW5zdGFncmFtIERvd25sb2FkIEJ1dHRvbgovLyBAbmFtZTp6aC1UVyAgICAgICAgICBJbnN0YWdyYW0g5LiL6LyJ5ZmoCi8vIEBuYW1lOnpoLUNOICAgICAgICAgIEluc3RhZ3JhbSDkuIvovb3lmagKLy8gQG5hbWU6amEgICAgICAgICAgICAgSW5zdGFncmFtIOODgOOCpuODs+ODreODvOODgOODvAovLyBAbmFtZTprbyAgICAgICAgICAgICBJbnN0YWdyYW0g64uk7Jq066Gc642UCi8vIEBuYW1lOmVzICAgICAgICAgICAgIERlc2NhcmdhZG9yIGRlIEluc3RhZ3JhbQovLyBAbmFtZTpmciAgICAgICAgICAgICBUw6lsw6ljaGFyZ2V1ciBJbnN0YWdyYW0KLy8gQG5hbWU6aGkgICAgICAgICAgICAg4KSH4KSC4KS44KWN4KSf4KS+4KSX4KWN4KSw4KS+4KSuIOCkoeCkvuCkieCkqOCksuCli+CkoeCksAovLyBAbmFtZTpydSAgICAgICAgICAgICDQl9Cw0LPRgNGD0LfRh9C40LogSW5zdGFncmFtCi8vIEBuYW1lc3BhY2UgICAgICAgICAgIGh0dHBzOi8vZ2l0aHViLmNvbS95MjUyMzI4L0luc3RhZ3JhbV9Eb3dubG9hZF9CdXR0b24KLy8gQHZlcnNpb24gICAgICAgICAgICAgMS4xNy4xOAovLyBAY29tcGF0aWJsZSAgICAgICAgICBjaHJvbWUKLy8gQGRlc2NyaXB0aW9uICAgICAgICAgQWRkIHRoZSBkb3dubG9hZCBidXR0b24gYW5kIHRoZSBvcGVuIGJ1dHRvbiB0byBkb3dubG9hZCBvciBvcGVuIHByb2ZpbGUgcGljdHVyZSBhbmQgbWVkaWEgaW4gdGhlIHBvc3RzLCBzdG9yaWVzLCBhbmQgaGlnaGxpZ2h0cyBpbiBJbnN0YWdyYW0KLy8gQGRlc2NyaXB0aW9uOnpoLVRXICAg5ZyoSW5zdGFncmFt6aCB6Z2i5Yqg5YWl5LiL6LyJ5oyJ6YiV6IiH6ZaL5ZWf5oyJ6YiV77yM6YCP6YGO6YCZ5Lqb5oyJ6YiV5Y+v5Lul5LiL6LyJ5oiW6ZaL5ZWf5aSn6aCt6LK86IiH6LK85paH44CB6ZmQ5pmC5YuV5oWL44CBSGlnaGxpZ2h05Lit55qE54Wn54mH5oiW5b2x54mHCi8vIEBkZXNjcmlwdGlvbjp6aC1DTiAgIOWcqEluc3RhZ3JhbemhtemdouWKoOWFpeS4i+i9veaMiemSruS4juW8gOWQr+aMiemSru+8jOmAj+i/h+i/meS6m+aMiemSruWPr+S7peS4i+i9veaIluW8gOWQr+Wkp+WktOi0tOS4jui0tOaWh+OAgemZkOaXtuWKqOaAgeOAgUhpZ2hsaWdodOS4reeahOeFp+eJh+aIluW9seeJhwovLyBAZGVzY3JpcHRpb246amEgICAgICDjg6Hjg4fjgqPjgqLjgpLjg4Djgqbjg7Pjg63jg7zjg4njgb7jgZ/jga/plovjgY/jgZ/jgoHjga7jg5zjgr/jg7PjgpLov73liqDjgZfjgb7jgZkKLy8gQGRlc2NyaXB0aW9uOmtvICAgICAg66+465SU7Ja066W8IOuLpOyatOuhnOuTnO2VmOqxsOuCmCDsl6zripQg67KE7Yq87J2EIOy2lOqwgO2VqeuLiOuLpAovLyBAZGVzY3JpcHRpb246ZXMgICAgICBBZ3JlZ3VlIGJvdG9uZXMgcGFyYSBkZXNjYXJnYXIgbyBhYnJpciBtZWRpb3MKLy8gQGRlc2NyaXB0aW9uOmZyICAgICAgQWpvdXRleiBkZXMgYm91dG9ucyBwb3VyIHTDqWzDqWNoYXJnZXIgb3Ugb3V2cmlyIGRlcyBtw6lkaWFzCi8vIEBkZXNjcmlwdGlvbjpoaSAgICAgIOCkruClgOCkoeCkv+Ckr+CkviDgpJXgpYsg4KSh4KS+4KSJ4KSo4KSy4KWL4KShIOCkr+CkviDgpJbgpYvgpLLgpKjgpYcg4KSV4KWHIOCksuCkv+CkjyDgpKzgpJ/gpKgg4KSc4KWL4KSh4KS84KWH4KSC4KWkCi8vIEBkZXNjcmlwdGlvbjpydSAgICAgINCU0L7QsdCw0LLRjNGC0LUg0LrQvdC+0L/QutC4INC00LvRjyDQt9Cw0LPRgNGD0LfQutC4INC40LvQuCDQvtGC0LrRgNGL0YLQuNGPINC80LXQtNC40LAKLy8gQGF1dGhvciAgICAgICAgICAgICAgWmhpWXUKLy8gQG1hdGNoICAgICAgICAgICAgICAgaHR0cHM6Ly93d3cuaW5zdGFncmFtLmNvbS8qCi8vIEBpY29uICAgICAgICAgICAgICAgIGh0dHBzOi8vd3d3Lmdvb2dsZS5jb20vczIvZmF2aWNvbnM/c3o9NjQmZG9tYWluPWluc3RhZ3JhbS5jb20KLy8gQGdyYW50ICAgICAgICAgICAgICAgbm9uZQovLyBAbGljZW5zZSAgICAgICAgICAgICBNSVQKLy8gQGRvd25sb2FkVVJMIGh0dHBzOi8vdXBkYXRlLmdyZWFzeWZvcmsub3JnL3NjcmlwdHMvNDA2NTM1L0luc3RhZ3JhbSUyMERvd25sb2FkJTIwQnV0dG9uLnVzZXIuanMKLy8gQHVwZGF0ZVVSTCBodHRwczovL3VwZGF0ZS5ncmVhc3lmb3JrLm9yZy9zY3JpcHRzLzQwNjUzNS9JbnN0YWdyYW0lMjBEb3dubG9hZCUyMEJ1dHRvbi5tZXRhLmpzCi8vID09L1VzZXJTY3JpcHQ9PQoKLy8gVE8tRE86Ci8vICAgLSByZXBsYWNlIHRoZSBjaGVja2luZyB0aW1lciB3aXRoIHRoZSBvYnNlcnZlcgoKKGZ1bmN0aW9uICgpIHsKICAgICd1c2Ugc3RyaWN0JzsKCiAgICAvLyA9PT09PT09PT09PT09PT09PQogICAgLy8gPSAgICBPcHRpb25zICAgID0KICAgIC8vID09PT09PT09PT09PT09PT09CiAgICAvLyBPbGQgbWV0aG9kIGlzIGZhc3RlciB0aGFuIG5ldyBtZXRob2QsIGJ1dCBub3Qgd29yayBvciB1bmFibGUgZ2V0IGhpZ2hlc3QgcmVzb2x1dGlvbiBtZWRpYSBzb21ldGltZQogICAgY29uc3QgZGlzYWJsZU5ld1VybEZldGNoTWV0aG9kID0gZmFsc2U7CiAgICBjb25zdCBwcmVmZXRjaEFuZEF0dGFjaExpbmsgPSBmYWxzZTsgLy8gcHJlZmV0Y2ggYW5kIGFkZCBsaW5rIGludG8gdGhlIGJ1dHRvbiBlbGVtZW50cwogICAgY29uc3QgaG92ZXJUb0ZldGNoQW5kQXR0YWNoTGluayA9IHRydWU7ICAvLyBmZXRjaCBhbmQgYWRkIGxpbmsgd2hlbiBob3ZlciB0aGUgYnV0dG9uCiAgICBjb25zdCByZXBsYWNlSnBlZ1dpdGhKcGcgPSBmYWxzZTsKICAgIC8vID09PSBGaWxlIG5hbWUgcGxhY2Vob2xkZXJzID09PQogICAgLy8gJWlkJSA6IHRoZSBwb3N0ZXIgaWQKICAgIC8vICVkYXRldGltZSUgOiB0aGUgbWVkaWEgdXBsb2FkIHRpbWUKICAgIC8vICVtZWRpYW5hbWUlIDogdGhlIG9yaWdpbmFsIG1lZGlhIGZpbGUgbmFtZQogICAgLy8gJXBvc3RJZCUgOiB0aGUgcG9zdCBpZAogICAgLy8gJW1lZGlhSW5kZXglIDogdGhlIG1lZGlhIGluZGV4IGluIG11bHRpcGxlLW1lZGlhIHBvc3RzCiAgICBjb25zdCBwb3N0RmlsZW5hbWVUZW1wbGF0ZSA9ICclaWQlLSVkYXRldGltZSUtJW1lZGlhbmFtZSUnOwogICAgY29uc3Qgc3RvcnlGaWxlbmFtZVRlbXBsYXRlID0gcG9zdEZpbGVuYW1lVGVtcGxhdGU7CiAgICAvLyA9PT0gRGF0ZXRpbWUgcGxhY2Vob2xkZXJzID09PQogICAgLy8gJXklOiB5ZWFyICg0IGRpZ2l0cykKICAgIC8vICVtJTogbW9udGggKDAxLTEyKQogICAgLy8gJWQlOiBkYXkgKDAxLTMxKQogICAgLy8gJUglOiBob3VyICgwMC0yMykKICAgIC8vICVNJTogbWluICgwMC01OSkKICAgIC8vICVTJTogc2VjICgwMC01OSkKICAgIGNvbnN0IGRhdGV0aW1lVGVtcGxhdGUgPSAnJXklJW0lJWQlXyVIJSVNJSVTJSc7CiAgICAvLyA9PT09PT09PT09PT09PT09PT0KCiAgICBjb25zdCBwb3N0SWRQYXR0ZXJuID0gL15cL3BcLyhbXi9dKylcLy87CiAgICBjb25zdCBwb3N0VXJsUGF0dGVybiA9IC9pbnN0YWdyYW1cLmNvbVwvcFwvW1x3LV0rXC8vOwoKICAgIHZhciBzdmdEb3dubG9hZEJ0biA9IGA8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkNhcGFfMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeD0iMHB4IiB5PSIwcHgiIGhlaWdodD0iMjQiIHdpZHRoPSIyNCIKICAgICB2aWV3Qm94PSIwIDAgNDc3Ljg2NyA0NzcuODY3IiBzdHlsZT0iZmlsbDolY29sb3I7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4KICAgIDxnPgogICAgICAgIDxwYXRoIGQ9Ik00NDMuNzMzLDMwNy4yYy05LjQyNiwwLTE3LjA2Nyw3LjY0MS0xNy4wNjcsMTcuMDY3djEwMi40YzAsOS40MjYtNy42NDEsMTcuMDY3LTE3LjA2NywxNy4wNjdINjguMjY3CiAgICAgICAgICAgIGMtOS40MjYsMC0xNy4wNjctNy42NDEtMTcuMDY3LTE3LjA2N3YtMTAyLjRjMC05LjQyNi03LjY0MS0xNy4wNjctMTcuMDY3LTE3LjA2N3MtMTcuMDY3LDcuNjQxLTE3LjA2NywxNy4wNjd2MTAyLjQKICAgICAgICAgICAgYzAsMjguMjc3LDIyLjkyMyw1MS4yLDUxLjIsNTEuMkg0MDkuNmMyOC4yNzcsMCw1MS4yLTIyLjkyMyw1MS4yLTUxLjJ2LTEwMi40QzQ2MC44LDMxNC44NDEsNDUzLjE1OSwzMDcuMiw0NDMuNzMzLDMwNy4yeiIvPgogICAgPC9nPgogICAgPGc+CiAgICAgICAgPHBhdGggZD0iTTMzNS45NDcsMjk1LjEzNGMtNi42MTQtNi4zODctMTcuMDk5LTYuMzg3LTIzLjcxMiwwTDI1NiwzNTEuMzM0VjE3LjA2N0MyNTYsNy42NDEsMjQ4LjM1OSwwLDIzOC45MzMsMAogICAgICAgICAgICBzLTE3LjA2Nyw3LjY0MS0xNy4wNjcsMTcuMDY3djMzNC4yNjhsLTU2LjIwMS01Ni4yMDFjLTYuNzgtNi41NDgtMTcuNTg0LTYuMzYtMjQuMTMyLDAuNDE5Yy02LjM4OCw2LjYxNC02LjM4OCwxNy4wOTksMCwyMy43MTMKICAgICAgICAgICAgbDg1LjMzMyw4NS4zMzNjNi42NTcsNi42NzMsMTcuNDYzLDYuNjg3LDI0LjEzNiwwLjAzMWMwLjAxLTAuMDEsMC4wMi0wLjAyLDAuMDMxLTAuMDMxbDg1LjMzMy04NS4zMzMKICAgICAgICAgICAgQzM0Mi45MTUsMzEyLjQ4NiwzNDIuNzI3LDMwMS42ODIsMzM1Ljk0NywyOTUuMTM0eiIvPgogICAgPC9nPgo8L3N2Zz5gOwoKICAgIHZhciBzdmdOZXd0YWJCdG4gPSBgPHN2ZyBpZD0iQ2FwYV8xIiBzdHlsZT0iZmlsbDolY29sb3I7IiB2aWV3Qm94PSIwIDAgNDgyLjIzOSA0ODIuMjM5IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMjQiIHdpZHRoPSIyNCI+CiAgICA8cGF0aCBkPSJtNDY1LjAxNiAwaC0zNDQuNDU2Yy05LjUyIDAtMTcuMjIzIDcuNzAzLTE3LjIyMyAxNy4yMjN2ODYuMTE0aC04Ni4xMTRjLTkuNTIgMC0xNy4yMjMgNy43MDMtMTcuMjIzIDE3LjIyM3YzNDQuNDU2YzAgOS41MiA3LjcwMyAxNy4yMjMgMTcuMjIzIDE3LjIyM2gzNDQuNDU2YzkuNTIgMCAxNy4yMjMtNy43MDMgMTcuMjIzLTE3LjIyM3YtODYuMTE0aDg2LjExNGM5LjUyIDAgMTcuMjIzLTcuNzAzIDE3LjIyMy0xNy4yMjN2LTM0NC40NTZjMC05LjUyLTcuNzAzLTE3LjIyMy0xNy4yMjMtMTcuMjIzem0tMTIwLjU2IDQ0Ny43OTNoLTMxMC4wMXYtMzEwLjAxaDMxMC4wMTF2MzEwLjAxem0xMDMuMzM3LTEwMy4zMzdoLTY4Ljg5MXYtMjIzLjg5NmMwLTkuNTItNy43MDMtMTcuMjIzLTE3LjIyMy0xNy4yMjNoLTIyMy44OTZ2LTY4Ljg5MWgzMTAuMDExdjMxMC4wMXoiLz4KPC9zdmc+YDsKCiAgICB2YXIgcHJlVXJsID0gIiI7CgogICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGtleURvd25IYW5kbGVyKTsKCiAgICBmdW5jdGlvbiBrZXlEb3duSGFuZGxlcihldmVudCkgewogICAgICAgIGlmICh3aW5kb3cubG9jYXRpb24uaHJlZiA9PT0gJ2h0dHBzOi8vd3d3Lmluc3RhZ3JhbS5jb20vJykgcmV0dXJuOwoKICAgICAgICBjb25zdCBtb2NrRXZlbnRUZW1wbGF0ZSA9IHsKICAgICAgICAgICAgc3RvcFByb3BhZ2F0aW9uOiBmdW5jdGlvbiAoKSB7IH0sCiAgICAgICAgICAgIHByZXZlbnREZWZhdWx0OiBmdW5jdGlvbiAoKSB7IH0KICAgICAgICB9OwoKICAgICAgICBpZiAoZXZlbnQuYWx0S2V5ICYmIChldmVudC5jb2RlID09PSAnS2V5SycgfHwgZXZlbnQua2V5ID09ICdrJykpIHsKICAgICAgICAgICAgbGV0IGJ1dHRvbnMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdkb3dubG9hZC1idG4nKTsKICAgICAgICAgICAgaWYgKGJ1dHRvbnMubGVuZ3RoID4gMCkgewogICAgICAgICAgICAgICAgbGV0IG1vY2tFdmVudCA9IHsgLi4ubW9ja0V2ZW50VGVtcGxhdGUgfTsKICAgICAgICAgICAgICAgIG1vY2tFdmVudC5jdXJyZW50VGFyZ2V0ID0gYnV0dG9uc1tidXR0b25zLmxlbmd0aCAtIDFdOwogICAgICAgICAgICAgICAgaWYgKHByZWZldGNoQW5kQXR0YWNoTGluayB8fCBob3ZlclRvRmV0Y2hBbmRBdHRhY2hMaW5rKSBvbk1vdXNlSW5IYW5kbGVyKG1vY2tFdmVudCk7CiAgICAgICAgICAgICAgICBvbkNsaWNrSGFuZGxlcihtb2NrRXZlbnQpOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIGlmIChldmVudC5hbHRLZXkgJiYgKGV2ZW50LmNvZGUgPT09ICdLZXlJJyB8fCBldmVudC5rZXkgPT0gJ2knKSkgewogICAgICAgICAgICBsZXQgYnV0dG9ucyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ25ld3RhYi1idG4nKTsKICAgICAgICAgICAgaWYgKGJ1dHRvbnMubGVuZ3RoID4gMCkgewogICAgICAgICAgICAgICAgbGV0IG1vY2tFdmVudCA9IHsgLi4ubW9ja0V2ZW50VGVtcGxhdGUgfTsKICAgICAgICAgICAgICAgIG1vY2tFdmVudC5jdXJyZW50VGFyZ2V0ID0gYnV0dG9uc1tidXR0b25zLmxlbmd0aCAtIDFdOwogICAgICAgICAgICAgICAgaWYgKHByZWZldGNoQW5kQXR0YWNoTGluayB8fCBob3ZlclRvRmV0Y2hBbmRBdHRhY2hMaW5rKSBvbk1vdXNlSW5IYW5kbGVyKG1vY2tFdmVudCk7CiAgICAgICAgICAgICAgICBvbkNsaWNrSGFuZGxlcihtb2NrRXZlbnQpOwogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBpZiAoZXZlbnQuYWx0S2V5ICYmIChldmVudC5jb2RlID09PSAnS2V5TCcgfHwgZXZlbnQua2V5ID09ICdsJykpIHsKICAgICAgICAgICAgLy8gcmlnaHQgYXJyb3cKICAgICAgICAgICAgbGV0IGJ1dHRvbnMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdfOXptMicpOwogICAgICAgICAgICBpZiAoYnV0dG9ucy5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICBidXR0b25zWzBdLmNsaWNrKCk7CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGlmIChldmVudC5hbHRLZXkgJiYgKGV2ZW50LmNvZGUgPT09ICdLZXlKJyB8fCBldmVudC5rZXkgPT0gJ2onKSkgewogICAgICAgICAgICAvLyBsZWZ0IGFycm93CiAgICAgICAgICAgIGxldCBidXR0b25zID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnXzl6bTAnKTsKICAgICAgICAgICAgaWYgKGJ1dHRvbnMubGVuZ3RoID4gMCkgewogICAgICAgICAgICAgICAgYnV0dG9uc1swXS5jbGljaygpOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfQoKICAgIGZ1bmN0aW9uIGlzUG9zdFBhZ2UoKSB7CiAgICAgICAgcmV0dXJuIEJvb2xlYW4od2luZG93LmxvY2F0aW9uLmhyZWYubWF0Y2gocG9zdFVybFBhdHRlcm4pKTsKICAgIH0KCiAgICBmdW5jdGlvbiBxdWVyeUhhcyhyb290LCBzZWxlY3RvciwgaGFzKSB7CiAgICAgICAgbGV0IG5vZGVzID0gcm9vdC5xdWVyeVNlbGVjdG9yQWxsKHNlbGVjdG9yKTsKICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG5vZGVzLmxlbmd0aDsgKytpKSB7CiAgICAgICAgICAgIGxldCBjdXJyZW50Tm9kZSA9IG5vZGVzW2ldOwogICAgICAgICAgICBpZiAoY3VycmVudE5vZGUucXVlcnlTZWxlY3RvcihoYXMpKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gY3VycmVudE5vZGU7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgcmV0dXJuIG51bGw7CiAgICB9CgogICAgdmFyIGNoZWNrRXhpc3RUaW1lciA9IHNldEludGVydmFsKGZ1bmN0aW9uICgpIHsKICAgICAgICBjb25zdCBjdXJVcmwgPSB3aW5kb3cubG9jYXRpb24uaHJlZjsKICAgICAgICBjb25zdCBzYXZlUG9zdFNlbGVjdG9yID0gJ2FydGljbGUgKjpub3QobGkpPio+Kj4qPmRpdjpub3QoW2NsYXNzXSk+ZGl2W3JvbGU9ImJ1dHRvbiJdOm5vdChbc3R5bGVdKTpub3QoW3RhYmluZGV4PSItMSJdKSc7CiAgICAgICAgY29uc3Qgc3RvcnlTZWxlY3RvciA9ICdzZWN0aW9uID4gKjpub3QobWFpbikgaGVhZGVyIGRpdj5zdmc6bm90KFthcmlhLWxhYmVsPSIiXSknOwogICAgICAgIGNvbnN0IHByb2ZpbGVTZWxlY3RvciA9ICdoZWFkZXIgc2VjdGlvbiBzdmcgY2lyY2xlJzsKICAgICAgICBjb25zdCBwbGF5U3ZnUGF0aFNlbGVjdG9yID0gJ3BhdGhbZD0iTTUuODg4IDIyLjVhMy40NiAzLjQ2IDAgMCAxLTEuNzIxLS40NmwtLjAwMy0uMDAyYTMuNDUxIDMuNDUxIDAgMCAxLTEuNzItMi45ODJWNC45NDNhMy40NDUgMy40NDUgMCAwIDEgNS4xNjMtMi45ODdsMTIuMjI2IDcuMDU5YTMuNDQ0IDMuNDQ0IDAgMCAxLS4wMDEgNS45NjdsLTEyLjIyIDcuMDU2YTMuNDYyIDMuNDYyIDAgMCAxLTEuNzI0LjQ2MloiXSc7CiAgICAgICAgY29uc3QgcGF1c2VTdmdQYXRoU2VsZWN0b3IgPSAncGF0aFtkPSJNMTUgMWMtMy4zIDAtNiAxLjMtNiAzdjQwYzAgMS43IDIuNyAzIDYgM3M2LTEuMyA2LTNWNGMwLTEuNy0yLjctMy02LTN6bTE4IDBjLTMuMyAwLTYgMS4zLTYgM3Y0MGMwIDEuNyAyLjcgMyA2IDNzNi0xLjMgNi0zVjRjMC0xLjctMi43LTMtNi0zeiJdJzsKCiAgICAgICAgbGV0IHJnYiA9IGdldENvbXB1dGVkU3R5bGUoZG9jdW1lbnQuYm9keSkuYmFja2dyb3VuZENvbG9yLm1hdGNoKC9bLj9cZF0rL2cpOwogICAgICAgIGxldCBpY29uQ29sb3IgPSAocmdiWzBdICogMC4yOTkgKyByZ2JbMV0gKiAwLjU4NyArIHJnYlsyXSAqIDAuMTE0KSA8PSAxNTAgPyAnd2hpdGUnIDogJ2JsYWNrJwoKICAgICAgICAvLyBjbGVhciBhbGwgY3VzdG9tIGJ1dHRvbnMgd2hlbiB1cmwgY2hhbmdpbmcKICAgICAgICBpZiAocHJlVXJsICE9PSBjdXJVcmwpIHsKICAgICAgICAgICAgd2hpbGUgKGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2N1c3RvbS1idG4nKS5sZW5ndGggIT09IDApIHsKICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2N1c3RvbS1idG4nKVswXS5yZW1vdmUoKTsKICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgLy8gY2hlY2sgcG9zdAogICAgICAgIGxldCBhcnRpY2xlTGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2FydGljbGUnKTsKICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFydGljbGVMaXN0Lmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgIGxldCBidXR0b25BbmNob3IgPSAoQXJyYXkuZnJvbShhcnRpY2xlTGlzdFtpXS5xdWVyeVNlbGVjdG9yQWxsKHNhdmVQb3N0U2VsZWN0b3IpKSkucG9wKCk7CiAgICAgICAgICAgIGlmIChidXR0b25BbmNob3IgJiYgYXJ0aWNsZUxpc3RbaV0uZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnY3VzdG9tLWJ0bicpLmxlbmd0aCA9PT0gMCkgewogICAgICAgICAgICAgICAgYWRkQ3VzdG9tQnRuKGJ1dHRvbkFuY2hvciwgaWNvbkNvbG9yLCBhcHBlbmQyUG9zdCk7CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIC8vIGNoZWNrIGluZGVwZW5kZW50IHBvc3QgcGFnZQogICAgICAgIGlmIChpc1Bvc3RQYWdlKCkpIHsKICAgICAgICAgICAgbGV0IHNhdmVidG4gPSBxdWVyeUhhcyhkb2N1bWVudCwgJ2Rpdltyb2xlPSJidXR0b24iXSA+IGRpdltyb2xlPSJidXR0b24iXTpub3QoW3N0eWxlXSknLCAncG9seWdvbltwb2ludHM9IjIwIDIxIDEyIDEzLjQ0IDQgMjEgNCAzIDIwIDMgMjAgMjEiXScpIHx8IHF1ZXJ5SGFzKGRvY3VtZW50LCAnZGl2W3JvbGU9ImJ1dHRvbiJdID4gZGl2W3JvbGU9ImJ1dHRvbiJdOm5vdChbc3R5bGVdKScsICdwYXRoW2Q9Ik0yMCAyMmEuOTk5Ljk5OSAwIDAgMS0uNjg3LS4yNzNMMTIgMTQuODE1bC03LjMxMyA2LjkxMkExIDEgMCAwIDEgMyAyMVYzYTEgMSAwIDAgMSAxLTFoMTZhMSAxIDAgMCAxIDEgMXYxOGExIDEgMCAwIDEtMSAxWiJdJyk7CiAgICAgICAgICAgIGlmIChkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdjdXN0b20tYnRuJykubGVuZ3RoID09PSAwKSB7CiAgICAgICAgICAgICAgICBpZiAoc2F2ZWJ0bi5wYXJlbnROb2RlLnF1ZXJ5U2VsZWN0b3IoJ3N2ZycpKSB7CiAgICAgICAgICAgICAgICAgICAgYWRkQ3VzdG9tQnRuKHNhdmVidG4ucGFyZW50Tm9kZS5xdWVyeVNlbGVjdG9yKCdzdmcnKSwgaWNvbkNvbG9yLCBhcHBlbmQySW5kZXBlbmRlbnRQb3N0KTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgLy8gY2hlY2sgcHJvZmlsZQogICAgICAgIGlmIChkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdjdXN0b20tYnRuJykubGVuZ3RoID09PSAwICYmICFjdXJVcmwuaW5jbHVkZXMoInN0b3IiKSkgewogICAgICAgICAgICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihwcm9maWxlU2VsZWN0b3IpKSB7CiAgICAgICAgICAgICAgICBhZGRDdXN0b21CdG4oZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihwcm9maWxlU2VsZWN0b3IpLCBpY29uQ29sb3IsIGFwcGVuZDJIZWFkZXIpOwogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICAvLyBjaGVjayBzdG9yeQogICAgICAgIGlmIChkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdjdXN0b20tYnRuJykubGVuZ3RoID09PSAwKSB7CiAgICAgICAgICAgIGxldCBwbGF5UGF1c2VTdmcgPSBxdWVyeUhhcyhkb2N1bWVudCwgJ3N2ZycsIHBsYXlTdmdQYXRoU2VsZWN0b3IpIHx8IHF1ZXJ5SGFzKGRvY3VtZW50LCAnc3ZnJywgcGF1c2VTdmdQYXRoU2VsZWN0b3IpOwogICAgICAgICAgICBpZiAocGxheVBhdXNlU3ZnKSB7CiAgICAgICAgICAgICAgICBsZXQgYnV0dG9uRGl2ID0gcGxheVBhdXNlU3ZnLnBhcmVudE5vZGU7CiAgICAgICAgICAgICAgICBhZGRDdXN0b21CdG4oYnV0dG9uRGl2LCAnd2hpdGUnLCBhcHBlbmQyU3RvcnkpOwogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBwcmVVcmwgPSBjdXJVcmw7CiAgICB9LCA1MDApOwoKICAgIGZ1bmN0aW9uIGFwcGVuZDJQb3N0KG5vZGUsIGJ0bikgewogICAgICAgIG5vZGUuYXBwZW5kKGJ0bik7CiAgICB9CgogICAgZnVuY3Rpb24gYXBwZW5kMkluZGVwZW5kZW50UG9zdChub2RlLCBidG4pIHsKICAgICAgICBub2RlLnBhcmVudE5vZGUucGFyZW50Tm9kZS5hcHBlbmQoYnRuKTsKICAgIH0KCiAgICBmdW5jdGlvbiBhcHBlbmQySGVhZGVyKG5vZGUsIGJ0bikgewogICAgICAgIG5vZGUucGFyZW50Tm9kZS5wYXJlbnROb2RlLnBhcmVudE5vZGUuYXBwZW5kQ2hpbGQoYnRuLCBub2RlLnBhcmVudE5vZGUucGFyZW50Tm9kZSk7CiAgICB9CgogICAgZnVuY3Rpb24gYXBwZW5kMlN0b3J5KG5vZGUsIGJ0bikgewogICAgICAgIG5vZGUucGFyZW50Tm9kZS5wYXJlbnROb2RlLnBhcmVudE5vZGUuYXBwZW5kKGJ0bik7CiAgICB9CgogICAgZnVuY3Rpb24gYWRkQ3VzdG9tQnRuKG5vZGUsIGljb25Db2xvciwgYXBwZW5kTm9kZSkgewogICAgICAgIC8vIGFkZCBkb3dubG9hZCBidXR0b24gYW5kIHNldCBldmVudCBoYW5kbGVycwogICAgICAgIC8vIGFkZCBuZXd0YWIgYnV0dG9uCiAgICAgICAgbGV0IG5ld3RhYkJ0biA9IGNyZWF0ZUN1c3RvbUJ0bihzdmdOZXd0YWJCdG4sIGljb25Db2xvciwgJ25ld3RhYi1idG4nLCAnMTZweCcpOwogICAgICAgIGFwcGVuZE5vZGUobm9kZSwgbmV3dGFiQnRuKTsKCiAgICAgICAgLy8gYWRkIGRvd25sb2FkIGJ1dHRvbgogICAgICAgIGxldCBkb3dubG9hZEJ0biA9IGNyZWF0ZUN1c3RvbUJ0bihzdmdEb3dubG9hZEJ0biwgaWNvbkNvbG9yLCAnZG93bmxvYWQtYnRuJywgJzE0cHgnKTsKICAgICAgICBhcHBlbmROb2RlKG5vZGUsIGRvd25sb2FkQnRuKTsKCiAgICAgICAgaWYgKHByZWZldGNoQW5kQXR0YWNoTGluaykgewogICAgICAgICAgICBvbk1vdXNlSW5IYW5kbGVyKHsgY3VycmVudFRhcmdldDogbmV3dGFiQnRuIH0pOwogICAgICAgICAgICBvbk1vdXNlSW5IYW5kbGVyKHsgY3VycmVudFRhcmdldDogZG93bmxvYWRCdG4gfSk7CiAgICAgICAgfQogICAgfQoKICAgIGZ1bmN0aW9uIGNyZWF0ZUN1c3RvbUJ0bihzdmcsIGljb25Db2xvciwgY2xhc3NOYW1lLCBtYXJnaW5MZWZ0KSB7CiAgICAgICAgbGV0IG5ld0J0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTsKICAgICAgICBuZXdCdG4uaW5uZXJIVE1MID0gc3ZnLnJlcGxhY2UoJyVjb2xvcicsIGljb25Db2xvcik7CiAgICAgICAgbmV3QnRuLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY3VzdG9tLWJ0biAnICsgY2xhc3NOYW1lKTsKICAgICAgICBuZXdCdG4uc2V0QXR0cmlidXRlKCd0YXJnZXQnLCAnX2JsYW5rJyk7CiAgICAgICAgbmV3QnRuLnNldEF0dHJpYnV0ZSgnc3R5bGUnLCAnY3Vyc29yOiBwb2ludGVyO21hcmdpbi1sZWZ0OiAnICsgbWFyZ2luTGVmdCArICc7bWFyZ2luLXRvcDogOHB4O3otaW5kZXg6IDk5OTsnKTsKICAgICAgICBuZXdCdG4ub25jbGljayA9IG9uQ2xpY2tIYW5kbGVyOwogICAgICAgIGlmIChob3ZlclRvRmV0Y2hBbmRBdHRhY2hMaW5rKSBuZXdCdG4ub25tb3VzZWVudGVyID0gb25Nb3VzZUluSGFuZGxlcjsKICAgICAgICBpZiAoY2xhc3NOYW1lLmluY2x1ZGVzKCduZXd0YWInKSkgewogICAgICAgICAgICBuZXdCdG4uc2V0QXR0cmlidXRlKCd0aXRsZScsICdPcGVuIGluIG5ldyB0YWInKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBuZXdCdG4uc2V0QXR0cmlidXRlKCd0aXRsZScsICdEb3dubG9hZCcpOwogICAgICAgIH0KICAgICAgICByZXR1cm4gbmV3QnRuOwogICAgfQoKICAgIGZ1bmN0aW9uIG9uQ2xpY2tIYW5kbGVyKGUpIHsKICAgICAgICAvLyBoYW5kbGUgYnV0dG9uIGNsaWNrCiAgICAgICAgbGV0IHRhcmdldCA9IGUuY3VycmVudFRhcmdldDsKICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpOwogICAgICAgIGUucHJldmVudERlZmF1bHQoKTsKICAgICAgICBpZiAod2luZG93LmxvY2F0aW9uLnBhdGhuYW1lLmluY2x1ZGVzKCdzdG9yaWVzJykpIHsKICAgICAgICAgICAgc3RvcnlPbkNsaWNrZWQodGFyZ2V0KTsKICAgICAgICB9IGVsc2UgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2hlYWRlcicpICYmIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2hlYWRlcicpLmNvbnRhaW5zKHRhcmdldCkpIHsKICAgICAgICAgICAgcHJvZmlsZU9uQ2xpY2tlZCh0YXJnZXQpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHBvc3RPbkNsaWNrZWQodGFyZ2V0KTsKICAgICAgICB9CiAgICB9CgogICAgZnVuY3Rpb24gb25Nb3VzZUluSGFuZGxlcihlKSB7CiAgICAgICAgbGV0IHRhcmdldCA9IGUuY3VycmVudFRhcmdldDsKICAgICAgICBpZiAoIXByZWZldGNoQW5kQXR0YWNoTGluayAmJiAhaG92ZXJUb0ZldGNoQW5kQXR0YWNoTGluaykgcmV0dXJuOwogICAgICAgIGlmICh3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUuaW5jbHVkZXMoJ3N0b3JpZXMnKSkgewogICAgICAgICAgICBzdG9yeU9uTW91c2VJbih0YXJnZXQpOwogICAgICAgIH0gZWxzZSBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignaGVhZGVyJykgJiYgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignaGVhZGVyJykuY29udGFpbnModGFyZ2V0KSkgewogICAgICAgICAgICBwcm9maWxlT25Nb3VzZUluKHRhcmdldCk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgcG9zdE9uTW91c2VJbih0YXJnZXQpOwogICAgICAgIH0KICAgIH0KCiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQogICAgLy8gPT09PSAgICAgICAgUHJvZmlsZSAgICAgICAgID09PT0KICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CiAgICBmdW5jdGlvbiBwcm9maWxlT25Nb3VzZUluKHRhcmdldCkgewogICAgICAgIGxldCB1cmwgPSBwcm9maWxlR2V0VXJsKHRhcmdldCk7CiAgICAgICAgdGFyZ2V0LnNldEF0dHJpYnV0ZSgnaHJlZicsIHVybCk7CiAgICB9CgogICAgZnVuY3Rpb24gcHJvZmlsZU9uQ2xpY2tlZCh0YXJnZXQpIHsKICAgICAgICAvLyBleHRyYWN0IHByb2ZpbGUgcGljdHVyZSB1cmwgYW5kIGRvd25sb2FkIG9yIG9wZW4gaXQKICAgICAgICBsZXQgdXJsID0gcHJvZmlsZUdldFVybCh0YXJnZXQpOwoKICAgICAgICBpZiAodXJsLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgLy8gY2hlY2sgdXJsCiAgICAgICAgICAgIGlmICh0YXJnZXQuZ2V0QXR0cmlidXRlKCdjbGFzcycpLmluY2x1ZGVzKCdkb3dubG9hZC1idG4nKSkgewogICAgICAgICAgICAgICAgLy8gZ2VuZXJhdGUgZmlsZW5hbWUKICAgICAgICAgICAgICAgIGNvbnN0IGZpbGVuYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignaGVhZGVyIGgyJykudGV4dENvbnRlbnQ7CiAgICAgICAgICAgICAgICBkb3dubG9hZFJlc291cmNlKHVybCwgZmlsZW5hbWUpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgLy8gb3BlbiB1cmwgaW4gbmV3IHRhYgogICAgICAgICAgICAgICAgb3BlblJlc291cmNlKHVybCk7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9CgogICAgZnVuY3Rpb24gcHJvZmlsZUdldFVybCh0YXJnZXQpIHsKICAgICAgICBsZXQgaW1nID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignaGVhZGVyIGltZycpOwogICAgICAgIGxldCB1cmwgPSBpbWcuZ2V0QXR0cmlidXRlKCdzcmMnKTsKICAgICAgICByZXR1cm4gdXJsOwogICAgfQoKICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CiAgICAvLyA9PT09ICAgICAgICAgUG9zdCAgICAgICAgICAgPT09PQogICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KICAgIGFzeW5jIGZ1bmN0aW9uIHBvc3RPbk1vdXNlSW4odGFyZ2V0KSB7CiAgICAgICAgbGV0IGFydGljbGVOb2RlID0gcG9zdEdldEFydGljbGVOb2RlKHRhcmdldCk7CiAgICAgICAgbGV0IHsgdXJsIH0gPSBhd2FpdCBwb3N0R2V0VXJsKHRhcmdldCwgYXJ0aWNsZU5vZGUpOwogICAgICAgIHRhcmdldC5zZXRBdHRyaWJ1dGUoJ2hyZWYnLCB1cmwpOwogICAgfQoKICAgIGFzeW5jIGZ1bmN0aW9uIHBvc3RPbkNsaWNrZWQodGFyZ2V0KSB7CiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgLy8gZXh0cmFjdCB1cmwgZnJvbSB0YXJnZXQgcG9zdCBhbmQgZG93bmxvYWQgb3Igb3BlbiBpdAogICAgICAgICAgICBsZXQgYXJ0aWNsZU5vZGUgPSBwb3N0R2V0QXJ0aWNsZU5vZGUodGFyZ2V0KTsKICAgICAgICAgICAgbGV0IHsgdXJsLCBtZWRpYUluZGV4IH0gPSBhd2FpdCBwb3N0R2V0VXJsKHRhcmdldCwgYXJ0aWNsZU5vZGUpOwoKICAgICAgICAgICAgLy8gZG93bmxvYWQgb3Igb3BlbiBtZWRpYSB1cmwKICAgICAgICAgICAgaWYgKHVybC5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICAvLyBjaGVjayB1cmwKICAgICAgICAgICAgICAgIGlmICh0YXJnZXQuZ2V0QXR0cmlidXRlKCdjbGFzcycpLmluY2x1ZGVzKCdkb3dubG9hZC1idG4nKSkgewogICAgICAgICAgICAgICAgICAgIGxldCBtZWRpYU5hbWUgPSB1cmwKICAgICAgICAgICAgICAgICAgICAgICAgLnNwbGl0KCc/JylbMF0KICAgICAgICAgICAgICAgICAgICAgICAgLnNwbGl0KCdcXCcpCiAgICAgICAgICAgICAgICAgICAgICAgIC5wb3AoKQogICAgICAgICAgICAgICAgICAgICAgICAuc3BsaXQoJy8nKQogICAgICAgICAgICAgICAgICAgICAgICAucG9wKCk7CiAgICAgICAgICAgICAgICAgICAgbWVkaWFOYW1lID0gbWVkaWFOYW1lLnN1YnN0cmluZygwLCBtZWRpYU5hbWUubGFzdEluZGV4T2YoJy4nKSk7CiAgICAgICAgICAgICAgICAgICAgbGV0IGRhdGV0aW1lID0gbmV3IERhdGUoYXJ0aWNsZU5vZGUucXVlcnlTZWxlY3RvcigndGltZScpLmdldEF0dHJpYnV0ZSgnZGF0ZXRpbWUnKSk7CiAgICAgICAgICAgICAgICAgICAgbGV0IHBvc3Rlck5hbWUgPSBhcnRpY2xlTm9kZS5xdWVyeVNlbGVjdG9yKCdoZWFkZXIgYScpIHx8IGZpbmRQb3N0TmFtZShhcnRpY2xlTm9kZSk7CiAgICAgICAgICAgICAgICAgICAgcG9zdGVyTmFtZSA9IHBvc3Rlck5hbWUuZ2V0QXR0cmlidXRlKCdocmVmJykucmVwbGFjZSgvXC8vZywgJycpOwogICAgICAgICAgICAgICAgICAgIGxldCBwb3N0SWQgPSBmaW5kUG9zdElkKGFydGljbGVOb2RlKTsKICAgICAgICAgICAgICAgICAgICBsZXQgZmlsZW5hbWUgPSBmaWxlbmFtZUZvcm1hdChwb3N0RmlsZW5hbWVUZW1wbGF0ZSwgcG9zdGVyTmFtZSwgZGF0ZXRpbWUsIG1lZGlhTmFtZSwgcG9zdElkLCBtZWRpYUluZGV4KTsKICAgICAgICAgICAgICAgICAgICBkb3dubG9hZFJlc291cmNlKHVybCwgZmlsZW5hbWUpOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAvLyBvcGVuIHVybCBpbiBuZXcgdGFiCiAgICAgICAgICAgICAgICAgICAgb3BlblJlc291cmNlKHVybCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKGBVbmNhdGNoZWQgaW4gcG9zdE9uQ2xpY2tlZCgpOiAke2V9XG4ke2Uuc3RhY2t9YCk7CiAgICAgICAgICAgIHJldHVybiBudWxsOwogICAgICAgIH0KICAgIH0KCiAgICBmdW5jdGlvbiBwb3N0R2V0QXJ0aWNsZU5vZGUodGFyZ2V0KSB7CiAgICAgICAgbGV0IGFydGljbGVOb2RlID0gdGFyZ2V0OwogICAgICAgIHdoaWxlIChhcnRpY2xlTm9kZSAmJiBhcnRpY2xlTm9kZS50YWdOYW1lICE9PSAnQVJUSUNMRScgJiYgYXJ0aWNsZU5vZGUudGFnTmFtZSAhPT0gJ01BSU4nKSB7CiAgICAgICAgICAgIGFydGljbGVOb2RlID0gYXJ0aWNsZU5vZGUucGFyZW50Tm9kZTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIGFydGljbGVOb2RlOwogICAgfQoKICAgIGFzeW5jIGZ1bmN0aW9uIHBvc3RHZXRVcmwodGFyZ2V0LCBhcnRpY2xlTm9kZSkgewogICAgICAgIC8vIG1ldGFbcHJvcGVydHk9Im9nOnZpZGVvIl0KICAgICAgICBsZXQgbGlzdCA9IGFydGljbGVOb2RlLnF1ZXJ5U2VsZWN0b3JBbGwoJ2xpW3N0eWxlXVtjbGFzc10nKTsKICAgICAgICBsZXQgdXJsID0gbnVsbDsKICAgICAgICBsZXQgbWVkaWFJbmRleCA9IDA7CiAgICAgICAgaWYgKGxpc3QubGVuZ3RoID09PSAwKSB7CiAgICAgICAgICAgIC8vIHNpbmdsZSBpbWcgb3IgdmlkZW8KICAgICAgICAgICAgaWYgKCFkaXNhYmxlTmV3VXJsRmV0Y2hNZXRob2QpIHVybCA9IGF3YWl0IGdldFVybEZyb21JbmZvQXBpKGFydGljbGVOb2RlKTsKICAgICAgICAgICAgaWYgKHVybCA9PT0gbnVsbCkgewogICAgICAgICAgICAgICAgbGV0IHZpZGVvRWxlbSA9IGFydGljbGVOb2RlLnF1ZXJ5U2VsZWN0b3IoJ3ZpZGVvJyk7CiAgICAgICAgICAgICAgICBpZiAodmlkZW9FbGVtKSB7CiAgICAgICAgICAgICAgICAgICAgLy8gbWVkaWEgdHlwZSBpcyB2aWRlbwogICAgICAgICAgICAgICAgICAgIHVybCA9IHZpZGVvRWxlbS5nZXRBdHRyaWJ1dGUoJ3NyYycpOwogICAgICAgICAgICAgICAgICAgIGlmICh2aWRlb0VsZW0uaGFzQXR0cmlidXRlKCd2aWRlb1VSTCcpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHVybCA9IHZpZGVvRWxlbS5nZXRBdHRyaWJ1dGUoJ3ZpZGVvVVJMJyk7CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh1cmwgPT09IG51bGwgfHwgdXJsLmluY2x1ZGVzKCdibG9iJykpIHsKICAgICAgICAgICAgICAgICAgICAgICAgdXJsID0gYXdhaXQgZmV0Y2hWaWRlb1VSTChhcnRpY2xlTm9kZSwgdmlkZW9FbGVtKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGFydGljbGVOb2RlLnF1ZXJ5U2VsZWN0b3IoJ2FydGljbGUgIGRpdltyb2xlXSBkaXYgPiBpbWcnKSkgewogICAgICAgICAgICAgICAgICAgIC8vIG1lZGlhIHR5cGUgaXMgaW1hZ2UKICAgICAgICAgICAgICAgICAgICB1cmwgPSBhcnRpY2xlTm9kZS5xdWVyeVNlbGVjdG9yKCdhcnRpY2xlICBkaXZbcm9sZV0gZGl2ID4gaW1nJykuZ2V0QXR0cmlidXRlKCdzcmMnKTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0Vycjogbm90IGZpbmQgbWVkaWEgYXQgaGFuZGxlIHBvc3Qgc2luZ2xlJyk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAvLyBtdWx0aXBsZSBpbWdzIG9yIHZpZGVvcwogICAgICAgICAgICBjb25zdCBwb3N0VmlldyA9IGxvY2F0aW9uLnBhdGhuYW1lLnN0YXJ0c1dpdGgoJy9wLycpOwogICAgICAgICAgICBsZXQgZG90c0VsZW1lbnRzID0gWy4uLmFydGljbGVOb2RlLnF1ZXJ5U2VsZWN0b3JBbGwoYGRpdi5fYWNuYmApXTsKICAgICAgICAgICAgbWVkaWFJbmRleCA9IFsuLi5kb3RzRWxlbWVudHNdLnJlZHVjZSgocmVzdWx0LCBlbGVtZW50LCBpbmRleCkgPT4gKGVsZW1lbnQuY2xhc3NMaXN0Lmxlbmd0aCA9PT0gMiA/IGluZGV4IDogcmVzdWx0KSwgbnVsbCk7CiAgICAgICAgICAgIGlmIChtZWRpYUluZGV4ID09PSBudWxsKSB0aHJvdyAnQ2Fubm90IGZpbmQgdGhlIG1lZGlhIGluZGV4JzsKCiAgICAgICAgICAgIGlmICghZGlzYWJsZU5ld1VybEZldGNoTWV0aG9kKSB1cmwgPSBhd2FpdCBnZXRVcmxGcm9tSW5mb0FwaShhcnRpY2xlTm9kZSwgbWVkaWFJbmRleCk7CiAgICAgICAgICAgIGlmICh1cmwgPT09IG51bGwpIHsKICAgICAgICAgICAgICAgIGNvbnN0IGxpc3RFbGVtZW50cyA9IFsuLi5hcnRpY2xlTm9kZS5xdWVyeVNlbGVjdG9yQWxsKGA6c2NvcGUgPiBkaXYgPiBkaXY6bnRoLWNoaWxkKCR7cG9zdFZpZXcgPyAxIDogMn0pID4gZGl2ID4gZGl2Om50aC1jaGlsZCgxKSB1bCBsaVtzdHlsZSo9InRyYW5zbGF0ZVgiXWApXTsKICAgICAgICAgICAgICAgIGNvbnN0IGxpc3RFbGVtZW50V2lkdGggPSBNYXRoLm1heCguLi5saXN0RWxlbWVudHMubWFwKGVsZW1lbnQgPT4gZWxlbWVudC5jbGllbnRXaWR0aCkpOwoKICAgICAgICAgICAgICAgIGNvbnN0IHBvc2l0aW9uc01hcCA9IGxpc3RFbGVtZW50cy5yZWR1Y2UoKHJlc3VsdCwgZWxlbWVudCkgPT4gewogICAgICAgICAgICAgICAgICAgIGNvbnN0IHBvc2l0aW9uID0gTWF0aC5yb3VuZChOdW1iZXIoZWxlbWVudC5zdHlsZS50cmFuc2Zvcm0ubWF0Y2goLy0/KFxkKykvKVsxXSkgLyBsaXN0RWxlbWVudFdpZHRoKTsKICAgICAgICAgICAgICAgICAgICByZXR1cm4geyAuLi5yZXN1bHQsIFtwb3NpdGlvbl06IGVsZW1lbnQgfTsKICAgICAgICAgICAgICAgIH0sIHt9KTsKCiAgICAgICAgICAgICAgICBjb25zdCBub2RlID0gcG9zaXRpb25zTWFwW21lZGlhSW5kZXhdOwogICAgICAgICAgICAgICAgaWYgKG5vZGUucXVlcnlTZWxlY3RvcigndmlkZW8nKSkgewogICAgICAgICAgICAgICAgICAgIC8vIG1lZGlhIHR5cGUgaXMgdmlkZW8KICAgICAgICAgICAgICAgICAgICBsZXQgdmlkZW9FbGVtID0gbm9kZS5xdWVyeVNlbGVjdG9yKCd2aWRlbycpOwogICAgICAgICAgICAgICAgICAgIHVybCA9IHZpZGVvRWxlbS5nZXRBdHRyaWJ1dGUoJ3NyYycpOwogICAgICAgICAgICAgICAgICAgIGlmICh2aWRlb0VsZW0uaGFzQXR0cmlidXRlKCd2aWRlb1VSTCcpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHVybCA9IHZpZGVvRWxlbS5nZXRBdHRyaWJ1dGUoJ3ZpZGVvVVJMJyk7CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh1cmwgPT09IG51bGwgfHwgdXJsLmluY2x1ZGVzKCdibG9iJykpIHsKICAgICAgICAgICAgICAgICAgICAgICAgdXJsID0gYXdhaXQgZmV0Y2hWaWRlb1VSTChhcnRpY2xlTm9kZSwgdmlkZW9FbGVtKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKG5vZGUucXVlcnlTZWxlY3RvcignaW1nJykpIHsKICAgICAgICAgICAgICAgICAgICAvLyBtZWRpYSB0eXBlIGlzIGltYWdlCiAgICAgICAgICAgICAgICAgICAgdXJsID0gbm9kZS5xdWVyeVNlbGVjdG9yKCdpbWcnKS5nZXRBdHRyaWJ1dGUoJ3NyYycpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIHJldHVybiB7IHVybCwgbWVkaWFJbmRleCB9OwogICAgfQoKICAgIGZ1bmN0aW9uIGZpbmRIaWdobGlnaHRzSW5kZXgoKSB7CiAgICAgICAgbGV0IGN1cnJlbnREaXZQcm9ncmVzc2JhckRpdiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2RpdltzdHlsZV49InRyYW5zZm9ybSJdJykucGFyZW50RWxlbWVudDsKICAgICAgICBsZXQgcHJvZ3Jlc3NiYXJSb290RGl2ID0gY3VycmVudERpdlByb2dyZXNzYmFyRGl2LnBhcmVudEVsZW1lbnQ7CiAgICAgICAgbGV0IHByb2dyZXNzYmFyRGl2cyA9IHByb2dyZXNzYmFyUm9vdERpdi5jaGlsZHJlbjsKICAgICAgICByZXR1cm4gQXJyYXkuZnJvbShwcm9ncmVzc2JhckRpdnMpLmluZGV4T2YoY3VycmVudERpdlByb2dyZXNzYmFyRGl2KTsKICAgIH0KCiAgICBsZXQgaW5mb0NhY2hlID0ge307IC8vIGtleTogbWVkaWEgaWQsIHZhbHVlOiBpbmZvIGpzb24KICAgIGxldCBtZWRpYUlkQ2FjaGUgPSB7fTsgLy8ga2V5OiBwb3N0IGlkLCB2YWx1ZTogbWVkaWEgaWQKICAgIGFzeW5jIGZ1bmN0aW9uIGdldFVybEZyb21JbmZvQXBpKGFydGljbGVOb2RlLCBtZWRpYUlkeCA9IDApIHsKICAgICAgICAvLyByZXR1cm4gbWVkaWEgdXJsIGlmIGZvdW5kIGVsc2UgcmV0dXJuIG51bGwKICAgICAgICAvLyBmZXRjaCBmbG93OgogICAgICAgIC8vCSAxLiBmaW5kIHBvc3QgaWQKICAgICAgICAvLyAgIDIuIHVzZSBzdGVwMSBwb3N0IGlkIHRvIHNlbmQgcmVxdWVzdCB0byBnZXQgcG9zdCBwYWdlCiAgICAgICAgLy8gICAzLiBmaW5kIG1lZGlhIGlkIGZyb20gdGhlIHJlcG9uc2UgdGV4dCBvZiBzdGVwMgogICAgICAgIC8vICAgNC4gZmluZCBhcHAgaWQgaW4gY2xpY2tlZCBwYWdlCiAgICAgICAgLy8gICA1LiBzZW5kIGluZm8gYXBpIHJlcXVlc3Qgd2l0aCBtZWRpYSBpZCBhbmQgYXBwIGlkCiAgICAgICAgLy8gICA2LiBnZXQgbWVkaWEgdXJsIGZyb20gcmVzcG9uc2UganNvbgogICAgICAgIHRyeSB7CiAgICAgICAgICAgIGNvbnN0IGFwcElkUGF0dGVybiA9IC8iWC1JRy1BcHAtSUQiOiIoW1xkXSspIi87CiAgICAgICAgICAgIGNvbnN0IG1lZGlhSWRQYXR0ZXJuID0gL2luc3RhZ3JhbTpcL1wvbWVkaWFcP2lkPShcZCspfFsiJyBdbWVkaWFfaWRbIicgXTpbIicgXShcZCspWyInIF0vOwogICAgICAgICAgICBmdW5jdGlvbiBmaW5kQXBwSWQoKSB7CiAgICAgICAgICAgICAgICBsZXQgYm9keVNjcmlwdHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCJib2R5ID4gc2NyaXB0Iik7CiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGJvZHlTY3JpcHRzLmxlbmd0aDsgKytpKSB7CiAgICAgICAgICAgICAgICAgICAgbGV0IG1hdGNoID0gYm9keVNjcmlwdHNbaV0udGV4dC5tYXRjaChhcHBJZFBhdHRlcm4pOwogICAgICAgICAgICAgICAgICAgIGlmIChtYXRjaCkgcmV0dXJuIG1hdGNoWzFdOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgY29uc29sZS5sb2coIkNhbm5vdCBmaW5kIGFwcCBpZCIpOwogICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGFzeW5jIGZ1bmN0aW9uIGZpbmRNZWRpYUlkKCkgewogICAgICAgICAgICAgICAgLy8gbWV0aG9kIDE6IGV4dHJhY3QgZnJvbSB1cmwuCiAgICAgICAgICAgICAgICBmdW5jdGlvbiBtZXRob2QxKCkgewogICAgICAgICAgICAgICAgICAgIGxldCBocmVmID0gd2luZG93LmxvY2F0aW9uLmhyZWY7CiAgICAgICAgICAgICAgICAgICAgbGV0IG1hdGNoID0gaHJlZi5tYXRjaCgvd3d3Lmluc3RhZ3JhbS5jb21cL3N0b3JpZXNcL1teXC9dK1wvKFxkKykvKTsKICAgICAgICAgICAgICAgICAgICBpZiAoIWhyZWYuaW5jbHVkZXMoJ2hpZ2hsaWdodHMnKSAmJiBtYXRjaCkgcmV0dXJuIG1hdGNoWzFdOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIC8vIG1ldGhvZCAzCiAgICAgICAgICAgICAgICBhc3luYyBmdW5jdGlvbiBtZXRob2QzKCkgewogICAgICAgICAgICAgICAgICAgIGxldCBwb3N0SWQgPSBhd2FpdCBmaW5kUG9zdElkKGFydGljbGVOb2RlKTsKICAgICAgICAgICAgICAgICAgICBpZiAoIXBvc3RJZCkgewogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIGlmICghKHBvc3RJZCBpbiBtZWRpYUlkQ2FjaGUpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBwb3N0VXJsID0gYGh0dHBzOi8vd3d3Lmluc3RhZ3JhbS5jb20vcC8ke3Bvc3RJZH0vYDsKICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHJlc3AgPSBhd2FpdCBmZXRjaChwb3N0VXJsKTsKICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHRleHQgPSBhd2FpdCByZXNwLnRleHQoKTsKICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGlkTWF0Y2ggPSB0ZXh0ID8gdGV4dC5tYXRjaChtZWRpYUlkUGF0dGVybikgOiBbXTsKICAgICAgICAgICAgICAgICAgICAgICAgbGV0IG1lZGlhSWQgPSBudWxsOwogICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGlkTWF0Y2gubGVuZ3RoOyArK2kpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpZE1hdGNoW2ldKSBtZWRpYUlkID0gaWRNYXRjaFtpXTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICBpZiAoIW1lZGlhSWQpIHJldHVybiBudWxsOwogICAgICAgICAgICAgICAgICAgICAgICBtZWRpYUlkQ2FjaGVbcG9zdElkXSA9IG1lZGlhSWQ7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIHJldHVybiBtZWRpYUlkQ2FjaGVbcG9zdElkXTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBmdW5jdGlvbiBtZXRob2QyKCkgewogICAgICAgICAgICAgICAgICAgIGxldCBzY3JpcHRKc29uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnc2NyaXB0W3R5cGU9ImFwcGxpY2F0aW9uL2pzb24iXScpOwogICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2NyaXB0SnNvbi5sZW5ndGg7IGkrKykgewogICAgICAgICAgICAgICAgICAgICAgICBsZXQgbWF0Y2ggPSBzY3JpcHRKc29uW2ldLnRleHQubWF0Y2goLyJwayI6IihcZCspIiwiaWQiOiJbXGRfXSsiLyk7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtYXRjaCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF3aW5kb3cubG9jYXRpb24uaHJlZi5pbmNsdWRlcygnaGlnaGxpZ2h0cycpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1hdGNoWzFdOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IG1hdGNocyA9IEFycmF5LmZyb20oc2NyaXB0SnNvbltpXS50ZXh0Lm1hdGNoQWxsKC8icGsiOiIoXGQrKSIsImlkIjoiW1xkX10rIi9nKSwgbWF0Y2ggPT4gbWF0Y2hbMV0pOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbWF0Y2hJbmRleCA9IGZpbmRIaWdobGlnaHRzSW5kZXgoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtYXRjaHMubGVuZ3RoID4gbWF0Y2hJbmRleCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBtYXRjaHNbbWF0Y2hJbmRleF07CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgcmV0dXJuIG1ldGhvZDEoKSB8fCBhd2FpdCBtZXRob2QzKCkgfHwgbWV0aG9kMigpOwogICAgICAgICAgICB9CgogICAgICAgICAgICBmdW5jdGlvbiBnZXRJbWdPclZlZGlvVXJsKGl0ZW0pIHsKICAgICAgICAgICAgICAgIGlmICgidmlkZW9fdmVyc2lvbnMiIGluIGl0ZW0pIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gaXRlbS52aWRlb192ZXJzaW9uc1swXS51cmw7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIHJldHVybiBpdGVtLmltYWdlX3ZlcnNpb25zMi5jYW5kaWRhdGVzWzBdLnVybDsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQoKICAgICAgICAgICAgbGV0IGFwcElkID0gZmluZEFwcElkKCk7CiAgICAgICAgICAgIGlmICghYXBwSWQpIHJldHVybiBudWxsOwogICAgICAgICAgICBsZXQgaGVhZGVycyA9IHsKICAgICAgICAgICAgICAgIG1ldGhvZDogJ0dFVCcsCiAgICAgICAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgICAgICAgICAgQWNjZXB0OiAnKi8qJywKICAgICAgICAgICAgICAgICAgICAnWC1JRy1BcHAtSUQnOiBhcHBJZAogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIGNyZWRlbnRpYWxzOiAnaW5jbHVkZScsCiAgICAgICAgICAgICAgICBtb2RlOiAnY29ycycKICAgICAgICAgICAgfTsKCiAgICAgICAgICAgIGxldCBtZWRpYUlkID0gYXdhaXQgZmluZE1lZGlhSWQoKTsKICAgICAgICAgICAgaWYgKCFtZWRpYUlkKSB7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygiQ2Fubm90IGZpbmQgbWVkaWEgaWQiKTsKICAgICAgICAgICAgICAgIHJldHVybiBudWxsOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmICghKG1lZGlhSWQgaW4gaW5mb0NhY2hlKSkgewogICAgICAgICAgICAgICAgbGV0IHVybCA9ICdodHRwczovL2kuaW5zdGFncmFtLmNvbS9hcGkvdjEvbWVkaWEvJyArIG1lZGlhSWQgKyAnL2luZm8vJzsKICAgICAgICAgICAgICAgIGxldCByZXNwID0gYXdhaXQgZmV0Y2godXJsLCBoZWFkZXJzKTsKICAgICAgICAgICAgICAgIGlmIChyZXNwLnN0YXR1cyAhPT0gMjAwKSB7CiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coYEZldGNoIGluZm8gQVBJIGZhaWxlZCB3aXRoIHN0YXR1cyBjb2RlOiAke3Jlc3Auc3RhdHVzfWApOwogICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgbGV0IHJlc3BKc29uID0gYXdhaXQgcmVzcC5qc29uKCk7CiAgICAgICAgICAgICAgICBpbmZvQ2FjaGVbbWVkaWFJZF0gPSByZXNwSnNvbjsKICAgICAgICAgICAgfQogICAgICAgICAgICBsZXQgaW5mb0pzb24gPSBpbmZvQ2FjaGVbbWVkaWFJZF07CiAgICAgICAgICAgIGlmICgnY2Fyb3VzZWxfbWVkaWEnIGluIGluZm9Kc29uLml0ZW1zWzBdKSB7CiAgICAgICAgICAgICAgICAvLyBtdWx0aS1tZWRpYSBwb3N0CiAgICAgICAgICAgICAgICByZXR1cm4gZ2V0SW1nT3JWZWRpb1VybChpbmZvSnNvbi5pdGVtc1swXS5jYXJvdXNlbF9tZWRpYVttZWRpYUlkeF0pOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgLy8gc2luZ2xlIG1lZGlhIHBvc3QKICAgICAgICAgICAgICAgIHJldHVybiBnZXRJbWdPclZlZGlvVXJsKGluZm9Kc29uLml0ZW1zWzBdKTsKICAgICAgICAgICAgfQogICAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICAgICAgY29uc29sZS5sb2coYFVuY2F0Y2hlZCBpbiBnZXRVcmxGcm9tSW5mb0FwaSgpOiAke2V9XG4ke2Uuc3RhY2t9YCk7CiAgICAgICAgICAgIHJldHVybiBudWxsOwogICAgICAgIH0KICAgIH0KCiAgICBmdW5jdGlvbiBmaW5kUG9zdE5hbWUoYXJ0aWNsZU5vZGUpIHsKICAgICAgICAvLyB0aGlzIGdyYWJzIHRoZSB1c2VybmFtZSBsaW5rIHRoYXQgaXMgdmlzdWFsbHkgaW4gdGhlIGF1dGhvcidzIHBvc3QgY29tbWVudCBiZWxvdyB0aGUgbWVkaWEgCiAgICAgICAgLy8gJ2FydGljbGUgc2VjdGlvbicgaW5jbHVkZXMgdGhlIGxpa2VzIHNlY3Rpb24gYW5kIGNvbW1lbnQgYm94CiAgICAgICAgLy8gJysgKiBhJyBwdWxscyB0aGUgZmlyc3QgZWxlbWVudCBhZnRlciB0aGUgc2VjdGlvbiB0aGF0IGNvbnRhaW5zIGEgbGluayAoY29tbWVudCBib3ggZG9lc24ndCkKICAgICAgICAvLyAnW2hyZWZePSIvIl1baHJlZiQ9Ii8iXScgcmVxdWlyZXMgdGhlIGhyZWYgYXR0cmlidXRlIHRvIGJlZ2luIGFuZCBlbmQgd2l0aCBhIHNsYXNoIHRvIG1hdGNoIGEgdXNlcm5hbWUKICAgICAgICBsZXQgaW1nTm9DYW52YXMgPSBhcnRpY2xlTm9kZS5xdWVyeVNlbGVjdG9yKCdhcnRpY2xlIHNlY3Rpb24gKyAqIGFbaHJlZl49Ii8iXVtocmVmJD0iLyJdJyk7CiAgICAgICAgaWYgKGltZ05vQ2FudmFzKSB7CiAgICAgICAgICAgIHJldHVybiBpbWdOb0NhbnZhczsKICAgICAgICB9CgogICAgICAgIC8vIHZpZGVvcyBhcmUgaGFuZGxlZCBkaWZmZXJlbnRseQogICAgICAgIGxldCBpbWdBbHQgPSBhcnRpY2xlTm9kZS5xdWVyeVNlbGVjdG9yKCdjYW52YXMgfiAqIGltZycpOwogICAgICAgIGlmIChpbWdBbHQpIHsKICAgICAgICAgICAgaW1nQWx0ID0gaW1nQWx0LmdldEF0dHJpYnV0ZSgnYWx0Jyk7CiAgICAgICAgICAgIGxldCBsaW5rcyA9IGFydGljbGVOb2RlLnF1ZXJ5U2VsZWN0b3JBbGwoJ2EnKTsKICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsaW5rcy5sZW5ndGg7IGkrKykgewogICAgICAgICAgICAgICAgY29uc3QgcG9zdGVyTmFtZSA9IGxpbmtzW2ldLmdldEF0dHJpYnV0ZSgnaHJlZicpLnJlcGxhY2UoL1wvL2csICcnKTsKICAgICAgICAgICAgICAgIGlmIChpbWdBbHQuaW5jbHVkZXMocG9zdGVyTmFtZSkpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gbGlua3NbaV07CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAvLyBmaXJzdCBIMiB3aXRoIGEgZGlyZWN0aW9uIHNldAogICAgICAgICAgICBjb25zdCBlbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2gyW2Rpcl0nKTsKICAgICAgICAgICAgcmV0dXJuIGVsLmlubmVyVGV4dDsKICAgICAgICB9CiAgICB9CgogICAgZnVuY3Rpb24gZmluZFBvc3RJZChhcnRpY2xlTm9kZSkgewogICAgICAgIGxldCBhTm9kZXMgPSBhcnRpY2xlTm9kZS5xdWVyeVNlbGVjdG9yQWxsKCdhJyk7CiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhTm9kZXMubGVuZ3RoOyArK2kpIHsKICAgICAgICAgICAgbGV0IGxpbmsgPSBhTm9kZXNbaV0uZ2V0QXR0cmlidXRlKCdocmVmJyk7CiAgICAgICAgICAgIGlmIChsaW5rKSB7CiAgICAgICAgICAgICAgICBsZXQgbWF0Y2ggPSBsaW5rLm1hdGNoKHBvc3RJZFBhdHRlcm4pOwogICAgICAgICAgICAgICAgaWYgKG1hdGNoKSByZXR1cm4gbWF0Y2hbMV07CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgcmV0dXJuIG51bGw7CiAgICB9CgogICAgYXN5bmMgZnVuY3Rpb24gZmV0Y2hWaWRlb1VSTChhcnRpY2xlTm9kZSwgdmlkZW9FbGVtKSB7CiAgICAgICAgbGV0IHBvc3RlciA9IHZpZGVvRWxlbS5nZXRBdHRyaWJ1dGUoJ3Bvc3RlcicpOwogICAgICAgIGxldCB0aW1lTm9kZXMgPSBhcnRpY2xlTm9kZS5xdWVyeVNlbGVjdG9yQWxsKCd0aW1lJyk7CiAgICAgICAgLy8gc3BlY2lhbCB0aGFua3Mg5a2Z5bm05b+gIChodHRwczovL2dyZWFzeWZvcmsub3JnL2VuL3NjcmlwdHMvNDA2NTM1LWluc3RhZ3JhbS1kb3dubG9hZC1idXR0b24vZGlzY3Vzc2lvbnMvMTIwMTU5KQogICAgICAgIGxldCBwb3N0ZXJVcmwgPSB0aW1lTm9kZXNbdGltZU5vZGVzLmxlbmd0aCAtIDFdLnBhcmVudE5vZGUucGFyZW50Tm9kZS5ocmVmOwogICAgICAgIGNvbnN0IHBvc3RlclBhdHRlcm4gPSAvXC8oW15cLz9dKilcPy87CiAgICAgICAgbGV0IHBvc3Rlck1hdGNoID0gcG9zdGVyLm1hdGNoKHBvc3RlclBhdHRlcm4pOwogICAgICAgIGxldCBwb3N0RmlsZU5hbWUgPSBwb3N0ZXJNYXRjaFsxXTsKICAgICAgICBsZXQgcmVzcCA9IGF3YWl0IGZldGNoKHBvc3RlclVybCk7CiAgICAgICAgbGV0IGNvbnRlbnQgPSBhd2FpdCByZXNwLnRleHQoKTsKICAgICAgICAvLyBzcGVjaWFsIHRoYW5rcyB0byDlrZnlubTlv6AgZm9yIHRoZSBwYXR0ZXJuIChodHRwczovL2dyZWFzeWZvcmsub3JnL3poLVRXL3NjcmlwdHMvNDA2NTM1LWluc3RhZ3JhbS1kb3dubG9hZC1idXR0b24vZGlzY3Vzc2lvbnMvMTE2Njc1KQogICAgICAgIGNvbnN0IHBhdHRlcm4gPSBuZXcgUmVnRXhwKGAke3Bvc3RGaWxlTmFtZX0uKj92aWRlb192ZXJzaW9ucy4qP3VybCI6KCJbXiJdKiIpYCwgJ3MnKTsKICAgICAgICBsZXQgbWF0Y2ggPSBjb250ZW50Lm1hdGNoKHBhdHRlcm4pOwogICAgICAgIGxldCB2aWRlb1VybCA9IEpTT04ucGFyc2UobWF0Y2hbMV0pOwogICAgICAgIHZpZGVvVXJsID0gdmlkZW9VcmwucmVwbGFjZSgvXig/Omh0dHBzPzpcL1wvKT8oPzpbXkBcL1xuXStAKT8oPzp3d3dcLik/KFteOlwvP1xuXSspL2csICdodHRwczovL3Njb250ZW50LmNkbmluc3RhZ3JhbS5jb20nKTsKICAgICAgICB2aWRlb0VsZW0uc2V0QXR0cmlidXRlKCd2aWRlb1VSTCcsIHZpZGVvVXJsKTsKICAgICAgICByZXR1cm4gdmlkZW9Vcmw7CiAgICB9CgogICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KICAgIC8vID09PT0gICBTdG9yeSAmIEhpZ2hsaWdodCAgICA9PT09CiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQogICAgYXN5bmMgZnVuY3Rpb24gc3RvcnlPbk1vdXNlSW4odGFyZ2V0KSB7CiAgICAgICAgbGV0IHNlY3Rpb25Ob2RlID0gc3RvcnlHZXRTZWN0aW9uTm9kZSh0YXJnZXQpOwogICAgICAgIGxldCB1cmwgPSBhd2FpdCBzdG9yeUdldFVybCh0YXJnZXQsIHNlY3Rpb25Ob2RlKTsKICAgICAgICB0YXJnZXQuc2V0QXR0cmlidXRlKCdocmVmJywgdXJsKTsKICAgIH0KCiAgICBhc3luYyBmdW5jdGlvbiBzdG9yeU9uQ2xpY2tlZCh0YXJnZXQpIHsKICAgICAgICAvLyBleHRyYWN0IHVybCBmcm9tIHRhcmdldCBzdG9yeSBhbmQgZG93bmxvYWQgb3Igb3BlbiBpdAogICAgICAgIGxldCBzZWN0aW9uTm9kZSA9IHN0b3J5R2V0U2VjdGlvbk5vZGUodGFyZ2V0KTsKICAgICAgICBsZXQgdXJsID0gYXdhaXQgc3RvcnlHZXRVcmwodGFyZ2V0LCBzZWN0aW9uTm9kZSk7CiAgICAgICAgY29uc3QgcG9zdGVyVXJsUGF0ID0gL1wvc3Rvcmllc1wvKC4qKVwvLipcLy8KICAgICAgICAvLyBkb3dubG9hZCBvciBvcGVuIG1lZGlhIHVybAogICAgICAgIGlmICh0YXJnZXQuZ2V0QXR0cmlidXRlKCdjbGFzcycpLmluY2x1ZGVzKCdkb3dubG9hZC1idG4nKSkgewogICAgICAgICAgICBsZXQgbWVkaWFOYW1lID0gdXJsLnNwbGl0KCc/JylbMF0uc3BsaXQoJ1xcJykucG9wKCkuc3BsaXQoJy8nKS5wb3AoKTsKICAgICAgICAgICAgbWVkaWFOYW1lID0gbWVkaWFOYW1lLnN1YnN0cmluZygwLCBtZWRpYU5hbWUubGFzdEluZGV4T2YoJy4nKSk7CiAgICAgICAgICAgIGxldCBkYXRldGltZSA9IG5ldyBEYXRlKHNlY3Rpb25Ob2RlLnF1ZXJ5U2VsZWN0b3IoJ3RpbWUnKS5nZXRBdHRyaWJ1dGUoJ2RhdGV0aW1lJykpOwogICAgICAgICAgICBsZXQgcG9zdGVyTmFtZSA9ICJ1bmtvd24iOwogICAgICAgICAgICAvLyBtZXRob2QgMQogICAgICAgICAgICBjb25zdCBwb3N0ZXJOYW1lSGVhZGVyID0gc2VjdGlvbk5vZGUucXVlcnlTZWxlY3RvcignaGVhZGVyIGEnKTsKICAgICAgICAgICAgaWYgKHBvc3Rlck5hbWVIZWFkZXIpIHsKICAgICAgICAgICAgICAgIHBvc3Rlck5hbWUgPSBwb3N0ZXJOYW1lSGVhZGVyLmdldEF0dHJpYnV0ZSgnaHJlZicpLnJlcGxhY2UoL1wvL2csICcnKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgLy8gbWV0aG9kIDIKICAgICAgICAgICAgaWYgKHBvc3Rlck5hbWUgPT09ICJ1bmtvd24iKSB7CiAgICAgICAgICAgICAgICBjb25zdCBtYXRjaCA9IHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZS5tYXRjaChwb3N0ZXJVcmxQYXQpOwogICAgICAgICAgICAgICAgaWYgKG1hdGNoKSB7CiAgICAgICAgICAgICAgICAgICAgcG9zdGVyTmFtZSA9IG1hdGNoWzFdOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIGxldCBmaWxlbmFtZSA9IGZpbGVuYW1lRm9ybWF0KHN0b3J5RmlsZW5hbWVUZW1wbGF0ZSwgcG9zdGVyTmFtZSwgZGF0ZXRpbWUsIG1lZGlhTmFtZSk7CiAgICAgICAgICAgIGRvd25sb2FkUmVzb3VyY2UodXJsLCBmaWxlbmFtZSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgLy8gb3BlbiB1cmwgaW4gbmV3IHRhYgogICAgICAgICAgICBvcGVuUmVzb3VyY2UodXJsKTsKICAgICAgICB9CiAgICB9CgogICAgZnVuY3Rpb24gc3RvcnlHZXRTZWN0aW9uTm9kZSh0YXJnZXQpIHsKICAgICAgICBsZXQgc2VjdGlvbk5vZGUgPSB0YXJnZXQ7CiAgICAgICAgd2hpbGUgKHNlY3Rpb25Ob2RlICYmIHNlY3Rpb25Ob2RlLnRhZ05hbWUgIT09ICdTRUNUSU9OJykgewogICAgICAgICAgICBzZWN0aW9uTm9kZSA9IHNlY3Rpb25Ob2RlLnBhcmVudE5vZGU7CiAgICAgICAgfQogICAgICAgIHJldHVybiBzZWN0aW9uTm9kZTsKICAgIH0KCiAgICBhc3luYyBmdW5jdGlvbiBzdG9yeUdldFVybCh0YXJnZXQsIHNlY3Rpb25Ob2RlKSB7CiAgICAgICAgbGV0IHVybCA9IG51bGw7CiAgICAgICAgaWYgKCFkaXNhYmxlTmV3VXJsRmV0Y2hNZXRob2QpIHVybCA9IGF3YWl0IGdldFVybEZyb21JbmZvQXBpKHRhcmdldCk7CgogICAgICAgIGlmICghdXJsKSB7CiAgICAgICAgICAgIGlmIChzZWN0aW9uTm9kZS5xdWVyeVNlbGVjdG9yKCd2aWRlbyA+IHNvdXJjZScpKSB7CiAgICAgICAgICAgICAgICB1cmwgPSBzZWN0aW9uTm9kZS5xdWVyeVNlbGVjdG9yKCd2aWRlbyA+IHNvdXJjZScpLmdldEF0dHJpYnV0ZSgnc3JjJyk7CiAgICAgICAgICAgIH0gZWxzZSBpZiAoc2VjdGlvbk5vZGUucXVlcnlTZWxlY3RvcignaW1nW2RlY29kaW5nPSJzeW5jIl0nKSkgewogICAgICAgICAgICAgICAgbGV0IGltZyA9IHNlY3Rpb25Ob2RlLnF1ZXJ5U2VsZWN0b3IoJ2ltZ1tkZWNvZGluZz0ic3luYyJdJyk7CiAgICAgICAgICAgICAgICB1cmwgPSBpbWcuc3Jjc2V0LnNwbGl0KC8gXGQrdy9nKVswXS50cmltKCk7IC8vIGV4dHJhY3QgZmlyc3Qgc3JjIGZyb20gc3Jjc2V0IGF0dHIuIG9mIGltZwogICAgICAgICAgICAgICAgaWYgKHVybC5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHVybDsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHVybCA9IHNlY3Rpb25Ob2RlLnF1ZXJ5U2VsZWN0b3IoJ2ltZ1tkZWNvZGluZz0ic3luYyJdJykuZ2V0QXR0cmlidXRlKCdzcmMnKTsKICAgICAgICAgICAgfSBlbHNlIGlmIChzZWN0aW9uTm9kZS5xdWVyeVNlbGVjdG9yKCd2aWRlbycpKSB7CiAgICAgICAgICAgICAgICB1cmwgPSBzZWN0aW9uTm9kZS5xdWVyeVNlbGVjdG9yKCd2aWRlbycpLmdldEF0dHJpYnV0ZSgnc3JjJyk7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgcmV0dXJuIHVybDsKICAgIH0KCiAgICBmdW5jdGlvbiBmaWxlbmFtZUZvcm1hdCh0ZW1wbGF0ZSwgaWQsIGRhdGV0aW1lLCBtZWRpYW5hbWUsIHBvc3RJZCA9ICtuZXcgRGF0ZSgpLCBtZWRpYUluZGV4ID0gJzAnKSB7CiAgICAgICAgbGV0IGZpbGVuYW1lID0gdGVtcGxhdGU7CiAgICAgICAgZmlsZW5hbWUgPSBmaWxlbmFtZS5yZXBsYWNlKC8laWQlL2csIGlkKTsKICAgICAgICBmaWxlbmFtZSA9IGZpbGVuYW1lLnJlcGxhY2UoLyVkYXRldGltZSUvZywgZGF0ZXRpbWVGb3JtYXQoZGF0ZXRpbWVUZW1wbGF0ZSwgZGF0ZXRpbWUpKTsKICAgICAgICBmaWxlbmFtZSA9IGZpbGVuYW1lLnJlcGxhY2UoLyVtZWRpYW5hbWUlL2csIG1lZGlhbmFtZSk7CiAgICAgICAgZmlsZW5hbWUgPSBmaWxlbmFtZS5yZXBsYWNlKC8lcG9zdElkJS9nLCBwb3N0SWQpOwogICAgICAgIGZpbGVuYW1lID0gZmlsZW5hbWUucmVwbGFjZSgvJW1lZGlhSW5kZXglL2csIG1lZGlhSW5kZXgpOwogICAgICAgIHJldHVybiBmaWxlbmFtZTsKICAgIH0KCiAgICBmdW5jdGlvbiBkYXRldGltZUZvcm1hdCh0ZW1wbGF0ZSwgZGF0ZXRpbWUpIHsKICAgICAgICBsZXQgZGF0ZXRpbWVTdHIgPSB0ZW1wbGF0ZTsKICAgICAgICBkYXRldGltZVN0ciA9IGRhdGV0aW1lU3RyLnJlcGxhY2UoLyV5JS9nLCBkYXRldGltZS5nZXRGdWxsWWVhcigpKTsKICAgICAgICBkYXRldGltZVN0ciA9IGRhdGV0aW1lU3RyLnJlcGxhY2UoLyVtJS9nLCBmaWxsWmVybygoZGF0ZXRpbWUuZ2V0TW9udGgoKSArIDEpLnRvU3RyaW5nKCkpKTsKICAgICAgICBkYXRldGltZVN0ciA9IGRhdGV0aW1lU3RyLnJlcGxhY2UoLyVkJS9nLCBmaWxsWmVybyhkYXRldGltZS5nZXREYXRlKCkudG9TdHJpbmcoKSkpOwogICAgICAgIGRhdGV0aW1lU3RyID0gZGF0ZXRpbWVTdHIucmVwbGFjZSgvJUglL2csIGZpbGxaZXJvKGRhdGV0aW1lLmdldEhvdXJzKCkudG9TdHJpbmcoKSkpOwogICAgICAgIGRhdGV0aW1lU3RyID0gZGF0ZXRpbWVTdHIucmVwbGFjZSgvJU0lL2csIGZpbGxaZXJvKGRhdGV0aW1lLmdldE1pbnV0ZXMoKS50b1N0cmluZygpKSk7CiAgICAgICAgZGF0ZXRpbWVTdHIgPSBkYXRldGltZVN0ci5yZXBsYWNlKC8lUyUvZywgZmlsbFplcm8oZGF0ZXRpbWUuZ2V0U2Vjb25kcygpLnRvU3RyaW5nKCkpKTsKICAgICAgICByZXR1cm4gZGF0ZXRpbWVTdHI7CiAgICB9CgogICAgZnVuY3Rpb24gZmlsbFplcm8oc3RyKSB7CiAgICAgICAgaWYgKHN0ci5sZW5ndGggPT09IDEpIHsKICAgICAgICAgICAgcmV0dXJuICcwJyArIHN0cjsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIHN0cjsKICAgIH0KCiAgICBmdW5jdGlvbiBvcGVuUmVzb3VyY2UodXJsKSB7CiAgICAgICAgLy8gb3BlbiB1cmwgaW4gbmV3IHRhYgogICAgICAgIHZhciBhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpOwogICAgICAgIGEuaHJlZiA9IHVybDsKICAgICAgICBhLnNldEF0dHJpYnV0ZSgndGFyZ2V0JywgJ19ibGFuaycpOwogICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoYSk7CiAgICAgICAgYS5jbGljaygpOwogICAgICAgIGEucmVtb3ZlKCk7CiAgICB9CgogICAgZnVuY3Rpb24gZm9yY2VEb3dubG9hZChibG9iLCBmaWxlbmFtZSwgZXh0ZW5zaW9uKSB7CiAgICAgICAgLy8gcmVmOiBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy80OTQ3NDc3NS9jaHJvbWUtNjUtYmxvY2tzLWNyb3NzLW9yaWdpbi1hLWRvd25sb2FkLWNsaWVudC1zaWRlLXdvcmthcm91bmQtdG8tZm9yY2UtZG93bgogICAgICAgIHZhciBhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpOwogICAgICAgIGlmIChyZXBsYWNlSnBlZ1dpdGhKcGcpIGV4dGVuc2lvbiA9IGV4dGVuc2lvbi5yZXBsYWNlKCdqcGVnJywgJ2pwZycpOwogICAgICAgIGEuZG93bmxvYWQgPSBmaWxlbmFtZSArICcuJyArIGV4dGVuc2lvbjsKICAgICAgICBhLmhyZWYgPSBibG9iOwogICAgICAgIC8vIEZvciBGaXJlZm94IGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8zMjIyNjA2OAogICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoYSk7CiAgICAgICAgYS5jbGljaygpOwogICAgICAgIGEucmVtb3ZlKCk7CiAgICB9CgogICAgLy8gQ3VycmVudCBibG9iIHNpemUgbGltaXQgaXMgYXJvdW5kIDUwME1CIGZvciBicm93c2VycwogICAgZnVuY3Rpb24gZG93bmxvYWRSZXNvdXJjZSh1cmwsIGZpbGVuYW1lKSB7CiAgICAgICAgaWYgKHVybC5zdGFydHNXaXRoKCdibG9iOicpKSB7CiAgICAgICAgICAgIGZvcmNlRG93bmxvYWQodXJsLCBmaWxlbmFtZSwgJ21wNCcpOwogICAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICAgIGNvbnNvbGUubG9nKGBEb3dsb2FkaW5nICR7dXJsfWApOwogICAgICAgIC8vIHJlZjogaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvNDk0NzQ3NzUvY2hyb21lLTY1LWJsb2Nrcy1jcm9zcy1vcmlnaW4tYS1kb3dubG9hZC1jbGllbnQtc2lkZS13b3JrYXJvdW5kLXRvLWZvcmNlLWRvd24KICAgICAgICBpZiAoIWZpbGVuYW1lKSB7CiAgICAgICAgICAgIGZpbGVuYW1lID0gdXJsCiAgICAgICAgICAgICAgICAuc3BsaXQoJ1xcJykKICAgICAgICAgICAgICAgIC5wb3AoKQogICAgICAgICAgICAgICAgLnNwbGl0KCcvJykKICAgICAgICAgICAgICAgIC5wb3AoKTsKICAgICAgICB9CiAgICAgICAgZmV0Y2godXJsLCB7CiAgICAgICAgICAgIGhlYWRlcnM6IG5ldyBIZWFkZXJzKHsKICAgICAgICAgICAgICAgICdVc2VyLUFnZW50Jzogd2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQsCiAgICAgICAgICAgICAgICBPcmlnaW46IGxvY2F0aW9uLm9yaWdpbiwKICAgICAgICAgICAgfSksCiAgICAgICAgICAgIG1vZGU6ICdjb3JzJywKICAgICAgICB9KQogICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiByZXNwb25zZS5ibG9iKCkpCiAgICAgICAgICAgIC50aGVuKGJsb2IgPT4gewogICAgICAgICAgICAgICAgY29uc3QgZXh0ZW5zaW9uID0gYmxvYi50eXBlLnNwbGl0KCcvJykucG9wKCk7CiAgICAgICAgICAgICAgICBsZXQgYmxvYlVybCA9IHdpbmRvdy5VUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpOwogICAgICAgICAgICAgICAgZm9yY2VEb3dubG9hZChibG9iVXJsLCBmaWxlbmFtZSwgZXh0ZW5zaW9uKTsKICAgICAgICAgICAgfSkKICAgICAgICAgICAgLmNhdGNoKGUgPT4gY29uc29sZS5lcnJvcihlKSk7CiAgICB9Cn0pKCk7Cg=="},{"name":"Bypass All Shortlinks","options":{"check_for_updates":true,"comment":null,"compat_foreach":false,"compat_metadata":false,"compat_powerful_this":null,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"merge_connects":true,"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_connects":["nocaptchaai.com"],"orig_excludes":["/^(https?:\\/\\/)(.+)?((advertisingexcel|talkforfitness|rsadnetworkinfo|rsinsuranceinfo|rsfinanceinfo|rssoftwareinfo|rshostinginfo|rseducationinfo|gametechreviewer|vegan4k|phineypet|batmanfactor|techedifier|urlhives|linkhives|github|freeoseocheck|greenenez|aliyun|reddit|bing|yahoo|wiki-topia|edonmanor|vrtier|whatsapp|gearsadviser|edonmanor|tunebug|menrealitycalc|amazon|ebay|payoneer|paypal|skrill|stripe|tipalti|wise|discord|tokopedia|taobao|taboola|aliexpress|netflix|citigroup|spotify|bankofamerica|hsbc|accounts.youtube|(cloud|mail|translate|analytics|accounts|myaccount|contacts|clients6|developers|payments|pay|ogs|safety|wallet).google|(login|signup|account|officeapps|api|mail|hotmail).live|basketballsavvy|healthyfollicles|hauntingrealm|pluginmixer|boredboard|boardgamechick|healthyfollicles).com|(thumb8|thumb9|crewbase|crewus|shinchu|shinbhu|ultraten|uniqueten|topcryptoz|allcryptoz|coinsvalue|cookinguide|cryptowidgets|webfreetools|carstopia|makeupguide|carsmania|nflximg|doubleclick|luckydice).net|(linksfly|shortsfly|urlsfly|wefly|blog24).me|(greasyfork|openuserjs|adarima|telegram|wikipedia).org|mcrypto.club|misterio.ro|insurancegold.in|coinscap.info|chefknives.expert|(shopee|lazada|rakuten|maybank|binance).*|(dana|ovo|bca.co|bri.co|bni.co|bankmandiri.co|desa|(.*).go).id|(.*).(edu|gov))(\\/.*)/"],"orig_includes":[],"orig_matches":["*://*/*"],"orig_noframes":null,"orig_run_at":"document-start","use_blockers":[],"use_connects":[],"use_excludes":["/^[^:/#?]*:\\/\\/([^#?/]*\\.)?www\\.youtube\\.com(:[0-9]{1,5})?\\/.*$/","/^[^:/#?]*:\\/\\/([^#?/]*\\.)?accounts\\.youtube\\.com(:[0-9]{1,5})?\\/.*$/","/^[^:/#?]*:\\/\\/([^#?/]*\\.)?www\\.facebook\\.com(:[0-9]{1,5})?\\/.*$/","/^[^:/#?]*:\\/\\/([^#?/]*\\.)?www\\.fbsbx\\.com(:[0-9]{1,5})?\\/.*$/","/^[^:/#?]*:\\/\\/([^#?/]*\\.)?www\\.netflix\\.com(:[0-9]{1,5})?\\/.*$/","/^[^:/#?]*:\\/\\/([^#?/]*\\.)?ae\\.nflximg\\.net(:[0-9]{1,5})?\\/.*$/","/^[^:/#?]*:\\/\\/([^#?/]*\\.)?pddikti-admin\\.kemdikbud\\.go\\.id(:[0-9]{1,5})?\\/.*$/","/^[^:/#?]*:\\/\\/([^#?/]*\\.)?seller\\.shopee\\.co\\.id(:[0-9]{1,5})?\\/.*$/","/^[^:/#?]*:\\/\\/([^#?/]*\\.)?chat\\.openai\\.com(:[0-9]{1,5})?\\/.*$/","/^[^:/#?]*:\\/\\/([^#?/]*\\.)?play\\.pixels\\.xyz(:[0-9]{1,5})?\\/.*$/","/^[^:/#?]*:\\/\\/([^#?/]*\\.)?menrealitycalc\\.com(:[0-9]{1,5})?\\/.*$/","/^[^:/#?]*:\\/\\/([^#?/]*\\.)?mnet\\.my\\.id(:[0-9]{1,5})?\\/.*$/"],"use_includes":[],"use_matches":[]},"run_at":null,"sandbox":null,"tab_types":null,"unwrap":null,"user_modified":null},"storage":{"ts":1715999537197,"data":{}},"enabled":true,"position":5,"file_url":"https://update.greasyfork.org/scripts/431691/Bypass%20All%20Shortlinks.user.js","uuid":"85135e3b-c4d9-40f1-9fad-2f8aacfbf1e3","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgQnlwYXNzIEFsbCBTaG9ydGxpbmtzCi8vIEBuYW1lOmlkICAgIEJ5cGFzcyBTZW11YSBTaG9ydGxpbmsKLy8gQG5hbWU6dWcgICAgQnlwYXNzINio2KfYsdmE2YnZgiDZgtmJ2LPZgtinINim24fZhNmJ2YbZidi02YTYp9ixCi8vIEBuYW1lOmFyICAgINiq2KzYp9mI2LIg2KfZhNis2YXZiti5INin2YTYsdmI2KfYqNi3INin2YTZhdiu2KrYtdix2KkKLy8gQG5hbWU6amEgICAg44OQ44Kk44OR44K5IOWFqOOBpiDjgrfjg6fjg7zjg4jjg6rjg7Pjgq8KLy8gQG5hbWU6aGUgICAg15zWt9ei1rLXp9eV1rnXoyDXkNeqINeb15wg16fXmdep15XXqNeZ150g16fXpteo15nXnQovLyBAbmFtZTpoaSAgICDgpLjgpK3gpYAg4KS24KWJ4KSw4KWN4KSf4KSy4KS/4KSC4KSVIOCkleCliyDgpKzgpL7gpK/gpKrgpL7gpLgg4KSV4KSw4KWH4KSCCi8vIEBuYW1lOmtvICAgIOuqqOuToCDsp6fsnYAg66eB7YGsIOyasO2ajAovLyBAbmFtZTp0aCAgICDguJrguLLguKLguJ7guLLguKog4LiX4Lix4LmJ4LiH4Lir4Lih4LiUIOC4peC4tOC4h+C4hOC5jOC4quC4seC5ieC4mQovLyBAbmFtZTpuYiAgICBPbWfDpSBBbGxlIEtvcnRsZW5rZXIKLy8gQG5hbWU6c3YgICAgRsO2cmJpZ8OlIGFsbGEga29ydGzDpG5rYXIKLy8gQG5hbWU6c3IgICAgWmFvYmnEh2kgU3ZlIEtyYXRrZSB2ZXplCi8vIEBuYW1lOnNrICAgIE9iw61zxaUgVsWhZXRreSBLcsOhdGtlIG9ka2F6eQovLyBAbmFtZTpodSAgICBCeXBhc3Mgw5Zzc3plcyBSw7Z2aWQgbGlua2VrCi8vIEBuYW1lOnJvICAgIEJ5cGFzcyBUb2F0ZSBMaW5rdXJpIHNjdXJ0ZQovLyBAbmFtZTpmaSAgICBPaGl0dGFhIEthaWtraSBMeWh5ZXQgbGlua2l0Ci8vIEBuYW1lOmVsICAgIM6gzrHPgc6szrrOsc68z4jOtyDOn867zrEgzqPPjc69z4TOv868zr/OuSDPg8+Nzr3OtM61z4POvM6/zrkKLy8gQG5hbWU6ZW8gICAgUHJldGVydm9qbyDEiGl1aiBNYWxsb25nYWogbGlnaWxvagovLyBAbmFtZTppdCAgICBCeXBhc3NhcmUgVHV0dG8gQ29sbGVnYW1lbnRpIGJyZXZpCi8vIEBuYW1lOmJnICAgINCX0LDQvtCx0LjQutCw0LvRj9C90LUg0L3QsCDQstGB0LjRh9C60Lgg0LrRgNCw0YLQutC4INCy0YDRitC30LrQuAovLyBAbmFtZTplcyAgICBTYWx0YXJzZSBUb2RvcyBsb3MgRW5sYWNlcyBBY29ydGFkb3MKLy8gQG5hbWU6Y3MgICAgT2JjaMOhemXEjSB2xaFlY2ggemtyYWNvdmHEjcWvIG9ka2F6xa8KLy8gQG5hbWU6dmkgICAgQuG7jyBxdWEgVOG6pXQgY+G6oyBDw6FjIGxpw6puIGvhur90IG5n4bqvbgovLyBAbmFtZTpwbCAgICBCeXBhc3MgV3N6eXN0a2llIEtyw7N0a2llIGxpbmtpCi8vIEBuYW1lOnVrICAgINCe0LHRhdGW0LQg0LLRgdGWINCa0L7RgNC+0YLQutGWINC/0L7RgdC40LvQsNC90L3RjwovLyBAbmFtZTpydSAgICDQntCx0YXQvtC0INCS0YHQtSDQmtC+0YDQvtGC0LrQuNC1INGB0YHRi9C70LrQuAovLyBAbmFtZTp0ciAgICBCeXBhc3MgVMO8bSBLxLFzYSBMaW5rbGVyCi8vIEBuYW1lOmZyICAgIEJ5cGFzcyBUb3V0IExpZW4gY291cnRzCi8vIEBuYW1lOm5sICAgIEJ5cGFzcyBBbGxlIEtvcnRlIGxpbmtzCi8vIEBuYW1lOmRhICAgIEJ5cGFzcyBBbGxlIFNob3J0bGlua3MKLy8gQG5hbWU6ZGUgICAgQnlwYXNzIEFsbGUgS3VyemxpbmtzCi8vIEBuYW1lOnpoLUNOIOaXgei3ryDlhajpg6gg55+t6ZO+5o6lCi8vIEBuYW1lOnpoLVRXIOaXgei3ryDlhajpg6gg55+t6Y+I5o6lCi8vIEBuYW1lOnB0LUJSIEJ5cGFzcyBUb2RvcyBMaW5rcyBjdXJ0b3MKLy8gQG5hbWU6ZnItQ0EgQnlwYXNzIFRvdXQgTGllbiBjb3VydHMKLy8gQG5hbWVzcGFjZSAgVmlvbGVudG1vbmtleSBTY3JpcHRzCi8vIEBydW4tYXQgICAgIGRvY3VtZW50LXN0YXJ0Ci8vIEBhdXRob3IgICAgIEJsb2dnZXJwZW11bGEKLy8gQHZlcnNpb24gICAgICAgIDkyLjAKLy8gQG1hdGNoICAgICAgICAgICo6Ly8qLyoKLy8gQGFudGlmZWF0dXJlICAgIHRyYWNraW5nCi8vIEBncmFudCAgICAgICAgICBHTV9zZXRWYWx1ZQovLyBAZ3JhbnQgICAgICAgICAgR01fZ2V0VmFsdWUKLy8gQGdyYW50ICAgICAgICAgIEdNX2FkZFN0eWxlCi8vIEBjb25uZWN0ICAgICAgICBub2NhcHRjaGFhaS5jb20KLy8gQGdyYW50ICAgICAgICAgIEdNX3htbGh0dHBSZXF1ZXN0Ci8vIEBncmFudCAgICAgICAgICB3aW5kb3cub251cmxjaGFuZ2UKLy8gQGdyYW50ICAgICAgICAgIEdNX3JlZ2lzdGVyTWVudUNvbW1hbmQKLy8gQGljb24gICAgICAgICAgIGh0dHBzOi8vaS5pYmIuY28vcWdyMEgxbi9CQVNTLUJsb2dnZXItUGVtdWxhLnBuZwovLyBAcmVxdWlyZSAgICAgICAgaHR0cHM6Ly91cGRhdGUuZ3JlYXN5Zm9yay5vcmcvc2NyaXB0cy80MzkwOTkvMTIwMzcxOC9Nb25rZXlDb25maWclMjBNb2Rlcm4lMjBSZWxvYWRlZC5qcwovLyBAZGVzY3JpcHRpb24gICAgQnlwYXNzIEFsbCBTaG9ydGxpbmtzIFNpdGVzIEF1dG9tYXRpY2FsbHkgU2tpcHMgQW5ub3lpbmcgTGluayBTaG9ydGVuZXJzICwgU2tpcCBBZEZseSBhbmQgTm8gQW5ub3lpbmcgQWRzLCBEaXJlY3RseSB0byBZb3VyIERlc3RpbmF0aW9uLCBhbmQgbm93IFN1cHBvcnQgQXV0byBEb3dubG9hZGluZyBZb3VyIEZpbGVzCi8vIEBkZXNjcmlwdGlvbjppZCBCeXBhc3MgU2VtdWEgU2l0dXMgU2hvcnRsaW5rIFNlY2FyYSBPdG9tYXRpcyBMYW5nc3VuZyBrZSBUdWp1YW4gVGFucGEgSWtsYW4geWFuZyBNZW5nZ2FuZ2d1ICwgU3VwcG9ydCBBdXRvIERvd25sb2FkIEZpbGUKLy8gQGRlc2NyaXB0aW9uOnVnINio2KfYsdmE2YnZgiDZgtmJ2LPZgtinINim24fZhNmJ2YbZidi0INiq2YjYsSDYqNuQ2YPbldiq2YTZidix2YnZhtmJINim2KfZitmE2YnZhtmJ2b4g2Kbbhtiq24jZviDYjCDZg9mJ2LTZidmG2Ykg2KjZidiy2KfYsSDZgtmJ2YTZidiv2YnYutin2YYg2Kbbh9mE2YnZhtmJ2LQg2YLZidiz2YLYp9ix2KrZgtuH2obZhtmJINim2KfZvtiq2YjZhdin2KrZidmDINq+2KfZhNiv2Kcg2YXbldmG2LLZidmE2YnardmJ2LLar9uVINim2KfYqtmE2KfarS4KLy8gQGRlc2NyaXB0aW9uOmFyINiq2KzYp9mI2LIg2KzZhdmK2Lkg2YXZiNin2YLYuSDYp9mE2LHZiNin2KjYtyDYp9mE2YXYrtiq2LXYsdipINmK2KrYrti32Ykg2KrZhNmC2KfYptmK2YvYpyDYo9iv2YjYp9iqINiq2YLYtdmK2LEg2KfZhNix2YjYp9io2Lcg2KfZhNmF2LLYudis2Kkg2Iwg2YXYqNin2LTYsdipINil2YTZiSDZiNis2YfYqtmDCi8vIEBkZXNjcmlwdGlvbjpoZSDXoteV16fXoyDXkNeqINeb15wg15DXqteo15kg15TXp9eZ16nXldeo15nXnSDXlNen16bXqNeZ150g157Xk9ec15Ig15DXldeY15XXnteY15nXqiDXotecINee16fXpteo15kg16fXmdep15XXqNeZ150g157Xotem15HXoNeZ150sINeZ16nXmdeo15XXqiDXnNeZ16LXkyDXqdec15oKLy8gQGRlc2NyaXB0aW9uOmhpIOCkuOCkreClgCDgpLbgpYngpLDgpY3gpJ/gpLLgpL/gpILgpJUg4KS44KS+4KSH4KSf4KWL4KSCIOCkleCliyDgpKzgpL7gpK/gpKrgpL7gpLgg4KSV4KSw4KWH4KSCLCDgpLjgpYDgpKfgpYcg4KSG4KSq4KSV4KWHIOCkl+CkguCkpOCkteCljeCkryDgpKrgpLAg4KSV4KS34KWN4KSf4KSq4KWN4KSw4KSmIOCksuCkv+CkguCklSDgpLbgpYngpLDgpY3gpJ/gpKjgpLAg4KSV4KWLIOCkm+Cli+CkoeCkvCDgpKbgpYfgpIIKLy8gQGRlc2NyaXB0aW9uOmphIOOBmeOBueOBpuOBruOCt+ODp+ODvOODiOODquODs+OCr+OCteOCpOODiOOCkuODkOOCpOODkeOCueOBmeOCi+OBqOOAgei/t+aDkeOBquODquODs+OCr+OCt+ODp+ODvOODiOODiuODvOOBjOiHquWLleeahOOBq+OCueOCreODg+ODl+OBleOCjOOAgeWum+WFiOOBq+ebtOaOpemAgeS/oeOBleOCjOOBvuOBmQovLyBAZGVzY3JpcHRpb246ZnIgQ29udG91cm5lciB0b3VzIGxlcyBzaXRlcyBkZSBsaWVucyBjb3VydHMgc2F1dGUgYXV0b21hdGlxdWVtZW50IGxlcyByYWNjb3VyY2lzc2V1cnMgZGUgbGllbnMgZ8OqbmFudHMsIGRpcmVjdGVtZW50IHZlcnMgdm90cmUgZGVzdGluYXRpb24KLy8gQGRlc2NyaXB0aW9uOmtvIOuqqOuToCDsp6fsnYAg66eB7YGsIOyCrOydtO2KuCDsmrDtmozripQg7ISx6rCA7IugIOunge2BrCDri6jstpXquLDrpbwg7J6Q64+Z7Jy866GcIOqxtOuEiOubsOqzoCDrqqnsoIHsp4DroZwg7KeB7KCRIOydtOuPme2VqeuLiOuLpC4KLy8gQGRlc2NyaXB0aW9uOnRoIOC4guC5ieC4suC4oeC5hOC4i+C4leC5jOC4peC4tOC4h+C4hOC5jOC4quC4seC5ieC4meC4l+C4seC5ieC4h+C4q+C4oeC4lOC4guC5ieC4suC4oeC4peC4tOC4h+C4hOC5jOC4ouC5iOC4reC4l+C4teC5iOC4meC5iOC4suC4o+C4s+C4hOC4suC4jeC5guC4lOC4ouC4reC4seC4leC5guC4meC4oeC4seC4leC4tOC5hOC4m+C4ouC4seC4h+C4m+C4peC4suC4ouC4l+C4suC4h+C4guC4reC4h+C4hOC4uOC4kwovLyBAZGVzY3JpcHRpb246emgtY24g57uV6L+H5omA5pyJ55+t6ZO+5o6l572R56uZ6Ieq5Yqo6Lez6L+H54Om5Lq655qE6ZO+5o6l57yp55+t5Zmo77yM55u05o6l5Yiw5oKo55qE55uu55qE5ZywCi8vIEBkZXNjcmlwdGlvbjp6aC10dyDnuZ7pgY7miYDmnInnn63pj4jmjqXntrLnq5noh6rli5Xot7PpgY7nhankurrnmoTpj4jmjqXnuK7nn63lmajvvIznm7TmjqXliLDmgqjnmoTnm67nmoTlnLAKLy8gQGRlc2NyaXB0aW9uOmVvIFByZXRlcnBhc2kgxIhpdWogTWFsbG9uZ2FqIExpZ2lsb2otRWpvaiBBxa10b21hdGUgU2FsdGFzIMSdZW5ham4gTGlnaWxvam4sIFJla3RlIGFsIFZpYSBDZWxvCi8vIEBkZXNjcmlwdGlvbjpkZSBBbGxlIFNob3J0LUxpbmtzLVNpdGVzIHVtZ2VoZW4gw5xiZXJzcHJpbmd0IGF1dG9tYXRpc2NoIGzDpHN0aWdlIExpbmstU2hvcnRlbmVyIGRpcmVrdCB6dSBJaHJlbSBaaWVsCi8vIEBkZXNjcmlwdGlvbjp0ciBUw7xtIEvEsXNhIExpbmtsZXJpIEF0bGEgU2l0ZWxlciBDYW4gc8Sxa8SxY8SxIExpbmsgS8Sxc2FsdMSxY8SxbGFyxLEgT3RvbWF0aWsgT2xhcmFrIEF0bGFyLCBEb8SfcnVkYW4gSGVkZWZpbml6ZQovLyBAZGVzY3JpcHRpb246ZGEgT21nw6UgYWxsZSBrb3J0ZSBsaW5rcy13ZWJzdGVkZXIgc3ByaW5nZXIgYXV0b21hdGlzayBpcnJpdGVyZW5kZSBsaW5rZm9ya29ydGVyZSBvdmVyLCBkaXJla3RlIHRpbCBkaW4gZGVzdGluYXRpb24KLy8gQGRlc2NyaXB0aW9uOmJnINCX0LDQvtCx0LjQutCw0LvRj9C90LUg0L3QsCDQstGB0LjRh9C60Lgg0YHQsNC50YLQvtCy0LUg0YEg0LrRgNCw0YLQutC4INCy0YDRitC30LrQuCDQkNCy0YLQvtC80LDRgtC40YfQvdC+INC/0YDQvtC/0YPRgdC60LAg0LTQvtGB0LDQtNC90LjRgtC1INGB0YDQtdC00YHRgtCy0LAg0LfQsCDRgdGK0LrRgNCw0YnQsNCy0LDQvdC1INC90LAg0LLRgNGK0LfQutC4LCDQtNC40YDQtdC60YLQvdC+INC00L4g0LLQsNGI0LDRgtCwINC00LXRgdGC0LjQvdCw0YbQuNGPCi8vIEBkZXNjcmlwdGlvbjpybyBPbWl0ZSB0b2F0ZSBzaXRlLXVyaWxlIGN1IGxpbmt1cmkgc2N1cnRlIE9taXRlIGF1dG9tYXQgZWxlbWVudGVsZSBkZSBzY3VydGFyZSBhIGxpbmt1cmlsb3IgZW5lcnZhbnRlLCBkaXJlY3QgY8SDdHJlIGRlc3RpbmHIm2lhIHRhCi8vIEBkZXNjcmlwdGlvbjpmaSBPaGl0YSBrYWlra2kgbHloeXRsaW5ra2lzaXZ1c3RvdCBvaGl0dGFhIGF1dG9tYWF0dGlzZXN0aSDDpHJzeXR0w6R2w6R0IGxpbmtpbmx5aGVubnlrc2V0IHN1b3JhYW4gbcOkw6Ryw6RucMOkw6Row6RzaQovLyBAZGVzY3JpcHRpb246aXQgSWdub3JhIHR1dHRpIGkgc2l0aSBkaSBjb2xsZWdhbWVudGkgYnJldmkgU2FsdGEgYXV0b21hdGljYW1lbnRlIGkgZmFzdGlkaW9zaSBhY2NvcmNpYXRvcmkgZGkgY29sbGVnYW1lbnRpLCBkaXJldHRhbWVudGUgYWxsYSB0dWEgZGVzdGluYXppb25lCi8vIEBkZXNjcmlwdGlvbjplbCDOoM6xz4HOrM66zrHOvM+Izrcgz4zOu8+Jzr0gz4TPic69IM+Ezr/PgM6/zrjOtc+DzrnPjs69IM+Dz43Ovc+Ezr/OvM+Jzr0gz4PPhc69zrTOrc+DzrzPic69IM6gzrHPgc6xzrrOrM68z4DPhM61zrkgzrHPhc+Ez4zOvM6xz4TOsSDPhM6xIM61zr3Ov8+HzrvOt8+EzrnOus6sIM+Az4HOv86zz4HOrM68zrzOsc+EzrEgz4PPhc69z4TPjM68zrXPhc+DzrfPgiDPg8+Fzr3OtM6tz4POvM+Jzr0sIM6xz4DOtc+FzrjOtc6vzrHPgiDPg8+Ezr/OvSDPgM+Bzr/Ov8+BzrnPg868z4wgz4POsc+CCi8vIEBkZXNjcmlwdGlvbjplcyBTYWx0YXJzZSBBdXRvbcOhdGljYW1lbnRlIHRvZG9zIGxvcyBlbmxhY2VzIGFjb3J0YWRvcywgQWRGbHkgeSBvbWl0aXIgYW51bmNpb3MsIGlyIGRpcmVjdGFtZW50ZSBhbCBkZXN0aW5vLCBhaG9yYSBzZSBhZ3JlZ8OzIGRlc2NhcmdhIGF1dG9tw6F0aWNhIGRlIGFyY2hpdm9zCi8vIEBkZXNjcmlwdGlvbjpodSBBeiDDtnNzemVzIHLDtnZpZCBoaXZhdGtvesOhc2kgd2ViaGVseSBtZWdrZXLDvGzDqXNlIGF1dG9tYXRpa3VzYW4gw6F0dWdvcmphIGEgYm9zc3phbnTDsyBsaW5rcsO2dmlkw610xZFrZXQsIGvDtnp2ZXRsZW7DvGwgYXogw7p0aWPDqWxyYQovLyBAZGVzY3JpcHRpb246bmIgT21nw6UgYWxsZSBrb3J0ZSBsZW5rZXIgTmV0dHN0ZWRlciBob3BwZXIgYXV0b21hdGlzayBvdmVyIGlycml0ZXJlbmRlIGxlbmtlZm9ya29ydGVyZSwgZGlyZWt0ZSB0aWwgZGVzdGluYXNqb25lbiBkaW4KLy8gQGRlc2NyaXB0aW9uOnNrIE9iw63Ej3RlIHbFoWV0a3kgc3Ryw6Fua3kgcyBrcsOhdGt5bWkgb2RrYXptaSwga3RvcsOpIGF1dG9tYXRpY2t5IHByZXNrb8SNaWEgb3RyYXZuw6kgc2tyYWNvdmHEjWUgb2RrYXpvdiBwcmlhbW8gZG8gdsOhxaFobyBjaWXEvmEKLy8gQGRlc2NyaXB0aW9uOnN2IEbDtnJiaSBhbGxhIGtvcnRhIGzDpG5rYXIgd2ViYnBsYXRzZXIgaG9wcGFyIGF1dG9tYXRpc2t0IMO2dmVyIGlycml0ZXJhbmRlIGzDpG5rZsO2cmtvcnRhcmUsIGRpcmVrdCB0aWxsIGRpbiBkZXN0aW5hdGlvbgovLyBAZGVzY3JpcHRpb246c3IgWmFvYmnEh2kgc3ZlIHN0cmFuaWNlIHMga3JhdGtpbSB2ZXphbWEgYXV0b21hdHNraSBwcmVza2HEjWUgZG9zYWRuZSBza3JhxIdpdmHEjWUgdmV6YSwgaXpyYXZubyBuYSB2YcWhZSBvZHJlZGnFoXRlCi8vIEBkZXNjcmlwdGlvbjpwbCBQb21pamFqIHdzenlzdGtpZSBzdHJvbnkgeiBrcsOzdGtpbWkgbGlua2FtaSBhdXRvbWF0eWN6bmllIHBvbWlqYSBpcnl0dWrEhWNlIHNrcmFjYWN6ZSBsaW5rw7N3LCBiZXpwb8WbcmVkbmlvIGRvIG1pZWpzY2EgZG9jZWxvd2VnbwovLyBAZGVzY3JpcHRpb246bmwgT216ZWlsIGFsbGUgc2l0ZXMgbWV0IGtvcnRlIGxpbmtzIGVuIHNsYWF0IGF1dG9tYXRpc2NoIHZlcnZlbGVuZGUgbGlua3ZlcmtvcnRlcnMgb3ZlciwgcmVjaHRzdHJlZWtzIG5hYXIgdXcgYmVzdGVtbWluZwovLyBAZGVzY3JpcHRpb246Y3MgQXV0b21hdGlja3kgcMWZZXNrb8SNw60gdsWhZWNobnkgb3RyYXZuw6kgemtyYWNvdmHEjWUgb2RrYXrFrywgdsSNZXRuxJsgQWRGbHkgYmV6IG90cmF2bsO9Y2ggcmVrbGFtIHDFmcOtbW8gZG8gdmHFoWVobyBjw61sZQovLyBAZGVzY3JpcHRpb246dWsg0J7QsdGW0LnRgtC4INCy0YHRliDRgdCw0LnRgtC4INC3INC60L7RgNC+0YLQutC40LzQuCDQv9C+0YHQuNC70LDQvdC90Y/QvNC4LiDQkNCy0YLQvtC80LDRgtC40YfQvdC+INC/0YDQvtC/0YPRgdC60LDRlCDQtNGA0LDRgtGW0LLQu9C40LLRliDRgdC60L7RgNC+0YfQtdC90L3RjyDQv9C+0YHQuNC70LDQvdGMINCx0LXQt9C/0L7RgdC10YDQtdC00L3RjNC+INC00L4g0LLQsNGI0L7Qs9C+INC/0YPQvdC60YLRgyDQv9GA0LjQt9C90LDRh9C10L3QvdGPCi8vIEBkZXNjcmlwdGlvbjpydSDQntCx0YXQvtC0INCy0YHQtdGFINGB0LDQudGC0L7QsiDRgSDQutC+0YDQvtGC0LrQuNC80Lgg0YHRgdGL0LvQutCw0LzQuCDQsNCy0YLQvtC80LDRgtC40YfQtdGB0LrQuCDQv9GA0L7Qv9GD0YHQutCw0LXRgiDQvdCw0LTQvtC10LTQu9C40LLRi9C1INGB0L7QutGA0LDRidCw0YLQtdC70Lgg0YHRgdGL0LvQvtC6LCDQv9GA0Y/QvNC+INC6INC80LXRgdGC0YMg0L3QsNC30L3QsNGH0LXQvdC40Y8KLy8gQGRlc2NyaXB0aW9uOnZpIELhu48gcXVhIHThuqV0IGPhuqMgY8OhYyB0cmFuZyB3ZWIgbGnDqm4ga+G6v3Qgbmfhuq9uIHThu7EgxJHhu5luZyBi4buPIHF1YSBjw6FjIHRyYW5nIHdlYiBsacOqbiBr4bq/dCBnw6J5IHBoaeG7gW4gbmhp4buFdSwgdHLhu7FjIHRp4bq/cCDEkeG6v24gxJHDrWNoIGPhu6dhIGLhuqFuCi8vIEBkZXNjcmlwdGlvbjpwdC1iciBJZ25vcmEgYXV0b21hdGljYW1lbnRlIGVuY3VydGFkb3JlcyBkZSBsaW5rcyBpcnJpdGFudGVzLCBkaXJldGFtZW50ZSBwYXJhIG8gbGluayBmaW5hbAovLyBAZGVzY3JpcHRpb246ZnItY2EgQ29udG91cm5lciB0b3VzIGxlcyBzaXRlcyBkZSBsaWVucyBjb3VydHMgc2F1dGUgYXV0b21hdGlxdWVtZW50IGxlcyByYWNjb3VyY2lzc2V1cnMgZGUgbGllbnMgZ8OqbmFudHMsIGRpcmVjdGVtZW50IHZlcnMgdm90cmUgZGVzdGluYXRpb24KLy8gQGV4Y2x1ZGUgL14oaHR0cHM/OlwvXC8pKC4rKT8oKGFkdmVydGlzaW5nZXhjZWx8dGFsa2ZvcmZpdG5lc3N8cnNhZG5ldHdvcmtpbmZvfHJzaW5zdXJhbmNlaW5mb3xyc2ZpbmFuY2VpbmZvfHJzc29mdHdhcmVpbmZvfHJzaG9zdGluZ2luZm98cnNlZHVjYXRpb25pbmZvfGdhbWV0ZWNocmV2aWV3ZXJ8dmVnYW40a3xwaGluZXlwZXR8YmF0bWFuZmFjdG9yfHRlY2hlZGlmaWVyfHVybGhpdmVzfGxpbmtoaXZlc3xnaXRodWJ8ZnJlZW9zZW9jaGVja3xncmVlbmVuZXp8YWxpeXVufHJlZGRpdHxiaW5nfHlhaG9vfHdpa2ktdG9waWF8ZWRvbm1hbm9yfHZydGllcnx3aGF0c2FwcHxnZWFyc2FkdmlzZXJ8ZWRvbm1hbm9yfHR1bmVidWd8bWVucmVhbGl0eWNhbGN8YW1hem9ufGViYXl8cGF5b25lZXJ8cGF5cGFsfHNrcmlsbHxzdHJpcGV8dGlwYWx0aXx3aXNlfGRpc2NvcmR8dG9rb3BlZGlhfHRhb2Jhb3x0YWJvb2xhfGFsaWV4cHJlc3N8bmV0ZmxpeHxjaXRpZ3JvdXB8c3BvdGlmeXxiYW5rb2ZhbWVyaWNhfGhzYmN8YWNjb3VudHMueW91dHViZXwoY2xvdWR8bWFpbHx0cmFuc2xhdGV8YW5hbHl0aWNzfGFjY291bnRzfG15YWNjb3VudHxjb250YWN0c3xjbGllbnRzNnxkZXZlbG9wZXJzfHBheW1lbnRzfHBheXxvZ3N8c2FmZXR5fHdhbGxldCkuZ29vZ2xlfChsb2dpbnxzaWdudXB8YWNjb3VudHxvZmZpY2VhcHBzfGFwaXxtYWlsfGhvdG1haWwpLmxpdmV8YmFza2V0YmFsbHNhdnZ5fGhlYWx0aHlmb2xsaWNsZXN8aGF1bnRpbmdyZWFsbXxwbHVnaW5taXhlcnxib3JlZGJvYXJkfGJvYXJkZ2FtZWNoaWNrfGhlYWx0aHlmb2xsaWNsZXMpLmNvbXwodGh1bWI4fHRodW1iOXxjcmV3YmFzZXxjcmV3dXN8c2hpbmNodXxzaGluYmh1fHVsdHJhdGVufHVuaXF1ZXRlbnx0b3BjcnlwdG96fGFsbGNyeXB0b3p8Y29pbnN2YWx1ZXxjb29raW5ndWlkZXxjcnlwdG93aWRnZXRzfHdlYmZyZWV0b29sc3xjYXJzdG9waWF8bWFrZXVwZ3VpZGV8Y2Fyc21hbmlhfG5mbHhpbWd8ZG91YmxlY2xpY2t8bHVja3lkaWNlKS5uZXR8KGxpbmtzZmx5fHNob3J0c2ZseXx1cmxzZmx5fHdlZmx5fGJsb2cyNCkubWV8KGdyZWFzeWZvcmt8b3BlbnVzZXJqc3xhZGFyaW1hfHRlbGVncmFtfHdpa2lwZWRpYSkub3JnfG1jcnlwdG8uY2x1YnxtaXN0ZXJpby5yb3xpbnN1cmFuY2Vnb2xkLmlufGNvaW5zY2FwLmluZm98Y2hlZmtuaXZlcy5leHBlcnR8KHNob3BlZXxsYXphZGF8cmFrdXRlbnxtYXliYW5rfGJpbmFuY2UpLip8KGRhbmF8b3ZvfGJjYS5jb3xicmkuY298Ym5pLmNvfGJhbmttYW5kaXJpLmNvfGRlc2F8KC4qKS5nbykuaWR8KC4qKS4oZWR1fGdvdikpKFwvLiopLwovLyBAZG93bmxvYWRVUkwgaHR0cHM6Ly91cGRhdGUuZ3JlYXN5Zm9yay5vcmcvc2NyaXB0cy80MzE2OTEvQnlwYXNzJTIwQWxsJTIwU2hvcnRsaW5rcy51c2VyLmpzCi8vIEB1cGRhdGVVUkwgaHR0cHM6Ly91cGRhdGUuZ3JlYXN5Zm9yay5vcmcvc2NyaXB0cy80MzE2OTEvQnlwYXNzJTIwQWxsJTIwU2hvcnRsaW5rcy5tZXRhLmpzCi8vID09L1VzZXJTY3JpcHQ9PQovLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUExFQVNFIFJFQUQgU0NSSVBUIElORk8gQkVGT1JFIFVTRQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUExFQVNFIFJFU1BFQ1QgSUYgTVkgU0NSSVBUUyBVU0VGVUwgRk9SIFlPVQovLyAgICAgICAgICAgICAgICAgICAgICBET04nVCBUUlkgVE8gQ09QWSBQQVNURSBNWSBTQ1JJUFRTIFRIRU4gU0hBUkUgVE8gT1RIRVJTIExJS0UgWU9VIEFSRSBUSEUgQ1JFQVRPUgovLyAgICAgICAgICAgICAgICAgUExFQVNFIERPTidUIFJFTU9WRSBPUiBDSEFOR0UgTVkgQkxPRywgRElTQUJMRSBZT1VSIEFEQkxPQ0sgSU4gTVkgQkxPRyAsIFRIQU5LUyBGT1IgWU9VUiBTVVBQT1JUCi8vICAgICAgICAgICAgICBNeSBCbG9nIGlzIFZlcnkgSW1wb3J0YW50IHRvIGdpdmUgc29tZSBEZWxheSBmb3Igc2FmZSBhd2F5ICxUcmFjayBOZXcgU2hvcnRsaW5rcyAsIEJyb2tlbiBCeXBhc3MgZXRjLi4uCi8vIFRoYW5rcyBzbyBtdWNoIHRvIEBKdXN0T2xhZiAsIEBLb25mICwgQGhhY2tlcjA5ICwgQGp1YW5zaSAsIEBOb3RZb3UgLCBAY3VuYXFyIEFuZCBAUnVzdDE2NjcgZm9yIEhlbHBpbmcgbWUgLCBtYWtlIG15IHNjcmlwdCBldmVuIGJldHRlcgovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQW5kIGFsc28gVGhhbmsgeW91IHRvIGV2ZXJ5b25lIHdobyBoYXMgQ29udHJpYnV0ZWQgd2l0aCBHb29kIEZlZWRiYWNrLgovLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQovLyBDaGFuZ2UgWW91ciBEZWxheSBpbiB0aGUgc2V0dGluZ3Mgb3B0aW9ucyBmcm9tIDUgdG8gMTAgb3IgMjAgaWYgeW91IGhhdmUgaXNzdWVzIGxpa2UgWW91ciBhY3Rpb24gbWFya2VkIFN1c3BpY2lvdXMsRG9uJ3QgdHJ5IHRvIGJ5cGFzcyAsRG9uJ3QgdXNlIFNwZWVkc3RlciwgZXRjCiAgIGNvbnN0IHdpbmRvdyA9IHVuc2FmZVdpbmRvdzsgLy8gU29tZSBvZiBNeSBDb2RlcyBOb3QgUnVubmluZyBXZWxsIFdpdGhvdXQgdGhpcyAsIFBsZWFzZSBMZXQgTWUgS25vdyBpZiBZb3UgRmluZCBhbnkgQnVncwogICBjb25zdCBjZmcgPSBuZXcgTW9ua2V5Q29uZmlnKHt0aXRsZTogJ0J5cGFzcyBWZXJzaW9uIDkyLjAgU2V0dGluZ3MgOicsIG1lbnVDb21tYW5kOiB0cnVlLAogICBwYXJhbXM6IHtBbm5vdW5jZW1lbnRzIDoge3R5cGU6ICd0ZXh0JywgZGVmYXVsdDogJ0FkZCBZb3VyIEFwaUtleSBmcm9tIG5vY2FwdGNoYWFpIHRvIHVzZSBBdXRvIFNvbHZlIEhjYXB0Y2hhJywgbG9uZzogM30sCiAgICBBcGlLZXk6IHtsYWJlbDogIm5vQ2FwdGNoYSBBaSBLRVkiLCB0eXBlOiAidGV4dCIsIGRlZmF1bHQ6ICIiLH0sCiAgICBTZXREZWxheToge2xhYmVsOiAiUmVkaXJlY3QgRGVsYXkgIiwgdHlwZTogIm51bWJlciIsIGRlZmF1bHQ6IDUsfSwKICAgIEJsb2dEZWxheToge2xhYmVsOiAiVXNlIE15IEJsb2dzIEZvciBEZWxheXMiLCB0eXBlOiAiY2hlY2tib3giLCBkZWZhdWx0OiB0cnVlLH0sCiAgICByZUNBUFRDSEE6IHtsYWJlbDogIkF1dG8gT3Blbi9Tb2x2ZSBSZWNhcHRjaGEiLCB0eXBlOiAiY2hlY2tib3giLCBkZWZhdWx0OiBmYWxzZSx9LCAvLyBBdXRvIFNvbHZlIFJlY2FwdGNoYSBOb3QgWWV0IFJlYWR5CiAgICBoQ2FwdGNoYToge2xhYmVsOiAiQXV0byBPcGVuL1NvbHZlIEhjYXB0Y2hhIiwgdHlwZTogImNoZWNrYm94IiwgZGVmYXVsdDogZmFsc2UsIH0sCiAgICBZVFNob3J0OiB7bGFiZWw6ICJEaXNhYmxlIFlvdXR1YmUgU2hvcnQiLCB0eXBlOiAiY2hlY2tib3giLCBkZWZhdWx0OiBmYWxzZSx9LAogICAgUmlnaHRGQzoge2xhYmVsOiAiRW5hYmxlIENvbnRleHQgTWVudSAiLCB0eXBlOiAiY2hlY2tib3giLCBkZWZhdWx0OiBmYWxzZSx9LAogICAgQmxvY2tGQzoge2xhYmVsOiAiRW5hYmxlIEFsd2F5cyBSZWFkeSIsIHR5cGU6ICJjaGVja2JveCIsIGRlZmF1bHQ6IGZhbHNlLH0sCiAgICBUaW1lckZDOiB7bGFiZWw6ICJFbmFibGUgRmFzdCBUaW1lciAiLCB0eXBlOiAiY2hlY2tib3giLCBkZWZhdWx0OiBmYWxzZSx9LAogICAgQXV0b0RMOiB7bGFiZWw6ICJBdXRvIERvd25sb2FkIEZvciBTdXBwb3J0ZWQgU2l0ZXMiLCB0eXBlOiAiY2hlY2tib3giLCBkZWZhdWx0OiBmYWxzZSx9LH0sfSk7CihmdW5jdGlvbigpe2Z1bmN0aW9uIEJvb3N0VGltZXJzKCkge2NvbnN0IEZzVCA9IHdpbmRvdy5zZXRUaW1lb3V0OyBjb25zdCBGc0kgPSB3aW5kb3cuc2V0SW50ZXJ2YWw7CiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHdpbmRvdywgJ3NldFRpbWVvdXQnLCB7dmFsdWU6IGZ1bmN0aW9uKGZ1bmMsIGRlbGF5KSB7aWYgKGRlbGF5ID09PSAxMDAwKSB7ZGVsYXkgPSA1MDt9IHJldHVybiBGc1QuYXBwbHkodGhpcywgYXJndW1lbnRzKTt9fSk7CiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHdpbmRvdywgJ3NldEludGVydmFsJywge3ZhbHVlOiBmdW5jdGlvbihmdW5jLCBkZWxheSkge2lmIChkZWxheSA9PT0gMTAwMCkge2RlbGF5ID0gNTA7fSByZXR1cm4gRnNJLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7fX0pO30KICBpZiAoY2ZnLmdldCgnVGltZXJGQycpID09IHRydWUpIHtCb29zdFRpbWVycygpO30gZWxzZSB7fX0pKCk7CihmdW5jdGlvbigpIHsgLy8gUGxlYXNlIFJlbWVtYmVyICwgTXkgU2NyaXB0cyBXb3JrcyBCZXR0ZXIgVXNpbmcgRmlyZWZveCBCcm93c2VyIGFuZCBWaW9sZW50bW9ua2V5IEV4dGVuc2lvbgondXNlIHN0cmljdCc7CiAgY29uc3QgQVBJS0VZID0gY2ZnLmdldCgnQXBpS2V5Jyk7IGNvbnN0IGJwID0gcXVlcnkgPT4gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihxdWVyeSk7Y29uc3QgQnBBbGwgPSBxdWVyeSA9PiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKHF1ZXJ5KTsKICBjb25zdCBCcFBhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMobG9jYXRpb24uc2VhcmNoKTtjb25zdCBCcFBhcmFtZCA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoZG9jdW1lbnQubG9jYXRpb24uc2VhcmNoKTtjb25zdCBSZXhCcCA9IG5ldyBSZWdFeHAoL15cPyhbXiZdKykvKTsKICBjb25zdCBCcFQgPSBxdWVyeSA9PiBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShxdWVyeSk7Y29uc3QgZWxlbWVudEV4aXN0cyA9IHF1ZXJ5ID0+IGJwKHF1ZXJ5KSAhPT0gbnVsbDtjb25zdCBkb21haW5DaGVjayA9IGRvbWFpbnMgPT4gbmV3IFJlZ0V4cChkb21haW5zKS50ZXN0KGxvY2F0aW9uLmhvc3QpOwogIGZ1bmN0aW9uIEJwQmxvY2soKSB7cmV0dXJuIDE7fQogIGZ1bmN0aW9uIHNsZWVwKG1zKSB7cmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIG1zKSk7fQogIGZ1bmN0aW9uIHdhaXRGb3JFbG0ocXVlcnksIGNhbGxiYWNrKSB7c2V0VGltZW91dChmdW5jdGlvbigpIHsKICAgIGlmIChlbGVtZW50RXhpc3RzKHF1ZXJ5KSkge2NhbGxiYWNrKGJwKHF1ZXJ5KSk7fSBlbHNlIHt3YWl0Rm9yRWxtKHF1ZXJ5LCBjYWxsYmFjayk7fX0sIDEwMDApO30KICBmdW5jdGlvbiBDbGlja0lmRXhpc3RzKHF1ZXJ5LCB0aW1lSW5TZWMgPSAxLCBmdW5jTmFtZSA9ICdzZXRUaW1lb3V0JykgewogICAgaWYgKGVsZW1lbnRFeGlzdHMocXVlcnkpKSB7d2luZG93W2Z1bmNOYW1lXShmdW5jdGlvbigpIHticChxdWVyeSkuY2xpY2soKTt9LCB0aW1lSW5TZWMgKiAxMDAwKTt9fQogIGZ1bmN0aW9uIFN1Ym1pdElmRXhpc3RzKHF1ZXJ5LCB0aW1lSW5TZWMgPSAxLCBmdW5jTmFtZSA9ICdzZXRUaW1lb3V0JykgewogICAgaWYgKGVsZW1lbnRFeGlzdHMocXVlcnkpKSB7d2luZG93W2Z1bmNOYW1lXShmdW5jdGlvbigpIHticChxdWVyeSkuc3VibWl0KCk7fSwgdGltZUluU2VjICogMTAwMCk7fX0KICBmdW5jdGlvbiBDaGVja3Zpc2liaWxpdHkoZWxlbSkge2lmICghZWxlbS5vZmZzZXRIZWlnaHQgJiYgIWVsZW0ub2Zmc2V0V2lkdGgpIHtyZXR1cm4gZmFsc2U7fQogICAgaWYgKGdldENvbXB1dGVkU3R5bGUoZWxlbSkudmlzaWJpbGl0eSA9PT0gJ2hpZGRlbicpIHtyZXR1cm4gZmFsc2U7fSByZXR1cm4gdHJ1ZTt9CiAgZnVuY3Rpb24gWFBhdGhCcChiLHApIHtwID0gZG9jdW1lbnQ7IHJldHVybiBwLmV2YWx1YXRlKGIscCxudWxsLDksbnVsbCkuc2luZ2xlTm9kZVZhbHVlO30KICBmdW5jdGlvbiBSZW1vdmVSZWYodmFsdWUpIHtkZWxldGUgZG9jdW1lbnQucmVmZXJyZXI7IGRvY3VtZW50Ll9fZGVmaW5lR2V0dGVyX18oJ3JlZmVycmVyJywgKCkgPT4gdmFsdWUpO30KICBmdW5jdGlvbiBtZXRhKGhyZWYpIHtkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKE9iamVjdC5hc3NpZ24oZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbWV0YScpLCB7bmFtZTogJ3JlZmVycmVyJyxjb250ZW50OiAnb3JpZ2luJ30pKTsKICAgIE9iamVjdC5hc3NpZ24oZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpLCB7aHJlZn0pLmNsaWNrKCk7fQogIGZ1bmN0aW9uIFJlbW92ZUJwKGRvbWFpbiwgc2VsZWN0b3IpIHtjb25zdCByZV9kb21haW4gPSBuZXcgUmVnRXhwKGRvbWFpbik7IGlmICghcmVfZG9tYWluLnRlc3QobG9jYXRpb24uaG9zdCkpIHJldHVybjsKICAgIGNvbnN0IGVsZW1lbnRzID0gQnBBbGwoc2VsZWN0b3IpO2ZvciAoY29uc3QgZWxlbWVudCBvZiBlbGVtZW50cykge2VsZW1lbnQucmVtb3ZlKCk7fX0KICBmdW5jdGlvbiByZWRpcmVjdCh1cmwsIGJsb2cgPSB0cnVlKSB7bG9jYXRpb24gPSBibG9nICYmIGNmZy5nZXQoJ0Jsb2dEZWxheScpID8gJ2h0dHBzOi8vZnJlZTR1Lm51cnVsLWh1ZGEub3IuaWQvP0J5cGFzc1Jlc3VsdHM9JyArIHVybCA6IHVybDt9CiAgZnVuY3Rpb24gQnBDYWxjKHNicCkge3JldHVybiAoc2JwLnJlcGxhY2UoL1xzL2csICcnKS5tYXRjaCgvWytcLV0/KFswLTlcLl0rKS9nKSB8fCBbXSkucmVkdWNlKGZ1bmN0aW9uKHN1bSwgdmFsdWUpIHtyZXR1cm4gcGFyc2VGbG9hdChzdW0pICsgcGFyc2VGbG9hdCh2YWx1ZSk7fSk7fQogIGZ1bmN0aW9uIEJsb2NrUmVhZChTZWFyY2hTdHJpbmcsIG5hbWVGdW5jKSB7dmFyIHRhcmdldCA9IHdpbmRvd1tuYW1lRnVuY107IHdpbmRvd1tuYW1lRnVuY10gPSBmdW5jdGlvbiguLi5hcmdzKSB7Y29uc3Qgc3RyaW5nRnVuYyA9IFN0cmluZyhhcmdzKTsKICAgIGlmICgobmV3IFJlZ0V4cChTZWFyY2hTdHJpbmcpKS50ZXN0KHN0cmluZ0Z1bmMpKSBhcmdzWzBdID0gZnVuY3Rpb24oKSB7fTsgcmV0dXJuIHRhcmdldC5jYWxsKHRoaXMsIC4uLmFyZ3MpO307fQogIGZ1bmN0aW9uIERlY29kZUJhc2U2NChzdHJpbmcsIHRpbWVzKSB7bGV0IFN0cmluZ0RlY29kZWQgPSBzdHJpbmc7Zm9yIChsZXQgaSA9IDA7IGkgPCB0aW1lczsgaSsrKSB7U3RyaW5nRGVjb2RlZCA9IGF0b2IoU3RyaW5nRGVjb2RlZCk7fXJldHVybiBTdHJpbmdEZWNvZGVkO30KICBmdW5jdGlvbiBTdWJtaXRCcChzZWxlY3RvciwgdGltZSA9IDEpIHtsZXQgZWxlbSA9ICh0eXBlb2Ygc2VsZWN0b3IgPT09ICdzdHJpbmcnKSA/IGJwKHNlbGVjdG9yKS5jbG9zZXN0KCdmb3JtJykgOiBzZWxlY3RvcjsgY29uc29sZS5sb2coZWxlbSk7IHNldFRpbWVvdXQoKCkgPT4ge2VsZW0uc3VibWl0KCk7fSwgdGltZSAqIDEwMDApO30KICBmdW5jdGlvbiBSZWFkQ1YoY25hbWUpIHtsZXQgbmFtZSA9IGNuYW1lICsgIj0iO2xldCBkZWNvZENWID0gZGVjb2RlVVJJQ29tcG9uZW50KGRvY3VtZW50LmNvb2tpZSk7CiAgICBsZXQgY3YgPSBkZWNvZENWLnNwbGl0KCc7Jyk7Zm9yICh2YXIgaSA9IDA7IGkgPCBjdi5sZW5ndGg7IGkrKykge2xldCBjID0gY3ZbaV07IHdoaWxlIChjLmNoYXJBdCgwKSA9PSAnICcpIHtjID0gYy5zdWJzdHJpbmcoMSk7fQogICAgICBpZiAoYy5pbmRleE9mKG5hbWUpID09IDApIHtyZXR1cm4gYy5zdWJzdHJpbmcobmFtZS5sZW5ndGgsIGMubGVuZ3RoKTt9fSByZXR1cm4gIiI7fQogIGZ1bmN0aW9uIGVsZW1lbnRSZWFkeShzZWxlY3Rvcikge3JldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtsZXQgZWxlbWVudCA9IGJwKHNlbGVjdG9yKTsKICAgICAgaWYgKGVsZW1lbnQpIHtyZXNvbHZlKGVsZW1lbnQpOyByZXR1cm47fSBuZXcgTXV0YXRpb25PYnNlcnZlcihmdW5jdGlvbihfLCBvYnNlcnZlcikge2VsZW1lbnQgPSBicChzZWxlY3Rvcik7CiAgICAgIGlmIChlbGVtZW50KSB7cmVzb2x2ZShlbGVtZW50KTsgb2JzZXJ2ZXIuZGlzY29ubmVjdCgpO319KS5vYnNlcnZlKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCwge2NoaWxkTGlzdDogdHJ1ZSwgc3VidHJlZTogdHJ1ZX0pO30pO30KICBmdW5jdGlvbiBTZXRDb29raWUobmFtZSwgdmFsdWUsIGRheXMpIHtpZiAoZGF5cykge3ZhciBkYXRlID0gbmV3IERhdGUoKTsgZGF0ZS5zZXRUaW1lKGRhdGUuZ2V0VGltZSgpICsgKGRheXMgKiAyNCAqIDYwICogNjAgKiAxMDAwKSk7CiAgICBsZXQgZXhwaXJlcyA9ICI7IGV4cGlyZXM9IiArIGRhdGUudG9HTVRTdHJpbmcoKTt9IGVsc2Uge3ZhciBleHBpcmVzID0gIiI7IGRvY3VtZW50LmNvb2tpZSA9IG5hbWUgKyAiPSIgKyB2YWx1ZSArIGV4cGlyZXMgKyAiOyBwYXRoPS8iO319CiAgZnVuY3Rpb24gRGVsQ29va2llKG5hbWUpIHtTZXRDb29raWUobmFtZSwgIiIsIC0xKTt9CiAgZnVuY3Rpb24gUmVhZHl0b0NsaWNrKHNlbGVjdG9yLCBzbGVlcFRpbWUgPSAwKSB7Y29uc3QgZXZlbnRzID0gWyJtb3VzZW92ZXIiLCAibW91c2Vkb3duIiwgIm1vdXNldXAiLCAiY2xpY2siXTtjb25zdCBzZWxlY3RvcnMgPSBzZWxlY3Rvci5zcGxpdCgnLCAnKTsKICAgIGlmIChzZWxlY3RvcnMubGVuZ3RoID4gMSkge3JldHVybiBzZWxlY3RvcnMuZm9yRWFjaChSZWFkeXRvQ2xpY2spO31pZiAoc2xlZXBUaW1lID4gMCkge3JldHVybiBzbGVlcChzbGVlcFRpbWUgKiAxMDAwKS50aGVuKGZ1bmN0aW9uKCkge1JlYWR5dG9DbGljayhzZWxlY3RvciwgMCk7fSk7fQogICAgZWxlbWVudFJlYWR5KHNlbGVjdG9yKS50aGVuKGZ1bmN0aW9uKGVsZW1lbnQpIHtlbGVtZW50LnJlbW92ZUF0dHJpYnV0ZSgnZGlzYWJsZWQnKTtlbGVtZW50LnJlbW92ZUF0dHJpYnV0ZSgndGFyZ2V0Jyk7CiAgICAgICAgZXZlbnRzLmZvckVhY2goZXZlbnROYW1lID0+IHtjb25zdCBldmVudE9iamVjdCA9IG5ldyBNb3VzZUV2ZW50KGV2ZW50TmFtZSwge2J1YmJsZXM6IHRydWV9KTsgZWxlbWVudC5kaXNwYXRjaEV2ZW50KGV2ZW50T2JqZWN0KTt9KTt9KTt9CiAgZnVuY3Rpb24gRGVjcnlwdGVyKHN0cmluZykge2NvbnN0IHNoaWZ0ID0gMTM7bGV0IGRlY2lwaGVyZWRTdHJpbmcgPSAnJzsgZm9yIChsZXQgaSA9IDA7IGkgPCBzdHJpbmcubGVuZ3RoOyBpKyspIHtsZXQgY2hhckNvZGUgPSBzdHJpbmcuY2hhckNvZGVBdChpKTsKICAgIGlmIChjaGFyQ29kZSA+PSA5NyAmJiBjaGFyQ29kZSA8PSAxMjIpIHtkZWNpcGhlcmVkU3RyaW5nICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoKChjaGFyQ29kZSAtIDk3IC0gc2hpZnQgKyAyNikgJSAyNikgKyA5Nyk7fQogICAgZWxzZSBpZiAoY2hhckNvZGUgPj0gNjUgJiYgY2hhckNvZGUgPD0gOTApIHtkZWNpcGhlcmVkU3RyaW5nICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoKChjaGFyQ29kZSAtIDY1IC0gc2hpZnQgKyAyNikgJSAyNikgKyA2NSk7fWVsc2Uge2RlY2lwaGVyZWRTdHJpbmcgKz0gc3RyaW5nW2ldO319cmV0dXJuIGRlY2lwaGVyZWRTdHJpbmc7fQogIGZ1bmN0aW9uIERlY3J5cHRlcjIoc3RyaW5nLCBMZW5ndGggPSA1KSB7dmFyIGRlY3J5cHRlZHMgPSAnJyxiYXNlNjQgPSBhdG9iKHN0cmluZyksc3VicyA9IGJhc2U2NC5zdWJzdHJpbmcoMCwgTGVuZ3RoKSxlbmNyeXB0ZWQgPSBiYXNlNjQuc3Vic3RyaW5nKExlbmd0aCk7CiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGVuY3J5cHRlZC5sZW5ndGg7IGkrKykge2xldCBjaGFyQ29kZSA9IGVuY3J5cHRlZC5jaGFyQ29kZUF0KGkpLGNoYXJDb2RlS2V5ID0gc3Vicy5jaGFyQ29kZUF0KGkgJSBzdWJzLmxlbmd0aCksZGVjcnlwdGVkID0gY2hhckNvZGUgXiBjaGFyQ29kZUtleTtkZWNyeXB0ZWRzICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoZGVjcnlwdGVkKTt9IHJldHVybiBkZWNyeXB0ZWRzO30KICBmdW5jdGlvbiBOb0ZvY3VzKCkge3dpbmRvdy5tb3VzZWxlYXZlID0gdHJ1ZTsgd2luZG93Lm9ubW91c2VvdmVyID0gdHJ1ZTsgZG9jdW1lbnQuaGFzRm9jdXMgPSBmdW5jdGlvbigpIHtyZXR1cm4gdHJ1ZTt9OyBPYmplY3QuZGVmaW5lUHJvcGVydHkoZG9jdW1lbnQsICd3ZWJraXRWaXNpYmlsaXR5U3RhdGUnLCB7Z2V0KCkge3JldHVybiAndmlzaWJsZSc7fX0pOwogICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGRvY3VtZW50LCAndmlzaWJpbGl0eVN0YXRlJywge2dldCgpIHtyZXR1cm4gJ3Zpc2libGUnO319KTsgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Zpc2liaWxpdHljaGFuZ2UnLCBmdW5jdGlvbihlKSB7ZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKTt9LCB0cnVlLCB0cnVlKTsKICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdmb2N1cycsIG9uZm9jdXMsIHRydWUpO2RvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3Zpc2liaWxpdHljaGFuZ2UnLCBmdW5jdGlvbihlKSB7ZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKTt9LCB0cnVlLCB0cnVlKTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KGRvY3VtZW50LCAnaGlkZGVuJywge2dldCgpIHtyZXR1cm4gZmFsc2U7fX0pO30KICBmdW5jdGlvbiBzdHJCZXR3ZWVuKHMsIGZyb250LCBiYWNrLCB0cmltID0gZmFsc2UpIHtpZiAodHJpbSkge3MgPSBzLnJlcGxhY2VBbGwoJyAnLCAnJyk7cyA9IHMudHJpbSgpO3MgPSBzLnJlcGxhY2VBbGwoJ1xuJywgJyAnKTt9CiAgICAgIHJldHVybiBzLnNsaWNlKHMuaW5kZXhPZihmcm9udCkgKyBmcm9udC5sZW5ndGgsIHMuaW5kZXhPZihiYWNrLCBzLmluZGV4T2YoZnJvbnQpICsgZnJvbnQubGVuZ3RoKSk7fQogIGZ1bmN0aW9uIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKHJlX2RvbWFpbiwgZGF0YSwgYmxvZykge2lmICghcmVfZG9tYWluLnRlc3QobG9jYXRpb24uaG9zdCkpIHJldHVybjsKICAgIGlmICh0eXBlb2YgZGF0YSA9PT0gJ2Z1bmN0aW9uJykgcmV0dXJuIGRhdGEoKTtpZiAoQXJyYXkuaXNBcnJheShkYXRhKSkgZGF0YSA9IHsgJy8nOiBkYXRhIH07IGlmICghKGxvY2F0aW9uLnBhdGhuYW1lIGluIGRhdGEpKSByZXR1cm47Y29uc3QgW2tleSwgdmFsdWVdID0gZGF0YVtsb2NhdGlvbi5wYXRobmFtZV07CiAgICBpZiAodHlwZW9mIGtleSA9PT0gJ29iamVjdCcgJiYga2V5LnRlc3QobG9jYXRpb24uc2VhcmNoKSkgcmV0dXJuIHJlZGlyZWN0KHZhbHVlICsgUmVnRXhwLiQxLCBibG9nKTsgaWYgKEJwUGFyYW1zLmhhcyhrZXkpKSByZWRpcmVjdCh2YWx1ZSArIEJwUGFyYW1zLmdldChrZXkpLCBibG9nKTt9CiAgZnVuY3Rpb24gQmxvZ2dlclBlbXVsYShkb21haW5zLCBkYXRhLCB1cmwgPSAnJywgYmxvZyA9IGZhbHNlLCBhbGwgPSBmYWxzZSkge2lmICghZG9tYWluQ2hlY2soZG9tYWlucykpIHJldHVybjsKICAgIGlmICh0eXBlb2YgZGF0YSA9PT0gJ3N0cmluZycgJiYgZGF0YS5zcGxpdCgnLCcpLmV2ZXJ5KHAgPT4gQnBQYXJhbXMuaGFzKHApKSkge2NvbnN0IHVzZSA9IGRhdGEuc3BsaXQoJywnKS5hdCgwKTsKICAgIGNvbnN0IGRlZiA9IGFsbCA/IEJwUGFyYW1zLmdldEFsbCh1c2UpLmZpbmQodSA9PiBuZXcgUmVnRXhwKGRvbWFpbnMpLnRlc3QodSkpIDogQnBQYXJhbXMuZ2V0KHVzZSk7CiAgICByZWRpcmVjdCh1cmwgKyBkZWYsIGJsb2cpO30gZWxzZSBpZiAodHlwZW9mIGRhdGEgPT09ICdvYmplY3QnKSB7Y29uc3QgbyA9IGRhdGFbbG9jYXRpb24ucGF0aG5hbWVdOyBpZiAoIW8pIHJldHVybjtCbG9nZ2VyUGVtdWxhKGRvbWFpbnMsIC4uLm8pO319CiAgZnVuY3Rpb24gQnlwYXNzSEQoc2VsZWN0b3IsIHRpbWUpIHtpZiAoZWxlbWVudEV4aXN0cygnLmctcmVjYXB0Y2hhJykpIHtsZXQgZ2MgPSBzZXRJbnRlcnZhbCgoKSA9PiB7aWYgKHdpbmRvdy5ncmVjYXB0Y2hhLmdldFJlc3BvbnNlKCkubGVuZ3RoICE9PSAwKSB7CiAgICBjbGVhckludGVydmFsKGdjKTsgU3VibWl0QnAoJy5nLXJlY2FwdGNoYScsIDEpO319LCAxMDAwKTt9IGVsc2UgaWYgKGVsZW1lbnRFeGlzdHMoJy5oLWNhcHRjaGEnKSkge2xldCBoYyA9IHNldEludGVydmFsKCgpID0+IHtpZiAod2luZG93LmhjYXB0Y2hhLmdldFJlc3BvbnNlKCkubGVuZ3RoICE9PSAwKSB7CiAgICBjbGVhckludGVydmFsKGhjKTsgU3VibWl0QnAoJy5oLWNhcHRjaGEnLCAxKTt9fSwgMTAwMCk7fSBlbHNlIGlmIChlbGVtZW50RXhpc3RzKCcuY2YtdHVybnN0aWxlJykpIHtsZXQgdGMgPSBzZXRJbnRlcnZhbCgoKSA9PiB7aWYgKHdpbmRvdy50dXJuc3RpbGUuZ2V0UmVzcG9uc2UoKS5sZW5ndGggIT09IDApIHsKICAgIGNsZWFySW50ZXJ2YWwodGMpOyBTdWJtaXRCcCgnLmNmLXR1cm5zdGlsZScsIDEpO319LCAxMDAwKTt9IGVsc2UgaWYgKGVsZW1lbnRFeGlzdHMoJ2lucHV0W25hbWU9X2ljb25jYXB0Y2hhLXRva2VuXScpKSB7Q2FwdGNoYWNoZWNrKHNlbGVjdG9yKTt9IGVsc2Uge1N1Ym1pdEJwKHNlbGVjdG9yLCB0aW1lKTt9fQogIGZ1bmN0aW9uIEdldEZvcm0oRm9ybU5hbWUpIHt2YXIgZm9ybXMgPSBkb2N1bWVudC5mb3JtczsgZm9yICh2YXIgaSA9IDA7IGkgPCBmb3Jtcy5sZW5ndGg7IGkrKykge2lmIChGb3JtTmFtZSA9PT0gJ21kbicpIHt2YXIgZm9ybSA9IGZvcm1zW2ldLmlubmVySFRNTDsKICAgICAgaWYgKGZvcm0uaW5jbHVkZXMoJ1N0ZXAnKSkge3JldHVybiBmb3Jtc1tpXTt9fSBlbHNlIGlmIChGb3JtTmFtZSA9PT0gJ0FsbGluMScpIHt2YXIgYmFpdCA9IGZvcm1zW2ldLmFjdGlvbjsgaWYgKC9ieXBhc3MuaHRtbHxhZGJsb2NrLmh0bWwvLnRlc3QoYmFpdCkpIGNvbnRpbnVlOyByZXR1cm4gZm9ybXNbaV07fSBlbHNlIHtyZXR1cm47fX19CiAgZnVuY3Rpb24gQ2FwdGNoYWNoZWNrKHNlbGVjdG9yKSB7aWYgKGVsZW1lbnRFeGlzdHMoJy5oLWNhcHRjaGEnKSB8fCBlbGVtZW50RXhpc3RzKCcjY2FwdGNoYS1oY2FwdGNoYScpKSB7cmV0dXJuIHdpbmRvdy5oY2FwdGNoYS5nZXRSZXNwb25zZSgpLmxlbmd0aCAhPT0gMDsKICAgIH0gZWxzZSBpZiAoZWxlbWVudEV4aXN0cygnLmNmLXR1cm5zdGlsZScpIHx8IGVsZW1lbnRFeGlzdHMoJyNjYXB0Y2hhLXR1cm5zdGlsZScpKSB7cmV0dXJuIHdpbmRvdy50dXJuc3RpbGUuZ2V0UmVzcG9uc2UoKS5sZW5ndGggIT09IDA7CiAgICB9IGVsc2UgaWYgKGVsZW1lbnRFeGlzdHMoJy5nLXJlY2FwdGNoYScpIHx8IGVsZW1lbnRFeGlzdHMoJyNjYXB0Y2hhU2hvcnRsaW5rJykgfHwgZWxlbWVudEV4aXN0cygnI2NhcHRjaGFfY29udGFpbmVyJykgfHwgZWxlbWVudEV4aXN0cygnI2NhcHRjaGFTaG9ydGxpbmtlcicpIHx8IGVsZW1lbnRFeGlzdHMoJyNjYXB0Y2hhLXJlY2FwdGNoYScpKSB7cmV0dXJuIHdpbmRvdy5ncmVjYXB0Y2hhLmdldFJlc3BvbnNlKCkubGVuZ3RoICE9PSAwOwogICAgfSBlbHNlIGlmIChlbGVtZW50RXhpc3RzKCcjaWNvbmNhcHRjaGEnKSkge2xldCBiID0gc2V0SW50ZXJ2YWwoKCkgPT4ge2xldCBwID0gYnAoJy5pY29uY2FwdGNoYS1ob2xkZXIuaWNvbmNhcHRjaGEtdGhlbWUtbGlnaHQuaWNvbmNhcHRjaGEtc3VjY2VzcycpOyBpZiAocCkge2NsZWFySW50ZXJ2YWwoYik7IFN1Ym1pdEJwKHNlbGVjdG9yLCAxKTt9fSwgMTAwMCk7fSBlbHNlIHtyZXR1cm47fX0KICBmdW5jdGlvbiBub3RpZnkodHh0LCBkdXJhdGlvbiA9IGNmZy5nZXQoJ1NldERlbGF5JykpIHtjb25zdCBtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7IG0uc3R5bGUucGFkZGluZyA9ICcxcHgnOyBtLnN0eWxlLnpJbmRleCA9IDk5OTk5OTk5OyBtLnN0eWxlLnBvc2l0aW9uID0gJ2ZpeGVkJzsKICAgIG0uc3R5bGUud2lkdGggPSBgOTcwcHhgOyBtLnN0eWxlLnRvcCA9ICcyNzVweCc7IG0uc3R5bGUubGVmdCA9IGAke2lubmVyV2lkdGggLyAyIC0gNDg1fXB4YDsgbS5zdHlsZS5mb250ID0gJ25vcm1hbCBib2xkIDE3cHggc2Fucy1zZXJpZic7IG0uc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJ2dvbGQnOyBtLnN0eWxlLmJveFNpemluZyA9ICdib3JkZXItYm94JzsKICAgIG0uaW5uZXJUZXh0ID0gdHh0LnJlcGxhY2UoJ0AnLCBkdXJhdGlvbik7IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5hcHBlbmRDaGlsZChtKTsgY29uc3QgdGltZXJJZCA9IHNldEludGVydmFsKCgpID0+IHtkdXJhdGlvbiAtPSAxOyBpZiAoZHVyYXRpb24gPD0gMCkge2NsZWFySW50ZXJ2YWwodGltZXJJZCk7fSBlbHNlIHttLmlubmVyVGV4dCA9IHR4dC5yZXBsYWNlKCdAJywgZHVyYXRpb24pO319LCAxMDAwKTt9CiAgZnVuY3Rpb24gTGlzdGVuZXIoY2FsbGJhY2spIHtjb25zdCBvcmlnaW5hbE9wZW4gPSBYTUxIdHRwUmVxdWVzdC5wcm90b3R5cGUub3BlbjsgWE1MSHR0cFJlcXVlc3QucHJvdG90eXBlLm9wZW4gPSBmdW5jdGlvbihtZXRob2QsIHVybCkge3RoaXMuYWRkRXZlbnRMaXN0ZW5lcigibG9hZCIsIGZ1bmN0aW9uKCkgeyB0aGlzLm1ldGhvZCA9IG1ldGhvZDt0aGlzLnVybCA9IHVybDtjYWxsYmFjayh0aGlzKTt9KTsgb3JpZ2luYWxPcGVuLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7fTt9CiAgZnVuY3Rpb24gUmVxdWVzdCh1cmwsIG9wdGlvbnMgPSB7fSkge3JldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtHTV94bWxodHRwUmVxdWVzdCh7IG1ldGhvZDogb3B0aW9ucy5tZXRob2QgPz8gIkdFVCIsIHVybCwgcmVzcG9uc2VUeXBlOiBvcHRpb25zLnJlc3BvbnNlVHlwZSA/PyAianNvbiIsIGhlYWRlcnM6IG9wdGlvbnMuaGVhZGVycywgZGF0YTogb3B0aW9ucy5kYXRhLCBvbmxvYWQ6IGZ1bmN0aW9uKHJlc3BvbnNlKSB7cmVzb2x2ZShyZXNwb25zZS5yZXNwb25zZSk7fX0pO30pO30KICBmdW5jdGlvbiBFbmFibGVSQ0YoKSB7W10uZm9yRWFjaC5jYWxsKFsnY29udGV4dG1lbnUnLCAndmlzaWJpbGl0eWNoYW5nZScsICdjdXQnLCAncGFzdGUnLCAnYmx1cicsICdtb3VzZWxlYXZlJywgJ2tleXVwJywgJ2RyYWcnLCAnZHJhZ3N0YXJ0JywgJ2hhc0ZvY3VzJywgJ2ZvY3VzJywgJ3NlbGVjdCcsICdzZWxlY3RzdGFydCcsICd3ZWJraXR2aXNpYmlsaXR5Y2hhbmdlJywgJ21venZpc2liaWxpdHljaGFuZ2UnXSwgZnVuY3Rpb24oZXZlbnQpIHtkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKGV2ZW50LCBmdW5jdGlvbihlKSB7ZS5zdG9wUHJvcGFnYXRpb24oKTt9LCB0cnVlKTt9KTt9CgogIEJsb2dnZXJQZW11bGEoJ2dvY21vZC5jb20nLCAndXJscycsICcnKTsKICBCbG9nZ2VyUGVtdWxhKCdjbGluazEuY29tJywgJ3VybCxpZCcsICcnKTsKICBCbG9nZ2VyUGVtdWxhKCd3cml0ZWRyb2lkLmluJywgJ3Rva2VuJywgJycpOwogIEJsb2dnZXJQZW11bGEoJ3dlYjFzLmNvbScsICd0b2tlbix1cmwnLCAnJyk7CiAgQmxvZ2dlclBlbXVsYSgnbW9kbWFuaWEuZXUub3JnJywgJ3Rva2VuJywgJycpOwogIEJsb2NrUmVhZCgnKDRkLWJsMGNrM3J8YWQtYmxvY2tlciknLCAnc2V0VGltZW91dCcpOwogIEJsb2dnZXJQZW11bGEoJ21zbWVkaWEuaW4nLCAnaWQnLCAnaHR0cHM6Ly9zcmluay5pbi8nKTsKICBCbG9nZ2VyUGVtdWxhKCd5YWxpZmluLnh5eicsICdvcHAnLCAnaHR0cHM6Ly9jdXQubGMvJyk7CiAgQmxvZ2dlclBlbXVsYSgnc2FoaXR5dC5jb20nLCAndG9rZW4nLCAnaHR0cHM6Ly92enUudXMvJyk7CiAgQmxvZ2dlclBlbXVsYSgnYmxpdGx5LmlvfHNtYXJ0bGluay52aXAnLCAndXJsLGFwaWtleScsICcnKTsKICBCbG9nZ2VyUGVtdWxhKCd3cGtpbmcuaW4nLCAnZ28nLCAnaHR0cHM6Ly9vLmxpbmtwaW8uY29tLycpOwogIEJsb2dnZXJQZW11bGEoJ2VkYS1haC5jb20nLCAnZ2V0MScsICdodHRwczovL2xpaW5rYXQuY29tLycpOwogIEJsb2dnZXJQZW11bGEoJ20ubmV3aGl0Lm1lJywgJ2xpbmsnLCAnaHR0cHM6Ly9saW5rM3MubmV0LycpOwogIEJsb2dnZXJQZW11bGEoJ2FiaGlrci5pbicsICdwb3N0JywgJ2h0dHBzOi8vbGlua3ZpYmUueHl6LycpOwogIEJsb2dnZXJQZW11bGEoJ3pvenRtLmNvbScsICdsaW5rJywgJ2h0dHBzOi8vc2hvcnRlcnguY29tLycpOwogIEJsb2dnZXJQZW11bGEoJ2dvLnFvcmEuaW4nLCAnbGluaycsICdodHRwczovL2xpbmsucW9yYS5pbi8nKTsKICBCbG9nZ2VyUGVtdWxhKCcxMHNob3J0LnZpcCcsICdTaG9ydCcsICdodHRwczovLzEwc2hvcnQuY29tLycpOwogIEJsb2dnZXJQZW11bGEoJ2Zpbm94cGVydC5jb20nLCAnbGluaycsICdodHRwczovL2xrc2Z5LnNpdGUvJyk7CiAgQmxvZ2dlclBlbXVsYSgncnNybGluay5pbicsICdsaW5rJywgJ2h0dHBzOi8vZ28ucnNybGluay5pbi8nKTsKICBCbG9nZ2VyUGVtdWxhKCdkYWlseW5ldy5vbmxpbmUnLCAnZ28nLCAnaHR0cHM6Ly9za2xpbmtzLmluLycpOwogIEJsb2dnZXJQZW11bGEoJ3N0cmZyZWUueHl6JywgJ2dvJywgJ2h0dHBzOi8veW8uYWRsaW5rdS5jb20vJyk7CiAgQmxvZ2dlclBlbXVsYSgnamF6YmFhdC5pbicsICdsaW5rJywgJ2h0dHBzOi8vZ28ucnBsaW5rcy5pbi8nKTsKICBCbG9nZ2VyUGVtdWxhKCd1cm90YW4ubmV0JywgJ2xpbmsnLCAnaHR0cHM6Ly9zaG9ydHlnZXQuY29tLycpOwogIEJsb2dnZXJQZW11bGEoJ21yZG9nZS5pbicsICdsaW5rJywgJ2h0dHBzOi8vbGluay5jYXNoNC5saW5rLycpOwogIEJsb2dnZXJQZW11bGEoJ2F1dG9kaW1lLmNvbScsICdnbycsICdodHRwczovL2dvLmxpbmtyZXgubmV0LycpOwogIEJsb2dnZXJQZW11bGEoJ3F1aWNrOTEuY29tJywgJ2dyZXknLCAnaHR0cHM6Ly9nby5saW5rY28ucHJvLycpOwogIEJsb2dnZXJQZW11bGEoJ2Fpcmxpa2UubWUnLCAnbGluaycsICdodHRwczovL2dldC5haXJsaWtlLm1lLycpOwogIEJsb2dnZXJQZW11bGEoJ3RlY2hoYWRpLmNvbScsICduZXdzJywgJ2h0dHBzOi8vZ28udHBsaW5rcy5pbi8nKTsKICBCbG9nZ2VyUGVtdWxhKCd6dWJhdGVjbm8uY29tJywgJ2xpbmsnLCAnaHR0cHM6Ly9nby5mbHl6dS5pY3UvJyk7CiAgQmxvZ2dlclBlbXVsYSgndmVnYW5hYi5jbycsICdsaW5rJywgJ2h0dHBzOi8vdGVjaHkudmVnYW5hYi5jby8nKTsKICBCbG9nZ2VyUGVtdWxhKCd5b3NpdGUubmV0JywgJ2xpbmsnLCAnaHR0cHM6Ly9sb2Fucy55b3NpdGUubmV0LycpOwogIEJsb2dnZXJQZW11bGEoJ2JhdHRsZWNoYW1wLmluJywgJ2xpbmsnLCAnaHR0cHM6Ly9nZXQuZXh1cmwuaW4vJyk7CiAgQmxvZ2dlclBlbXVsYSgnYWRpc2tibG9nLmluJywgJ2xpbmsnLCAnaHR0cHM6Ly9nby5wZGlza3Byby5pbi8nKTsKICBCbG9nZ2VyUGVtdWxhKCdjcnlwdGVkbmV3cy5zcGFjZScsICdwb3N0JywgJ2h0dHBzOi8vc2xmbHkubmV0LycpOwogIEJsb2dnZXJQZW11bGEoJ2hpaGFyc2hpdC5pbicsICdwb3N0JywgJ2h0dHBzOi8vZWFzeXRvY2xpY2suaW4vJyk7CiAgQmxvZ2dlclBlbXVsYSgnaW5kaWFuc2Fya2FyaS5jb20nLCAnZ28nLCAnaHR0cHM6Ly9pY2FzaGZseS5jb20vJyk7CiAgQmxvZ2dlclBlbXVsYSgndGFueXRlY2guY29tJywgJ2xpbmsnLCAnaHR0cHM6Ly9nby5oZXhsaW5rcy54eXovJyk7CiAgQmxvZ2dlclBlbXVsYSgnaGVhbHRoeW5lcGFsLmluJywgJ3Bvc3QnLCAnaHR0cHM6Ly9lejRzaG9ydC54eXovJyk7CiAgQmxvZ2dlclBlbXVsYSgnZ2t0ZWNoLnVrJywgJ2FkbGlua2ZseScsICdodHRwczovL2xpbmt5ZWFybi5jb20vJyk7CiAgQmxvZ2dlclBlbXVsYSgndnNsaW5rcy5vbmxpbmUnLCAnbGluaycsICdodHRwczovL2FkLnZzbGlua3MuaW4vJyk7CiAgQmxvZ2dlclBlbXVsYSgnZmFjdHNkdW55YS5jb20nLCAnZ28nLCAnaHR0cHM6Ly9kcml2ZXVwbG9hZC5uZXQvJyk7CiAgQmxvZ2dlclBlbXVsYSgnMWFwcGxlLnh5eicsICdsaW5rJywgJ2h0dHBzOi8vbGluay50dXJrZG93bi5jb20vJyk7CiAgQmxvZ2dlclBlbXVsYSgnbWlzc3Jldmlldy5pbmZvJywgJ2xpbmsnLCAnaHR0cHM6Ly9nLmxpbmt2b3IucHcvJyk7CiAgQmxvZ2dlclBlbXVsYSgncmVjaXBlamFhbm8uY29tJywgJ2xpbmsnLCAnaHR0cHM6Ly9hZHMua2JmbHkuaW4vJyk7CiAgQmxvZ2dlclBlbXVsYSgnZGlsbWlicml2YS5zdG9yZScsICdwb3N0JywgJ2h0dHBzOi8vY3V0cGx1cy54eXovJyk7CiAgQmxvZ2dlclBlbXVsYSgnMTBzaG9ydC5wcm8nLCAnZ2V0JywgJ2h0dHBzOi8vMTBzaG9ydC52aXAvP1Nob3J0PScpOwogIEJsb2dnZXJQZW11bGEoJ3ZpZGVvbHlyaWNzLmluJywgJ3AnLCAnaHR0cHM6Ly9zZXIzLmNyYXp5YmxvZy5pbi8nKTsKICBCbG9nZ2VyUGVtdWxhKCdibG9nLnRvcGZhdWNldC51cycsICd0b2tlbicsICdodHRwczovL3NsMS54MTAubXgvJyk7CiAgQmxvZ2dlclBlbXVsYSgnaG91c2V6cXVpY2suY29tJywgJ2xpbmsnLCAnaHR0cHM6Ly9hZC51c2hvcnQueHl6LycpOwogIEJsb2dnZXJQZW11bGEoJ2ZsYXNobGlua3Mub25saW5lJywgJ2RrJywgJ2h0dHBzOi8vZmxhc2hsaW5rcy5pbi8nKTsKICBCbG9nZ2VyUGVtdWxhKCdzaXRlYmxvZy5pbicsICdsaW5rJywgJ2h0dHBzOi8vZ28uZHJvcGxpbmsuY28uaW4vJyk7CiAgQmxvZ2dlclBlbXVsYSgndHJlbmR0cm92ZS52aXAnLCAncG9zdCcsICdodHRwczovL3RpbnlsaW5rZXIucHJvLycpOwogIEJsb2dnZXJQZW11bGEoJ3Nob3J0c25vYi5pbicsICd0b2tlbicsICdodHRwczovL3Nob3J0LmVhcm5tb2ouaW4vJyk7CiAgQmxvZ2dlclBlbXVsYSgnYXBuYS1ibG9nLmluJywgJ3Rva2VuJywgJ2h0dHBzOi8vYXBuYXNob3J0ZW5lci5pbi8nKTsKICBCbG9nZ2VyUGVtdWxhKCdpZ25pdGVzbW0uY29tJywgJ2xpbmsnLCAnaHR0cHM6Ly9mLm9tbmlmbHkuaW4ubmV0LycpOwogIEJsb2dnZXJQZW11bGEoJ2ZpbGVrdS5uZXQnLCAnYWRsaW5rZmx5JywgJ2h0dHBzOi8vZ2V0LmZpbGVrdS5uZXQvJyk7CiAgQmxvZ2dlclBlbXVsYSgnbmlzbmlzaW4uY29tJywgJ2xpbmsnLCAnaHR0cHM6Ly9saW5rLmV6bGlua2FkLmNvbS8nKTsKICBCbG9nZ2VyUGVtdWxhKCdzYXBub2dhbHBvLm9ubGluZScsICdsaW5rJywgJ2h0dHBzOi8vbGluazJjYXNoLmluLycpOwogIEJsb2dnZXJQZW11bGEoJ2NhbmRsZW9mbGlmZS5mdW4nLCAndG9rZW4nLCAnaHR0cHM6Ly9zaG9ydHN1cmwucHJvLycpOwogIEJsb2dnZXJQZW11bGEoJ3BvdmF0aGVtZXMuY29tfGVzY29iYXJ2aXAuY2Z8Z29saW5raS5jb20nLCAndXJsJywgJycpOwogIEJsb2dnZXJQZW11bGEoJ3VwbG9hZC52ZWdhbmFiLmNvJywgJ2dvJywgJ2h0dHBzOi8vZHJpdmV1cGxvYWQubmV0LycpOwogIEJsb2dnZXJQZW11bGEoJ2Fub25iYXIuY29tJywgJ2xpbmsnLCAnaHR0cHM6Ly9nby5tb3ZpZXBhZ29sLm15LmlkLycpOwogIEJsb2dnZXJQZW11bGEoJ3RhbWlsaGl0LnRlY2gnLCAnbGluaycsICdodHRwczovL2dldC50YW1pbGhpdC50ZWNoLycpOwogIEJsb2dnZXJQZW11bGEoJ3N1bnRlY2h1LmluJywgJ3Bvc3QnLCAnaHR0cHM6Ly93ZWIudXJsbGlua3Nob3J0LmluLycpOwogIEJsb2dnZXJQZW11bGEoJ2xvYW4udGVjaHlpbmZvLmluJywgJ29wZW4nLCAnaHR0cHM6Ly9nby5saW5rcGF5cy5pbi8nKTsKICBCbG9nZ2VyUGVtdWxhKCdjcnlwdG9rYXJvLmNvLmluJywgJ2FkbGlua2ZseScsICdodHRwczovL3RhcmFib3guaW4vJyk7CiAgQmxvZ2dlclBlbXVsYSgnZm94YnVnZy5jb20nLCAnYWRsaW5rZmx5JywgJ2h0dHBzOi8vYWRzLmZveGJ1Z2cuY29tLycpOwogIEJsb2dnZXJQZW11bGEoJ3RyZW1hbW5vbi5jb20nLCAnYWRsaW5rZmx5JywgJ2h0dHBzOi8vZGFzaC1mcmVlLmNvbS8nKTsKICBCbG9nZ2VyUGVtdWxhKCdtYXJrZXQuZmluY2x1Yi5pbicsICdsaW5rJywgJ2h0dHBzOi8vZ28udG5zaG9ydC5uZXQvJyk7CiAgQmxvZ2dlclBlbXVsYSgnYmFudGVuZXhpcy5jb20nLCAnbGluaycsICdodHRwczovL2xpbmsueW91c2hvcnQubmV0LycpOwogIEJsb2dnZXJQZW11bGEoJ3RlY2hrZXNocmkuY29tJywgJ2xpbmsnLCAnaHR0cHM6Ly9nby5wYWlzYWthbWFsby5pbi8nKTsKICBCbG9nZ2VyUGVtdWxhKCdpbmRpcmFzYXJpLmNvbScsICdsaW5rJywgJ2h0dHBzOi8vbGluay5wYWlkNGxpbmsuY29tLycpOwogIEJsb2dnZXJQZW11bGEoJ3dpa2l0cmF2ZWx0aXBzLmNvbScsICdsaW5rJywgJ2h0dHBzOi8vYWRyaW5vbGlua3MuaW4vJyk7CiAgQmxvZ2dlclBlbXVsYSgnc21hbGxpbmZvLmluJywgJ2xpbmsnLCAnaHR0cHM6Ly9maWxteXBvaW50cy5pbi8/bGluaz0nKTsKICBCbG9nZ2VyUGVtdWxhKCdwZ2xpbmsub25saW5lJywgJ2FkbGlua2ZseScsICdodHRwczovL2xpbmsucGdsaW5rLmluLycpOwogIEJsb2dnZXJQZW11bGEoJ212cGxheWxpbmsuaW4ubmV0JywgJ3Bvc3QnLCAnaHR0cHM6Ly9tcGxheWxpbmsuY29tL3MvJyk7CiAgQmxvZ2dlclBlbXVsYSgnd3cxLmxpbmt0cmltcy5jb20nLCAnbGluaycsICdodHRwczovL2dvLmxpbmt0cmltcy5jb20vJyk7CiAgQmxvZ2dlclBlbXVsYSgnaGVhbHRoeW5lcGFsLmluJywgJ2xpbmsnLCAnaHR0cHM6Ly9nby50Z3Nob3J0ZW5lci5jb20vJyk7CiAgQmxvZ2dlclBlbXVsYSgnbWlzc2lvbmhpZ2h0LmluJywgJ2xpbmsnLCAnaHR0cHM6Ly9wbGF5ZGlzay51cmwyZ28uaW4vJyk7CiAgQmxvZ2dlclBlbXVsYSgndGVjaC50ZWNod2hvbS5jb20nLCAnamV0b24nLCAnaHR0cHM6Ly93ZS50ZWNod2hvbS5jb20vJyk7CiAgQmxvZ2dlclBlbXVsYSgnZW5jdXJ0YWNsaWsuY29tJywgJ2xpbmsnLCAnaHR0cHM6Ly9nby5lbmN1cnRhY2xpay5jb20vJyk7CiAgQmxvZ2dlclBlbXVsYSgnYXBwa2Ftb2RzLmNvbScsICdsaW5rJywgJ2h0dHBzOi8vZ28uc2hvcnR1cmxsaW5rcy5jb20vJyk7CiAgQmxvZ2dlclBlbXVsYSgnY3liZXJ0ZWNobmcuY29tJywgJ2xpbmsnLCAnaHR0cHM6Ly9nby5jeWJlcnRlY2huZy5jb20vJyk7CiAgQmxvZ2dlclBlbXVsYSgnY29uZ2h1b25ndHUubmV0JywgJ2FkbGlua2ZseScsICdodHRwczovL2JpdGxpbmtzLnNpdGUvJyk7CiAgQmxvZ2dlclBlbXVsYSgnbG9hbi5maWxteXBvaW50cy5pbicsICdsaW5rJywgJ2h0dHBzOi8vbGluay5lMnNoYXJlLmluLycpOwogIEJsb2dnZXJQZW11bGEoJ25paW5nYS5jb20nLCAnZ2V0JywgJ2h0dHBzOi8vZWlnc2Vuc2UuZWRhLWFoLmNvbS8/Z2V0MT0nKTsKICBCbG9nZ2VyUGVtdWxhKCdjaW5lbWFwZXR0YWkuaW4nLCAncG9zdCcsICdodHRwczovL2dldGxpbmsuc3hzbGluay5jb20vJyk7CiAgQmxvY2tSZWFkKCcoL2FkYmxvY2t8L2FkLW5vdy5waHB8L2J5cGFzc3wvZGV0ZWN0ZWQuaHRtbCknLCAnc2V0SW50ZXJ2YWwnKTsKICBCbG9nZ2VyUGVtdWxhKCdtYXJrZXQuZ29yYXRpbmcuaW4nLCAnbGluaycsICdodHRwczovL2dvLm9uZXBhZ2VsaW5rLmluLycpOwogIEJsb2dnZXJQZW11bGEoJ2Jsb2cuYW55d2hvLWNvbS5jb20nLCAnZ28nLCAnaHR0cHM6Ly9ibG9nLnNocmlua21lLmxpbmsvJyk7CiAgQmxvZ2dlclBlbXVsYSgndmlkZW9zbHlyaWNzLmNvbScsICdwb3N0aWQnLCAnaHR0cHM6Ly9zZXIzLmNyYXp5YmxvZy5pbi8nKTsKICBCbG9nZ2VyUGVtdWxhKCdlYXJuLnRlbnNhaWxhYi5jb20nLCAnYWRsaW5rZmx5JywgJ2h0dHBzOi8vZ28uc25hcGx5LmluLycpOwogIEJsb2dnZXJQZW11bGEoJ3Bvc3RhemFwLmNvbScsICdsaW5rJywgJ2h0dHBzOi8vZW5jdXJ0YWRvci5wb3N0YXphcC5jb20vJyk7CiAgQmxvZ2dlclBlbXVsYSgnbWFtYWhhd2EuY29tJywgJ2dldCcsICdodHRwczovL2ZvcmV4dHJhZGVyLnNpdGUvU2tpcExpbmsvJyk7CiAgQmxvZ2dlclBlbXVsYSgncHJha2FzaGVkaXRpbmd0YW1pemhhbi5jb20nLCAnbGluaycsICdodHRwczovL2twc2xpbmsuaW4vJyk7CiAgQmxvZ2dlclBlbXVsYSgnbW1kcml2ZS54eXonLCAnbGluaycsICdodHRwczovL3RlY2hsZWV0cy54eXovbm8ucGhwP2xpbms9Jyk7CiAgQmxvZ2dlclBlbXVsYSgncmVtaW5pbW9kLmNvJywgJ2xhbmQnLCAnaHR0cHM6Ly9pbnN1cmFuY2UudGVjaHltZWRpZXMuY29tLycpOwogIEJsb2dnZXJQZW11bGEoJ2tlcmFsYWxvdHRlcnlyZXN1bHQuY28nLCAnYWRsaW5rZmx5JywgJ2h0dHBzOi8vc2tkbGluay5pbi8nKTsKICBCbG9nZ2VyUGVtdWxhKCd0ZWNoLmZpbG15cG9pbnRzLmluJywgJ2dvJywgJ2h0dHBzOi8vZmluYW5jZS5zbWFsbGluZm8uaW4vJyk7CiAgQmxvZ2dlclBlbXVsYSgnZHBib3NzcmVhbC5jb20nLCAnYWRsaW5rZmx5JywgJ2h0dHBzOi8vc2hvcnQuYWRzbGlua28uY29tLycpOwogIEJsb2dnZXJQZW11bGEoJ3RiaGxhYnNuZXdzLmNvbScsICdsaW5rJywgJ2h0dHBzOi8vZ2V0bGluay50YmhsYWJzbmV3cy5jb20vJyk7CiAgQmxvZ2dlclBlbXVsYSgnaW50ZXJlc3RpbmdmYWN0c2FyZS5jb20nLCAnbGluaycsICdodHRwczovL20udXJsYmhhcmF0Lnh5ei8nKTsKICBCbG9nZ2VyUGVtdWxhKCdkZWFscHJpY2UuY28nLCAnYWRsaW5rZmx5JywgJ2h0dHBzOi8vY3J5cHRvcm90YXRvci53ZWJzaXRlLycpOwogIEJsb2dnZXJQZW11bGEoJ2Rqbm9uc3RvcG11c2ljLmluJywgJ2xpbmsnLCAnaHR0cHM6Ly9nYWRnZXRzLmlzaG9ydGlmeS5jb20vJyk7CiAgQmxvZ2dlclBlbXVsYSgndGVjaC5maWxvaGFwcHkuaW4nLCAnbGluaycsICdodHRwczovL2hhcHB5ZmlsZXMuZHRnbGlua3MuaW4vJyk7CiAgQmxvZ2dlclBlbXVsYSgndmlldG5hbXRyYXZlbGd1aWRlLnRvcCcsICdwb3N0JywgJ2h0dHBzOi8vYmVzdHNob3J0bGluay50b3AvJyk7CiAgQmxvZ2dlclBlbXVsYSgnZWFybi5ob3N0YWR2aXNlci5uZXQnLCAndG9rZW4nLCAnaHR0cHM6Ly9nby5ob3N0YWR2aXNlci5uZXQvJyk7CiAgQmxvZ2dlclBlbXVsYSgndmlyYWxzaW5mby5jb20nLCAndG9rZW4nLCAnaHR0cHM6Ly9nZXRzbGlua3Mub25saW5lL2Rvd25sb2FkLycpOwogIEJsb2dnZXJQZW11bGEoJ2luc3VyYW5jZWluZm9zLmluJywgJ3Bvc3QnLCAnaHR0cHM6Ly90ZWNoLnNtYWxsaW5mby5pbi9HYWRnZXQvJyk7CiAgQmxvZ2dlclBlbXVsYSgnd3d3LmZpbG15cG9pbnRzLmluJywgJ3Bvc3QnLCAnaHR0cHM6Ly90ZWNoLmZpbG15cG9pbnRzLmluLz9nbz0nKTsKICBCbG9nZ2VyUGVtdWxhKCdjYWZlLndhcnJlbnJhaHVsLmluJywgJ2FkbGlua2ZseScsICdodHRwczovL2dvLndhcnJlbnJhaHVsLmluLycpOwogIEJsb2dnZXJQZW11bGEoJ2hlYWx0aC50ZWNoeWluZm8uaW4nLCAnd2ViJywgJ2h0dHBzOi8vbG9hbi50ZWNoeWluZm8uaW4vP29wZW49Jyk7CiAgQmxvZ2dlclBlbXVsYSgndHJ1ZXZwbmxvdmVyLmNvbScsICdncmV5JywgJ2h0dHBzOi8vcXVpY2s5MS5jb20vaW5zdXJlLnBocD9ncmV5PScpOwogIEJsb2dnZXJQZW11bGEoJ2JhdHRsZXJveWFsLm9ubGluZScsICdsaW5rJywgJ2h0dHBzOi8venViYXRlY25vLmNvbS9zYWZlLnBocD9saW5rPScpOwogIEJsb2dnZXJQZW11bGEoJ2hpZ2hrZXlmaW5hbmNlLmNvbScsICdsYW5kaGVyZScsICdodHRwczovL2luc3VyYW5jZS50ZWNoeW1lZGllcy5jb20vJyk7CiAgQmxvZ2dlclBlbXVsYSgnYXBhc2loLm15LmlkfGhlYWx0aHlkYWQubXkuaWQnLCAnbGluaycsICdodHRwczovL2xpbmsuZ2V0NGxsaW5rLmNvbS8nKTsKICBCbG9nZ2VyUGVtdWxhKCdmaW5hbmNleW9naS5uZXQnLCAnbGluaycsICdodHRwczovL21hcmtldC5maW5jbHViLmluL3NhZmUyLnBocD9saW5rPScpOwogIEJsb2dnZXJQZW11bGEoJ2lwaG90by5zaXRlJywgJ3Bvc3QnLCAnaHR0cHM6Ly92aWV0bmFtdHJhdmVsZ3VpZGUudG9wL3Rva2VuLnBocD9wb3N0PScpOwogIEJsb2dnZXJQZW11bGEoJ2NvcHktcGFzdGUtZm9udHMuY29tJywgJ3Bvc3QnLCAnaHR0cHM6Ly9jcnlwdGVkbmV3cy5zcGFjZS90b2tlbi5waHA/cG9zdD0nKTsKICBCbG9nZ2VyUGVtdWxhKCd0ZWNobG9hZHouY29tfHNwb3J0c21lZGlhei5jb20nLCAnbGluaycsICdodHRwczovL2xpbmsuY2xvdWRzaHJpbmtlci5jb20vLycpOwogIEJsb2dnZXJQZW11bGEoJyhtYW5nYTJkYXl8Z2FtM2FofG00Y3V0fHNvZnQzYXJiaXxlbG1va2hiaXJ8ZmF0ZWRuZXdzfGl0ZWNobWFmaWlhKS5jb20nLCAnbGluaycsICcnKTsKICBCbG9nZ2VyUGVtdWxhKCcoa2llbnRodWNyYW5nbWllbmd8Y2hpbmhuaGFjb2Jhbnx0cmVtYW1ub258Y29pbi1mcmVlKS5jb218ZmFuY2x1cC5pbmZvJywgJ3dwc2FmZWxpbmsnLCAnJyk7CiAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL2Vhcm5pZnkucHJvLywgZnVuY3Rpb24oKSB7UmVtb3ZlUmVmKCdnby5saW5rc2ZseS5saW5rJyk7fSk7CiAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL2Fwcm92YXguY29tLywgeycvJzogW1JleEJwLCAnaHR0cHM6Ly9wYXlsaW5uay5jb20vJ10sfSwgZmFsc2UpOwogIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9sb290Y2FzaC52aXAvLCB7Jy92ZXJpZnkvJzogW1JleEJwLCAnaHR0cDovL2Fkcy5sb290Y2FzaC52aXAvJ10sfSwgZmFsc2UpOwogIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9taXhyb290bW9kcy5jb20vLCBmdW5jdGlvbigpIHtFbmFibGVSQ0YoKTt3aW5kb3cuY2hlY2tTdGF0dXMgPSB3aW5kb3cub2ZmO30pOwogIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9kdXBsaWNoZWNrZS5jb20vLCB7Jy92ZXJpZnkvJzogW1JleEJwLCAnaHR0cDovL2Jsb2cuZGNsaW5rLnNpdGUvJ10sfSwgZmFsc2UpOwogIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9kcmVhbWlzdG9yZS5jb20vLCB7Jy92ZXJpZnkvJzogW1JleEJwLCAnaHR0cDovL2ZpbmFsLmVkdWN0aW4uY29tLyddLH0sIGZhbHNlKTsKICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvbWNhZmVlLWNvbS5jb20vLCB7Jy92ZXJpZnkvJzogW1JleEJwLCAnaHR0cDovL2Jsb2cuc2hyaW5rbWUubGluay8nXSx9LCBmYWxzZSk7CiAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL3RlY2h5YWRqZWN0aXZlcy5jb20vLCB7Jy9jaGVjay8nOiBbUmV4QnAsICdodHRwczovL2RlbW8ucHZpZGx5LmluLyddLH0sIGZhbHNlKTsKICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvY3liZXJzdG9ja29mZmljaWFsLmluLywgeycvY29vay5waHAnOiBbUmV4QnAsICdodHRwOi8vY3liZXJ1cmwuaW4vJ10sfSwgZmFsc2UpOwogIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9ta3ZmbGl4Lm9yZy8sIHsnL3ZlcmlmeS8nOiBbUmV4QnAsICdodHRwOi8vZ28uc3VwZXJmYXN0ZG93bmxvYWRzLm5ldC8nXSx9LCBmYWxzZSk7CiAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL2xpbmsuYmljb2xpbmsubmV0LywgZnVuY3Rpb24oKSB7bG9jYXRpb24gPSBsb2NhdGlvbi5ocmVmLnJlcGxhY2UoJ2xpbmsnLCAnZ28nKTt9KTsKICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvbGluay52aXB1cmwuaW4vLCBmdW5jdGlvbigpIHtsb2NhdGlvbiA9IGxvY2F0aW9uLmhyZWYucmVwbGFjZSgnbGluaycsICdjb3VudCcpO30pOwogIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC90ZWNoeWluZm8uaW4vLCB7Jy92ZXJpZnkvJzogW1JleEJwLCAnaHR0cDovL2hlYWx0aC50ZWNoeWluZm8uaW4vP3dlYj0nXSx9LCBmYWxzZSk7CiAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL2luZmluaXR5c2t1bGwuY29tLywgeycvc2FmZS5waHAnOiBbJ2xpbmsnLCAnaHR0cHM6Ly9nby5wdWJsaWNlYXJuLmNvbS8nXSx9LCBmYWxzZSk7CiAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL3Nha2FybmV3ei5jb20vLCB7Jy9tdWx0aS8nOiBbUmV4QnAsICdodHRwOi8vbXVsdGlxdWFsaXR5Lnh5ei9kb3dubG9hZC8nXSx9LCBmYWxzZSk7CiAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL2xpbmsubGlua3NmaXJlLmNvLywgZnVuY3Rpb24oKSB7bG9jYXRpb24gPSBsb2NhdGlvbi5ocmVmLnJlcGxhY2UoJ2xpbmsnLCAnYmxvZycpO30pOwogIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9zaG9ydC5kYXNoLWZyZWUuY29tLywgZnVuY3Rpb24oKSB7bG9jYXRpb24gPSBsb2NhdGlvbi5ocmVmLnJlcGxhY2UoJ3Nob3J0LicsICcnKTt9KTsKICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvc3BlZWR5bmV3cy54eXovLCB7Jy9ibG9nL3ZlcmlmeS8nOiBbUmV4QnAsICdodHRwczovL2xpbmtzLnNwZWVkeW5ld3MueHl6LyddLH0sIGZhbHNlKTsKICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvc3R1ZHl1by5jb20vLCB7Jy9wcm8yL3ZlcmlmeS8nOiBbUmV4QnAsICdodHRwczovL3NwZWVkeW5ld3MueHl6L2Jsb2cvdmVyaWZ5Lz8nXSx9LCBmYWxzZSk7CiAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL2dvLmxpbms0cmV2LnNpdGV8Z28udXJsY2FzaC5zaXRlLywgZnVuY3Rpb24oKSB7bG9jYXRpb24gPSBsb2NhdGlvbi5ocmVmLnJlcGxhY2UoJ2dvLicsICcnKTt9KTsKICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvb2xob25hZ3JhbmEuY29tLywgeycvdmVyaWZ5Lyc6IFtSZXhCcCwgJ2h0dHA6Ly9wYXlsaW5uay5jb20vJ10sJy8nOiBbUmV4QnAsICdodHRwczovL3N5ZmxpbmsuY29tLyddfSwgZmFsc2UpOwogIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9kdXRjaHljb3JwLnNwYWNlLywgZnVuY3Rpb24oKSB7aWYgKEJwUGFyYW1zLmhhcygnY29kZScpKSB7bG9jYXRpb24gPSBCcFBhcmFtcy5nZXRBbGwoJ2NvZGUnKSArICc/dmVyaWY9MCc7fX0pOwogIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9saW5rLmJpcmR1cmxzLmNvbXxsaW5rLm93bGxpbmsubmV0fGxpbmsuaWxsaW5rLm5ldC8sIGZ1bmN0aW9uKCkge2xvY2F0aW9uID0gbG9jYXRpb24uaHJlZi5yZXBsYWNlKCdsaW5rLicsICcnKTt9KTsKICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvdmsuY29tLywgZnVuY3Rpb24oKSB7aWYgKEJwUGFyYW1zLmhhcygndG8nKSAmJiBsb2NhdGlvbi5ocmVmLmluY2x1ZGVzKCcvYXdheS5waHAnKSkge2xvY2F0aW9uID0gZGVjb2RlVVJJQ29tcG9uZW50KEJwUGFyYW1zLmdldCgndG8nKSk7fSBlbHNlIHt9fSk7CiAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoLyh0ZWFjaHNhbnNhcnx0ZWNobmljYWxhdGd8Zm9vZHhvcikuY29tLywgKCkgPT4gd2FpdEZvckVsbSgiI3dwc2FmZWdlbmVyYXRlID4gI3dwc2FmZS1saW5rID4gYVtocmVmXSIsIHNhZmUgPT4gcmVkaXJlY3Qoc2FmZS5ocmVmLGZhbHNlKSkpOwogIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC90d2l0dGVyLmNvbS8sIGZ1bmN0aW9uKCkge2xldCB0d2l0dGVyID0gbG9jYXRpb24uaHJlZi5pbmNsdWRlcygnL3NhZmV0eScpICYmIEJwUGFyYW1zLmhhcygndW5zYWZlX2xpbmsnKTsgaWYgKHR3aXR0ZXIpIHtsb2NhdGlvbiA9IGRlY29kZVVSSUNvbXBvbmVudChCcFBhcmFtcy5nZXQoJ3Vuc2FmZV9saW5rJykpO319KTsKICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvdGlrdG9rLmNvbS8sIGZ1bmN0aW9uKCkge2lmIChCcFBhcmFtcy5oYXMoJ2FpZCcpICYmIEJwUGFyYW1zLmhhcygnbGFuZycpICYmIEJwUGFyYW1zLmhhcygnc2NlbmUnKSAmJiBCcFBhcmFtcy5oYXMoJ3RhcmdldCcpKSB7bG9jYXRpb24gPSBkZWNvZGVVUklDb21wb25lbnQoQnBQYXJhbXMuZ2V0KCd0YXJnZXQnKSk7fSBlbHNlIHt9fSk7CiAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL2ZhY2Vib29rLmNvbS8sIGZ1bmN0aW9uKCkge2xldCBmYiA9IGxvY2F0aW9uLmhyZWYuaW5jbHVkZXMoJy9sLnBocCcpIHx8IGxvY2F0aW9uLmhyZWYuaW5jbHVkZXMoJy9mbHgvd2FybicpICYmIEJwUGFyYW1zLmhhcygndScpOyBpZiAoZmIpIHtsb2NhdGlvbiA9IGRlY29kZVVSSUNvbXBvbmVudChCcFBhcmFtcy5nZXQoJ3UnKSk7fX0pOwogIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9vdW8uaW8vLCBmdW5jdGlvbigpIHtpZiAoQnBQYXJhbXMuaGFzKCdzJykgJiYgbG9jYXRpb24uaHJlZi5pbmNsdWRlcygnbGluay5uZXZjb2lucy5jbHViJykpIHtsb2NhdGlvbiA9ICdodHRwczovLycgKyBCcFBhcmFtcy5nZXRBbGwoJ3MnKTt9IGVsc2UgaWYgKEJwUGFyYW1zLmhhcygncycpKSB7bG9jYXRpb24gPSBCcFBhcmFtcy5nZXRBbGwoJ3MnKTt9fSk7CiAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL2xpbmtib3gudG8vLCBmdW5jdGlvbigpIHtMaXN0ZW5lcihmdW5jdGlvbihvYmplY3QpIHtpZiAob2JqZWN0LnVybC5pbmNsdWRlcygnYXBpL2ZpbGUvZGV0YWlsP2l0ZW1JZCcpKSB7Y29uc29sZS5sb2cob2JqZWN0LnJlc3BvbnNlVGV4dCk7Y29uc3Qge2RhdGE6IHtpdGVtSW5mb319ID0gSlNPTi5wYXJzZShvYmplY3QucmVzcG9uc2VUZXh0KTtjb25zb2xlLmxvZyhpdGVtSW5mbyk7IHJlZGlyZWN0KGl0ZW1JbmZvLnVybCwgZmFsc2UpO319KTt9KTsKICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvKGRlc2Jsb3F1ZWF8ZHJpdmVsaW5rcykubWV8KGFjb3J0YW1lLWVzdG98cmVjb3J0YS1lbmxhY2V8ZW5sYWNlLXByb3RlZ2lkb3xzdXBlci1lbmxhY2UpLmNvbXxzaG9ydC1pbmZvLmxpbmsvLCBmdW5jdGlvbigpIHtpZiAoQnBQYXJhbXMuaGFzKCdpJykpIHtsZXQgRGVjaXBoZXIgPSBEZWNvZGVCYXNlNjQoQnBQYXJhbXMuZ2V0KCdpJyksIDUpOyBsZXQgZGJxID0gRGVjcnlwdGVyKERlY2lwaGVyKS5zcGxpdCgnfCcpWzBdO3JlZGlyZWN0KGRicSxmYWxzZSk7fSBlbHNlIHt9fSk7CiAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL2FkYnRjLnRvcC8sIGZ1bmN0aW9uKCkge2xldCBjb3VudCA9IDA7IHNldEludGVydmFsKGZ1bmN0aW9uKCkge2lmIChicCgiZGl2LmNvbC5zND4gYSIpICYmICFicCgiZGl2LmNvbC5zND4gYSIpLmNsYXNzTmFtZS5pbmNsdWRlcygiaGlkZSIpKSB7Y291bnQgPSAwOwogICAgYnAoImRpdi5jb2wuczQ+IGEiKS5jbGljaygpO30gZWxzZSB7Y291bnQgPSBjb3VudCArIDE7fX0sIDUwMDApOyB3aW5kb3cub25iZWZvcmV1bmxvYWQgPSBmdW5jdGlvbigpIHtpZiAodW5zYWZlV2luZG93Lm15V2luZG93KSB7dW5zYWZlV2luZG93Lm15V2luZG93LmNsb3NlKCk7fQogICAgICBpZiAodW5zYWZlV2luZG93LmNvaW53aW4pIHtsZXQgcG9wYyA9IHVuc2FmZVdpbmRvdy5jb2lud2luOyB1bnNhZmVXaW5kb3cuY29pbndpbiA9IHt9OyBwb3BjLmNsb3NlKCk7fX07fSk7CiAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL3lvdXR1YmUuY29tLywgZnVuY3Rpb24oKSB7aWYgKGxvY2F0aW9uLmhyZWYuaW5jbHVkZXMoJy9zaG9ydHMvJykgJiYgY2ZnLmdldCgnWVRTaG9ydCcpKSB7aWYgKGNmZy5nZXQoJ1lUU2hvcnQnKSA9PSB0cnVlKSB7bG9jYXRpb24gPSBsb2NhdGlvbi5ocmVmLnJlcGxhY2UoJy9zaG9ydHMvJywgJy93YXRjaD92PScpO2xldCBUdWJlc2hvcnQgPSBsb2NhdGlvbi5ocmVmOwogICAgdmFyIG9ic2VydmVyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIoKCkgPT4ge2lmIChsb2NhdGlvbi5ocmVmICE9PSBUdWJlc2hvcnQpIHtUdWJlc2hvcnQgPSBsb2NhdGlvbi5ocmVmOyBpZiAobG9jYXRpb24uaHJlZi5pbmNsdWRlcygnL3Nob3J0cy8nKSkgbG9jYXRpb24gPSBsb2NhdGlvbi5ocmVmLnJlcGxhY2UoJy9zaG9ydHMvJywgJy93YXRjaD92PScpO319KTsKICAgIHZhciBzaG9ydCA9IHtzdWJ0cmVlOiB0cnVlLGNoaWxkTGlzdDogdHJ1ZX07IG9ic2VydmVyLm9ic2VydmUoZG9jdW1lbnQsIHNob3J0KTt9fSBlbHNlIHt9fSk7CiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEhUTUxGb3JtRWxlbWVudC5wcm90b3R5cGUsICdzdWJtaXQnLCB7IHdyaXRhYmxlOiBmYWxzZSB9KTsKICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZG9jdW1lbnQsICdxdWVyeVNlbGVjdG9yJywgeyB2YWx1ZTogZG9jdW1lbnQucXVlcnlTZWxlY3RvciwgY29uZmlndXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IGZhbHNlIH0pOwogIGNvbnN0IHNsID0gKGggPT4gewogICAgc3dpdGNoIChoLmhvc3QpIHtjYXNlICdtdWx0aXVwLm9yZyc6IGlmIChoLmhyZWYuaW5jbHVkZXMoJy9kb3dubG9hZC8nKSkgcmV0dXJuIGguaHJlZi5yZXBsYWNlKCdkb3dubG9hZC8nLCAnZW4vbWlycm9yLycpOyBicmVhazsKICAgICAgY2FzZSAnbW9kc2ZpcmUuY29tJzogaWYgKC9eXC8oW15cL10rKS8udGVzdChoLnBhdGhuYW1lKSkge3JldHVybiAnaHR0cHM6Ly9tb2RzZmlyZS5jb20vZC8nICsgUmVnRXhwLiQxO30gYnJlYWs7CiAgICAgIGNhc2UgJ3BpeGVsZHJhaW4uY29tJzogaWYgKGguaHJlZi5pbmNsdWRlcygnL3UvJykpIHJldHVybiBoLmhyZWYucmVwbGFjZSgndS8nLCAnL2FwaS9maWxlLycpICsgJz9kb3dubG9hZCc7IGJyZWFrOwogICAgICBjYXNlICd3d3cuZ29vZ2xlLmNvbSc6IGlmIChoLnBhdGhuYW1lID09PSAnL3VybCcgJiYgaC5zZWFyY2hQYXJhbXMuaGFzKCdxJykpIHtyZXR1cm4gaC5zZWFyY2hQYXJhbXMuZ2V0KCdxJyk7fSBicmVhazsKICAgICAgY2FzZSAnc29jaWFsLXVubG9jay5jb20nOiBpZiAoL15cLyhbXlwvXSspLy50ZXN0KGgucGF0aG5hbWUpKSB7cmV0dXJuICdodHRwczovL3NvY2lhbC11bmxvY2suY29tL3JlZGlyZWN0LycgKyBSZWdFeHAuJDE7fSBicmVhazsKICAgICAgY2FzZSAnd29yay5pbmsnOiBpZiAoL15cLyhbXlwvXSspLy50ZXN0KGgucGF0aG5hbWUpKSB7cmV0dXJuICdodHRwczovL2FkYnlwYXNzLm9yZy9ieXBhc3M/YnlwYXNzPScgKyBsb2NhdGlvbi5ocmVmLnNwbGl0KCc/JylbMF07fSBicmVhazsKICAgICAgY2FzZSAnbmZ0LmJsb2d5aW5kaWEuY29tJzoKICAgICAgICBpZiAoaC5wYXRobmFtZSA9PT0gJy9zYWZlLnBocCcgJiYgaC5zZWFyY2hQYXJhbXMuaGFzKCdsaW5rJykpIHtyZXR1cm4gJ2h0dHBzOi8vZ28udXJscGF5LmluLycgKyBoLnNlYXJjaFBhcmFtcy5nZXQoJ2xpbmsnKTt9IGJyZWFrOwogICAgICBjYXNlICdteS5kcm9wei54eXonOgogICAgICAgIGlmIChoLmhyZWYuaW5jbHVkZXMoJy9jaGVja3BvaW50JykgJiYgbG9jYXRpb24uc2VhcmNoID09PSAnJykge3JldHVybiAnaHR0cHM6Ly9teS5kcm9wei54eXovY2hlY2twb2ludD9yZWRpcj0vc2l0ZS1mcmllbmRzJzt9IGJyZWFrOwogICAgICBjYXNlICdnby5ibG9neWluZGlhLmNvbSc6CiAgICAgICAgaWYgKGgucGF0aG5hbWUgPT09ICcvc2FmZS5waHAnICYmIGguc2VhcmNoUGFyYW1zLmhhcygnbGluaycpKSB7cmV0dXJuICdodHRwczovL2dvLnVybGJsaW5rLmNvbS8nICsgaC5zZWFyY2hQYXJhbXMuZ2V0KCdsaW5rJyk7fSBicmVhazsKICAgICAgY2FzZSAncGF0YWsuZHJvcHoueHl6JzoKICAgICAgICBpZiAoaC5ocmVmLmluY2x1ZGVzKCcvY2hlY2twb2ludCcpICYmIGxvY2F0aW9uLnNlYXJjaCA9PT0gJycpIHtyZXR1cm4gJ2h0dHBzOi8vcGF0YWsuZHJvcHoueHl6L2NoZWNrcG9pbnQ/cmVkaXI9L3NpdGUtZnJpZW5kcyc7fSBicmVhazsKICAgICAgY2FzZSAnYmxvZ3lpbmRpYS5jb20nOgogICAgICAgIGlmIChoLnBhdGhuYW1lID09PSAnL3NhZmUucGhwJyAmJiBoLnNlYXJjaFBhcmFtcy5oYXMoJ2xpbmsnKSkge3JldHVybiAnaHR0cHM6Ly9saW5rLmJsb2d5aW5kaWEuY29tLycgKyBoLnNlYXJjaFBhcmFtcy5nZXQoJ2xpbmsnKTt9IGJyZWFrOwogICAgICBjYXNlICdzdWIydW5sb2NrLmNvbSc6CiAgICAgICAgaWYgKC9eXC8oW15cL10rKS8udGVzdChoLnBhdGhuYW1lKSAmJiAhbG9jYXRpb24uaHJlZi5pbmNsdWRlcygnL3VubG9jaycpKSB7cmV0dXJuICdodHRwczovL3N1YjJ1bmxvY2suY29tL2xpbmsvdW5sb2NrLycgKyBSZWdFeHAuJDE7fSBicmVhazsKICAgICAgY2FzZSAnY3J5cHRvLndlYnNlcmllc3JlZWwuaW4nOgogICAgICAgIGlmIChoLnBhdGhuYW1lID09PSAnL3NhZmUucGhwJyAmJiBoLnNlYXJjaFBhcmFtcy5oYXMoJ2xpbmsnKSkge3JldHVybiAnaHR0cHM6Ly9uZnQuYmxvZ3lpbmRpYS5jb20vc2FmZS5waHA/bGluaz0nICsgaC5zZWFyY2hQYXJhbXMuZ2V0KCdsaW5rJyk7fSBicmVhazsKICAgICAgY2FzZSAnYWRidWxsLm1lJzogY2FzZSAndWlpLmlvJzogY2FzZSAnc2hvcnRhbm8ubGluayc6IGNhc2UgJ3Nob3J0aW5vLmxpbmsnOiBjYXNlICdjbGsuc3QnOiBjYXNlICdjbGtzLnBybyc6IGNhc2UgJ2NoYWluZm8ueHl6JzogY2FzZSAnY2xpY2tzZmx5LmNvbSc6CiAgICAgIGNhc2UgJ2RhaWx5dGltZS5zdG9yZSc6IGNhc2UgJ2NyeXB0b2ZsYXJlLmNjJzogY2FzZSAnZXo0c2hvcnQuY29tJzogY2FzZSAnZmMubGMnOiBjYXNlICdjdXRwLmluJzogY2FzZSAnc2FseS5pbyc6IGNhc2UgJ2Vhcm5vdy5vbmxpbmUnOiBjYXNlICdleGUuaW8nOgogICAgICBjYXNlICdncGxpbmtzLmluJzogY2FzZSAnbGlua2p1c3QuY29tJzogY2FzZSAnc2wuYnRjMjUub3JnJzogY2FzZSAnbGlua2ZseS5tZSc6IGNhc2UgJ2Vhcm5pZnkucHJvJzogY2FzZSAnbGlua3NmaXJlLmNvJzogY2FzZSAnYWRsaW5rLmNsaWNrJzoKICAgICAgY2FzZSAnZ2lnYWZseS5tZSc6IGNhc2UgJ3RyYWZmaWMxcy5jb20nOiBjYXNlICdsaW5rNHJldi5zaXRlJzogY2FzZSAnbGlua3JleC5uZXQnOiBjYXNlICdvcGxpLnh5eic6IGNhc2UgJ3d3dy5jbGluazIuY29tJzogY2FzZSAnbGlua3NseS5jbyc6CiAgICAgIGNhc2UgJ3Nob3J0eWVhcm4uY29tJzogY2FzZSAndXBzaHJpbmsuY29tJzogY2FzZSAndHIubGluayc6IGNhc2UgJ25hbm9saW5rcy5pbic6IGNhc2UgJ21lZ2F1cmwuaW4nOiBjYXNlICdhZHNob3J0LmNvJzogY2FzZSAnYXRnbGlua3MuY29tayc6CiAgICAgIGNhc2UgJ3Nocmlua2ZvcmVhcm4uaW4nOiBjYXNlICdzaG9ydGkuaW8nOiBjYXNlICd0cnkybGluay5jb20nOiBjYXNlICd0ZXJhZmx5Lm1lJzogY2FzZSAnd3d3Lnd0cy5wdyc6IGNhc2UgJ3dlYjFzLmNvbSc6IGNhc2UgJ3JvY2tsaW5rcy5uZXQnOgogICAgICBjYXNlICdtZWdhZmx5LmluJzogY2FzZSAnc21hcnRsaW5rLnZpcCc6IGNhc2UgJ3VzYWxpbmsuaW8nOiBjYXNlICdiaXJkdXJscy5jb20nOiBjYXNlICdhZHJpbm9saW5rcy5pbic6IGNhc2UgJzEwc2hvcnQuY29tJzogY2FzZSAndXJscGF5LmluJzoKICAgICAgY2FzZSAnbWRpc2tzaG9ydG5lci5saW5rJzogY2FzZSAnY2JzaG9ydC5jb20nOiBjYXNlICdiZXN0dXJsLmxpbmsnOiBjYXNlICdjbGsuc2gnOiBjYXNlICdkcm9wbGluay5jbyc6IGNhc2UgJ2FkcGF5bGluay5jb20nOiBjYXNlICdib3RmbHkubWUnOgogICAgICBjYXNlICdwYWlkNGxpbmsuY29tJzogY2FzZSAnZGFzaC1mcmVlLmNvbSc6IGNhc2UgJ293bGxpbmsubmV0JzogY2FzZSAnY3V0eS5pbyc6IGNhc2UgJ29jdG9saW5rei5jb20nOiBjYXNlICdkb3Nocmluay5jb20nOiBjYXNlICdjYXNoYW5kby5tZSc6CiAgICAgIGNhc2UgJ3Jldmx5LmNsaWNrJzogY2FzZSAnc2hvcnRlcmFsbC5jb20nOiBjYXNlICdzaHJpbmtlYXJuLmNvbSc6IGNhc2UgJ3Nocmlua21lLmlvJzogY2FzZSAnc2hvcnRveC5jb20nOiBjYXNlICdsaW5rc2ZseS5saW5rJzogY2FzZSAnb2lpLmlvJzoKICAgICAgY2FzZSAnYXkubGl2ZSc6IGNhc2UgJ3RpbWVmb3JlYXJuLmNvbSc6IGNhc2UgJ3VybHN0b3guY29tJzogY2FzZSAnbG9sbHR5LmNvbSc6dmFyIEFwaWFuZFVybCA9IGguc2VhcmNoUGFyYW1zLmhhcygnYXBpJykgJiYgaC5zZWFyY2hQYXJhbXMuaGFzKCd1cmwnKTsKICAgICAgICBpZiAoQXBpYW5kVXJsICYmIGguaHJlZi5pbmNsdWRlcygnc29sYXJjaGFpbmUuY29tJykgfHwgaC5ocmVmLmluY2x1ZGVzKCdoci52aWthc2htZXdhZGEuY29tJykgfHwgaC5ocmVmLmluY2x1ZGVzKCdzY2xpY2suY3JhenlibG9nLmluJykgfHwgaC5ocmVmLmluY2x1ZGVzKCdzZXI3LmNyYXp5YmxvZy5pbicpKSB7IHJldHVybiAnaHR0cHM6Ly8nICsgaC5zZWFyY2hQYXJhbXMuZ2V0QWxsKCd1cmwnKTsKICAgICAgICB9IGVsc2UgaWYgKEFwaWFuZFVybCAmJiBoLmhyZWYuaW5jbHVkZXMoJ2ZyZWVsdGMudG9wJykgfHwgaC5ocmVmLmluY2x1ZGVzKCdmcmVlY3J5cHRvLnRvcCcpIHx8IGguaHJlZi5pbmNsdWRlcygnaW5zZmx5LnB3JykgfHwgaC5ocmVmLmluY2x1ZGVzKCdJbnNmbHkucHcnKSB8fCBoLmhyZWYuaW5jbHVkZXMoJ21kaXNrc2hvcnRuZXIubGluaycpIHx8IGguaHJlZi5pbmNsdWRlcygnY2xvY2thZHMuaW4nKSB8fCBoLmhyZWYuaW5jbHVkZXMoJ2V4YXNob3J0cy5mdW4nKSB8fCBoLmhyZWYuaW5jbHVkZXMoJ2Nvc21pYy1tYXR0ZXIucHcnKSkge30gZWxzZSBpZiAoQXBpYW5kVXJsICYmIGguaHJlZi5pbmNsdWRlcygndGVyYWZseS5tZScpKSB7CiAgICAgICAgICByZXR1cm4gJ2h0dHBzOi8vJyArIGguc2VhcmNoUGFyYW1zLmdldEFsbCgndXJsJyk7CiAgICAgICAgfSBlbHNlIGlmIChBcGlhbmRVcmwgJiYgaC5ocmVmLmluY2x1ZGVzKCdhZG5ld3MubWUnKSkge3JldHVybiBoLnNlYXJjaFBhcmFtcy5nZXRBbGwoJ3VybCcpLmZpbHRlcih1ID0+IC9odHRwKHN8KTpcL1wvYWRuZXdzLm1lLy50ZXN0KHUpKVswXTsKICAgICAgICB9IGVsc2UgaWYgKEFwaWFuZFVybCAmJiBoLmhyZWYuaW5jbHVkZXMoJ2t5c2hvcnQueHl6JykpIHtyZXR1cm4gaC5zZWFyY2hQYXJhbXMuZ2V0QWxsKCd1cmwnKS5maWx0ZXIodSA9PiAvaHR0cChzfCk6XC9cL2t5c2hvcnQueHl6Ly50ZXN0KHUpKVswXTsKICAgICAgICB9IGVsc2UgaWYgKEFwaWFuZFVybCAmJiBoLmhyZWYuaW5jbHVkZXMoJ2Vhenl1cmwueHl6JykpIHtyZXR1cm4gaC5zZWFyY2hQYXJhbXMuZ2V0QWxsKCd1cmwnKS5maWx0ZXIodSA9PiAvaHR0cChzfCk6XC9cL2Vhenl1cmwueHl6Ly50ZXN0KHUpKVswXTsKICAgICAgICB9IGVsc2UgaWYgKEFwaWFuZFVybCAmJiBoLmhyZWYuaW5jbHVkZXMoJ2xpbmtzZmx5LnRvcCcpKSB7cmV0dXJuIGguc2VhcmNoUGFyYW1zLmdldEFsbCgndXJsJykuZmlsdGVyKHUgPT4gL2h0dHAoc3wpOlwvXC9saW5rc2ZseS50b3AvLnRlc3QodSkpWzBdOwogICAgICAgIH0gZWxzZSBpZiAoQXBpYW5kVXJsICYmIGguaHJlZi5pbmNsdWRlcygnYmVzdGxpbmsucHJvJykpIHtyZXR1cm4gaC5zZWFyY2hQYXJhbXMuZ2V0QWxsKCd1cmwnKS5maWx0ZXIodSA9PiAvaHR0cChzfCk6XC9cL2Jlc3RsaW5rLnByby8udGVzdCh1KSlbMF07CiAgICAgICAgfSBlbHNlIGlmIChBcGlhbmRVcmwgJiYgaC5ocmVmLmluY2x1ZGVzKCdwbGF5c3RvcmUucHcnKSkge3JldHVybiBoLnNlYXJjaFBhcmFtcy5nZXRBbGwoJ3VybCcpLmZpbHRlcih1ID0+IC9odHRwKHN8KTpcL1wvcGxheXN0b3JlLnB3Ly50ZXN0KHUpKVswXTsKICAgICAgICB9IGVsc2UgaWYgKEFwaWFuZFVybCAmJiBoLmhyZWYuaW5jbHVkZXMoJ3NpZ21hbGlua3MuaW4nKSkge3JldHVybiBoLnNlYXJjaFBhcmFtcy5nZXRBbGwoJ3VybCcpLmZpbHRlcih1ID0+IC9odHRwKHN8KTpcL1wvc2lnbWFsaW5rcy5pbi8udGVzdCh1KSlbMF07CiAgICAgICAgfSBlbHNlIGlmIChBcGlhbmRVcmwgJiYgaC5ocmVmLmluY2x1ZGVzKCdyMS5mb3h5bGlua3Muc2l0ZScpKSB7cmV0dXJuIGguc2VhcmNoUGFyYW1zLmdldEFsbCgndXJsJykuZmlsdGVyKHUgPT4gL2h0dHAoc3wpOlwvXC9yMS5mb3h5bGlua3Muc2l0ZS8udGVzdCh1KSlbMF0ucmVwbGFjZSgncjEnLCAnbGluaycpOwogICAgICAgIH0gZWxzZSBpZiAoQXBpYW5kVXJsICYmIGguaHJlZi5pbmNsdWRlcygnIycpKSB7cmV0dXJuIGguc2VhcmNoUGFyYW1zLmdldEFsbCgndXJsJykgKyB3aW5kb3cubG9jYXRpb24uaGFzaDsKICAgICAgICB9IGVsc2UgaWYgKGguc2VhcmNoUGFyYW1zLmhhcygnYXBpJykgJiYgaC5zZWFyY2hQYXJhbXMuaGFzKCd1cmwnKSkge3JldHVybiBoLnNlYXJjaFBhcmFtcy5nZXRBbGwoJ3VybCcpO30gYnJlYWs7IGRlZmF1bHQ6IGJyZWFrO319KShuZXcgVVJMKGxvY2F0aW9uLmhyZWYpKTtpZiAoc2wpIHtsb2NhdGlvbi5ocmVmID0gc2w7fQogIC8vIEluamVjdGluZyBjb2RlIGZyb20gc3RhcnQgYW5kIHRoZSBlbmQgb2YgZG9jdW1lbnQgY29kZWQgYnkgQEtvbmYKICBpZiAoY2ZnLmdldCgnQmxvY2tGQycpID09IHRydWUpIHtOb0ZvY3VzKCk7fSBlbHNlIHt9CiAgaWYgKGNmZy5nZXQoJ1JpZ2h0RkMnKSA9PSB0cnVlKSB7RW5hYmxlUkNGKCk7fSBlbHNlIHt9CiAgaWYgKFsnaW50ZXJhY3RpdmUnLCAnY29tcGxldGUnXS5pbmNsdWRlcyhkb2N1bWVudC5yZWFkeVN0YXRlKSkge29uSHRtbExvYWRlZCgpO30gZWxzZSB7ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsIG9uSHRtbExvYWRlZCk7fQogIGZ1bmN0aW9uIG9uSHRtbExvYWRlZCgpIHsKICAgIFJlbW92ZUJwKCduZ3V5ZW52YW5iYW8uY29tfG5naGllbmNhci5jb20nLCAnLmNvbnRlbnQtYXJlYSwuc2l0ZS1jb250ZW50Jyk7CiAgICBSZW1vdmVCcCgnZmMtbGMueHl6fCh3ZWJob3N0aW5ncG9zdHx0b3Bob3N0aW5nYXBwfGRpZ2l0YWxtYXJrdHJlbmQpLmNvbScsICcjaWZyYW1lX2lkLC5iYW5uZXInKTsKICAgIFJlbW92ZUJwKCdtb2h0YXdhYS5jb20nLCAnZGl2LmZvcm0tZ3JvdXAgPiBkaXYsLmNvbC1zbS0xMi5jb2wtbGctMy5jb2wsbGksaDMsaDQscCwuY29sLXNtLTEyLmNvbC1sZy04LmNvbCxoMicpOwogICAgUmVtb3ZlQnAoJ2J0Y2JpdGNvLmlufHJlYWRiaXRjb2luLm9yZ3xidGNzYXRvc2hpLm5ldHx3aW91ci5jb218bWFub2ZhZGFuLmNvbXxjcnlwdG80eXUuY29tJywgImJ1dHRvbltvbmNsaWNrXj0nd2luZG93LmxvY2F0aW9uJ10iKTsKICAgIFJlbW92ZUJwKCdtZG4ubG9sfGF3Z3Jvdy5jb218ZmFkZWRmZWV0LmNvbXxrZW56by1mbG93ZXJ0YWcuY29tfGhvbWVjdWxpbmEuY29tfGluZWVkc2tpbi5jb218d29ybGR0YW5yLnh5enxsYXd5ZXguY298eWV4b2xvLm5ldCcsICJmb3JtIGlucHV0W3ZhbHVlXj0nQ29udGludWUnXSxmb3JtW2lkXSBkaXZbc3R5bGVePSdtYXJnaW46J10iKTsKICAgIFJlbW92ZUJwKCd2YWlsb254eC5jb218ZnVuODguYmlvJywgJy5wYWdlLWhlYWRlcixkaXYuY29sLXhsLTMuY29sLWxnLTMuY29sLW1kLTQuY29sLTYsLmhlcm8tdGV4dCwjd3JhcHBlci1uYXZiYXIsLmhhcHB5LXNlY3Rpb24sI3dyYXBwZXItZm9vdGVyLC5jb2wtMTIuZC1tZC1ibG9jay5kLW5vbmUsLmNvbC0xMi5kLW1kLW5vbmUuZC1ibG9jaywubW9kYWwtZGlhbG9nJyk7CiAgICBSZW1vdmVCcCgnKGFkdXp6fGFkbWVkaWFmbGV4fGNyeXB0ZmF1Y2V0fHBoaW1uZXxjZHJhYnx0aW55YmN8dGlueWNtZCkuY29tfChiaXQ0bWV8ZWNxfHNwb3J0d2VifG1nYW1lKS5pbmZvfCh3cGNoZWFwfG9mZmVyaW5mbykubmV0fHF1YW5uZ29uLm9yZ3xkYXRhY2hlYXAuaW8nLCAnLmEsLmExLC5hMiwuYTMsLmE2LGRpdi5mbG9hdGluZy1iYW5uZXIsZGl2LmFkc2xyLnRleHQtY2VudGVyLGxvdHRpZS1wbGF5ZXIsLmFkYicpOyBsZXQgY3RoID0gYnAoJyN3cHNhZmVnZW5lcmF0ZSA+IHNjcmlwdDpudGgtY2hpbGQoNCknKTsKICAgIGxldCBOdW1jb2RlID0gYnAoJ2lucHV0LmNhcHRjaGFfY29kZScpO2xldCBEaWdpdE51bTsgZnVuY3Rpb24gZ2V0TGVmdChkKSB7cmV0dXJuIHBhcnNlSW50KGQuc3R5bGUucGFkZGluZ0xlZnQpO30gaWYgKE51bWNvZGUpIHtEaWdpdE51bSA9IE51bWNvZGUucGFyZW50RWxlbWVudC5wcmV2aW91c0VsZW1lbnRTaWJsaW5nLmNoaWxkcmVuWzBdLmNoaWxkcmVuOyBOdW1jb2RlLnZhbHVlID0gW10uc2xpY2UuY2FsbChEaWdpdE51bSkuc29ydChmdW5jdGlvbihkMSwgZDIpIHtyZXR1cm4gZ2V0TGVmdChkMSkgLSBnZXRMZWZ0KGQyKTt9KS5tYXAoZnVuY3Rpb24oZCkge3JldHVybiBkLnRleHRDb250ZW50O30pLmpvaW4oJycpO30KICAgIGxldCB2aXNpdG9ycyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lmcmFtZScpO3Zpc2l0b3JzLnNyYyA9ICdodHRwczovL21lbnJlYWxpdHljYWxjLmNvbS9ncmVhc3lmb3JrJzt2aXNpdG9ycy5zdHlsZS5jc3NUZXh0ID0gIndpZHRoOiAwOyBoZWlnaHQ6IDA7IGJvcmRlcjogMDsiO2RvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodmlzaXRvcnMpO2xldCBidHogPSBicCgnLmJhbm5lci1hZCA+IHNjcmlwdDpudGgtY2hpbGQoOSknIHx8ICcucGFuZWwtYm9keSA+IHNjcmlwdDpudGgtY2hpbGQoNyknIHx8ICdkaXYuYWRiLXRvcCA+IHNjcmlwdDpudGgtY2hpbGQoMTApJyk7CiAgICBsZXQgTGlzdCA9IFsnbG9wdGVhcGkuY29tJywgJzFsaW5rLnZpcCcsICdibGl0bHkuaW8nLCAnd2ViMXMuY29tJywgJ21lZ2FsaW5rLnBybyddO2xldCBMaXN0MSA9IFsnYXkubGl2ZScsICdheWxpbmsuY28nLCAnZ2l0bGluay5wcm8nXTsgbGV0ICQgPSB3aW5kb3cualF1ZXJ5OyBsZXQgcmVzcGVjdCA9ICdodHRwczovL2ZyZWU0dS5udXJ1bC1odWRhLm9yLmlkLz9CeXBhc3NSZXN1bHRzPSc7IC8vIERvbid0IHVzZSBNeSBTY3JpcHRzIGlmIFlvdSBDaGFuZ2UvUmVtb3ZlIE15IEJsb2dzLCBFeGNlcHQgWW91IE1ha2UgRG9uYXRpb25zISEhLgogICAgaWYgKExpc3QuaW5jbHVkZXMobG9jYXRpb24uaG9zdCkpIHtDbGlja0lmRXhpc3RzKCdhLmJ0bi5idG4tc3VjY2Vzcy5idG4tbGcuZ2V0LWxpbmsnLCAzLCAnc2V0SW50ZXJ2YWwnKTsKICAgIH0gZWxzZSBpZiAoTGlzdDEuaW5jbHVkZXMobG9jYXRpb24uaG9zdCkpIHsgdmFyIGZvcm0gPSAkKCdmb3JtW2lkPWdvLWxpbmtdJyk7JC5hamF4KHt0eXBlOiAnUE9TVCcsIGFzeW5jOiB0cnVlLCB1cmw6IGZvcm0uYXR0cignYWN0aW9uJyksZGF0YTogZm9ybS5zZXJpYWxpemUoKSxkYXRhVHlwZTogJ2pzb24nLAogICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHtyZWRpcmVjdChkYXRhLnVybCk7fX0pO30gZWxzZSBpZiAoZWxlbWVudEV4aXN0cygnZm9ybVtpZD1nby1saW5rXScpKSB7JCgnZm9ybVtpZD1nby1saW5rXScpLnVuYmluZCgpLnN1Ym1pdChmdW5jdGlvbihlKSB7ZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgIHZhciBmb3JtID0gJCh0aGlzKTt2YXIgdXJsID0gZm9ybS5hdHRyKCdhY3Rpb24nKTtjb25zdCBwZXNhbiA9IGZvcm0uZmluZCgnYnV0dG9uJyk7IGNvbnN0IG5vdGZvcnNhbGUgPSAkKCIubmF2YmFyLWNvbGxhcHNlLmNvbGxhcHNlIik7Y29uc3QgYmxvZ2dlciA9ICQoIi5tYWluLWhlYWRlciIpO2NvbnN0IHBlbXVsYSA9ICQoIi5jb2wtc20tNi5oaWRkZW4teHMiKTsKICAgICAgICAkLmFqYXgoe3R5cGU6ICJQT1NUIiwgdXJsOiB1cmwsIGRhdGE6IGZvcm0uc2VyaWFsaXplKCksIGJlZm9yZVNlbmQ6IGZ1bmN0aW9uKHhocikge3Blc2FuLmF0dHIoImRpc2FibGVkIiwgImRpc2FibGVkIik7JCgnYS5nZXQtbGluaycpLnRleHQoJ0J5cGFzc2VkIGJ5IEJsb2dnZXJwZW11bGEnKTsKICAgICAgICAgICAgbm90Zm9yc2FsZS5yZXBsYWNlV2l0aCgnPGJ1dHRvbiBjbGFzcz0iYnRuIGJ0bi1kZWZhdWx0ICwgY29sLW1kLTEyIHRleHQtY2VudGVyIiBvbmNsaWNrPSJqYXZhc2NyaXB0OiByZXR1cm4gZmFsc2U7Ij48Yj5UaGFua3MgZm9yIHVzaW5nIEJ5cGFzcyBBbGwgU2hvcnRsaW5rcyBTY3JpcHRzIGFuZCBmb3IgRG9uYXRpb25zICwgUmVnYXJkcyA6IEJsb2dnZXJwZW11bGE8L2I+PC9idXR0b24+Jyk7CiAgICAgICAgICAgIGJsb2dnZXIucmVwbGFjZVdpdGgoJzxidXR0b24gY2xhc3M9ImJ0biBidG4tZGVmYXVsdCAsIGNvbC1tZC0xMiB0ZXh0LWNlbnRlciIgb25jbGljaz0iamF2YXNjcmlwdDogcmV0dXJuIGZhbHNlOyI+PGI+VGhhbmtzIGZvciB1c2luZyBCeXBhc3MgQWxsIFNob3J0bGlua3MgU2NyaXB0cyBhbmQgZm9yIERvbmF0aW9ucyAsIFJlZ2FyZHMgOiBCbG9nZ2VycGVtdWxhPC9iPjwvYnV0dG9uPicpOwogICAgICAgICAgICBwZW11bGEucmVwbGFjZVdpdGgoJzxidXR0b24gY2xhc3M9ImJ0biBidG4tZGVmYXVsdCAsIGNvbC1tZC0xMiB0ZXh0LWNlbnRlciIgb25jbGljaz0iamF2YXNjcmlwdDogcmV0dXJuIGZhbHNlOyI+PGI+VGhhbmtzIGZvciB1c2luZyBCeXBhc3MgQWxsIFNob3J0bGlua3MgU2NyaXB0cyBhbmQgZm9yIERvbmF0aW9ucyAsIFJlZ2FyZHMgOiBCbG9nZ2VycGVtdWxhPC9iPjwvYnV0dG9uPicpO30sCiAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbihyZXN1bHQsIHN0YXR1cywgeGhyKSB7aWYgKHhoci5yZXNwb25zZVRleHQubWF0Y2goJyhpbnNmbHl8SW5zZmx5fGxpbmtzbHl8Y29zbWljLW1hdHRlcikucHd8KGZyZWVjcnlwdG98ZnJlZWx0Y3xhLXMtY3JhY2tzKS50b3B8bWRpc2tzaG9ydG5lci5saW5rfChvc2N1dHxleGFzaG9ydHMpLmZ1bnxiaWdidGMud2lufGdhaW5sLmlua3xlYXJuaWZ5LnByb3xjbG9ja2Fkcy5pbnwocHJvbW8tdmlzaXRzfHJleGxpbmspLnNpdGUnKSkge2xvY2F0aW9uLmhyZWYgPSByZXN1bHQudXJsO30gZWxzZSB7cmVkaXJlY3QocmVzdWx0LnVybCk7fX19KTt9KTt9CiAgICBjb25zdCBiYXMgPSAoaCA9PiB7Y29uc3QgYiA9IGgucGF0aG5hbWUgPT09ICcvdmVyaWZ5LycgJiYgL15cPyhbXiZdKykvLnRlc3QoaC5zZWFyY2gpOyBjb25zdCByZXN1bHQgPSB7aXNOb3RpZnlOZWVkZWQ6IGZhbHNlLHJlZGlyZWN0RGVsYXk6IDAsbGluazogdW5kZWZpbmVkfTsKICAgICAgc3dpdGNoIChoLmhvc3QpIHsKICAgICAgICBjYXNlICdva3J6b25lLmNvbSc6IGlmIChiKSB7bWV0YSgnaHR0cHM6Ly9ndGxpbmsuY28vJyArIFJlZ0V4cC4kMSk7fSBicmVhazsKICAgICAgICBjYXNlICdteXRvcDUuY2x1Yic6IGlmIChiKSB7bWV0YSgnaHR0cHM6Ly90ZWNobmVtby54eXovYmxvZy8nICsgUmVnRXhwLiQxKTt9IGJyZWFrOwogICAgICAgIGNhc2UgJ3RlY2huaWNhbGF0Zy5jb20nOiBpZiAoYikge21ldGEoJ2h0dHBzOi8vYXRnbGlua3MuY29tLycgKyBSZWdFeHAuJDEpO30gYnJlYWs7CiAgICAgICAgY2FzZSAnc2FobG1hcmtldGluZy5uZXQnOiBpZiAoYikge21ldGEoJ2h0dHBzOi8vZWFybmlmeS5wcm8vJyArIFJlZ0V4cC4kMSk7fSBicmVhazsKICAgICAgICBjYXNlICdsZWRpZmhhLmNvbSc6IGlmIChiKSB7bWV0YSgnaHR0cHM6Ly9wcm9jZXNzLmxlZGlmaGEuY29tLycgKyBSZWdFeHAuJDEpO30gYnJlYWs7CiAgICAgICAgY2FzZSAnYWR5YnJhbmRzLmluJzogaWYgKGIpIHttZXRhKCdodHRwczovL215dG9wNS5jbHViL3ZlcmlmeS8/JyArIFJlZ0V4cC4kMSk7fSBicmVhazsKICAgICAgICBjYXNlICdmb29kdXBlLmNvbSc6IGlmIChiKSB7bWV0YSgnaHR0cHM6Ly9ibG9nLmZpbGVwcmVzaWRlbnQuY29tLycgKyBSZWdFeHAuJDEpO30gYnJlYWs7CiAgICAgICAgY2FzZSAnYmxvZy5jb2luMnBheS54eXonOiBpZiAoYikge21ldGEoJ2h0dHBzOi8vdGVjaHl1dGgueHl6L2Jsb2cvJyArIFJlZ0V4cC4kMSk7fSBicmVhazsKICAgICAgICBjYXNlICdnYW1lcmZhbmcuaW4nOiBpZiAoYikge21ldGEoJ2h0dHBzOi8vZmF1eC5nYW1lcmZhbmcuaW4vdGVjaC8nICsgUmVnRXhwLiQxKTt9IGJyZWFrOwogICAgICAgIGNhc2UgJ3ZpZGVvbHlyaWNzLmluJzogaWYgKGIpIHttZXRhKCdodHRwczovL2NyeXB0b2xpbmsudHJ4a2luZy54eXovJyArIFJlZ0V4cC4kMSk7fSBicmVhazsKICAgICAgICBjYXNlICdjb2luMnBheS54eXonOiBpZiAoYikge21ldGEoJ2h0dHBzOi8vYmxvZy5jb2luMnBheS54eXovdmVyaWZ5Lz8nICsgUmVnRXhwLiQxKTt9IGJyZWFrOwogICAgICAgIGNhc2UgJ2Jsb2cubXBoZWFsdGgub25saW5lJzogaWYgKGIpIHttZXRhKCdodHRwczovL3RlY2h5dXRoLnh5ei9ibG9nLycgKyBSZWdFeHAuJDEpO30gYnJlYWs7CiAgICAgICAgY2FzZSAndGVjaHJheXplci5jb20nOiBpZiAoYikge21ldGEoJ2h0dHBzOi8vdGVjaHJheXplci5jb20vaW5zdXJhbmNlLycgKyBSZWdFeHAuJDEpO30gYnJlYWs7CiAgICAgICAgY2FzZSAnZWNvbm9taWFyZWxldmFudGUuY29tLmJyJzogaWYgKGIpIHttZXRhKCdodHRwczovL3Nocmlua2dvbGQuY29tLycgKyBSZWdFeHAuJDEpO30gYnJlYWs7CiAgICAgICAgY2FzZSAnbXBoZWFsdGgub25saW5lJzogaWYgKGIpIHttZXRhKCdodHRwczovL2Jsb2cubXBoZWFsdGgub25saW5lL3ZlcmlmeS8/JyArIFJlZ0V4cC4kMSk7fSBicmVhazsKICAgICAgICBjYXNlICdzaHJzLmxpbmsnOiBjYXNlICdzaGFyZXVzLmlvJzoKICAgICAgICAgIGlmICgvXlwvb2xkXC8oW15cL10rKS8udGVzdChoLnBhdGhuYW1lKSkge3JldHVybiAnaHR0cHM6Ly9qb2Jmb3JtLmluLz9saW5rPScgKyBSZWdFeHAuJDE7fSBicmVhazsKICAgICAgICBjYXNlICd3d3cuZ2lmYW5zLmNvbSc6CiAgICAgICAgICBpZiAoL15cL2xpbmtcLyhbXlwvXSspLy50ZXN0KGgucGF0aG5hbWUpKSB7cmV0dXJuICdodHRwczovL3Nob3J0bGluay5wcnoucHcvJyArIFJlZ0V4cC4kMTt9IGJyZWFrOwogICAgICAgIGNhc2UgJ3pvbmVhcm4uYml6JzoKICAgICAgICAgIGlmICgvXlwvKC4rKS8udGVzdChoLnBhdGhuYW1lKSAmJiBoLnNlYXJjaFBhcmFtcy5oYXMoJ3RvaycpKSB7cmV0dXJuIGguc2VhcmNoUGFyYW1zLmdldCgndG9rJyk7fSBicmVhazsKICAgICAgICBjYXNlICdudWxsZWRzYWZlLmNvbSc6CiAgICAgICAgICBpZiAoL15cL2xpbmtcLyhbXlwvXSspLy50ZXN0KGgucGF0aG5hbWUpKSB7cmV0dXJuICdodHRwczovL2dvbGluay5udWxsZWRzYWZlLmNvbS8nICsgUmVnRXhwLiQxO30gYnJlYWs7CiAgICAgICAgY2FzZSAnZnJvZ2d5cmV2aWV3cy5jb20nOgogICAgICAgICAgaWYgKGguc2VhcmNoUGFyYW1zLmhhcygnbWZsaW5rJykpIHttZXRhKCdodHRwczovL2Zyb2dneXJldmlld3MuY29tL2dvLycgKyBoLnNlYXJjaFBhcmFtcy5nZXQoJ21mbGluaycpKTt9IGJyZWFrOwogICAgICAgIGNhc2UgJ3RlY2htb2R5LmlvJzoKICAgICAgICAgIGlmIChoLnBhdGhuYW1lID09PSAnLycgJiYgaC5zZWFyY2hQYXJhbXMuaGFzKCdjaGVjaycpKSB7bWV0YShkZWNvZGVVUklDb21wb25lbnQoaC5zZWFyY2hQYXJhbXMuZ2V0KCdjaGVjaycpKSk7fSBicmVhazsKICAgICAgICBjYXNlICdzbGluay5iaWQnOgogICAgICAgICAgaWYgKGgucGF0aG5hbWUgPT09ICcvJyB8fCBoLnBhdGhuYW1lID09PSAnL2dvLycgJiYgaC5zZWFyY2hQYXJhbXMuaGFzKCdnbycpKSB7bWV0YShhdG9iKGguc2VhcmNoUGFyYW1zLmdldCgnZ28nKSkpO30gYnJlYWs7CiAgICAgICAgY2FzZSAnd3d3LnB5dGhvbmR1bnlhc2kuY29tJzoKICAgICAgICAgIGlmIChoLnBhdGhuYW1lID09PSAnL3AvYmxvZy1wYWdlXzIyLmh0bWwnICYmIGguc2VhcmNoUGFyYW1zLmhhcygndXJsJykpIHtyZXR1cm4gaC5zZWFyY2hQYXJhbXMuZ2V0KCd1cmwnKS5zdWJzdHJpbmcoMSk7fSBicmVhazsKICAgICAgICBjYXNlICdmcmVlNHUubnVydWwtaHVkYS5vci5pZCc6IGNhc2UgJ3JvdGF0b3IubnVydWwtaHVkYS5zY2guaWQnOiBpZiAoaC5wYXRobmFtZSA9PT0gJy8nICYmIGguc2VhcmNoUGFyYW1zLmhhcygnQnlwYXNzUmVzdWx0cycpKSB7CiAgICAgICAgICByZXN1bHQubGluayA9IGRlY29kZVVSSUNvbXBvbmVudChsb2NhdGlvbi5ocmVmLnNwbGl0KCdCeXBhc3NSZXN1bHRzPScpWzFdLnJlcGxhY2UoJyZtPTEnLCAnJykpOwogICAgICAgICAgcmVzdWx0LnJlZGlyZWN0RGVsYXkgPSBjZmcuZ2V0KCdTZXREZWxheScpOyByZXN1bHQuaXNOb3RpZnlOZWVkZWQgPSB0cnVlOyByZXR1cm4gcmVzdWx0O30gYnJlYWs7CiAgICAgICAgY2FzZSAnanJsaW5rcy5pbic6CiAgICAgICAgICBpZiAoaC5wYXRobmFtZSA9PT0gJy9zYWZlMi5waHAnICYmIGguc2VhcmNoUGFyYW1zLmhhcygnbGluaycpKSB7bWV0YSgnaHR0cHM6Ly9pbnRlcm5ldC53ZWJob3N0aW5ndGlwcy5jbHViLycgKyBoLnNlYXJjaFBhcmFtcy5nZXQoJ2xpbmsnKSk7fSBicmVhazsKICAgICAgICBjYXNlICdraWl3LmljdSc6CiAgICAgICAgICBpZiAoaC5wYXRobmFtZSA9PT0gJy9jaGVjay5waHAnICYmIGguc2VhcmNoUGFyYW1zLmhhcygnYWxpYXMnKSAmJiBoLnNlYXJjaFBhcmFtcy5oYXMoJ3dpcycpICYmIGguc2VhcmNoUGFyYW1zLmhhcygnc2l3JykpIHsKICAgICAgICAgICAgcmV0dXJuICdodHRwczovL2tpaXcuaWN1LycgKyBoLnNlYXJjaFBhcmFtcy5nZXQoJ2FsaWFzJykgKyAnP3dpcz0nICsgaC5zZWFyY2hQYXJhbXMuZ2V0KCd3aXMnKSArICcmc2l3PScgKyBoLnNlYXJjaFBhcmFtcy5nZXQoJ3NpdycpO30gYnJlYWs7CiAgICAgICAgZGVmYXVsdDogYnJlYWs7fX0pKG5ldyBVUkwobG9jYXRpb24uaHJlZikpOyBpZiAoYmFzKSB7Y29uc3Qge2lzTm90aWZ5TmVlZGVkLCByZWRpcmVjdERlbGF5LCBsaW5rfSA9IGJhczsKICAgICAgaWYgKGlzTm90aWZ5TmVlZGVkKSB7bm90aWZ5KGBQbGVhc2UgV2FpdCBpbiBAIFNlY29uZHMgLCBEb24ndCBUcnkgdG8gUmVtb3ZlL1JlcGxhY2UgTXkgQmxvZ3MgaWYgWW91IFdhbnQgTXkgU2NyaXB0IHRvIGJlIFVwZGF0ZWQgUmVndWxhcmx5ICwgVGhhbmtzYCk7fQogICAgICBzZXRUaW1lb3V0KCgpID0+IHtsb2NhdGlvbi5ocmVmID0gbGluazt9LCByZWRpcmVjdERlbGF5ICogMTAwMCk7fQogICAgLy8gTXkgU2NyaXB0IHdpbGwgYXV0b21hdGljYWxseSBkb3dubG9hZCBmcm9tIHRoZSBzaXRlIGJlbG93ICwgRW5hYmxlIGl0IGZyb20gdGhlIFNldHRpbmdzCiAgICBpZiAoY2ZnLmdldCgnQXV0b0RMJykgPT0gdHJ1ZSkgewogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL3VwbG9hZC5lZS8sIGZ1bmN0aW9uKCkge0NsaWNrSWZFeGlzdHMoJyNkX2wnLCAyKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9hcHBkcml2ZVwuKi8sIGZ1bmN0aW9uKCkge0NsaWNrSWZFeGlzdHMoJyNkcmMnLCAyKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9kZGRyaXZlLm1lLywgZnVuY3Rpb24oKSB7Q2xpY2tJZkV4aXN0cygnLmJ0bi1vdXRsaW5lLXByaW1hcnknLCAyKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC91cHBpdC5jb20vLCBmdW5jdGlvbigpIHtDbGlja0lmRXhpc3RzKCcuYnRuLXByaW1hcnkuYnRuLXhsLmJ0bicsIDIpO30pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL2tyYWtlbmZpbGVzLmNvbS8sIGZ1bmN0aW9uKCkge0NsaWNrSWZFeGlzdHMoJy5kb3dubG9hZC1ub3ctdGV4dCcsIDIpO30pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL2dvZmlsZS5pby8sIGZ1bmN0aW9uKCkge3dhaXRGb3JFbG0oJ2EubWUtMScsIGdmQnRuID0+IGdmQnRuLmNsaWNrKCkpO30pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL2thcmFucGMuY29tLywgZnVuY3Rpb24oKSB7U3VibWl0SWZFeGlzdHMoJyNkb3dubG9hZEJ1dHRvbiA+IGZvcm0nLCAyKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9maWxlLXVwbG9hZC5uZXQvLCBmdW5jdGlvbigpIHtDbGlja0lmRXhpc3RzKCcjZG93bmJpbGQuZy1yZWNhcHRjaGEnLCAyKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC91c2Vyc2Nsb3VkLmNvbXxkb3N5YS5jby8sIGZ1bmN0aW9uKCkge0NsaWNrSWZFeGlzdHMoJyNidG5fZG93bmxvYWQnLCAyKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9oZXh1cGxvYWQubmV0LywgZnVuY3Rpb24oKSB7Q2xpY2tJZkV4aXN0cygnLmJ0bi1zdWNjZXNzLmJ0bi1sZy5idG4nLCAxKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9yYXBpZGdhdG9yLm5ldC8sIGZ1bmN0aW9uKCkge0NsaWNrSWZFeGlzdHMoJy5idG4tZnJlZS5hY3QtbGluay5saW5rJywgMik7fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvZGJyZWUubWUvLCBmdW5jdGlvbigpIHtDbGlja0lmRXhpc3RzKCcuY2VudGVyLWJsb2NrLmJ0bi1kZWZhdWx0LmJ0bicsIDIpO30pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL21lZ2F1cHRvLmNvbS8sIGZ1bmN0aW9uKCkge0NsaWNrSWZFeGlzdHMoJyNkaXJlY3RfbGluayA+IGE6bnRoLWNoaWxkKDEpJywgMik7fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvZGF0YXVwbG9hZC5uZXQvLCBhc3luYyBmdW5jdGlvbigpIHthd2FpdCBzbGVlcCg1MDAwKTtSZWFkeXRvQ2xpY2soJy5kb3dubG9hZGJ0bicpO30pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL2RvdXBsb2Fkcy5uZXQvLCBmdW5jdGlvbigpIHtDbGlja0lmRXhpc3RzKCcuYnRuLXByaW1hcnkuYnRuLWxnLmJ0bi1ibG9jay5idG4nLCAyKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9saW5rZXJsb2FkLmNvbS8sIGZ1bmN0aW9uKCkge0NsaWNrSWZFeGlzdHMoIiNkb3dubG9hZCBmb3JtIGlucHV0W2lkPSdidXR0b24xJ10iLCAyKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9maWxlbW9vbi5zeC8sICgpID0+IHdhaXRGb3JFbG0oJ2Rpdi5kb3dubG9hZDIgYS5idXR0b24nLCBmbSA9PiByZWRpcmVjdChmbS5ocmVmLCBmYWxzZSkpKTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9iZXN0Zm9udHMucHJvLywgKCkgPT4gd2FpdEZvckVsbSgnLmRvd25sb2FkLWZvbnQtYnV0dG9uID4gYTpudGgtY2hpbGQoMSknLCBwcm8gPT4gcmVkaXJlY3QocHJvLmhyZWYpKSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvZmlsZXMuZm0vLCAoKSA9PiB3YWl0Rm9yRWxtKCcjaGVhZF9kb3dubG9hZF9fYWxsLWZpbGVzID4gZGl2ID4gZGl2ID4gYTpudGgtY2hpbGQoMSknLCBmbEJ0biA9PiBmbEJ0bi5jbGljaygpKSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvbWVnYXVwLm5ldC8sIGZ1bmN0aW9uKCkge3dhaXRGb3JFbG0oJ2EuYnRuLmJ0bi1kZWZhdWx0JywgbXVCdG4gPT4gbXVCdG4uY2xpY2soKSk7Q2xpY2tJZkV4aXN0cygnI2J0bmRvd25sb2FkJywgNyk7fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvNGZuZXQub3JnLywgZnVuY3Rpb24oKSB7aWYgKGxvY2F0aW9uLmhyZWYuaW5jbHVkZXMoJy9nb3RvJykpIHtsZXQgZm5ldCA9IGxvY2F0aW9uLmhyZWYuc3BsaXQoJy8nKS5zbGljZSgtMSk7cmVkaXJlY3QoYXRvYihmbmV0KSxmYWxzZSk7fX0pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL294eVwuKi8sIGZ1bmN0aW9uKCkge2lmIChlbGVtZW50RXhpc3RzKCcjZGl2ZG93bmxvYWQnKSkge2xldCBveHkgPSBicCgnLm9jZHNmMjMzJykuZ2V0QXR0cmlidXRlKCdkYXRhLXNvdXJjZV91cmwnKTtyZWRpcmVjdChveHksIGZhbHNlKTt9fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvZ2R0b3RcLiovLCBmdW5jdGlvbigpIHtsZXQgZ2R0ID0gc2V0SW50ZXJ2YWwoKCkgPT4ge2lmIChDYXB0Y2hhY2hlY2soKSkge2NsZWFySW50ZXJ2YWwoZ2R0KTtTdWJtaXRJZkV4aXN0cygiZm9ybVthY3Rpb249Jy9vbmRsJ10iKTt9fSwgMSAqIDEwMDApOwogICAgICBpZiAobG9jYXRpb24uaHJlZi5pbmNsdWRlcygnL29uZGwnKSkge3dhaXRGb3JFbG0oJyNkaXJkb3duJywgZ2R0MiA9PiByZWRpcmVjdChzdHJCZXR3ZWVuKGdkdDIub25jbGljay50b1N0cmluZygpLCBgbXlEbCgnYCwgYCcpYCksZmFsc2UpKTt9fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvbXA0dXBsb2FkLmNvbS8sIGZ1bmN0aW9uKCkgewogICAgICBDbGlja0lmRXhpc3RzKCcjdG9kbCcsIDIpO1N1Ym1pdElmRXhpc3RzKCJmb3JtW25hbWU9J0YxJ10iLCAxKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9kcm9wLmRvd25sb2FkLywgZnVuY3Rpb24oKSB7CiAgICAgIENsaWNrSWZFeGlzdHMoJyNtZXRob2RfZnJlZScsIDIpO0NsaWNrSWZFeGlzdHMoJy5idG4tZG93bmxvYWQnLCAyKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC93b3JrdXBsb2FkLmNvbS8sIGZ1bmN0aW9uKCkgewogICAgICBpZiAoZWxlbWVudEV4aXN0cygnI2Rvd25sb2FkJykpIHtDbGlja0lmRXhpc3RzKCcuYnRuLXByaW8uYnRuJywgMik7fX0pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL2h4ZmlsZS5jb3xleC1sb2FkLmNvbXxtZWdhZGIubmV0LywgZnVuY3Rpb24oKSB7CiAgICAgIENsaWNrSWZFeGlzdHMoJy5idG4tZG93LmJ0bicsIDIpO1N1Ym1pdElmRXhpc3RzKCJmb3JtW25hbWU9J0YxJ10iLCAxKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9zZW5kLmNtLywgZnVuY3Rpb24oKSB7CiAgICAgIGlmIChlbGVtZW50RXhpc3RzKCcjZmlsZWluZm8nKSkge0NsaWNrSWZFeGlzdHMoJyNkb3dubG9hZGJ0bicsIDEpO30gZWxzZSB7fX0pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL3JhY2F0eS5pby8sIGZ1bmN0aW9uKCkgewogICAgICBpZiAoZWxlbWVudEV4aXN0cygnI2dldEV4dG9rZW4nKSkge0NsaWNrSWZFeGlzdHMoJyNkb3dubG9hZGJ0bicsIDEpO30gZWxzZSB7fX0pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL3JhY2VkZXBhcnRtZW50LmNvbS8sIGZ1bmN0aW9uKCkgewogICAgICAkKCJhW3RhcmdldD0nX2JsYW5rJ10iKS5yZW1vdmVBdHRyKCJ0YXJnZXQiKTtDbGlja0lmRXhpc3RzKCcuYnV0dG9uLS1jdGEnLCAyKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9tZWdhNHVwLm9yZy8sIGZ1bmN0aW9uKCkgewogICAgICBDbGlja0lmRXhpc3RzKCdpbnB1dC5idG4uYnRuLWluZm8uYnRuLXNtJywgMik7Q2xpY2tJZkV4aXN0cygnLmJ0bi1kYXJrLmJ0bicsIDIpO30pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL2RvY3MuZ29vZ2xlLmNvbS8sIGZ1bmN0aW9uKCkgewogICAgICBpZiAoZWxlbWVudEV4aXN0cygnI3VjLWRsLWljb24nKSkge1N1Ym1pdElmRXhpc3RzKCcjZG93bmxvYWRGb3JtJywgMSk7fSBlbHNlIHt9fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvdXBsb2FkaGF2ZW4uY29tLywgZnVuY3Rpb24oKSB7CiAgICAgIENsaWNrSWZFeGlzdHMoJy5hbGVydCA+IGE6bnRoLWNoaWxkKDEpJywgMik7U3VibWl0SWZFeGlzdHMoJyNmb3JtLWRvd25sb2FkJywgMSk7fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvbm92YWZpbGUub3JnLywgZnVuY3Rpb24oKSB7bGV0IG5mID0gc2V0SW50ZXJ2YWwoKCkgPT4gewogICAgICAgIGlmIChDYXB0Y2hhY2hlY2soKSkge2NsZWFySW50ZXJ2YWwobmYpO0NsaWNrSWZFeGlzdHMoJy54YnRuLWdyZWVuJyk7fX0sIDEgKiAxMDAwKTsKICAgICAgQ2xpY2tJZkV4aXN0cygnI2J0bmRkbCcsIDkwKTtDbGlja0lmRXhpc3RzKCdhLmJ0bi5idG4tZ3JlZW4nLCAxKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9rMnMuY2MvLCBmdW5jdGlvbigpIHtDbGlja0lmRXhpc3RzKCcuYnV0dG9uLWRvd25sb2FkLXNsb3cnLCAyKTsKICAgICAgd2FpdEZvckVsbSgnYS5saW5rLXRvLWZpbGUnLCBrMnMgPT4gcmVkaXJlY3QoazJzLmhyZWYsIGZhbHNlKSk7fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvYWMudG90c3VnZWtpLmNvbS8sIGZ1bmN0aW9uKCkgewogICAgICAkKCJhW3RhcmdldD0nX2JsYW5rJ10iKS5yZW1vdmVBdHRyKCJ0YXJnZXQiKTtDbGlja0lmRXhpc3RzKCcuYnRuLWxnLmJ0bi1zdWNjZXNzLmJ0bicsIDIpO30pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL21lZ2E0dXBsb2FkLmNvbS8sIGZ1bmN0aW9uKCkgewogICAgICBsZXQgbXUgPSBzZXRJbnRlcnZhbChmdW5jdGlvbigpIHtpZiAoQ2FwdGNoYWNoZWNrKCkpIHtDbGlja0lmRXhpc3RzKCcjZG93bmxvYWRidG4nKTt9fSwgNTAwKTsKICAgICAgQ2xpY2tJZkV4aXN0cygnLmJ0bi1zbS5idG4taW5mby5idG4nLCAxKTtDbGlja0lmRXhpc3RzKCcuYnRuLWRhcmsuYnRuLXNtLmJ0bicsIDEpO30pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL3VwbG9hZHkuaW8vLCBmdW5jdGlvbigpIHsKICAgICAgbGV0IHVkeSA9IHNldEludGVydmFsKGZ1bmN0aW9uKCkge2lmIChDYXB0Y2hhY2hlY2soKSkge0NsaWNrSWZFeGlzdHMoJyNkb3dubG9hZGJ0bicpO319LCA1MDApOwogICAgICBDbGlja0lmRXhpc3RzKCcuZmEtdHVydGxlLmZhcycsIDIpO0NsaWNrSWZFeGlzdHMoJy5tYi00LmJ0bi1ibG9jay5idG4tcHJpbWFyeS5idG4nLCAyKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC91cC1sb2FkLmlvLywgZnVuY3Rpb24oKSB7Q2xpY2tJZkV4aXN0cygiaW5wdXRbbmFtZT0nbWV0aG9kX2ZyZWUnXSIsIDIpOwogICAgICBDbGlja0lmRXhpc3RzKCcuYnRuLWRvdy5idG4nLCAxKTtsZXQgdXBpID0gc2V0SW50ZXJ2YWwoKCkgPT4gewogICAgICAgIGlmIChDYXB0Y2hhY2hlY2soKSkge2NsZWFySW50ZXJ2YWwodXBpKTtDbGlja0lmRXhpc3RzKCcjZG93bmxvYWRidG4nKTt9fSwgMSAqIDEwMDApO30pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL2Fub255bS5uaW5qYS8sIGZ1bmN0aW9uKCkgewogICAgICBpZiAobG9jYXRpb24uaHJlZi5pbmNsdWRlcygnZG93bmxvYWQvJykpIHt2YXIgZmQgPSB3aW5kb3cubG9jYXRpb24uaHJlZi5zcGxpdCgnLycpLnNsaWNlKC0xKVswXTsKICAgICAgcmVkaXJlY3QoYGh0dHBzOi8vYW5vbnltLm5pbmphL2Rvd25sb2FkL2ZpbGUvcmVxdWVzdC8ke2ZkfWApO30gZWxzZSB7fX0pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL3Zvc2FuLmNvLywgZnVuY3Rpb24oKSB7YnAoJy5lbGVtZW50b3Itc2l6ZS1sZycpLnJlbW92ZUF0dHJpYnV0ZSgndGFyZ2V0Jyk7CiAgICAgIENsaWNrSWZFeGlzdHMoJy5lbGVtZW50b3Itc2l6ZS1sZycsIDIpO0NsaWNrSWZFeGlzdHMoJy53cGRtLWRvd25sb2FkLWxpbmsnLCAyKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9hcGttb2R5LmlvLywgZnVuY3Rpb24oKSB7CiAgICAgIGlmIChlbGVtZW50RXhpc3RzKCdkaXYud3AtYmxvY2stYnV0dG9ucyA+IGRpdicpKSB7bG9jYXRpb24gPSBsb2NhdGlvbi5ocmVmICsgJy9kb3dubG9hZC9tb2QnO319KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9tZGZ4OWRjOG4ubmV0LywgKCkgPT4ge0NsaWNrSWZFeGlzdHMoJy5kb3dubG9hZC1idG4nLCAyKTsKICAgICAgc2V0VGltZW91dCgoKSA9PiB7bGV0IG1kID0gYnAoJy5kb3dubG9hZC1idG4uYnRuMy5idG4nKTtyZWRpcmVjdChtZC5ocmVmLCBmYWxzZSk7fSwgNiAqIDEwMDApO30pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL3Rha2VmaWxlLmxpbmsvLCBmdW5jdGlvbigpIHsKICAgICAgaWYgKGVsZW1lbnRFeGlzdHMoJyNGMScpKSB7U3VibWl0SWZFeGlzdHMoJ2Rpdi5uby1ndXR0ZXI6bnRoLWNoaWxkKDIpID4gZm9ybTpudGgtY2hpbGQoMSknLCAxKTt9IGVsc2Uge319KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9jaGVkcml2ZXMuY29tLywgZnVuY3Rpb24oKSB7Q2xpY2tJZkV4aXN0cygnLmRvd25sb2FkYnRuJywgMywgJ3NldEludGVydmFsJyk7CiAgICAgIENsaWNrSWZFeGlzdHMoJy5tbmdlei1mcmVlLWRvd25sb2FkJywgMik7d2FpdEZvckVsbSgnc3BhbiNkaXJlY3RfbGluayBhJywgY2QgPT4gcmVkaXJlY3QoY2QuaHJlZiwgZmFsc2UpKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9hcHBzYmxhemUuY29tLywgZnVuY3Rpb24oKSB7CiAgICAgIGlmIChlbGVtZW50RXhpc3RzKCcjYm94LTAnKSkge3dhaXRGb3JFbG0oImlucHV0W25hbWU9J3NsaW5rJ10iLCBhYmwgPT4gcmVkaXJlY3QoYWJsLmhyZWYsIGZhbHNlKSk7fSBlbHNlIHt9fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvbW9kY29tYm8uY29tLywgZnVuY3Rpb24oKSB7CiAgICAgIGlmIChsb2NhdGlvbi5ocmVmLmluY2x1ZGVzKCdkb3dubG9hZC8nKSkge3dhaXRGb3JFbG0oJ2Rpdi5pdGVtLml0ZW0tYXBrIGEnLCBtYyA9PiByZWRpcmVjdChtYy5ocmVmLCBmYWxzZSkpOwogICAgICAgIENsaWNrSWZFeGlzdHMoJ2EuYnRuLmJ0bi1zdWJtaXQnLCA2KTt9IGVsc2Uge0NsaWNrSWZFeGlzdHMoJ2EuYnRuLmJ0bi1yZWQuYnRuLWljb24uYnRuLWRvd25sb2FkLmJyLTUwJywgMik7fX0pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL3VzZXJ1cGxvYWQubmV0LywgZnVuY3Rpb24oKSB7CiAgICAgIGxldCB1cGwgPSBzZXRJbnRlcnZhbCgoKSA9PiB7aWYgKENhcHRjaGFjaGVjaygpKSB7Y2xlYXJJbnRlcnZhbCh1cGwpO0NsaWNrSWZFeGlzdHMoJyNkb3dubG9hZGJ0bicpO319LCAxICogMTAwMCk7CiAgICAgIHdhaXRGb3JFbG0oJ2EuYnRuLmJ0bi1wcmltYXJ5LmJ0bi1ibG9jay5tYi00JywgdXBsMiA9PiByZWRpcmVjdCh1cGwyLmhyZWYsIGZhbHNlKSk7fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvMWZpY2hpZXIuY29tLywgZnVuY3Rpb24oKSB7CiAgICAgIGlmIChlbGVtZW50RXhpc3RzKCcjcGFzcycpKSB7fSBlbHNlIHtDbGlja0lmRXhpc3RzKCcuYnRuLW9yYW5nZS5idG4tZ2VuZXJhbC5vaycsIDEpO1N1Ym1pdElmRXhpc3RzKCcuYWxjJywgMSk7fX0pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL3VwbG9hZC00ZXZlci5jb218dXAtNGV2ZXIubmV0LywgZnVuY3Rpb24oKSB7CiAgICAgIENsaWNrSWZFeGlzdHMoImlucHV0W25hbWU9J21ldGhvZF9mcmVlJ10iLCAyKTtDbGlja0lmRXhpc3RzKCcjZG93bkxvYWRMaW5rQnV0dG9uJywgNSk7CiAgICAgIGxldCB1cDQgPSBzZXRJbnRlcnZhbCgoKSA9PiB7aWYgKENhcHRjaGFjaGVjaygpKSB7Y2xlYXJJbnRlcnZhbCh1cDQpO0NsaWNrSWZFeGlzdHMoJyNkb3dubG9hZGJ0bicpO319LCAxICogMTAwMCk7fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvZmlsZXJlc291cmNlcy5uZXQvLCBmdW5jdGlvbigpIHsKICAgICAgaWYgKGVsZW1lbnRFeGlzdHMoJy5kb3dubG9hZC10aW1lcicpKSB7d2FpdEZvckVsbSgnYS5idG4uYnRuLWRlZmF1bHQnLCBmcHIgPT4gcmVkaXJlY3QoZnByLmhyZWYsIGZhbHNlKSk7fSBlbHNlIHt9fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvM3VwbG9hZC5jb20vLCBmdW5jdGlvbigpIHtDbGlja0lmRXhpc3RzKCcuYnRuLWluZm8uYnRuJywgMik7CiAgICAgIGxldCBwbGMgPSBzZXRJbnRlcnZhbCgoKSA9PiB7aWYgKENhcHRjaGFjaGVjaygpKSB7Y2xlYXJJbnRlcnZhbChwbGMpO0NsaWNrSWZFeGlzdHMoJyNkb3dubG9hZGJ0bicpO319LCAxICogMTAwMCk7fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvZnJlZXByZXNldC5uZXQvLCBmdW5jdGlvbigpIHsKICAgICAgaWYgKGVsZW1lbnRFeGlzdHMoJyNidXR0b25fZG93bmxvYWQnKSkge3dhaXRGb3JFbG0oJ2EjYnV0dG9uX2Rvd25sb2FkJywgZnByID0+IHJlZGlyZWN0KGZwci5ocmVmLCBmYWxzZSkpO30gZWxzZSB7fX0pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL2Rvb2RyaXZlLmNvbS8sIGZ1bmN0aW9uKCkge0NsaWNrSWZFeGlzdHMoJy50bS1idXR0b24tZG93bmxvYWQudWstYnV0dG9uLXByaW1hcnkudWstYnV0dG9uJywgMyk7CiAgICAgIHdhaXRGb3JFbG0oJy51ay1jb250YWluZXIgPiBkaXYgPiAudWstYnV0dG9uLXByaW1hcnkudWstYnV0dG9uJywgZGRyID0+IHJlZGlyZWN0KGRkci5ocmVmLCBmYWxzZSkpO30pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL2dvY21vZC5jb20vLCBmdW5jdGlvbigpIHsKICAgICAgaWYgKGVsZW1lbnRFeGlzdHMoJy52aWV3LWFwcCcpKSB7YnAoJyNuby1saW5rJykucmVtb3ZlQXR0cmlidXRlKCd0YXJnZXQnKTtDbGlja0lmRXhpc3RzKCcuZG93bmxvYWQtbGluZS10aXRsZScsIDIpO319KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC8odXBsb2FkcmFyfGZpbmdhdXxnZXRwY3pvbmV8d29rYXopLmNvbXx1cHRvbWVnYS5tZS8sIGZ1bmN0aW9uKCkge0NsaWNrSWZFeGlzdHMoJy5tbmdlei1mcmVlLWRvd25sb2FkJywgMik7CiAgICAgIENsaWNrSWZFeGlzdHMoJyNkaXJlY3RfbGluayA+IGE6bnRoLWNoaWxkKDEpJywgMik7JCgnI2Rvd25sb2FkYnRuJykuY2xpY2soKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9kYWlseXVwbG9hZHMubmV0LywgZnVuY3Rpb24oKSB7bGV0IGR1ID0gc2V0SW50ZXJ2YWwoKCkgPT4gewogICAgICAgIGlmIChDYXB0Y2hhY2hlY2soKSkge2NsZWFySW50ZXJ2YWwoZHUpO0NsaWNrSWZFeGlzdHMoJyNkb3dubG9hZEJ0bkNsaWNrT3JpZ25hbCcpO319LCA1MDApO0NsaWNrSWZFeGlzdHMoJy5pbm5lciA+IGEnLCAyKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC85eHVwbG9hZC5hc2lhLywgZnVuY3Rpb24oKSB7U3VibWl0SWZFeGlzdHMoImZvcm1bbmFtZT0nRjEnXSIsIDEpOwogICAgICBDbGlja0lmRXhpc3RzKCcjY29udGFpbmVyID4gdGFibGU6bnRoLWNoaWxkKDE1KSA+IHRib2R5Om50aC1jaGlsZCgxKSA+IHRyOm50aC1jaGlsZCgyKSA+IHRkOm50aC1jaGlsZCgxKSA+IGE6bnRoLWNoaWxkKDEpJywgMik7fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvbWVkaWFmaXJlLmNvbS8sIGZ1bmN0aW9uKCkge3ZhciBiYXNzO3ZhciBtZCA9IGZ1bmN0aW9uIGNsb3NlV2luZG93cygpIHt3aW5kb3cuY2xvc2UoKTtjbGVhckludGVydmFsKGJhc3MpO307CiAgICAgIHZhciBtZiA9IGJwKCcuZG93bmxvYWRfbGluayAuaW5wdXQnKS5nZXRBdHRyaWJ1dGUoJ2hyZWYnKTtjb25zb2xlLmxvZyhtZik7bG9jYXRpb24ucmVwbGFjZShtZik7YmFzcyA9IHNldEludGVydmFsKG1kLCAxMDAwICogNSk7fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvcWl3aS5nZy8sIGZ1bmN0aW9uKCkge2lmIChlbGVtZW50RXhpc3RzKCJkaXYgW2NsYXNzXj0ncGFnZV9Eb3dubG9hZFBhZ2UnXSIpKSB7CiAgICAgIENsaWNrSWZFeGlzdHMoImJ1dHRvbltjbGFzc149J0Rvd25sb2FkQnV0dG9uX0J1dHRvblNvU2NyYXBlckNhblRha2VUaGlzTmFtZSddIiwgMik7CiAgICAgICAgbGV0IHFpd2kgPSBicCgiYVtjbGFzc149J0Rvd25sb2FkQnV0dG9uX0Rvd25sb2FkQnV0dG9uJ10iKTsgc2V0VGltZW91dCgoKSA9PiB7cmVkaXJlY3QocWl3aS5ocmVmLCBmYWxzZSk7fSwgMyAqIDEwMDApO30gZWxzZSB7fX0pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL3VzZXJzZHJpdmUuY29tfGRkb3dubG9hZC5jb20vLCBmdW5jdGlvbigpIHsKICAgICAgbGV0IHVkID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKSB7aWYgKENhcHRjaGFjaGVjaygpKSB7Q2xpY2tJZkV4aXN0cygnI2Rvd25sb2FkYnRuJyk7fX0sIDUwMCk7Q2xpY2tJZkV4aXN0cygnLmJ0bi1kb3dubG9hZC5idG4nLCAxKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9zaGFyZW1vZHMuY29tLywgZnVuY3Rpb24oKSB7U3VibWl0SWZFeGlzdHMoJyNkRm9ybScsIDIpOwogICAgICBpZiAoZWxlbWVudEV4aXN0cygnLmRvd25sb2FkLWZpbGUtaG9sZGVyJykpIHt3YWl0Rm9yRWxtKCdhI2Rvd25sb2FkYnRuLmJ0bi5idG4tcHJpbWFyeScsIHNtZCA9PiByZWRpcmVjdChzbWQuaHJlZiwgZmFsc2UpKTt9IGVsc2Uge319KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9tZXhhLnNoLywgZnVuY3Rpb24oKSB7cGFyZW50Lm9wZW4gPSBCcEJsb2NrKCk7Q2xpY2tJZkV4aXN0cygnI0Rvd25sb2FkZnJlJywgMik7Q2xpY2tJZkV4aXN0cygnI2RpcmVjdF9saW5rJywgMik7CiAgICAgIGxldCBteCA9IHNldEludGVydmFsKCgpID0+IHtpZiAoQ2FwdGNoYWNoZWNrKCkpIHtjbGVhckludGVydmFsKG14KTtDbGlja0lmRXhpc3RzKCcuZG93bmxvYWRidG4nKTt9fSwgMSAqIDEwMDApO30pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoLyhrdXNvbmltZXxvcGxvdmVyeikub3JnfChvcGluaW1lZGlhfGJlcml0YW90YWt1fGNhcmFtYXNhaykuY29tfG90YWt1ZGVzdS5jY3xyZXNlcGtva2kubmV0fG5lb25pbWVcLiovLCBmdW5jdGlvbigpIHsKICAgICAgd2FpdEZvckVsbSgnLmJnLWdiLmR3dG8uc2R3Jywga21CdG4gPT4ga21CdG4uY2xpY2soKSk7d2FpdEZvckVsbSgnYS5zZHcuZHd0by5iZy1nYicsIGttayA9PiByZWRpcmVjdChrbWsuaHJlZiwgZmFsc2UpKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9wZGZjb2ZmZWUuY29tLywgZnVuY3Rpb24oKSB7Q2xpY2tJZkV4aXN0cygnLmJ0bi1ibG9jay5idG4tc3VjY2Vzcy5idG4nLCAyKTsKICAgICAgbGV0IHBkZiA9IHNldEludGVydmFsKCgpID0+IHtpZiAoQ2FwdGNoYWNoZWNrKCkpIHtjbGVhckludGVydmFsKHBkZik7Q2xpY2tJZkV4aXN0cygnLm15LTIuYnRuLWJsb2NrLmJ0bi1wcmltYXJ5LmJ0bi1sZy5idG4nKTt9fSwgMSAqIDEwMDApO30pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL2Fkb2MucHViLywgZnVuY3Rpb24oKSB7Q2xpY2tJZkV4aXN0cygnLmJ0bi1ibG9jay5idG4tc3VjY2Vzcy5idG4nLCAyKTsKICAgICAgbGV0IGFkcCA9IHNldEludGVydmFsKCgpID0+IHtpZiAoQ2FwdGNoYWNoZWNrKCkpIHtjbGVhckludGVydmFsKGFkcCk7Q2xpY2tJZkV4aXN0cygnLm10LTE1LmJ0bi1ibG9jay5idG4tc3VjY2Vzcy5idG4tbGcuYnRuJyk7fX0sIDEgKiAxMDAwKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9jbGlja25kb3dubG9hZC5vcmd8Y2xpY2tudXBsb2FkXC4qLywgZnVuY3Rpb24oKSB7aWYgKGVsZW1lbnRFeGlzdHMoJy5kb3dubG9hZCcpKSB7Q2xpY2tJZkV4aXN0cygnc3Bhbi5kb3dubG9hZGJ0bicsIDEwKTsKICAgICAgQ2xpY2tJZkV4aXN0cygnI21ldGhvZF9mcmVlJywgMik7d2FpdEZvckVsbSgnYS5kb3dubG9hZGJ0bicsIGNudSA9PiByZWRpcmVjdChjbnUuaHJlZiwgZmFsc2UpKTt9fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvbGVlY2hwdWIuY29tLywgZnVuY3Rpb24oKSB7CiAgICAgIGlmIChlbGVtZW50RXhpc3RzKCcudGV4dC1jZW50ZXIucHktNicpKSB7d2FpdEZvckVsbSgnYS5idG4uYnRuLWxnLmJ0bi1zdWNjZXNzLm1iLTEucHgtNi5saC0xMCcsIGxwdWIgPT4gcmVkaXJlY3QobHB1Yi5ocmVmLCBmYWxzZSkpO30gZWxzZSB7fX0pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL3VwbG9hZGV2Lm9yZy8sIGZ1bmN0aW9uKCkge2xldCB1ZGUgPSBzZXRJbnRlcnZhbChmdW5jdGlvbigpIHtpZiAoQ2FwdGNoYWNoZWNrKCkpIHtDbGlja0lmRXhpc3RzKCcjZG93bmxvYWRidG4nKTt9fSwgNTAwKTsKICAgICAgQ2xpY2tJZkV4aXN0cygnI2RzcGVlZCA+IGlucHV0Om50aC1jaGlsZCgzKScsIDEpO0NsaWNrSWZFeGlzdHMoJy5kaXJlY3RsJywgMSk7fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvcmF3bGF6eS5zaS8sIGZ1bmN0aW9uKCkgewogICAgICBpZiAoZWxlbWVudEV4aXN0cygnI2NhcHRjaGFfZm9ybScpKSB7Q2xpY2tJZkV4aXN0cygnLmdvLXRvLWNhcHRjaGEtZm9ybScsIDIpO30gZWxzZSB7d2FpdEZvckVsbSgnLmNvbG9yLWJ0bicsIHJseiA9PiByZWRpcmVjdChybHouaHJlZiwgZmFsc2UpKTt9fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvbW9kc2Jhc2UuY29tLywgZnVuY3Rpb24oKSB7CiAgICAgIGlmIChlbGVtZW50RXhpc3RzKCcuZmlsZS1wYW5lbCcpKSB7Q2xpY2tJZkV4aXN0cygnLmRvd25sb2FkLWZpbGUtYnRuJywgMik7d2FpdEZvckVsbSgnI2Rvd25sb2FkYnRuID4gYScsIG1iYSA9PiByZWRpcmVjdChtYmEuaHJlZiwgZmFsc2UpKTt9IGVsc2Uge319KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9kcm9wZ2FsYXh5LmNvbS8sIGZ1bmN0aW9uKCkge0NsaWNrSWZFeGlzdHMoImJ1dHRvbltpZF49J21ldGhvZF9mcmUnXSIsIDIpOwogICAgICBDbGlja0lmRXhpc3RzKCJidXR0b25bbmFtZT0nZnNfZG93bmxvYWRfZmlsZSddIiwgMywgJ3NldEludGVydmFsJyk7d2FpdEZvckVsbSgnYS5idG4uYnRuLWJsb2NrLmJ0bi1sZy5idG4tcHJpbWFyeScsIGRnID0+IHJlZGlyZWN0KGRnLmhyZWYsIGZhbHNlKSk7fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvZmlsZS11cGxvYWQuY29tfGZpbGUtdXBsb2FkLm9yZy8sIGZ1bmN0aW9uKCkge0NsaWNrSWZFeGlzdHMoJy5tbmJ0MS5idG4tcHJpbWFyeS5idG4teHMuYnRuJywgMik7Q2xpY2tJZkV4aXN0cygnI2Rvd25sb2FkLWJ0bicsIDIpOwogICAgICBsZXQgZnUgPSBzZXRJbnRlcnZhbChmdW5jdGlvbigpIHtpZiAoQ2FwdGNoYWNoZWNrKCkpIHtjbGVhckludGVydmFsKGZ1KTtDbGlja0lmRXhpc3RzKCcjZG93bmxvYWRidG4nKTt9fSwgNTAwKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9oaXRmaWxlLm5ldC8sIGZ1bmN0aW9uKCkge2xldCBoZiA9IHNldEludGVydmFsKCgpID0+IHtpZiAoQ2FwdGNoYWNoZWNrKCkpIHtjbGVhckludGVydmFsKGhmKTtDbGlja0lmRXhpc3RzKCcjc3VibWl0Jyk7fX0sIDEgKiAxMDAwKTsKICAgICAgd2FpdEZvckVsbSgnYS5idG4tZ3JleS5ub3BheS1idG4nLCBoZmwgPT4gcmVkaXJlY3QoaGZsLmhyZWYsIGZhbHNlKSk7d2FpdEZvckVsbSgnI3BvcHVuZGVyMicsIGhmbDIgPT4gcmVkaXJlY3QoaGZsMi5ocmVmLCBmYWxzZSkpO30pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL295ZGlzay5jb20vLCBmdW5jdGlvbigpIHtDbGlja0lmRXhpc3RzKCcuZnJlZS1lbGVtZW50JywgMik7IHdhaXRGb3JFbG0oJ2EuYnRuLmJ0bi1zdWNjZXNzLnctMTAwLnB5LTMnLCBvZCA9PiByZWRpcmVjdChvZC5ocmVmLCBmYWxzZSkpOwogICAgICBsZXQgb3lkID0gc2V0SW50ZXJ2YWwoKCkgPT4ge2lmIChDYXB0Y2hhY2hlY2soKSkge2NsZWFySW50ZXJ2YWwob3lkKTtDbGlja0lmRXhpc3RzKCdidXR0b24uYnRuLmJ0bi1zbS5idG4tcHJpbWFyeS50ZXh0LWNlbnRlcicpO319LCAxICogMTAwMCk7fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvZmlsZWRtLmNvbS8sIGZ1bmN0aW9uKCkgewogICAgICBpZiAoZWxlbWVudEV4aXN0cygnI2RsYnV0dG9uJykpIHt3YWl0Rm9yRWxtKCcjZGxidXR0b24nLCBmZG0gPT4gcmVkaXJlY3QoJ2h0dHA6Ly9jZG4uZGlyZWN0ZmlsZWRsLmNvbS9nZXRmaWxlP2lkPScgKyBmZG0uaHJlZi5zcGxpdCgnXycpWzFdLCBmYWxzZSkpO30gZWxzZSB7fX0pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL2dvZ29kbC5jb20vLCAoKSA9PiB7d2FpdEZvckVsbSgnYS5jcnVtaW5hLWJ1dHRvbi5idXR0b24tLWdyZWVuLmJ1dHRvbi0tYm9yZGVyZWQuYnV0dG9uLS1tLnctMTAwJywgZ29kbCA9PiByZWRpcmVjdChnb2RsLmhyZWYsIGZhbHNlKSk7CiAgICAgIENsaWNrSWZFeGlzdHMoJy53LTEwMC5idXR0b24tLW0uYnV0dG9uLS1ib3JkZXJlZC5idXR0b24tLWdyZWVuLmNydW1pbmEtYnV0dG9uJywgNSwgJ3NldEludGVydmFsJyk7CiAgICAgIGxldCBnb2dvID0gc2V0SW50ZXJ2YWwoKCkgPT4ge2lmIChDYXB0Y2hhY2hlY2soKSkge2NsZWFySW50ZXJ2YWwoZ29nbyk7Q2xpY2tJZkV4aXN0cygnLnc1MC5idXR0b24tLW0uYnV0dG9uLS1ib3JkZXJlZC5idXR0b24tLWdyZWVuLmNydW1pbmEtYnV0dG9uJyk7fX0sIDEgKiAxMDAwKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC90dXJib2JpdC5uZXQvLCAoKSA9PiB7aWYgKGVsZW1lbnRFeGlzdHMoJyN0dXJiby10YWJsZScpKSB7bGV0IHRiID0gYnAoJyNub3BheS1idG4nKS5ocmVmO3JlZGlyZWN0KHRiLCBmYWxzZSk7fQogICAgICBsZXQgdGJiID0gc2V0SW50ZXJ2YWwoKCkgPT4ge2lmIChDYXB0Y2hhY2hlY2soKSkge2NsZWFySW50ZXJ2YWwodGJiKTtDbGlja0lmRXhpc3RzKCcjc3VibWl0Jyk7fX0sIDUwMCk7IHdhaXRGb3JFbG0oJyNmcmVlLWRvd25sb2FkLWZpbGUtbGluaycsIHR1ciA9PiByZWRpcmVjdCh0dXIuaHJlZiwgZmFsc2UpKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9kcml2ZS5nb29nbGUuY29tLywgZnVuY3Rpb24oKSB7dmFyIGRnID0gd2luZG93LmxvY2F0aW9uLmhyZWYuc3BsaXQoJy8nKS5zbGljZSgtMilbMF07CiAgICAgIGlmICh3aW5kb3cubG9jYXRpb24uaHJlZi5pbmNsdWRlcygnZHJpdmUuZ29vZ2xlLmNvbS9maWxlL2QvJykpIHtyZWRpcmVjdChgaHR0cHM6Ly9kcml2ZS51c2VyY29udGVudC5nb29nbGUuY29tL2Rvd25sb2FkP2lkPSR7ZGd9JmV4cG9ydD1kb3dubG9hZGAsIGZhbHNlKS5yZXBsYWNlKCc8YnIgLz4nLCAnJyk7CiAgICAgIH0gZWxzZSBpZiAod2luZG93LmxvY2F0aW9uLmhyZWYuaW5jbHVkZXMoJ2RyaXZlLmdvb2dsZS5jb20vdS8wL3VjP2lkJykpIHtTdWJtaXRJZkV4aXN0cygnI2Rvd25sb2FkLWZvcm0nLCAxKTt9IGVsc2Uge319KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC80c2hhcmVkLmNvbS8sIGZ1bmN0aW9uKCkge2lmIChlbGVtZW50RXhpc3RzKCcuZDN0b3BUaXRsZScpKSB7CiAgICAgICAgJCgnLnByZW1pdW0nKS50ZXh0KCdJTVBPUlRBTlQgVFJJQ0tTIEJ5IEJsb2dnZXJQZW11bGEgOiBVcGRhdGVkIEZlYiAyMDIzLCBMb29rIGxpa2Ugbm93IG5vdCB3b3JraW5nICxzbyBTb3JyeSBhdCBUaGlzIFRpbWUgaSBEb250IGhhdmUgSWRlYSB0byBmaXggaXQgLiBSZWdhcmRzLi4uJyk7fQogICAgICBDbGlja0lmRXhpc3RzKCcuanNEb3dubG9hZEJ1dHRvbicsIDIpO2lmIChlbGVtZW50RXhpc3RzKCcuZnJlZURvd25sb2FkQnV0dG9uJykpIHtTdWJtaXRJZkV4aXN0cygiZm9ybVtuYW1lXj0ncmVkaXJlY3RUb0QzRm9ybSddIiwgMyk7fX0pOwogICAgfSBlbHNlIHt9IC8vIERvZXMgTm90aGluZyBpZiBZb3UgTm90IFRpY2sgQXV0byBEb3dubG9hZCBGcm9tIE1lbnUgU2V0dGluZ3MKICAgIC8vIEVuZCBvZiBBdXRvIERvd25sb2FkICwgTGVhdmUgR29vZCBGZWVkYmFjayBpZiBZb3VyIEZhdm9yaXRlIFNpdGVzIE5vdCB5ZXQgU3VwcG9ydGVkIG9yIEVycm9yIG9uIERvd25sb2FkaW5nIFByb2Nlc3MKCiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvMWluay5jYy8sIGZ1bmN0aW9uKCkge0NsaWNrSWZFeGlzdHMoJyNjb3VudGluZ2J0bicsIDEpO30pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL2tlZXBsaW5rcy5vcmcvLCBmdW5jdGlvbigpIHtDbGlja0lmRXhpc3RzKCcjYnRuY2hhbmdlJywgMik7fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvMXNob3J0LmlvLywgZnVuY3Rpb24oKSB7U3VibWl0SWZFeGlzdHMoJyNjb3VudERvd25Gb3JtJywgNyk7fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvZWFybmxpbmsuaW8vLCBmdW5jdGlvbigpIHtDbGlja0lmRXhpc3RzKCcuYnRuLXNlY29uZGFyeScsIDMpO30pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL21rb21zZWwuY29tLywgZnVuY3Rpb24oKSB7Q2xpY2tJZkV4aXN0cygnI2Rvd25sb2FkZmlsZScsIDEyKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9vbmltcG9ydHMuY29tLmJyLywgZnVuY3Rpb24oKSB7Q2xpY2tJZkV4aXN0cygnI2ZpbmFsTGluaycsIDIpO30pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoLzFzaG9ydGxpbmsuY29tLywgZnVuY3Rpb24oKSB7Q2xpY2tJZkV4aXN0cygnI3JlZGlyZWN0LWxpbmsnLCAzKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9yYXBpZHNob3J0LmxhdC8sIGZ1bmN0aW9uKCkge1N1Ym1pdElmRXhpc3RzKCcjZm9ybS1jb250aW51ZScsIDIpO30pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL2phbWVlbHRpcHMudXMvLCBmdW5jdGlvbigpIHtDbGlja0lmRXhpc3RzKCcjY29udGludWVfYnV0dG9uXzEnLCAxKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9wb3N0LmNvcHlkZXYuY29tLywgZnVuY3Rpb24oKSB7Q2xpY2tJZkV4aXN0cygnLmJ0bi1zdWNjZXNzLmJ0bicsIDYpO30pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL2xpbmVnZWUubmV0LywgZnVuY3Rpb24oKSB7Q2xpY2tJZkV4aXN0cygnLmJ0bi14cy5idG4tcHJpbWFyeS5idG4nLCAyKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9wcm8uc2gvLCBmdW5jdGlvbigpIHtDbGlja0lmRXhpc3RzKCcuYnRuLXNlY29uZGFyeScsIDMsICdzZXRJbnRlcnZhbCcpO30pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL3Byb2FwcGFway5jb218bWVjbGlwc3R1ZHkuaW4vLCBmdW5jdGlvbigpIHtDbGlja0lmRXhpc3RzKCcjZ290b2xpbmsnLCA1KTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC93cmJsb2dnZXJzLmNvbS8sIGZ1bmN0aW9uKCkge0NsaWNrSWZFeGlzdHMoJ2EjbmV4dHBhZ2VsaW5rIGJ1dHRvbi5idG4nLCA1KTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC8xYml0c3BhY2UuY29tLywgZnVuY3Rpb24oKSB7Q2xpY2tJZkV4aXN0cygnLmJ1dHRvbi1lbGVtZW50LXZlcmlmaWNhdGlvbicsMyk7fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvbGV0cy41Z2V0Lm5ldC8sIGZ1bmN0aW9uKCkge0NsaWNrSWZFeGlzdHMoJy5qdW1wX2xpbmsgPiBhOm50aC1jaGlsZCgxKScsIDIpO30pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL2NzaG9ydC5vcmcvLCBmdW5jdGlvbigpIHtDbGlja0lmRXhpc3RzKCcudGltZXIucmVkaXJlY3QnLCAzLCAnc2V0SW50ZXJ2YWwnKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9saW5rcGF5LmNjLywgZnVuY3Rpb24oKSB7cGFyZW50Lm9wZW4gPSBCcEJsb2NrKCk7IFN1Ym1pdElmRXhpc3RzKCcjbGluay12aWV3JywgMSk7fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvY29va2xpa2UuaW5mb3xtb2RlbC10YXMtdGVyYmFydS5jb20vLCB7Jy8nOiBbJ2xpbmsnLCAnaHR0cHM6Ly95b3VzbS5saW5rLyddLH0sIGZhbHNlKTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9kZWxpc2h3ZWxsLmNvbXxhcnRpc2tpbmkuY29tLywgeycvJzogWydsaW5rJywgJ2h0dHBzOi8vbGluay5wYWlkNGxpbmsubmV0LyddLH0sIGZhbHNlKTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9raXNhbHQuZGlnaXRhbC8sIGZ1bmN0aW9uKCkge2lmIChCcFBhcmFtcy5oYXMoJ3UnKSkge21ldGEoYXRvYihCcFBhcmFtcy5nZXQoJ3UnKSkpO319KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9iaWxkaXJpbS5pbnxiaWxkaXJpbS5ldXxiaWxkaXJpbS5saW5rLywgZnVuY3Rpb24oKSB7Q2xpY2tJZkV4aXN0cygnI2J0blBlcm1pc3Npb24nLCAxKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9lbmxhY2l0by5jb20vLCBmdW5jdGlvbigpIHtzZXRUaW1lb3V0KCgpID0+IHtyZWRpcmVjdCh3aW5kb3cuRFl5a2t6d1AsZmFsc2UpO30sIDIgKiAxMDAwKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC93ZWJob3N0aW5ndGlwcy5jbHViLywgeycvc2FmZS5waHAnOiBbJ2xpbmsnLCAnaHR0cHM6Ly9qcmxpbmtzLmluL3NhZmUyLnBocD9saW5rPSddLH0sIGZhbHNlKTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9yZW5kZXItc3RhdGUudG8vLCBmdW5jdGlvbigpIHtpZiAoQnBQYXJhbXMuaGFzKCdsaW5rJykpIHttZXRhKGF0b2IoQnBQYXJhbXMuZ2V0KCdsaW5rJykpKTt9fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvbWljaGFlbGVtYWQuY29tfDdtaXNyNGRheS5jb20vLCAoKSA9PiB3YWl0Rm9yRWxtKCdhLnMtYnRuLWYnLCBtbGQgPT4gcmVkaXJlY3QobWxkLmhyZWYsIGZhbHNlKSkpOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL3NoYXJldXMuaW8vLCBmdW5jdGlvbigpIHtpZiAoQnBQYXJhbXMuaGFzKCdzaWQnKSkge1JlYWR5dG9DbGljaygnYnV0dG9uLk11aUJ1dHRvbkJhc2Utcm9vdCcsIDIpO319KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9hZHRpdmFsLm5ldHdvcmsvLCBmdW5jdGlvbigpIHtpZiAoQnBQYXJhbXMuaGFzKCdzaG9ydGlkJykpIHttZXRhKGF0b2IoQnBQYXJhbXMuZ2V0KCdzaG9ydGlkJykpKTt9fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvZGlsaW5rLm5ldC8sIGZ1bmN0aW9uKCkge2lmICh0eXBlb2Yod2luZG93LnVybF9kb25lKSAhPT0gJ3N0cmluZycpIHJldHVybjsgcmVkaXJlY3Qod2luZG93LnVybF9kb25lKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9zaG9ydGVuZXIuZ29sZGNvbnRlbnQuc2l0ZS8sIGZ1bmN0aW9uKCkge2lmIChCcFBhcmFtcy5oYXMoJ2Rlc3QnKSkge21ldGEoYXRvYihCcFBhcmFtcy5nZXQoJ2Rlc3QnKSkpO319KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC8oY3V0bmV0fGN1dHN5fGN1dGxpbmspLm5ldHwoY3V0dHl8ZXhlZ28pLmFwcC8sIGZ1bmN0aW9uKCl7Q2xpY2tJZkV4aXN0cygnI3N1Ym1pdC1idXR0b24nLCA1LCAnc2V0SW50ZXJ2YWwnKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9vbnRlY2hoaW5kaS5jb20vLCBmdW5jdGlvbigpIHtFbmFibGVSQ0YoKTt3YWl0Rm9yRWxtKCcjcnRnLWdlbmVyYXRlMjEgPiBhJywgb3RoID0+IHJlZGlyZWN0KG90aC5ocmVmLCBmYWxzZSkpO30pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL3NmbC5nbC8sIGZ1bmN0aW9uKCkge2lmIChsb2NhdGlvbi5ocmVmLmluY2x1ZGVzKCcvcmVhZHknKSAmJiBCcFBhcmFtcy5oYXMoJ3UnKSkge21ldGEoYXRvYihCcFBhcmFtcy5nZXQoJ3UnKSkpO319KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9nb2JpdHMubWV8emNhc2gub25lfGNsaWNrc2NvaW4uY29tfGJleWNvaW4ueHl6fGJpdHN1c2R0LmNvbXxhZHNsdWZmYS5vbmxpbmUvLCBmdW5jdGlvbigpIHtDbGlja0lmRXhpc3RzKCcjbWR0JywgMyk7fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvZ2FtZWJsb2cuaW4vLCBmdW5jdGlvbigpIHtFbmFibGVSQ0YoKTtTdWJtaXRCcCgnaW5wdXRbdHlwZT1oaWRkZW5dJywgMyk7Q2xpY2tJZkV4aXN0cygiZGl2W2lkXj13cHNhZmUtbGlua10gPiBhIiwgNCk7fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvc2hhcmV0ZXh0Lm1lLywgZnVuY3Rpb24oKSB7aWYgKGxvY2F0aW9uLmhyZWYuaW5jbHVkZXMoJy9yZWRpcmVjdCcpICYmIEJwUGFyYW1zLmhhcygndXJsJykpIHttZXRhKGF0b2IoQnBQYXJhbXMuZ2V0KCd1cmwnKSkpO319KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9idGNzYXRvc2hpLm5ldC8sIGFzeW5jIGZ1bmN0aW9uKCkge0VuYWJsZVJDRigpO3dpbmRvdy5jaGVjazIoKTt3aW5kb3cuY2hlY2szKCk7Q2xpY2tJZkV4aXN0cygnYnV0dG9uLmJ0bi5idG4tcHJpbWFyeS5idG4tbGcnKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9jb21vaG95LmNvbS8sIGZ1bmN0aW9uKCkge2lmIChsb2NhdGlvbi5ocmVmLmluY2x1ZGVzKCcvZ3JhYi9vdXQuaHRtbCcpICYmIEJwUGFyYW1zLmhhcygndXJsJykpIHttZXRhKGF0b2IoQnBQYXJhbXMuZ2V0KCd1cmwnKSkpO319KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9hcGt3LnJ1LywgZnVuY3Rpb24oKSB7aWYgKGxvY2F0aW9uLmhyZWYuaW5jbHVkZXMoJy9hd2F5JykpIHtsZXQgYXBrdyA9IGxvY2F0aW9uLmhyZWYuc3BsaXQoJy8nKS5zbGljZSgtMSk7cmVkaXJlY3QoYXRvYihhcGt3KSxmYWxzZSk7fX0pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL2NyeXB0b21vbml0b3IuaW58MnRoZS5zcGFjZXxpbWJiLm9ubGluZS8sIGZ1bmN0aW9uKCkge0VuYWJsZVJDRigpO1N1Ym1pdElmRXhpc3RzKCJmb3JtW25hbWU9J2RzYiddIiwgMyk7Q2xpY2tJZkV4aXN0cygnI3dwc2FmZS1saW5rID4gYScsIDQpO30pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoLyhuZXdzYmF3YXx1dGthcnNob25saW5ldGVzdCkuY29tLywgZnVuY3Rpb24oKSB7Q2xpY2tJZkV4aXN0cygnI2NpdHItY2xpY2snLCAyKTtDbGlja0lmRXhpc3RzKCcjY2l0ci1jbGljay1mJywgMyk7Q2xpY2tJZkV4aXN0cygnI0dldExpbmsnLCA0KTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9wcm9ncmFtYXN2aXJ0dWFsZXNwYy5uZXQvLCBmdW5jdGlvbigpIHtpZiAobG9jYXRpb24uaHJlZi5pbmNsdWRlcygnb3V0LycpKSB7Y29uc3QgcHZjID0gbG9jYXRpb24uaHJlZi5zcGxpdCgnPycpWzFdOyByZWRpcmVjdChhdG9iKHB2YyksZmFsc2UpO30gZWxzZSB7fX0pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoLyhibGFja2xlYWRyfHNob3J0Y3V0aGlnaHxuZXd6dGFsa2llc3xjeWJlcnR5cmFudCkuY29tfGh1YmRyaXZlLm1lfGZpbGVyb290Lm5ldHxuemFydGljbGVzLnByby8sIGZ1bmN0aW9uKCkge2lmIChCcFBhcmFtcy5oYXMoJ3InKSkge21ldGEoYXRvYihCcFBhcmFtcy5nZXQoJ3InKSkpO319KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC8odGlueWNtZHx0aW55YmMpLmNvbS8sICgpID0+IHt3YWl0Rm9yRWxtKCJkaXZbaWRePXdwc2FmZV0gPiBhW3JlbD1ub2ZvbGxvd10iLCB0aW55ID0+IHJlZGlyZWN0KHN0ckJldHdlZW4odGlueS5vbmNsaWNrLnRvU3RyaW5nKCksIGBoYW5kbGVDbGljaygnYCwgYCcsICdfc2VsZicpYCksIGZhbHNlKSk7fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvdHJhbmdjaHUubmV3c3xkb3duZmlsZS5zaXRlfCh0ZWNoYWNvZGV8ZXhwZXJ0dm4pLmNvbXxhem1hdGguaW5mb3xhenRyYXZlbHMubmV0fHRvcDEwY2FmZS5zZS8sIGZ1bmN0aW9uKCkge0NsaWNrSWZFeGlzdHMoJyN5dWlkZWEnLCAyKTtDbGlja0lmRXhpc3RzKCcjbW9uZXRpemEnLCAyKTtDbGlja0lmRXhpc3RzKCcjYnRuNicsIDMpO30pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoLyhiaXR6aXRlfG5ldmVyZGltcykuY29tLywgZnVuY3Rpb24oKSB7RW5hYmxlUkNGKCk7bGV0IGJpdHppdGUgPSBicCgiaW5wdXRbbmFtZT1uZXd3cHNhZmVsaW5rXSIpO3NldFRpbWVvdXQoKCkgPT4ge3JlZGlyZWN0KEpTT04ucGFyc2UoYXRvYihiaXR6aXRlLnZhbHVlKSkubGlua3IsZmFsc2UpO30sIDMgKiAxMDAwKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9ob3N0cmF0Z2ViZXIuZGV8dGVjaGFuYWx5emVyLmV1fChtaW5lci1zaW18bmV0d29ya2hpbnR8YXNrcGFjY29zaSkuY29tfGRhaWx5dGVjaC1uZXdzLmV1fG1vb25ib29tLm5ldC8sIGZ1bmN0aW9uKCkge2xldCBob3N0cmF0ID0gYnAoImlucHV0W25hbWU9bmV3d3BzYWZlbGlua10iKTtzZXRUaW1lb3V0KCgpID0+IHtyZWRpcmVjdChKU09OLnBhcnNlKGF0b2IoaG9zdHJhdC52YWx1ZSkpLmxpbmtyLGZhbHNlKTt9LCAzICogMTAwMCk7fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvY29pbmdyYXBoLnVzfHRyZW5kemlsbGEuaXR8aG9yb3Njb3AuaW5mb3woaW5mb25lcmR8d3JpdGVwcm9maXQpLm9yZy8sIGZ1bmN0aW9uKCkge2xldCBBbGNhdHJheiA9IGJwKCJpbnB1dFtuYW1lPW5ld3dwc2FmZWxpbmtdIik7c2V0VGltZW91dCgoKSA9PiB7cmVkaXJlY3QoSlNPTi5wYXJzZShhdG9iKEFsY2F0cmF6LnZhbHVlKSkubGlua2ssZmFsc2UpO30sIDMgKiAxMDAwKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC8oYWR1enp8Y3J5cHRmYXVjZXQpLmNvbXwoYml0Y3J5cHRvfGJpdDRtZSkuaW5mb3xvZmZlcmluZm8ubmV0fGRlbHRhYnRjLnh5ei8sICgpID0+IHt3YWl0Rm9yRWxtKCJkaXZbaWRePXdwc2FmZV0gPiBhW3JlbD1ub2ZvbGxvd10iLCB0aW55ID0+IHJlZGlyZWN0KHN0ckJldHdlZW4odGlueS5vbmNsaWNrLnRvU3RyaW5nKCksIGB3aW5kb3cub3BlbignYCwgYCcsICdfc2VsZicpYCksIGZhbHNlKSk7fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvbnVsbHNjcmlwdC5pbmZvfGZyZWViaW5hbmNlLnRvcC8sIGZ1bmN0aW9uKCkge3dhaXRGb3JFbG0oJ2RpdiN3cHNhZmUtbGluayA+IGEnLCBmdW5jdGlvbihlbGVtZW50KSB7Y29uc3QgcmVnZXggPSAvcmVkaXJlY3Q9KC4qKScsLztjb25zdCBtID0gcmVnZXguZXhlYyhlbGVtZW50Lm9uY2xpY2sudG9TdHJpbmcoKSlbMV07bG9jYXRpb24uaHJlZiA9IEpTT04ucGFyc2UoYXRvYihtKSkuc2FmZWxpbms7fSk7fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvKDEwc2hvcnR8bG9sbHR5KS5wcm98bWFtYWhhd2EuY29tfDEwc2hvcnQudmlwLywgZnVuY3Rpb24oKSB7UmVhZHl0b0NsaWNrKCdjZW50ZXIgPiAuYnRuLXN1Y2Nlc3MuYnRuJywgMyk7d2FpdEZvckVsbSgnYSNtYWtpbmdkaWZmZXJlbnR0aW1lcicsIHN0MSA9PiByZWRpcmVjdChzdDEuaHJlZiwgZmFsc2UpKTt3YWl0Rm9yRWxtKCdhI3Byb2NlZWQnLCBzdDIgPT4gcmVkaXJlY3Qoc3QyLmhyZWYsIGZhbHNlKSk7fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvKGNyeXB0b3NwYXJhdG9kb3N8cGxhY2VtZW50c21lbGF8bnV0cmlzYXZvcnN8YmdtdGVsdWd1Y3JlYXRpb25zfHNvdW5kYXVkaW9ndXJ1fGhvd3RvY29uY2VwdHMpLmNvbXwoaW5zdXJhbmNlcG9zdHxmaW5hbmNlYW5kaW5zdXJhbmNlfHRlY25vdGVjaHxoZWFsdGhtZWRpYykueHl6fHBhaWRpbnN1cmFuY2UuaW4vLCAoKSA9PiB3YWl0Rm9yRWxtKCcjd3BzYWZlLWxpbmsgYScsIGJ0aSA9PiByZWRpcmVjdChzdHJCZXR3ZWVuKGJ0aS5vbmNsaWNrLnRvU3RyaW5nKCksIGB3aW5kb3cub3BlbignYCwgYCcsICdfc2VsZicpYCksIGZhbHNlKSkpOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL2JpdGNvdGFza3MuY29tLywgZnVuY3Rpb24oKSB7aWYgKGxvY2F0aW9uLmhyZWYuaW5jbHVkZXMoJy9zaG9ydGxpbmsvJykpIHt3aW5kb3cudXJsUGF0dGVybiA9IGZhbHNlO2xldCBiY3QgPSBzZXRJbnRlcnZhbCgoKSA9PiB7aWYgKENoZWNrdmlzaWJpbGl0eShicCgnLmNhcHRjaGEtc3VjY2Vzcy5jYXB0Y2hhLXRoZW1lLWxpZ2h0LmNhcHRjaGEtaG9sZGVyJykpKSB7Y2xlYXJJbnRlcnZhbChiY3QpOyB3aW5kb3cuY29udGludWVDbGlja2VkKCk7fX0sIDEgKiAxMDAwKTt9IGVsc2Uge319KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC8obmV0ZmxpeHJlbGVhc2V8bWFuZ2FyZWxlYXNlZGF0ZXxmcmVlbW9kYXBwfGNyeXB0b3Byb2xpZmV8ZGlldGhpbXx6dXRpemF8aGl0amFua2FyaXxwaGl4c2hvcHxtcDRuZXdzfHRyYW5jZWJhemFyfHRhYXphYWxlcnRzfG1hemhlc2hldGthcml8dXNrbG9hbnN8c3NieXRlcykuY29tfChyb250eW1vYmlsZXxteWZpcnN0bmFtZXxkanJhanVyam18aWdub3VwdXIpLmlufG1kc3V1bml2ZXJzaXR5Lm9yZ3xvZGlzaGFkanMubGluay8sIGZ1bmN0aW9uKCkge0NsaWNrSWZFeGlzdHMoJyNWZXJpZnlCdG4nLCAzKTtDbGlja0lmRXhpc3RzKCcjTmV4dEJ0bicsIDUsICdzZXRJbnRlcnZhbCcpO30pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoLyhjcnlwdG8ydXxiZXN0Y29pbnNpdGVzKS54eXovLCBmdW5jdGlvbigpIHtpZiAoL15cL3Nob3J0bGlua1wvKFteXC9dKykvLnRlc3QobG9jYXRpb24ucGF0aG5hbWUpKSB7d2FpdEZvckVsbSgnYSNidG4uYnRuLmJ0bi1zdWNjZXNzJywgYzJ1ID0+IHJlZGlyZWN0KGMydS5ocmVmLCBmYWxzZSkpO30gZWxzZSBpZiAoZWxlbWVudEV4aXN0cygnLnNoYWRvdy5jYXJkJykpIHt3YWl0Rm9yRWxtKCdhLmJ0bi5idG4tbGcuYnRuLXN1Y2Nlc3MucHgtNCcsIGMydTIgPT4gcmVkaXJlY3QoYzJ1Mi5ocmVmLCBmYWxzZSkpO319KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9mYW5zb25saW5laHViLmNvbS8sIGFzeW5jIGZ1bmN0aW9uKCkge3NldEludGVydmFsKCgpID0+IHt3aW5kb3cuc2Nyb2xsQnkoMCwgMSk7d2luZG93LnNjcm9sbFRvKDAsLTEpO1JlYWR5dG9DbGljaygnLmFjdGl2ZS5idG4gPiBzcGFuJyk7fSwgMyAqIDEwMDApO30pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoLyhob3dpZnh8dm9jYWxsZXl8ZmluYW5jZXJpdGVzfHlvZ2FibG9nZml0fGhlYWx0aGZpcnN0d2VifGp1bmt5cG9ua3xteXRodmlzdGEpLmNvbS8sICgpID0+IHtDbGlja0lmRXhpc3RzKCcjZ2V0bGluaycsIDMpO30pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoLyh2aXJhbHhuc3x1cGxvYWRzb29uKS5jb20vLCBmdW5jdGlvbigpe0NsaWNrSWZFeGlzdHMoJyN0cC1zbnAyLnRwLWJsdWUudHAtYnRuJywgMik7Q2xpY2tJZkV4aXN0cygnLnRwLXdoaXRlLnRwLWJ0bicsIDMpO30pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL291by5pb3xvdW8ucHJlc3MvLCBhc3luYyBmdW5jdGlvbigpIHthd2FpdCBzbGVlcCg0MDAwKTtSZWFkeXRvQ2xpY2soJ2J1dHRvbiNidG4tbWFpbi5idG4uYnRuLW1haW4nKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC95YWxpZmluLnh5ei8sIGZ1bmN0aW9uKCkge1N1Ym1pdElmRXhpc3RzKCcjbW9saWVuJywgMik7Q2xpY2tJZkV4aXN0cygnLmJ0bi1zdWNjZXNzLmJ0bicsIDMpO30pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL2xhcmdlc3RwYW5lbC5pbnxlYXJubWUuY2x1Ynx1c2FuZXdzdG9kYXkuY2x1Yi8sIGZ1bmN0aW9uKCkge0NsaWNrSWZFeGlzdHMoJyN0cC1zbnAyJywgMSk7fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvcGFzdGUxcy5jb218bm90ZTFzLmNvbS8sIGZ1bmN0aW9uKCkge0NsaWNrSWZFeGlzdHMoJy5idG4tbGcuYnRuLXByaW1hcnkuYnRuJywgMik7fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvdGVyYWJveC5mdW4vLCBhc3luYyBmdW5jdGlvbigpIHthd2FpdCBzbGVlcCgzMDAwKTtSZWFkeXRvQ2xpY2soJy5hY3RpdmUuYnRuJyk7fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvYXllbGFkcy5jb20vLCBmdW5jdGlvbigpIHsKICAgICAgQ2xpY2tJZkV4aXN0cygnLmJ0bi1ibC5idG4tcHJpbWFyeS5idG4nLCA1LCAnc2V0SW50ZXJ2YWwnKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9rYXJ5YXdhbi5jby5pZC8sIGZ1bmN0aW9uKCkgewogICAgICBDbGlja0lmRXhpc3RzKCdidXR0b24jYnRuLmJnLWJsdWUtMTAwLnRleHQtYmx1ZS02MDAnLCAzKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9pY2VyaWsuc2l0ZS8sIGZ1bmN0aW9uKCkgewogICAgICBDbGlja0lmRXhpc3RzKCcjY3N1Ym1pdCcsIDIpO0NsaWNrSWZFeGlzdHMoJyNnZXRfbGlua19idG4nLCAyKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9jbGluazEuY29tLywgZnVuY3Rpb24oKSB7CiAgICAgIHdhaXRGb3JFbG0oJ3NwYW4jY29tcHRldXIgPiBiID4gYScsIGNsaW4gPT4gcmVkaXJlY3QoY2xpbi5ocmVmKSk7fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvcG9uc2VsaGFyaWFuLmNvbS8sIGZ1bmN0aW9uKCkgewogICAgICBpZiAoZWxlbWVudEV4aXN0cygnI2xpbmstdmlldycpKSB7d2luZG93LnNjcm9sbFRvKDAsIDk5OTkpO319KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC90b25hbm1lZGlhLm15LmlkLywgZnVuY3Rpb24oKSB7CiAgICAgIENsaWNrSWZFeGlzdHMoJyNpZG5HZXRMaW5rJywgMik7Q2xpY2tJZkV4aXN0cygnI2dvdG9saW5rJywgMyk7fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvYXNzZXR0b3dvcmxkLmNvbS8sIGZ1bmN0aW9uKCkgewogICAgICBDbGlja0lmRXhpc3RzKCcudGV4dC1jYXBpdGFsaXplLmJ0bi1vdXRsaW5lLXN1Y2Nlc3MuYnRuJywgMyk7fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvYWRmb2MudXMvLCBmdW5jdGlvbigpIHsKICAgICAgaWYgKGVsZW1lbnRFeGlzdHMoJyNza2lwJykpIHtsZXQgYWRmID0gYnAoJy5za2lwJykuaHJlZjsgcmVkaXJlY3QoYWRmKTt9fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgveW9zaGFyZS5uZXR8b2xob25hZ3JhbmEuY29tLywgZnVuY3Rpb24oKSB7CiAgICAgIFN1Ym1pdElmRXhpc3RzKCcjeXVpZGVhJywgMik7Q2xpY2tJZkV4aXN0cygnI2J0bjYnLCAyKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9vaWkuaW8vLCBmdW5jdGlvbigpIHtwYXJlbnQub3BlbiA9IEJwQmxvY2soKTsKICAgICAgQ2xpY2tJZkV4aXN0cygnYnV0dG9uLmctcmVjYXB0Y2hhLmJ0bi5idG4tcHJpbWFyeScsIDIpO30pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL2NyeXB0b25ldG9zLnJ1LywgZnVuY3Rpb24oKSB7CiAgICAgIENsaWNrSWZFeGlzdHMoJyNidXR0JywgMiwgJ3NldEludGVydmFsJyk7Q2xpY2tJZkV4aXN0cygnI3NvbWVJZCcsIDUpO30pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL2NwdS1taW5lci5sZWFrcy53b3JrLywgZnVuY3Rpb24oKSB7CiAgICAgIENsaWNrSWZFeGlzdHMoJy54YnR0LmJ0bi1wcmltYXJ5LmJ0bi1sZy5idG4nLCAzLCAnc2V0SW50ZXJ2YWwnKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9tcnByb2Jsb2dnZXIuY29tfHRoZW1lem9uLm5ldC8sIGZ1bmN0aW9uKCkgewogICAgICB3YWl0Rm9yRWxtKCcjYnRuMi50cC1idG4nLCBtckJwID0+IG1yQnAuY2xpY2soKSk7CiAgICAgIHdhaXRGb3JFbG0oJ2Rpdi5jZW50ZXItbGluay1pdGVtcyBhJywgdGh6ID0+IHJlZGlyZWN0KHRoei5ocmVmLCBmYWxzZSkpO30pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL2ZvcmV4LWdvbGRzLmNvbXxmb3JleC10cm5kLmNvbS8sIGZ1bmN0aW9uKCkgewogICAgICBwYXJlbnQub3BlbiA9IEJwQmxvY2soKTtDbGlja0lmRXhpc3RzKCcuZy1yZWNhcHRjaGEnLCAyKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC8xbGluay5jbHViLywgZnVuY3Rpb24oKSB7CiAgICAgICQoImFbdGFyZ2V0PSdfYmxhbmsnXSIpLnJlbW92ZUF0dHIoInRhcmdldCIpO0NsaWNrSWZFeGlzdHMoJyNkb3dubG9hZCcsIDEpO30pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoLzFtbGluay52aXAvLCBmdW5jdGlvbigpIHsKICAgICAgQ2xpY2tJZkV4aXN0cygnI2ludmlzaWJsZUNhcHRjaGFTaG9ydGxpbmsnLCAyKTsKICAgICAgQ2xpY2tJZkV4aXN0cygnLmdldC1saW5rLmJ0bi1sZy5idG4tc3VjY2Vzcy5idG4nLCA0KTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC96ZWd0cmVuZHMuY29tLywgZnVuY3Rpb24oKSB7U3VibWl0SWZFeGlzdHMoJyNjbG4nLCA1KTsKICAgICAgQ2xpY2tJZkV4aXN0cygnI2J0MScsIDUpO0NsaWNrSWZFeGlzdHMoJyNnbycsIDUpO30pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL2NvaW5jcm9jby5jb218c3VyZmxpbmsudGVjaC8sIGZ1bmN0aW9uKCkgewogICAgICB3YWl0Rm9yRWxtKCcubWItc20tMC5tdC0zLmJ0bkJnUmVkJywgY2NCdG4gPT4gY2NCdG4uY2xpY2soKSk7fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvYmN2Yy54eXp8YmN2Yy5pbmsvLCBmdW5jdGlvbigpIHsKICAgICAgQ2xpY2tJZkV4aXN0cygnLmpzLXNjcm9sbC10cmlnZ2VyLmJ0bi14bC5idG4tb3V0bGluZS5idG4nLCAzLCAnc2V0SW50ZXJ2YWwnKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9wcm92aXJhbGhvc3QuY29tLywgZnVuY3Rpb24oKSB7CiAgICAgIENsaWNrSWZFeGlzdHMoJyN3YWl0MWJ1dHRvbicsIDMpO0NsaWNrSWZFeGlzdHMoJyN3YWl0MmJ1dHRvbicsIDUsICdzZXRJbnRlcnZhbCcpO30pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL2JpdGNvaW5mYXVjZXQuZnVufGZyZWViaXRjb2luLndpbi8sIGZ1bmN0aW9uKCkgewogICAgICBDbGlja0lmRXhpc3RzKCcjY29udGludWUyJywgMywgJ3NldEludGVydmFsJyk7Q2xpY2tJZkV4aXN0cygnI2NvbnRpbnVlJywgNCwgJ3NldEludGVydmFsJyk7fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvYmVzdGFkdmlzZTR1LmNvbS8sIGZ1bmN0aW9uKCkge0NsaWNrSWZFeGlzdHMoJy5yZF9idG4nLCAxKTsKICAgICAgd2FpdEZvckVsbSgnLnJkX2J0bicsIGJhNCA9PiByZWRpcmVjdChiYTQuaHJlZiwgZmFsc2UpKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9hbHRibG9nZ2VyLm5ldC8sIGZ1bmN0aW9uKCkgewogICAgICBDbGlja0lmRXhpc3RzKCcuZm9ybS1zZW5kLm0tMi5idG4tY2FwdGNoYS5idG4tb3V0bGluZS1wcmltYXJ5LmJ0bicsIDMsICdzZXRJbnRlcnZhbCcpO30pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL2xpbmtzcHkuY2MvLCBmdW5jdGlvbigpIHsKICAgICAgaWYgKGVsZW1lbnRFeGlzdHMoJy5za2lwQnV0dG9uJykpIHtsZXQgbHNwID0gYnAoJy5za2lwQnV0dG9uJykuaHJlZjtyZWRpcmVjdChsc3AsIGZhbHNlKTt9fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvKHdlYmhvc3Rpbmdwb3N0fHRvcGhvc3RpbmdhcHB8ZGlnaXRhbG1hcmt0cmVuZCkuY29tLywgZnVuY3Rpb24oKSB7CiAgICAgIFN1Ym1pdElmRXhpc3RzKCdmb3JtLnRleHQtY2VudGVyJywgMyk7Q2xpY2tJZkV4aXN0cygnI3N1cmwnLCA1LCAnc2V0SW50ZXJ2YWwnKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC90ZWNobW55LmNvbXx1bmJsb2NrZWRnYW1lcy53b3JsZC8sIGZ1bmN0aW9uKCkge1N1Ym1pdElmRXhpc3RzKCcjbGFuZGluZycsIDIpOwogICAgICBDbGlja0lmRXhpc3RzKCcjdmVyaWZ5X2J1dHRvbicsIDIpO0NsaWNrSWZFeGlzdHMoJyN0d29fc3RlcHNfYnRuJywgMTApO30pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoLyhjaG9veW9taXxibG9nbWFkb3xrcmVkaWxlcmltfGluc3VyYW5jZWxlYWRzaW5mbykuY29tLywgZnVuY3Rpb24oKSB7CiAgICAgIGxldCBibSA9IHNldEludGVydmFsKCgpID0+IHtpZiAoQ2FwdGNoYWNoZWNrKCkpIHtjbGVhckludGVydmFsKGJtKTsgQ2xpY2tJZkV4aXN0cygnYnV0dG9uLmJ0bicpO319LCAxICogMTAwMCk7CiAgICAgIHdhaXRGb3JFbG0oJ2EuZ2V0LWxpbmsuZGlzYWJsZWQgYScsIGNobyA9PiByZWRpcmVjdChjaG8uaHJlZiwgZmFsc2UpKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC8oa2lrdHV8dGVjaGN5YW4pLmNvbS8sIGZ1bmN0aW9uKCkge2xldCBra3QgPSBzZXRJbnRlcnZhbCgoKSA9PiB7CiAgICAgIGlmIChDaGVja3Zpc2liaWxpdHkoYnAoJy50aWNrLndnaWNvbicpKSkge2NsZWFySW50ZXJ2YWwoa2t0KTsgUmVhZHl0b0NsaWNrKCcuYm90dG9tX2J0bicpO319LCAxICogMTAwMCk7fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvZmV4a29taW4ueHl6LywgZnVuY3Rpb24oKSB7CiAgICAgICQoImFbdGFyZ2V0PSdfYmxhbmsnXSIpLnJlbW92ZUF0dHIoInRhcmdldCIpO0NsaWNrSWZFeGlzdHMoJy5idG4tY2FwdGNoYS5idG4tZGFuZ2VyLmJ0bicsIDMpO30pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoLzEwMHB1YW4uY29tLywgZnVuY3Rpb24oKSB7CiAgICAgIENsaWNrSWZFeGlzdHMoJy5iaWctdGV4dCcsIDMpO3dhaXRGb3JFbG0oJ2Rpdi5iYi1zdGlja3ktZWwgYScsIHBieiA9PiByZWRpcmVjdChwYnouaHJlZiwgZmFsc2UpKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9zdWIyZ2V0LmNvbS8sIGZ1bmN0aW9uKCkgewogICAgICBpZiAoZWxlbWVudEV4aXN0cygnI2J1dHVubG9jaycpKSB7bGV0IHN1YnQgPSBicCgnI2J1dHVubG9jayA+IGE6bnRoLWNoaWxkKDEpJykuaHJlZjtyZWRpcmVjdChzdWJ0KTt9fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvKGZjLWxjfGxvYW5pbnN1cmVodWIpLmNvbXxmYy1sYy54eXovLCBmdW5jdGlvbigpIHtDbGlja0lmRXhpc3RzKCcjaW52aXNpYmxlQ2FwdGNoYVNob3J0bGluaycsIDMpOwogICAgICBDbGlja0lmRXhpc3RzKCcjZ2V0bGluaycsIDMpO0NsaWNrSWZFeGlzdHMoJyNnbGluaycsIDQpO0NsaWNrSWZFeGlzdHMoJyNzdXJsJywgNSk7fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvbW5leXZpcC5jb20vLCBmdW5jdGlvbigpIHsKICAgICAgQ2xpY2tJZkV4aXN0cygnLmdldC1saW5rLmJ0bi1sZy5idG4tc3VjY2Vzcy5idG4nLCA2KTtTdWJtaXRJZkV4aXN0cygnLmJveC1tYWluID4gZm9ybTpudGgtY2hpbGQoMSknLCAxKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9qb2Jmb3JtLmluLywgZnVuY3Rpb24oKSB7Q2xpY2tJZkV4aXN0cygnI3NjYW5VUkwnLCAxKTsKICAgICAgQ2xpY2tJZkV4aXN0cygnI3RvcENsaWNrQnV0dG9uJywgMSk7Q2xpY2tJZkV4aXN0cygnI2JvdHRvbUNsaWNrQnV0dG9uJywgMjcpO30pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL2dvLnNoYXJldXMuaW4vLCBmdW5jdGlvbigpIHsKICAgICAgaWYgKEJwUGFyYW1zLmhhcygnc2hvcnRpZCcpICYmIEJwUGFyYW1zLmhhcygnbGluaycpKSB7bWV0YShhdG9iKEJwUGFyYW1zLmdldCgnbGluaycpKSk7fX0pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL3BsYXlwYXN0ZS5jb20vLCBmdW5jdGlvbigpIHsKICAgICAgbGV0IHBwcyA9IHNldEludGVydmFsKCgpID0+IHtpZiAoQ2FwdGNoYWNoZWNrKCkpIHtjbGVhckludGVydmFsKHBwcyk7Q2xpY2tJZkV4aXN0cygnYnV0dG9uLmJ0bicpO319LCAxICogMTAwMCk7fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvc3VyYXRyZXNtaS5pZC8sIGZ1bmN0aW9uKCkgewogICAgICBDbGlja0lmRXhpc3RzKCdidXR0b24jaG1uLmJ0bi1tb3JlJywgMywgJ3NldEludGVydmFsJyk7Q2xpY2tJZkV4aXN0cygnYSNobW4uYnRuLW1vcmUnLCAzLCAnc2V0SW50ZXJ2YWwnKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9leGFta2hhdGEuY29tfGdhbWVsb3B0ZS5jb20vLCBmdW5jdGlvbigpIHsKICAgICAgQ2xpY2tJZkV4aXN0cygnI2J0bjYnLCAzKTt3YWl0Rm9yRWxtKCdhLnl1LWJ0bi55dS1ibHVlJywgZXhhID0+IHJlZGlyZWN0KGV4YS5ocmVmLCBmYWxzZSkpO30pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL3JhbmNhaC5jb218bWVuamVsYWphaGkuY29tfHNob3J0bHkueHl6fG55YXdhbmcuY29tLywgZnVuY3Rpb24oKSB7CiAgICAgIENsaWNrSWZFeGlzdHMoJy5nZXQtbGluay5idG4tbGcuYnRuLXN1Y2Nlc3MuYnRuJywgNSwgJ3NldEludGVydmFsJyk7fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvY3J5cHRvdHJhY2tlci5zcGFjZS8sIGZ1bmN0aW9uKCkgewogICAgICBsZXQgY3RzID0gc2V0SW50ZXJ2YWwoKCkgPT4ge2lmIChDYXB0Y2hhY2hlY2soKSkge2NsZWFySW50ZXJ2YWwoY3RzKTtTdWJtaXRJZkV4aXN0cygnI2Zvcm0tY29udGludWUnKTt9fSwgMSAqIDEwMDApO30pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL2RqeG1hemEuaW4vLCBmdW5jdGlvbigpIHtDbGlja0lmRXhpc3RzKCcjZGxidG4nLCAxKTsKICAgICAgQ2xpY2tJZkV4aXN0cygnI2Rvd25sb2FkYnRuZicsIDIpO0NsaWNrSWZFeGlzdHMoJyNkb3dubG9hZGJ0bicsIDMsICdzZXRJbnRlcnZhbCcpO30pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL3N0Zmx5Lm1lLywgZnVuY3Rpb24oKSB7CiAgICAgIGlmIChlbGVtZW50RXhpc3RzKCcuZy1yZWNhcHRjaGEnKSkge30gZWxzZSB7Q2xpY2tJZkV4aXN0cygnLmZvcm0tc2VuZC5tLTIuYnRuLWNhcHRjaGEuYnRuLW91dGxpbmUtcHJpbWFyeS5idG4nLCAzKTt9fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgva2hhZGRhdmkubmV0fGNvbnRlbnRtZW5hcmlrLmNvbS8sIGZ1bmN0aW9uKCkge3BhcmVudC5vcGVuID0gQnBCbG9jaygpOwogICAgICBzZXRJbnRlcnZhbChmdW5jdGlvbigpIHtpZiAoQ2FwdGNoYWNoZWNrKCkpIHtDbGlja0lmRXhpc3RzKCcjc2x1LWJ0bicpO319LCA1MDApO30pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL3NhcG5vZ2FscG8ub25saW5lLywgZnVuY3Rpb24oKSB7Q2xpY2tJZkV4aXN0cygnI2xpbmsudHAtYmx1ZS50cC1idG4nLCAyKTsKICAgICAgQ2xpY2tJZkV4aXN0cygnI2J0bjYudHAtYmx1ZS50cC1idG4nLCA0LCAnc2V0SW50ZXJ2YWwnKTt3YWl0Rm9yRWxtKCdhI2J0bjYnLCBzZ3AgPT4gcmVkaXJlY3Qoc2dwLmhyZWYsIGZhbHNlKSk7fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvbGVpdHVwLmNvbS8sIGZ1bmN0aW9uKCkgewogICAgICBpZiAoZWxlbWVudEV4aXN0cygnI2J1dHRvbl90aW1lcicpKSB7d2FpdEZvckVsbSgnaW5wdXQuZm9ybS1jb250cm9sJywgbGVpdCA9PiByZWRpcmVjdChsZWl0LnBsYWNlaG9sZGVyLCBmYWxzZSkpO319KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9vZmZlcm9jLmNvbS8sIGZ1bmN0aW9uKCkge2xldCBvZnIgPSBzZXRJbnRlcnZhbCgoKSA9PiB7CiAgICAgICAgaWYgKENhcHRjaGFjaGVjaygpKSB7Y2xlYXJJbnRlcnZhbChvZnIpO0NsaWNrSWZFeGlzdHMoJy5tdC0yLmJ0bi1zdWNjZXNzLmJ0bicpO319LCAxICogMTAwMCk7fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvYXptYXRoLmluZm8vLCAoKSA9PiB7aWYgKGVsZW1lbnRFeGlzdHMoJyNtZWdhdXJsLXZlcmlmaWVkLWNhcHRjaGEnKSkgewogICAgICBDbGlja0lmRXhpc3RzKCdidXR0b24uaC1jYXB0Y2hhJywgMyk7fSBlbHNlIHtTdWJtaXRJZkV4aXN0cygnI21lZ2F1cmwtYmFubmVyLXBhZ2UnLCAyKTt9fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvKG5yZWdham9iY2FyZHxwcmFkaGFubWFudHJpdXBkYXRlcykuaW4vLCBmdW5jdGlvbigpIHsKICAgICAgc2V0SW50ZXJ2YWwoKCkgPT4ge1JlYWR5dG9DbGljaygnI3RvcEJ1dHRvbi5zaHJzX2J0bicsIDEpOyBSZWFkeXRvQ2xpY2soJyNib3R0b21CdXR0b24uc2hyc19idG4nLCAyKTt9LCAzICogMTAwMCk7fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvc2hvcnRlYXJuLm5ldC8sIGZ1bmN0aW9uKCkge3BhcmVudC5vcGVuID0gQnBCbG9jaygpOwogICAgICBDbGlja0lmRXhpc3RzKCcjYXBwQnRuJywgMSk7Q2xpY2tJZkV4aXN0cygnI2FkQnRuJywgMywgJ3NldEludGVydmFsJyk7Q2xpY2tJZkV4aXN0cygnI2V4dGVuc2lvbkJ0bicsIDUsICdzZXRJbnRlcnZhbCcpO30pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL2V6NG1vZHMuY29tfHRlY2g1cy5jby8sIGZ1bmN0aW9uKCkge1N1Ym1pdElmRXhpc3RzKCdkaXYudGV4dC1jZW50ZXIgZm9ybScsIDIpOwogICAgICB3YWl0Rm9yRWxtKCdhI2dvX2Quc3VibWl0QnRuLmJ0bi5idG4tcHJpbWFyeScsIGV6ID0+IHJlZGlyZWN0KGV6LmhyZWYsIGZhbHNlKSk7CiAgICAgIHdhaXRGb3JFbG0oJ2EjZ29fZDIuc3VibWl0QnRuLmJ0bi5idG4tcHJpbWFyeScsIGV6MiA9PiByZWRpcmVjdChlejIuaHJlZiwgZmFsc2UpKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC8oY3JlZGl0c2FsYWh8ZGlzc2VudHRpbWVzKS5jb20vLCBmdW5jdGlvbigpIHtDbGlja0lmRXhpc3RzKCcjbm90YXJvYm90JywgMiwgJ3NldEludGVydmFsJyk7CiAgICAgIGxldCBjc2ggPSBzZXRJbnRlcnZhbCgoKSA9PiB7aWYgKENhcHRjaGFjaGVjaygpKSB7Y2xlYXJJbnRlcnZhbChjc2gpO0NsaWNrSWZFeGlzdHMoJyNzYWZlc3ViJyk7fX0sIDEgKiAxMDAwKTt3YWl0Rm9yRWxtKCdhLnNhZmViJywgY3NCdG4gPT4gY3NCdG4uY2xpY2soKSk7fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvd3d3Lmdvb2dsZS5jb218cmVjYXB0Y2hhLm5ldC8sIGFzeW5jIGZ1bmN0aW9uKCkge2F3YWl0IHNsZWVwKDMwMDApICYmIGNmZy5nZXQoJ3JlQ0FQVENIQScpICYmIGNmZy5nZXQoJ0FwaUtleScpOwogICAgICBpZiAoIUFQSUtFWSAmJiBjZmcuZ2V0KCdyZUNBUFRDSEEnKSA9PSB0cnVlKSB7UmVhZHl0b0NsaWNrKCcucmVjYXB0Y2hhLWNoZWNrYm94LWJvcmRlcicpO30gZWxzZSB7fX0pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL25ld2Fzc2V0cy5oY2FwdGNoYS5jb20vLCBhc3luYyBmdW5jdGlvbigpIHthd2FpdCBzbGVlcCgzMDAwKSAmJiBjZmcuZ2V0KCdoQ2FwdGNoYScpICYmIGNmZy5nZXQoJ0FwaUtleScpOwogICAgICBpZiAoIUFQSUtFWSAmJiBjZmcuZ2V0KCdoQ2FwdGNoYScpID09IHRydWUpIHtSZWFkeXRvQ2xpY2soJyNjaGVja2JveCcpO30gZWxzZSB7fX0pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL2FsaXZlZGVza3RvcC5jb20vLCBmdW5jdGlvbigpIHsKICAgICAgaWYgKGVsZW1lbnRFeGlzdHMoJyNjYXB0Y2hhLWZvcm0nKSkge2xldCBhbHYgPSBicCgiaW5wdXRbbmFtZV49J2FscyddIikudmFsdWU7CiAgICAgICAgbGV0IGFsZCA9IGJwKCJpbnB1dFtuYW1lXj0nc2FmZSddIikudmFsdWU7cmVkaXJlY3QoJ2h0dHBzOi8vcnNocnQuY29tLycgKyBhbHYgKyAnP2FwaT0nICsgYWxkLCBmYWxzZSk7fSBlbHNlIHt9fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvKGJuYmZyZWV8ZnJlZXRofGZyZWViaXRjbykuaW4vLCBmdW5jdGlvbigpIHtpZiAoZWxlbWVudEV4aXN0cygnLmgtY2FwdGNoYScpKSB7bGV0IGJ0YyA9IHNldEludGVydmFsKCgpID0+IHsKICAgICAgaWYgKENhcHRjaGFjaGVjaygpKSB7Y2xlYXJJbnRlcnZhbChidGMpO0NsaWNrSWZFeGlzdHMoJyNmcmVlX3BsYXlfZm9ybV9idXR0b24nKTt9fSwgMSAqIDEwMDApO30gZWxzZSB7fX0pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL21hemVuLXZlMy5jb20vLCBmdW5jdGlvbigpIHtFbmFibGVSQ0YoKTtsZXQgbWF6ZSA9IHNldEludGVydmFsKCgpID0+IHsKICAgICAgICBpZiAoYnAoJy5maWxsZXInKS5pbm5lclRleHQgPT0gJ1dhaXQgMCBzJykge2NsZWFySW50ZXJ2YWwobWF6ZSk7UmVhZHl0b0NsaWNrKCcjYnRuNicpO1JlYWR5dG9DbGljaygnLmJ0bi1zdWNjZXNzLmJ0bicsIDEpO319LCAyICogMTAwMCk7fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvbWhtYTEyLnRlY2h8aGFzcmkueHl6fHNvZnQzYXJiaS5jb20vLCBmdW5jdGlvbigpIHtFbmFibGVSQ0YoKTtsZXQgYXJiaSA9IHNldEludGVydmFsKCgpID0+IHsKICAgICAgICBpZiAoYnAoJy5wcm9ncmVzcy1kb25lJykuaW5uZXJUZXh0ID09ICcxMDAlJykge2NsZWFySW50ZXJ2YWwoYXJiaSk7UmVhZHl0b0NsaWNrKCcjY29udGludWUtYnV0dG9uJyk7UmVhZHl0b0NsaWNrKCcuYnRuLXN1Y2Nlc3MuYnRuJywgMSk7fX0sIDIgKiAxMDAwKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC8oMTIwODk4fDE0MTk4OXwxNjE5ODl8MTMxOTg5fDEyMTk4OXwxNTE5ODkpLnh5ei8sIGZ1bmN0aW9uKCkge2lmIChlbGVtZW50RXhpc3RzKCcuZy1yZWNhcHRjaGEnKSkge2xldCBiaXRhZCA9IHNldEludGVydmFsKCgpID0+IHsKICAgICAgaWYgKENhcHRjaGFjaGVjaygpKSB7Y2xlYXJJbnRlcnZhbChiaXRhZCk7U3VibWl0SWZFeGlzdHMoJy5tdC00Jyk7fX0sIDEgKiAxMDAwKTt9IGVsc2Uge319KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9zaG9ydGVhcm4ubmV0LywgZnVuY3Rpb24oKSB7cGFyZW50Lm9wZW4gPSBCcEJsb2NrKCk7Q2xpY2tJZkV4aXN0cygnI2FkQnRuJywgMywgJ3NldEludGVydmFsJyk7CiAgICAgIENsaWNrSWZFeGlzdHMoJyNhcHBCdG4nLCAxKTtDbGlja0lmRXhpc3RzKCdidXR0b24uYnRuLmJ0bi1wcmltYXJ5LmJ0bi1ibG9jay5idG4tbGcnLCAzKTtDbGlja0lmRXhpc3RzKCcjZXh0ZW5zaW9uQnRuJywgNSwgJ3NldEludGVydmFsJyk7fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvKGNvaW5zd2FyZHxibG9nc3dhcmQpLmNvbXxpbWJiLm9ubGluZS8sIGFzeW5jIGZ1bmN0aW9uKCkge2lmIChlbGVtZW50RXhpc3RzKCcuZy1yZWNhcHRjaGEnKSkge3ZhciBidyA9IGJwKCJpbnB1dFtuYW1lPW5ld3dwc2FmZWxpbmtdIik7CiAgICAgIHJlZGlyZWN0KEpTT04ucGFyc2UoYXRvYihidy52YWx1ZSkpLmxpbmtyLCBmYWxzZSk7fSBlbHNlIHt3aW5kb3cuaW5jcmVtZW50UmVkaXJlY3RDb3VudCgpOyBhd2FpdCBzbGVlcCgyMDAwKTsgd2luZG93LmhhbmRsZUJ1dHRvbkNsaWNrKCk7fX0pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoLzFiaXQuc3BhY2V8bWduZXQueHl6LywgZnVuY3Rpb24oKSB7bGV0IGJzcCA9IHNldEludGVydmFsKCgpID0+IHtpZiAoY2FwdGNoYV9zb2x2ZWQpIHtSZWFkeXRvQ2xpY2soJ2J1dHRvbi5idXR0b24nKTtjbGVhckludGVydmFsKGJzcCk7fX0sIDIwMDApOwogICAgICBsZXQgbWduID0gc2V0SW50ZXJ2YWwoKCkgPT4ge2lmIChjYXB0Y2hhX3NvbHZlZCAmJiBicCgnYnV0dG9uLmJ1dHRvbicpLmlubmVyVGV4dC5pbmNsdWRlcygnR2V0IExpbmsnKSkge1JlYWR5dG9DbGljaygnYnV0dG9uLmJ1dHRvbicpO2NsZWFySW50ZXJ2YWwobWduKTt9fSwgMjAwMCk7fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvYmlnYnRjLndpbi8sIGZ1bmN0aW9uKCkge2lmIChlbGVtZW50RXhpc3RzKCcuaC1jYXB0Y2hhJykpIHtsZXQgYmIgPSBzZXRJbnRlcnZhbCgoKSA9PiB7CiAgICAgICAgICBpZiAoQ2FwdGNoYWNoZWNrKCkpIHtjbGVhckludGVydmFsKGJiKTtSZWFkeXRvQ2xpY2soJyNjbGFpbWJ1dG4nKTt9fSwgMSAqIDEwMDApO30gZWxzZSB7Q2xpY2tJZkV4aXN0cygnI2NsaWNraGVyZScsIDIpO319KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9maXJlZmF1Y2V0Lndpbi8sIGZ1bmN0aW9uKCkge2lmIChlbGVtZW50RXhpc3RzKCJmb3JtW21ldGhvZD0ncG9zdCddIikpIHtsZXQgZmlyZWZhdWNldCA9IHNldEludGVydmFsKCgpID0+IHsKICAgICAgaWYgKENhcHRjaGFjaGVjaygpKSB7Q2xpY2tJZkV4aXN0cygnYnV0dG9uW3R5cGU9c3VibWl0XScpO319LCAyICogMTAwMCk7fSBlbHNlIHtDbGlja0lmRXhpc3RzKCcjZ2V0X3Jld2FyZF9idXR0b24nLCAxKTt9fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvdXB0b2JoYWlcLip8dXBsaW5rdG9cLip8c2hvcnRsaW5rdG9cLiovLCBmdW5jdGlvbigpIHsgQ2xpY2tJZkV4aXN0cygnLmJ0bi1ibG9jay5idG4tcHJpbWFyeS5idG4nLCAyKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC90bWFpbC5pby8sIGZ1bmN0aW9uKCkgewogICAgICBpZiAoZWxlbWVudEV4aXN0cygnI25leHQnKSkge1N1Ym1pdElmRXhpc3RzKCdmb3JtLnRleHQtY2VudGVyJywgMyk7fSBlbHNlIHtDbGlja0lmRXhpc3RzKCcjc3VybCcsIDUsICdzZXRJbnRlcnZhbCcpO319KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC8oZXhlb3xleGVnbykuYXBwfChtcmdlY3xlbXhhdykuY29tLywgZnVuY3Rpb24oKSB7Q2xpY2tJZkV4aXN0cygnI3N1Ym1pdC1idXR0b24nLCAyKTtDbGlja0lmRXhpc3RzKCcubGluay1idXR0b24uYnV0dG9uJywgMyk7CiAgICAgIGxldCBleGVvID0gc2V0SW50ZXJ2YWwoKCkgPT4ge2lmIChicCgnLnRpbWVyJykuaW5uZXJUZXh0ID09ICcwJykge2NsZWFySW50ZXJ2YWwoZXhlbyk7UmVhZHl0b0NsaWNrKCcjc3VibWl0LWJ1dHRvbicpO319LCAyICogMTAwMCk7fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvKG9uLXNjcm9sbHxkaXVkZW15fG1hcWFsMzYwKS5jb20vLCBmdW5jdGlvbigpIHtFbmFibGVSQ0YoKTtsZXQgYWRsaW5rID0gc2V0SW50ZXJ2YWwoKCkgPT4gewogICAgICAgIGlmIChicCgnI2NvdW50ZG93bicpLmlubmVyVGV4dCA9PSAnMCcpIHtjbGVhckludGVydmFsKGFkbGluayk7UmVhZHl0b0NsaWNrKCcjYXBwZW5kID4gOm50aC1jaGlsZCgxKScpO319LCAyICogMTAwMCk7fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvKGZvcmV4cnc3fGZvcmV4LWFydGljbGVzfDNyYWJzcG9ydHN8ZngtMjIpLmNvbXxnb2xkLTI0Lm5ldHxiZWRyYXQueHl6fG1hb3M0YWxhdy5vbmxpbmUvLCBmdW5jdGlvbigpIHsKICAgICAgQ2xpY2tJZkV4aXN0cygnLm90byA+IGE6bnRoLWNoaWxkKDEpJywgMSk7IHdhaXRGb3JFbG0oJy5vdG8gPiBhJywgbGlua2p1c3QgPT4gcmVkaXJlY3QobGlua2p1c3QuaHJlZiwgZmFsc2UpKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC8obGVhdmVhZHZpY2V8bWVuc3ZlbnR1cmUpLmNvbS8sIGZ1bmN0aW9uKCkge2xldCBsYXYgPSBzZXRJbnRlcnZhbCgoKSA9PiB7CiAgICAgICAgaWYgKGJwKCcjdGltZXInKS5pbm5lclRleHQgPT0gJzAnKSB7UmVhZHl0b0NsaWNrKCcjbWV0aG9kX2ZyZWUuZnJlZS1kb3dubG9hZC1idG4uZG93bmxvYWQtYnRuJyk7CiAgICAgICAgICBjbGVhckludGVydmFsKGxhdik7IGlmICghZWxlbWVudEV4aXN0cygnLmgtY2FwdGNoYScpKSB3aW5kb3cub3BlbkxpbmsoKTt9fSwgMjAwMCk7fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvaXRzY3liZXJ0ZWNoLmNvbS8sICgpID0+IHtsZXQgaXRzY3liZXIgPSBzZXRJbnRlcnZhbCgoKSA9PiB7aWYgKENhcHRjaGFjaGVjaygpKSB7Y2xlYXJJbnRlcnZhbChpdHNjeWJlcik7CiAgICAgIENsaWNrSWZFeGlzdHMoJy52aXNpdC5tZWRpdW0uYnV0dG9uJyk7fSBlbHNlIGlmIChDaGVja3Zpc2liaWxpdHkoYnAoJyNndGJ0bjInKSkpIHtjbGVhckludGVydmFsKGl0c2N5YmVyKTsgd2luZG93LmZuZ28oKTt9fSwgMSAqIDEwMDApO30pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL2ppb3RlY2gubmV0fGphbWVlbHRpcHMudXN8Y3J5cHRvbndvcmxkLnNwYWNlLywgZnVuY3Rpb24oKSB7CiAgICAgIENsaWNrSWZFeGlzdHMoJyNhbGZfY29udGludWUnLCAzLCAnc2V0SW50ZXJ2YWwnKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9oeW5ld3MuYml6fGNoYW1jdXVob2MuY29tLywgZnVuY3Rpb24oKSB7CiAgICAgIHZhciBieXBhc3NsaW5rcyA9IGF0b2IoYGFIJHticCgiI2xhbmRpbmcgW25hbWU9J2dvJ10iKS52YWx1ZS5zcGxpdCgiYUgiKS5zbGljZSgxKS5qb2luKCJhSCIpfWApO3JlZGlyZWN0KGJ5cGFzc2xpbmtzKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC90aWkubGEvLCBmdW5jdGlvbigpIHtpZiAoZWxlbWVudEV4aXN0cygnI2xpbmstdmlldycpKSB7CiAgICAgICAgbGV0IHNiZiA9IHNldEludGVydmFsKGZ1bmN0aW9uKCkge2lmIChDYXB0Y2hhY2hlY2soKSkge2NsZWFySW50ZXJ2YWwoc2JmKTtDbGlja0lmRXhpc3RzKCcjY29udGludWUnKTt9fSwgNTAwKTt9fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvc2tpcGxpbmsubWUvLCBmdW5jdGlvbigpIHsKICAgICAgQ2xpY2tJZkV4aXN0cygnI2FsZl9jb250aW51ZV9jYXB0Y2hhJywgMik7Q2xpY2tJZkV4aXN0cygnI2FsZl9jb250aW51ZScsIDMsICdzZXRJbnRlcnZhbCcpO30pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL2FwYW5tdXNpYy5pbi8sIGZ1bmN0aW9uKCkge3dhaXRGb3JFbG0oJ2Ejbm90YXJvYm90LmJ1dHRvbicsIGFtcyA9PiByZWRpcmVjdChhbXMuaHJlZiwgZmFsc2UpKTsKICAgICAgQ2xpY2tJZkV4aXN0cygnI2dldGxpbmsnLCAzLCAnc2V0SW50ZXJ2YWwnKTtDbGlja0lmRXhpc3RzKCcjZ290b2xpbmsnLCAzMCk7fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvby1wcm8ub25saW5lLywgZnVuY3Rpb24oKSB7d2FpdEZvckVsbSgnI25ld2J1dHRvbiA+IGEnLCBvcG8gPT4gcmVkaXJlY3Qob3BvLmhyZWYsIGZhbHNlKSk7CiAgICAgIHdhaXRGb3JFbG0oJ2EuYnRuLmJ0bi1kZWZhdWx0LmJ0bi1zbScsIG9wbzIgPT4gcmVkaXJlY3Qob3BvMi5ocmVmLCBmYWxzZSkpO30pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoLyh0cmF2ZWxpcm9uZ3VpZGV8YnVzaW5lc3Nzb2Z0d2FyZWhlcmV8c29mdHdhcmVzb2x1dGlvbnNoZXJlfGZyZWV2cHNoZXJlKS5jb20vLCBmdW5jdGlvbigpIHsKICAgICAgaWYgKGVsZW1lbnRFeGlzdHMoJy5nLXJlY2FwdGNoYScpKSB7bGV0IHRyZyA9IHNldEludGVydmFsKCgpID0+IHtpZiAoQ2FwdGNoYWNoZWNrKCkpIHtjbGVhckludGVydmFsKHRyZyk7CiAgICAgICAgICAgIFN1Ym1pdElmRXhpc3RzKCcjbHZpZXcgPiBmb3JtJyk7fX0sIDEgKiAxMDAwKTt9IGVsc2Uge3dhaXRGb3JFbG0oJy5nZXQtbGluayA+IGEnLCB0aWcgPT4gcmVkaXJlY3QodGlnLmhyZWYsIGZhbHNlKSk7fX0pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL2Vhc3l3b3JsZGJ1c2luZXNzLmNvbS8sIGZ1bmN0aW9uKCkgewogICAgICBpZiAoZWxlbWVudEV4aXN0cygnLmctcmVjYXB0Y2hhJykpIHt3YWl0Rm9yRWxtKCdhLnl1LWJ0bi55dS1ibHVlJywgZXdiID0+IHJlZGlyZWN0KGV3Yi5ocmVmLCBmYWxzZSkpO30gZWxzZSB7Q2xpY2tJZkV4aXN0cygnLnl1LWJsdWUueXUtYnRuJywgMTUpO319KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9nZXR6ZW4uY2FzaC8sIGZ1bmN0aW9uKCkge2lmIChlbGVtZW50RXhpc3RzKCcjZm9ybS1jbGFpbS16ZW4nKSkge2xldCBnemMgPSBzZXRJbnRlcnZhbCgoKSA9PiB7CiAgICAgICAgICBpZiAoQ2FwdGNoYWNoZWNrKCkpIHtjbGVhckludGVydmFsKGd6Yyk7Q2xpY2tJZkV4aXN0cygnLmJ0bi1jbGFpbScpO319LCAxICogMTAwMCk7fSBlbHNlIHt9fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvKGtvbmd1dG9kYXl8cHJvYXBwYXBrfGhpcHNvbnljfHRlYW10ZWNobmV3cykuY29tfGZpbnN1cmFuY2VzLmNvfHlvdHJpY2tzbG9nLnRlY2h8YW5pbWFsd2FsbHBhcGVycy5vbmxpbmUvLCBmdW5jdGlvbigpIHsKICAgICAgaWYgKEJwUGFyYW1zLmhhcygnc2FmZScpKSB7bWV0YShhdG9iKEJwUGFyYW1zLmdldCgnc2FmZScpKSk7fX0pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL2RlcG9ydGVhbGRpYS5saXZlfG5vd2Vjb25vbXkubGl2ZXx0ZWNoZ2Vlay5kaWdpdGFsLywgZnVuY3Rpb24oKSB7U3VibWl0SWZFeGlzdHMoJ2Rpdi50ZXh0LWNlbnRlciBkaXYgZm9ybScsIDIpOwogICAgICB3YWl0Rm9yRWxtKCdhI3N1cmwxLmJ0bi1tYWluLmdldC1saW5rJywgZGVwID0+IHJlZGlyZWN0KGRlcC5ocmVmLCBmYWxzZSkpO30pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL25pc2hhbmtoYXRyaS54eXovLCBmdW5jdGlvbigpIHt3YWl0Rm9yRWxtKCcjbXktYnRuJywgbnNrID0+IHJlZGlyZWN0KG5zay5ocmVmLCBmYWxzZSkpOwogICAgICBDbGlja0lmRXhpc3RzKCcjcHJvLWNvbnRpbnVlJywgMyk7Q2xpY2tJZkV4aXN0cygnI3Byby1idG4nLCA1LCAnc2V0SW50ZXJ2YWwnKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC93cml0ZWRyb2lkLmV1Lm9yZ3xtb2RtYW5pYS5ldS5vcmd8d3JpdGVkcm9pZC5pbnxteXRvcDUuY2x1Yi8sIGZ1bmN0aW9uKCkgewogICAgICBDbGlja0lmRXhpc3RzKCcjc2hvcnRQb3N0TGluaycsIDMpO3dhaXRGb3JFbG0oIiNzaG9ydEdvVG9MaW5rIiwgZHJvID0+IHJlZGlyZWN0KGRyby5ocmVmLCBmYWxzZSkpO30pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL2NvbXB1dGVycGVkaWEuaW4vLCBmdW5jdGlvbigpIHtDbGlja0lmRXhpc3RzKCcudHAtYmx1ZS50cC1idG4tMicsIDMpOwogICAgICBsZXQga29tcCA9IHNldEludGVydmFsKGZ1bmN0aW9uKCkge2lmIChDYXB0Y2hhY2hlY2soKSkge2NsZWFySW50ZXJ2YWwoa29tcCk7Q2xpY2tJZkV4aXN0cygnI3RwLXNucDInKTt9fSwgNTAwKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9teXByaXZhdGVqb2JzLmNvbS8sIGZ1bmN0aW9uKCkgewogICAgICBpZiAoZWxlbWVudEV4aXN0cygnLmctcmVjYXB0Y2hhJykpIHtDbGlja0lmRXhpc3RzKCcjdHAtc25wMi50cC1ibHVlLnRwLWJ0bi0yJywgMyk7fSBlbHNlIHtTdWJtaXRJZkV4aXN0cygiZm9ybVtuYW1lPSd0cCddIiwgMyk7fX0pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL2NsYWltZnJlZXRyeC5vbmxpbmUvLCBmdW5jdGlvbigpIHtTdWJtaXRJZkV4aXN0cygnI21vbGllbicsIDIpO0NsaWNrSWZFeGlzdHMoJyN2ZXJpZnkgPiAubWItMi5idG4tcHJpbWFyeS5idG4tbGcuYnRuJywgMyk7fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvYWRjbGlja2VyXC4qfHlvdXJpaG9sbGllci5jb20vLCBmdW5jdGlvbigpIHtpZiAobG9jYXRpb24uaHJlZi5pbmNsdWRlcygndXJsLycpKSB7Y29uc3QgYWRjID0gYXRvYihhdG9iKGF0b2IobG9jYXRpb24uaGFzaC5zbGljZSgxKSkpKTsKICAgICAgcmVkaXJlY3QobmV3IFVSTFNlYXJjaFBhcmFtcyhhZGMpLmdldCgndXJsJykpO30gZWxzZSB7fX0pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL29mZmVyczRjcnlwdG8ueHl6fGV3YWxsLmJpei8sIGZ1bmN0aW9uKCkgewogICAgICBpZiAoZWxlbWVudEV4aXN0cygnLmctcmVjYXB0Y2hhJykpIHtsZXQgb2ZjID0gc2V0SW50ZXJ2YWwoKCkgPT4ge2lmIChDYXB0Y2hhY2hlY2soKSkge2NsZWFySW50ZXJ2YWwob2ZjKTsKICAgICAgICAgICAgQ2xpY2tJZkV4aXN0cygnI3N1Ym1pdEJ0bicpO319LCAxICogMTAwMCk7fSBlbHNlIHt9fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvZGwubGsyMXN0YXRpYy54eXovLCBmdW5jdGlvbigpIHsKICAgICAgaWYgKCFsb2NhdGlvbi5ocmVmLmluY2x1ZGVzKCdnZXQvJykgJiYgbG9jYXRpb24ucGF0aG5hbWUgIT0gJy8nKSB7bG9jYXRpb24gPSBsb2NhdGlvbi5ocmVmLnJlcGxhY2UoJ3l6LycsICd5ei9nZXQvJyk7fX0pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL2Vhc3lsaW5rLmdhbWluZ3dpdGh0ci5jb20vLCBmdW5jdGlvbigpIHtDbGlja0lmRXhpc3RzKCcjY291bnRkb3duJywgMik7CiAgICAgIHdhaXRGb3JFbG0oJ2EjcGFnZWxpbmtocmVmLmJ0bi5idG4tbGcuYnRuLXN1Y2Nlc3MubXktNC5weC0zLnRleHQtY2VudGVyJywgZ3RyID0+IHJlZGlyZWN0KGd0ci5ocmVmLCBmYWxzZSkpO30pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL2NvcHktcGFzdGUtZm9udHMuY29tfGNyeXB0ZWRuZXdzLnNwYWNlLywgZnVuY3Rpb24oKSB7CiAgICAgIGlmIChlbGVtZW50RXhpc3RzKCcuZy1yZWNhcHRjaGEnKSkge2xldCBjcGYgPSBzZXRJbnRlcnZhbCgoKSA9PiB7aWYgKENhcHRjaGFjaGVjaygpKSB7Y2xlYXJJbnRlcnZhbChjcGYpOwogICAgICAgICAgICBDbGlja0lmRXhpc3RzKCdmb3JtIGNlbnRlciBidXR0b24nKTt9fSwgMSAqIDEwMDApO30gZWxzZSB7c2V0VGltZW91dCgoKSA9PiB7Q2xpY2tJZkV4aXN0cygnZm9ybSBjZW50ZXIgYnV0dG9uJyk7fSwgMTEgKiAxMDAwKTt9fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvKHRoZWNvbm9teXxuaWdodGZhdWNldCkubWV8KGltYWdlbmVzZGVyb3BhcGFyYXBlcnJvc3xsaW5jbGlrfHVwNGNhc2h8c21vbmVyKS5jb218aGFwcHktbGl2aW5nLm9ubGluZXxnYWxheHktbGluay5zcGFjZXxva2UuaW98Yml0c3Muc2JzfChmb3JleHRyYWRlcnxmb3h5bGlua3MpLnNpdGUvLCBmdW5jdGlvbigpIHsKICAgICAgaWYgKGVsZW1lbnRFeGlzdHMoJyNsaW5rLXZpZXcnKSkge2xldCBzcmwgPSBzZXRJbnRlcnZhbCgoKSA9PiB7aWYgKENhcHRjaGFjaGVjaygpKSB7Q2xpY2tJZkV4aXN0cygnI2ludmlzaWJsZUNhcHRjaGFTaG9ydGxpbmsnKTt9fSwgMSAqIDEwMDApO319KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9zb2xhcmNoYWluZS5jb20vLCBmdW5jdGlvbigpIHsKICAgICAgaWYgKGVsZW1lbnRFeGlzdHMoJyNjYXB0Y2hhU2hvcnRsaW5rJykpIHtDbGlja0lmRXhpc3RzKCdidXR0b24uYnRuOm50aC1jaGlsZCg0KScsIDIpO2xldCBzY2ggPSBzZXRJbnRlcnZhbCgoKSA9PiB7aWYgKENhcHRjaGFjaGVjaygpKSB7Y2xlYXJJbnRlcnZhbChzY2gpOwogICAgICAgICAgICBDbGlja0lmRXhpc3RzKCcjaW52aXNpYmxlQ2FwdGNoYVNob3J0bGluaycpO319LCAxICogMTAwMCk7fSBlbHNlIHtTdWJtaXRJZkV4aXN0cygnLmJveC1ib2R5ID4gZm9ybTpudGgtY2hpbGQoMiknLCAxKTt9fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvKHJlbWl4c291bmRzfGhlbHBvd2l8aGVscGRlZXB8dGhpbmtzcmFjZXx0aXBzbG9hbnVzYSkuY29tfChyZW1peG9uZXx3ZWJzZXJpZXNyZWVsKS5pbnx1cHJ3c3NwLm9yZ3xzZWN1cml0eXdhaXR0aW1lcy51cy8sIGZ1bmN0aW9uKCkge0VuYWJsZVJDRigpOwogICAgICBDbGlja0lmRXhpc3RzKCcubS0yLmJ0bi1jYXB0Y2hhLmJ0bi1vdXRsaW5lLXByaW1hcnkuYnRuJywgMik7Q2xpY2tJZkV4aXN0cygnLnRwZGV2LWJ0bicsIDMpO0NsaWNrSWZFeGlzdHMoIiN0cDk4IGJ1dHRvbltjbGFzc149J2J0J10iLCAzKTsgU3VibWl0SWZFeGlzdHMoImZvcm1bbmFtZT0ndHAnXSIsIDMpOyBDbGlja0lmRXhpc3RzKCcjYnRuNicsIDQpO30pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL3Nocmlua2VcLip8c2hyaW5rbWVcLip8KGxpbmt2aG9yaXp8cGFpZDRsaW5rKS5jb218Ymljb2xpbmsubmV0fHdvcmRjb3VudGVyLmljdXxwd3JwYS5jY3xwYXlsaW5rcy5jbG91ZC8sIGZ1bmN0aW9uKCkge2xldCBzaGsgPSBzZXRJbnRlcnZhbCgoKSA9PiB7CiAgICAgICAgaWYgKENhcHRjaGFjaGVjaygpKSB7Y2xlYXJJbnRlcnZhbChzaGspO1JlYWR5dG9DbGljaygnI2ludmlzaWJsZUNhcHRjaGFTaG9ydGxpbmsnKTt9fSwgMSAqIDEwMDApO30pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL3Jldmx5LmNsaWNrLywgZnVuY3Rpb24oKSB7CiAgICAgIGlmIChlbGVtZW50RXhpc3RzKCcjbGluay12aWV3JykpIHtsZXQgc3JsID0gc2V0SW50ZXJ2YWwoKCkgPT4ge2lmIChDYXB0Y2hhY2hlY2soKSkge1N1Ym1pdElmRXhpc3RzKCcjbGluay12aWV3Jyk7fX0sIDEgKiAxMDAwKTt9IGVsc2Uge1N1Ym1pdElmRXhpc3RzKCdkaXYuY29sLW1kLTEyIGZvcm0nLCAyKTt9fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvdGhlY29ub215Lm1lfChhc2twYWNjb3NpfGhhbG9zZW5qYXxzYWlubnl8d2VsbG5lc3M0bGl2ZSkuY29tfCgydGhlfHRlY2hiZWFzdCkuc3BhY2V8KHdpa2l2ZXJzaXR5fGluaWNlcml0YSkub25saW5lfGNyeXB0b21vbml0b3IuaW58YnJlYWsuaWQvLCBmdW5jdGlvbigpIHsKICAgICAgdmFyIHRmb3JtID0gYnAoJyNsYW5kaW5nJyk7cmVkaXJlY3QoSlNPTi5wYXJzZShhdG9iKHRmb3JtLm5ld3dwc2FmZWxpbmsudmFsdWUpKS5saW5rciwgZmFsc2UpO30pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoLyhibG9nc2NhcmV8YmxvZ3RlY2hofGhvc3QybG9hbikuY29tfGVuaXQuaW58Y2xrLndpa2l8KG9rb3xhaWkpLnNofG1vb25ib29tLm5ldHxsbmJ6LmxhLywgZnVuY3Rpb24oKSB7Q2xpY2tJZkV4aXN0cygnYnV0dG9uLmJ0bi5idG4tcHJpbWFyeScsIDIpO1N1Ym1pdElmRXhpc3RzKCcjbmV4dHBhZ2UnLCAyKTsKICAgICAgU3VibWl0SWZFeGlzdHMoJyNnZXRteWxpbmsnLCAzKTtsZXQgZW5pdCA9IHNldEludGVydmFsKGZ1bmN0aW9uKCkge2lmIChDYXB0Y2hhY2hlY2soKSkge2NsZWFySW50ZXJ2YWwoZW5pdCk7Q2xpY2tJZkV4aXN0cygnLmJ0bi1jYXB0Y2hhLmJ0bi1wcmltYXJ5LmJ0bicpO319LCA1MDApO30pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL3RlY2h5cmV2aWV3eC5jb218ZGVzaXVwbG9hZC5jby8sIGZ1bmN0aW9uKCkge0NsaWNrSWZFeGlzdHMoJy5kb3dubG9hZGJ0bi5idG4tYmxvY2suYnRuLXByaW1hcnkuYnRuJywgMik7CiAgICAgIHdhaXRGb3JFbG0oJ2EuYnRuLmJ0bi1wcmltYXJ5LmJ0bi1ibG9jay5tYi00JywgcmV4ID0+IHJlZGlyZWN0KHJleC5ocmVmLCBmYWxzZSkpO30pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoLyhjYWxtZ3JhbXxhZGJpdGZseXxibG9nc3dhcmQpLmNvbXxhZGJpdGZseS5pbi8sIGZ1bmN0aW9uKCkgewogICAgICB3YWl0Rm9yRWxtKCcjY29udGludWVCdG4nLCBhZkJ0biA9PiBhZkJ0bi5jbGljaygpKTtDbGlja0lmRXhpc3RzKCcjY2FwdGNoYS1idG4nLCA0LCAnc2V0SW50ZXJ2YWwnKTsKICAgICAgQ2xpY2tJZkV4aXN0cygnLmJ0bi1jYXB0Y2hhLmJ0bi1wcmltYXJ5LmJ0bicsIDgsICdzZXRJbnRlcnZhbCcpO30pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL3Nob3J0ZXJhbGwuY29tLywgZnVuY3Rpb24oKSB7aWYgKCFlbGVtZW50RXhpc3RzKCdpbnB1dFtuYW1lPWF3bnN3ZXJdJykgJiYgIWVsZW1lbnRFeGlzdHMoJyNsaW5rLXZpZXcnKSkge1N1Ym1pdElmRXhpc3RzKCdkaXYuY29sLW1kLTEyIGZvcm0nLCAzKTt9CiAgICAgIGlmIChlbGVtZW50RXhpc3RzKCdpbnB1dFtuYW1lPWF3bnN3ZXJdJykpIHtsZXQgc3RybCA9IGJwKCdpbnB1dFtuYW1lPWF3bnN3ZXJdJykuZ2V0QXR0cmlidXRlKCdwbGFjZWhvbGRlcicpLnNwbGl0KCc9JylbMF07IGJwKCdpbnB1dFtuYW1lPWF3bnN3ZXJdJykudmFsdWUgPSBCcENhbGMoc3RybCk7IFN1Ym1pdElmRXhpc3RzKCdkaXYuY29sLW1kLTEyIGZvcm0nLCAzKTt9CiAgICAgIGlmIChlbGVtZW50RXhpc3RzKCcjbGluay12aWV3JykpIHtsZXQgc3JsID0gc2V0SW50ZXJ2YWwoKCkgPT4ge2lmIChDYXB0Y2hhY2hlY2soKSkge1JlYWR5dG9DbGljaygnI2ludmlzaWJsZUNhcHRjaGFTaG9ydGxpbmsnKTt9fSwgMSAqIDEwMDApO319KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC8oZXhhY3RwYXl8ZGluaGVpcm9jcnlwdG8pLm9ubGluZXx2aWRlb2NsaXAuaW5mb3xzcHJvdXR3b3JrZXJzLmNvfGNvaW5zZmF1Y2V0LmZ1bi8sIGZ1bmN0aW9uKCkge0VuYWJsZVJDRigpO3dpbmRvdy5vbnNjcm9sbCA9IEJwQmxvY2soKTt3aW5kb3cuY2hlY2syKCk7aWYgKGVsZW1lbnRFeGlzdHMoJyN2ZXJpZnknKSkgewogICAgICAgICQoJy5ibG9nLWRldGFpbHMnKS50ZXh0KCdQbGVhc2UgQW5zd2VyIHRoZSBNYXRocyBRdWVzdGlvbnMgRmlyc3QgLFdhaXQgdW50aWwgUHJvZ3Jlc3MgYmFyIGVuZCwgdGhlbiBDbGljayB0aGUgUmVkIFggTWFudWFsbHknKTsKICAgICAgICBlbGVtZW50UmVhZHkoJ1tuYW1lPSJhbnN3ZXIiXScpLnRoZW4oZnVuY3Rpb24oZWxlbWVudCkge2VsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgd2luZG93LmNoZWNrMyk7fSk7fX0pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoLyhjcnlwdG80eXV8bWFub2ZhZGFufHdpb3VyKS5jb218YnRjYml0Y28uaW58cmVhZGJpdGNvaW4ub3JnLywgYXN5bmMgZnVuY3Rpb24oKSB7CiAgICAgIEVuYWJsZVJDRigpO2F3YWl0IHNsZWVwKDIwMDApO3dpbmRvdy5jaGVjazIoKTt3aW5kb3cuY2hlY2szKCk7Q2xpY2tJZkV4aXN0cygnYnV0dG9uLmJ0bi5idG4tcHJpbWFyeS5idG4tbGcnKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC8oYnRjcGFueXx6b21iaWVidGN8Y2xhaW1mZXl8dGhlZmFzdHBvc3QpLmNvbXwoYmF0dGxlcm95YWx8cGFueXRvdXJpc218c3RhdGVwYW55KS5vbmxpbmUvLCBmdW5jdGlvbigpIHsKICAgICAgcGFyZW50Lm9wZW4gPSBCcEJsb2NrKCk7U3VibWl0SWZFeGlzdHMoJyNsaW5rMXMtZm9ybScsIDEpO0NsaWNrSWZFeGlzdHMoJyNuZXh0LXN0ZXAtYnV0dG9uJywgMyk7fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvcGxheW5hbm8ub25saW5lLywgZnVuY3Rpb24oKSB7Q2xpY2tJZkV4aXN0cygnI3dhdGNoLWxpbmsnLCAyKTsKICAgICAgQ2xpY2tJZkV4aXN0cygnLndhdGNoLW5leHQtYnRuLmJ0bi1wcmltYXJ5LmJ1dHRvbicsIDIpO0NsaWNrSWZFeGlzdHMoJ2J1dHRvbi5idXR0b24uYnRuLXByaW1hcnkud2F0Y2gtbmV4dC1idG4nLCA1LCAnc2V0SW50ZXJ2YWwnKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9kb25pYTJ0ZWNoLmNvbXxibG9nLnRlY2hleXN1Yi5vbmxpbmV8bWluZXJzaW0uY29tLywgZnVuY3Rpb24oKSB7CiAgICAgIHZhciBmb3JtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3dwc2FmZWxpbmstbGFuZGluZycpO3JlZGlyZWN0KEpTT04ucGFyc2UoYXRvYihmb3JtLm5ld3dwc2FmZWxpbmsudmFsdWUpKS5saW5rcik7fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvcmVrb25pc2UuY29tLywgKCkgPT4ge2xldCB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTsKICAgICAgeGhyLm9ubG9hZCA9ICgpID0+IHJlZGlyZWN0KEpTT04ucGFyc2UoeGhyLnJlc3BvbnNlVGV4dCkudXJsKTsKICAgICAgeGhyLm9wZW4oIkdFVCIsICJodHRwczovL2FwaS5yZWtvbmlzZS5jb20vc29jaWFsLXVubG9ja3MiICsgbG9jYXRpb24ucGF0aG5hbWUsIHRydWUpO3hoci5zZW5kKCk7fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvYWNvcnRhbGluay5tZS8sICgpID0+IHtsZXQgYWNvcnRhID0gc2V0SW50ZXJ2YWwoKCkgPT4ge2xldCBzY3JpcHQgPSBicCgnYm9keSA+IHNjcmlwdCcpOwogICAgICAgIGlmIChzY3JpcHQpIHtsZXQgdGV4dCA9IHNjcmlwdC50ZXh0LnRyaW0oKTsgbGV0IGxpbmVzID0gdGV4dC5zcGxpdCgnXG4nKTsgbGV0IGkgPSBsaW5lcy5maW5kSW5kZXgoeCA9PiB4LmluY2x1ZGVzKCdhY29ydGFsaW5rLm1lJykpOwogICAgICAgICAgbGV0IGxpbmsgPSBsaW5lc1tpICsgMl0udHJpbSgpLnNwbGl0KCcsJylbNl0udHJpbSgpOyBpZiAod2luZG93W2xpbmtdKSB7Y2xlYXJJbnRlcnZhbChhY29ydGEpOyByZWRpcmVjdCh3aW5kb3dbbGlua10pO319fSwgMTAwKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC90ZWtub3NpbXBsZS5jb218YmVzYXJnYWppLmNvbS8sIGZ1bmN0aW9uKCkge3BhcmVudC5vcGVuID0gQnBCbG9jaygpO0NsaWNrSWZFeGlzdHMoJyNzbHUtbGluaycsIDMpOwogICAgICBsZXQgdGVrID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKSB7aWYgKENhcHRjaGFjaGVjaygpKSB7Y2xlYXJJbnRlcnZhbCh0ZWspO0NsaWNrSWZFeGlzdHMoJyNzbHUtY29udGludWUnKTt9fSwgNTAwKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9ibG9naW5rei5jb20vLCBmdW5jdGlvbigpIHtsZXQgYmkgPSBzZXRJbnRlcnZhbChmdW5jdGlvbigpIHtpZiAoQ2FwdGNoYWNoZWNrKCkpIHtjbGVhckludGVydmFsKGJpKTtDbGlja0lmRXhpc3RzKCdidXR0b24uYnRuJyk7fX0sIDUwMCk7CiAgICAgIHdhaXRGb3JFbG0oJ2EuZ2V0LWxpbmsuZGlzYWJsZWQgYScsIGJsaSA9PiByZWRpcmVjdChibGkuaHJlZikpO30pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL2Jhc3RpbmV3cy54eXovLCBmdW5jdGlvbigpIHt3YWl0Rm9yRWxtKCdkaXYjd3BzYWZlLXNucCBjZW50ZXIgYS5idG4tdmlwLmJidG4tdmlwJywgYmFzdCA9PiByZWRpcmVjdChiYXN0LmhyZWYsIGZhbHNlKSk7CiAgICAgIHdhaXRGb3JFbG0oJ2RpdiNtYWluLWNvbnRlbnQubWgtY29udGVudCBjZW50ZXIgYScsIGJhc3RpID0+IHJlZGlyZWN0KGJhc3RpLmhyZWYsIGZhbHNlKSk7fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvYXV0b2RpbWUuY29tLywgZnVuY3Rpb24oKSB7CiAgICAgIGxldCBhdGQgPSBzZXRJbnRlcnZhbChmdW5jdGlvbigpIHtpZiAoQ2FwdGNoYWNoZWNrKCkpIHtjbGVhckludGVydmFsKGF0ZCk7Q2xpY2tJZkV4aXN0cygnI2J1dHRvbjEnKTt9fSwgNTAwKTsKICAgICAgd2FpdEZvckVsbSgnYS5idG4taG92ZXIuY29sb3ItMS5idG4tY2FwdGNoYScsIG9kaW0gPT4gcmVkaXJlY3Qob2RpbS5ocmVmLCBmYWxzZSkpO30pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL2xvb3RsaW5rcy5jb3wobG9vdC1saW5rc3xsaW5rcy1sb290fGxvb3QtbGluaykuY29tfChsb290ZGVzdHxsb290bGluaykub3JnfGxvb3RkZXN0LmluZm98bGlua3Nsb290Lm5ldC8sIGZ1bmN0aW9uKCkgewogICAgICBsZXQgbGxuID0gYnAoJ2JvZHkgPiBzY3JpcHQnKTtsZXQgbGxzID0gc3RyQmV0d2VlbihsbG4udGV4dCwgYD0gJ2AsIGAsJ2ApLnNwbGl0KCInIikuc2xpY2UoNTAsIC01KTtzZXRUaW1lb3V0KCgpID0+IHtyZWRpcmVjdChEZWNyeXB0ZXIyKGxscyksIGZhbHNlKTt9LCAyICogMTAwMCk7fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvYW1yaXRhZHJpbm8uY29tLywgZnVuY3Rpb24oKSB7CiAgICAgIGlmIChlbGVtZW50RXhpc3RzKCcuZy1yZWNhcHRjaGEnKSkge3dhaXRGb3JFbG0oJ2JvZHkgPiBiOm50aC1jaGlsZCgxMCkgPiBjZW50ZXI6bnRoLWNoaWxkKDQpID4gYTpudGgtY2hpbGQoNjQpJywgYW1kID0+IHJlZGlyZWN0KGFtZC5ocmVmLCBmYWxzZSkpO30gZWxzZSB7d2FpdEZvckVsbSgnI3RwLXNucDInLCBhbUJ0biA9PiBhbUJ0bi5jbGljaygpKTt9fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgveW91dHViZS5jb20vLCBmdW5jdGlvbigpIHtpZiAoZWxlbWVudEV4aXN0cygnI3JlZGlyZWN0LW1haW4tdGV4dCcpKSB7d2FpdEZvckVsbSgnYSNpbnZhbGlkLXRva2VuLXJlZGlyZWN0LWdvdG8tc2l0ZS1idXR0b24nLCB5dCA9PiByZWRpcmVjdCh5dC5ocmVmLCBmYWxzZSkpO30gZWxzZSB7fX0pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL2h1bnRlcmtpbGxlci5tZXxzdXJmbGluay50ZWNoLywgZnVuY3Rpb24oKSB7CiAgICAgIHdhaXRGb3JFbG0oJ2RpdiNzaG93dyBjZW50ZXIgYS5idG4uYnRuLWRhbmdlci5idG4tY2FwdGNoYScsIGh1biA9PiByZWRpcmVjdChodW4uaHJlZiwgZmFsc2UpKTsKICAgICAgd2FpdEZvckVsbSgnZGl2I3dwc2FmZS1zbnAgY2VudGVyIGEnLCBodW50ID0+IHJlZGlyZWN0KGh1bnQuaHJlZiwgZmFsc2UpKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9jb2luaHViLndpa2kvLCBmdW5jdGlvbigpIHtDbGlja0lmRXhpc3RzKCdib2R5ID4gYTpudGgtY2hpbGQoMSknLCAyKTsKICAgICAgQ2xpY2tJZkV4aXN0cygnI2NobF9jb3ZlcicsIDIpO0NsaWNrSWZFeGlzdHMoJyNidG5fdmVyaWZ5JywgNCwgJ3NldEludGVydmFsJyk7CiAgICAgIHdhaXRGb3JFbG0oJ2EuYnRuLmJ0bi1zdWNjZXNzJywgY29pID0+IHJlZGlyZWN0KGNvaS5ocmVmLCBmYWxzZSkpO30pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL2x5cmljc2JhYXphYXIuY29tfGV6ZXZpcmFsLmNvbS8sIGZ1bmN0aW9uKCkgewogICAgICBsZXQgbHlyID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKSB7aWYgKENhcHRjaGFjaGVjaygpKSB7Y2xlYXJJbnRlcnZhbChseXIpO0NsaWNrSWZFeGlzdHMoJyNidG42Jyk7fX0sIDUwMCk7CiAgICAgIHdhaXRGb3JFbG0oJ2Rpdi5tb2RhbC1jb250ZW50IGEnLCBseXJpID0+IHJlZGlyZWN0KGx5cmkuaHJlZiwgZmFsc2UpKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC8oc2VraWxhc3Rla25vfG1pdWlrdXx2ZWJtYXxtYWphbGFoaGV3YW4pLmNvbS8sIGFzeW5jIGZ1bmN0aW9uKCkge2NvbnN0IGV4ZWN1dG9yID0gYXN5bmMgKCkgPT4ge2xldCBFbCA9IHdpbmRvdz8ubGl2ZXdpcmU/LmNvbXBvbmVudHM/LmNvbXBvbmVudHMoKVswXTsKICAgICAgICB3aGlsZSAoIUVsKSB7YXdhaXQgc2xlZXAoMTAwKTsgY29uc29sZS5sb2coMSk7IEVsID0gd2luZG93Py5saXZld2lyZT8uY29tcG9uZW50cz8uY29tcG9uZW50cygpWzBdO30KICAgICAgICBjb25zdCBwYXlsb2FkID0ge2ZpbmdlcnByaW50OiBFbC5maW5nZXJwcmludCwgc2VydmVyTWVtbzogRWwuc2VydmVyTWVtbywgdXBkYXRlczogW3twYXlsb2FkOiB7ZXZlbnQ6ICdnZXREYXRhJywgaWQ6ICd3aGF0aGFwcGVuJywgcGFyYW1zOiBbXSx9LCB0eXBlOiAnZmlyZUV2ZW50Jyx9LCBdLH07CiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChsb2NhdGlvbi5vcmlnaW4gKyAnL2xpdmV3aXJlL21lc3NhZ2UvcGFnZXMuc2hvdycsIHtoZWFkZXJzOiB7J0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJywgJ1gtTGl2ZXdpcmUnOiAndHJ1ZScsICdYLUNTUkYtVE9LRU4nOiB3aW5kb3cubGl2ZXdpcmVfdG9rZW4sfSwKICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsIGJvZHk6IEpTT04uc3RyaW5naWZ5KHBheWxvYWQpLH0pOyBjb25zdCBqc29uID0gYXdhaXQgcmVzcG9uc2UuanNvbigpOyBjb25zdCB1cmwgPSBuZXcgVVJMKGpzb24uZWZmZWN0cy5lbWl0c1swXS5wYXJhbXNbMF0pOyByZWRpcmVjdCh1cmwuaHJlZik7fTsKICAgICAgaWYgKGxvY2F0aW9uLmhvc3QgPT09ICd3cC5zZWtpbGFzdGVrbm8uY29tJykge2lmIChlbGVtZW50RXhpc3RzKCJmb3JtW21ldGhvZD0ncG9zdCddIikpIHtjb25zdCBhID0gYnAoImZvcm1bbWV0aG9kPSdwb3N0J10iKTsgY29uc29sZS5sb2coJ2FkZFJlY29yZC4uLicpOyBjb25zdCBpbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7CiAgICAgICAgICBpbnB1dC52YWx1ZSA9IHdpbmRvdy5saXZld2lyZV90b2tlbjsgaW5wdXQubmFtZSA9ICdfdG9rZW4nOyBpbnB1dC5oaWRkZW4gPSB0cnVlOyBhLmFwcGVuZENoaWxkKGlucHV0KTsgYS5zdWJtaXQoKTt9CiAgICAgIGlmIChlbGVtZW50RXhpc3RzKCJidXR0b25beC10ZXh0XSIpKSB7IGNvbnNvbGUubG9nKCdnZXRMaW5rLi4nKTsgZXhlY3V0b3IoKTt9IHJldHVybjt9IGlmIChlbGVtZW50RXhpc3RzKCJkaXZbY2xhc3M9J21heC13LTV4bCBteC1hdXRvJ10iKSkge2NvbnNvbGUubG9nKCdFeGVjdXRpbmcuLicpOyBleGVjdXRvcigpO319KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9jb2luc3Jldi5jb20vLCBmdW5jdGlvbigpIHtwYXJlbnQub3BlbiA9IEJwQmxvY2soKTsKICAgICAgaWYgKGVsZW1lbnRFeGlzdHMoJy5nLXJlY2FwdGNoYScpKSB7bGV0IGNzciA9IHNldEludGVydmFsKCgpID0+IHtpZiAoQ2FwdGNoYWNoZWNrKCkpIHtjbGVhckludGVydmFsKGNzcik7CiAgICAgICAgICAgIENsaWNrSWZFeGlzdHMoJyN3cHNhZmVsaW5raHVtYW4gPiBpbnB1dCcpO319LCAxICogMTAwMCk7fSBlbHNlIHtDbGlja0lmRXhpc3RzKCcjd3BzYWZlLWdlbmVyYXRlID4gYSA+IGltZycsIDMpO0NsaWNrSWZFeGlzdHMoJ2lucHV0I2ltYWdlMycsIDEzKTt9fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvenViYXRlY25vLmNvbS8sIGZ1bmN0aW9uKCkge2lmIChlbGVtZW50RXhpc3RzKCcjbWRuY2FwdGNoYScpKSB7bGV0IHpidCA9IHNldEludGVydmFsKCgpID0+IHsKICAgICAgICAgIGlmIChDYXB0Y2hhY2hlY2soKSkge2NsZWFySW50ZXJ2YWwoemJ0KTtDbGlja0lmRXhpc3RzKCcjbGluazFzLXNucDEnKTt9fSwgMSAqIDEwMDApO30gZWxzZSB7U3VibWl0SWZFeGlzdHMoJyNsaW5rMXMtZm9ybScsIDMpO319KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC8od29vc2VvdG9vbHN8d29vd2VidG9vbHMpLmNvbS8sIGZ1bmN0aW9uKCkge2lmIChlbGVtZW50RXhpc3RzKCcuZy1yZWNhcHRjaGEnKSkge2xldCB3c3QgPSBzZXRJbnRlcnZhbCgoKSA9PiB7CiAgICAgICAgICBpZiAoQ2FwdGNoYWNoZWNrKCkpIHtjbGVhckludGVydmFsKHdzdCk7Q2xpY2tJZkV4aXN0cygnZGl2IGZvcm0gYnV0dG9uJyk7fX0sIDUwMCk7fSBlbHNlIHtDbGlja0lmRXhpc3RzKCdkaXYgZm9ybSBidXR0b24nLCAzLCAnc2V0SW50ZXJ2YWwnKTt9fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvYWR3ZXJ0eS5jb20vLCBmdW5jdGlvbigpIHtsZXQgYWR3ID0gc2V0SW50ZXJ2YWwoKCkgPT4ge2lmIChDYXB0Y2hhY2hlY2soKSkge2NsZWFySW50ZXJ2YWwoYWR3KTtDbGlja0lmRXhpc3RzKCcjaGlkZGVuX2J0bicpO319LCA1MDApOwogICAgICB3YWl0Rm9yRWxtKCcjaGlkZGVuX2J0bicsIGFkdzIgPT4gcmVkaXJlY3Qoc3RyQmV0d2VlbihhZHcyLm9uY2xpY2sudG9TdHJpbmcoKSwgYHdpbmRvdy5vcGVuKCdgLCBgJywgJ19ibGFuaycpYCkpKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9tb2RlYmFjYS5jb20vLCBmdW5jdGlvbigpIHtpZiAoZWxlbWVudEV4aXN0cygnI3JlY2FwdGNoYS1lbGVtZW50JykpIHsKICAgICAgICBsZXQgbWIgPSBzZXRJbnRlcnZhbChmdW5jdGlvbigpIHtpZiAoQ2FwdGNoYWNoZWNrKCkpIHtDbGlja0lmRXhpc3RzKCcuYnRuLXN1Y2Nlc3MuYnRuJyk7fX0sIDUwMCk7fSBlbHNlIHsKICAgICAgICBDbGlja0lmRXhpc3RzKCcuYnRuLXN1Y2Nlc3MuYnRuJywgMik7Q2xpY2tJZkV4aXN0cygnZGl2ID4gZGl2ID4gYnV0dG9uJywgNyk7fX0pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL3Nob3Bmb3JleC5vbmxpbmUvLCBmdW5jdGlvbigpIHticCgnI3N1Ym1pdEJ0bicpLnJlbW92ZUF0dHJpYnV0ZSgnaHJlZicpO2lmIChlbGVtZW50RXhpc3RzKCcuZy1yZWNhcHRjaGEnKSkge2xldCBzZm8gPSBzZXRJbnRlcnZhbCgoKSA9PiB7CiAgICAgICAgICBpZiAoQ2FwdGNoYWNoZWNrKCkpIHtjbGVhckludGVydmFsKHNmbyk7Q2xpY2tJZkV4aXN0cygnI3N1Ym1pdEJ0bicpO319LCA1MDApO30gZWxzZSB7CiAgICAgICAgQ2xpY2tJZkV4aXN0cygnLnN1Ym1pdEJ0bicsIDIpO0NsaWNrSWZFeGlzdHMoJyNnb19kJywgMywgJ3NldEludGVydmFsJyk7fX0pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoLyhwZXJuYWhzdWtzZXN8YWxwaW5lY29ycG9yYXRlKS5jb218YW91dG9xdy54eXovLCBmdW5jdGlvbigpIHtpZiAoZWxlbWVudEV4aXN0cygnLmctcmVjYXB0Y2hhJykpIHtsZXQgcHMgPSBzZXRJbnRlcnZhbCgoKSA9PiB7aWYgKENhcHRjaGFjaGVjaygpKSB7Y2xlYXJJbnRlcnZhbChwcyk7CiAgICAgICAgICAgIENsaWNrSWZFeGlzdHMoJyNhbGZfY29udGludWVfY2FwdGNoYScpO319LCAxICogMTAwMCk7fSBlbHNlIHt3aW5kb3cuc2hvd1Njcm9sbFRvR2V0TGlua1RleHQoKTsgU3VibWl0SWZFeGlzdHMoJyNhbGZfY29udGludWVfZm9ybV9vdXRlcicsIDMpO319KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9hbHRlY2hlbi5jb218ZW50dXRlcy5jb20vLCBmdW5jdGlvbigpIHtwYXJlbnQub3BlbiA9IEJwQmxvY2soKTsKICAgICAgaWYgKGVsZW1lbnRFeGlzdHMoJy5oLWNhcHRjaGEnKSkge2xldCBhbGUgPSBzZXRJbnRlcnZhbCgoKSA9PiB7aWYgKENhcHRjaGFjaGVjaygpKSB7Y2xlYXJJbnRlcnZhbChhbGUpOwogICAgICAgICAgICBDbGlja0lmRXhpc3RzKCcjY3MtYnRuJyk7fX0sIDEgKiAxMDAwKTt9IGVsc2Uge0NsaWNrSWZFeGlzdHMoJ2J1dHRvbiNjcy1idG4nLCAzLCAnc2V0SW50ZXJ2YWwnKTt9fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvZnJlZXRyeC5mdW4vLCBmdW5jdGlvbigpIHtpZiAoZWxlbWVudEV4aXN0cygnLmctcmVjYXB0Y2hhJykpIHtsZXQgZnR4ID0gc2V0SW50ZXJ2YWwoKCkgPT4gewogICAgICAgICAgaWYgKENhcHRjaGFjaGVjaygpKSB7Y2xlYXJJbnRlcnZhbChmdHgpO0NsaWNrSWZFeGlzdHMoImlucHV0W2lkXj0nYWJjJ10iKTt9fSwgNTAwKTt9IGVsc2UgewogICAgICAgIHNldFRpbWVvdXQoKCkgPT4geygiaW5wdXRbaWRePSdhYmMnXSIpLmNsaWNrKCk7fSwgNSAqIDEwMDApO0NsaWNrSWZFeGlzdHMoJyNzdWJidXR0JywgNSk7fX0pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL3NvY2lhbHdvbHZlei5jb20vLCAoKSA9PiB7bGV0IHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO3hoci5vbmxvYWQgPSAoKSA9PiByZWRpcmVjdChKU09OLnBhcnNlKHhoci5yZXNwb25zZVRleHQpLmxpbmsudXJsKTsKICAgICAgeGhyLm9wZW4oIkdFVCIsICJodHRwczovL3VzLWNlbnRyYWwxLXNvY2lhbC1pbmZyYS1wcm9kLmNsb3VkZnVuY3Rpb25zLm5ldC9saW5rc1NlcnZpY2UvbGluay9ndWlkLyIgKyBsb2NhdGlvbi5wYXRobmFtZS5zdWJzdHIoNyksIHRydWUpO3hoci5zZW5kKCk7fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvKG1vYmkyY3xoZWFsdGh5NHBlcG9sZXxoZWFsZGFkfHdvcmxkMm91cnxtb2JpdGFha3x0ZS1pdHxidXNpbmVzc25ld3MtbmlnZXJpYXxnb3ZhZnxmYWhteXNwb3J0KS5jb218KGhpZ2h0cmlwfGZ4LWdkfHdvcmxkLXRyaXBzfG90ZWNobm98Ymx1ZXRlY2hub3x0by10cmF2ZWwpLm5ldHwobmV3Zm9yZXh8Zm9yZXhpdCkub25saW5lLywgZnVuY3Rpb24oKSB7CiAgICAgIENsaWNrSWZFeGlzdHMoJy5zdWJtaXRCdG4nLCAyKTtDbGlja0lmRXhpc3RzKCcjZ29fZCcsIDMpO30pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoLyhibG9nZ2luZ2xhc3N8YXJhaHRla25vfG1vcGFoZWFsdGgpLmNvbXxmYXVjZXQud29ya3x3aWxkYmxvZy5tZXxqaW90ZWNoLm5ldHxhcGt1cGxvYWQuaW4vLCBmdW5jdGlvbigpIHsKICAgICAgdmFyIGVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiaW5wdXRbbmFtZT1uZXd3cHNhZmVsaW5rXSIpO3JlZGlyZWN0KEpTT04ucGFyc2UoYXRvYihlbC52YWx1ZSkpLmxpbmtyKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9hbmhkZXAyNC5jb218bmd1eWVudmFuYmFvLmNvbXx4ZW1zcG9ydC5jb218Ynlib2UuY29tLywgZnVuY3Rpb24oKSB7CiAgICAgIGlmIChlbGVtZW50RXhpc3RzKCcuZy1yZWNhcHRjaGEnKSkge2xldCBhbmggPSBzZXRJbnRlcnZhbCgoKSA9PiB7aWYgKENhcHRjaGFjaGVjaygpKSB7Y2xlYXJJbnRlcnZhbChhbmgpOwogICAgICAgICAgICBDbGlja0lmRXhpc3RzKCcjbGluazFzLWNhcHRjaGEnKTt9fSwgMSAqIDEwMDApO30gZWxzZSB7Q2xpY2tJZkV4aXN0cygnI2xpbmsxcycsIDQsICdzZXRJbnRlcnZhbCcpO0NsaWNrSWZFeGlzdHMoJyNidG42JywgMyk7fX0pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL3RyYWZmaWMxcy5jb20vLCAoKSA9PiB7bGV0IHggPSAnLmJsb2ctY29udGVudCA+IHA6bnRoLWNoaWxkKDQpID4gc3Ryb25nOm50aC1jaGlsZCgxKSc7CiAgICAgIGlmIChicCh4KSAmJiBicCh4KS5pbm5lckhUTUwuaW5jbHVkZXMoJzovLycpKSB7bGV0IGkgPSBzdHJCZXR3ZWVuKGJwKHgpLmlubmVySFRNTCwgJycpO2xldCBzID0gc3RyQmV0d2VlbihpLCAnOi8vJywgJyAnKTsKICAgICAgICB3aW5kb3cubG9jYXRpb24uYXNzaWduKGBodHRwczovLyR7c30/eHJlZj1odHRwczovL2dvb2dsZS5jb20vJnNsPSR7bG9jYXRpb24uaHJlZn1gKTt9fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvd2ViMXMuY298d2ViMXMuaW5mb3xhcHAuY292ZW1hcmtldHMuY29tLywgZnVuY3Rpb24oKSB7CiAgICAgIGlmIChlbGVtZW50RXhpc3RzKCcuY29sLXh4bC05JykpIHtDbGlja0lmRXhpc3RzKCcjc3VibWl0JywgMywgJ3NldEludGVydmFsJyk7bGV0IHdlYmkgPSBzZXRJbnRlcnZhbChmdW5jdGlvbigpIHtpZiAoQ2FwdGNoYWNoZWNrKCkpIHtjbGVhckludGVydmFsKHdlYmkpOwogICAgICAgICAgICBDbGlja0lmRXhpc3RzKCcuZnctYm9sZC5idG4tZGFuZ2VyLmJ0bi1sZy5idG4nKTt9fSwgNTAwKTt9IGVsc2Uge1N1Ym1pdElmRXhpc3RzKCdmb3JtLnRleHQtY2VudGVyJywgMSk7fX0pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL3N1YXVybC5jb20vLCBmdW5jdGlvbigpIHtwYXJlbnQub3BlbiA9IEJwQmxvY2soKTsKICAgICAgbGV0IHN1ID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKSB7aWYgKENhcHRjaGFjaGVjaygpKSB7YnAoJyNjb21tZW50X2Zvcm0nKS5yZW1vdmVBdHRyaWJ1dGUoJ3RhcmdldCcpO2NsZWFySW50ZXJ2YWwoc3UpOwogICAgICAgICAgQ2xpY2tJZkV4aXN0cygnI2J0bi1jYXBjaGEgPiAuYi1iJywgMSk7fX0sIDUwMCk7Q2xpY2tJZkV4aXN0cygnI2J0biA+IGJ1dHRvbicsIDMsICdzZXRJbnRlcnZhbCcpO30pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL2xldHNib29zdC5uZXQvLCBmdW5jdGlvbigpIHt3YWl0Rm9yRWxtKCdib2R5ID4gc2NyaXB0JywgKCkgPT4ge2xldCBzdGVwRGF0ID0gQnBUKCdzY3JpcHQnKVtCcFQoJ3NjcmlwdCcpLmxlbmd0aCAtIDFdOwogICAgICBsZXQgc3RlcG5hbWUgPSBzdGVwRGF0LmlubmVySFRNTDtsZXQgbGJEYXQgPSBKU09OLnBhcnNlKHN0ZXBuYW1lLm1hdGNoKC9zdGVwRGF0ID0gJyguKiknOy8pWzFdKTsgbGV0IGxibyA9IGxiRGF0W2xiRGF0Lmxlbmd0aCAtIDFdLnVybDtyZWRpcmVjdChsYm8sZmFsc2UpO30pO30pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL3dlYjFzLmFzaWEvLCBmdW5jdGlvbigpIHsKICAgICAgaWYgKGxvY2F0aW9uLmhyZWYuaW5jbHVkZXMoJ2FwaS1tb2RlLycpIHx8IGVsZW1lbnRFeGlzdHMoJy5tYi0yMCcpKSB7U3VibWl0SWZFeGlzdHMoJy5zdWJtaXQtZm9ybScsIDMpO0NsaWNrSWZFeGlzdHMoJyNzdWJtaXQnLDMpO30gZWxzZSBpZiAoIUJwUGFyYW1kLmhhcygnY29kZScpKSB7bGV0IGlLZXkgPSAnLm1iLTUudGV4dC1jZW50ZXIua2V5d29yZC1pbWFnZScsIGRXZWI9J2Z1bjg4LmluZm8udm4nOwogICAgICBpZiAoYnAoaUtleSkpIHtpZiAoYnAoaUtleSkuaW5uZXJIVE1MLmluY2x1ZGVzKCc3VG1vRk5DJykpIGRXZWIgPSAnaG9va2VhdWRpby5jb20nOyBpZiAoYnAoaUtleSkuaW5uZXJIVE1MLmluY2x1ZGVzKCc4MUVvVHA5JykpIGRXZWIgPSAncGVubmJvb2tjZW50ZXIuY29tJzsKICAgICAgaWYgKGJwKGlLZXkpLmlubmVySFRNTC5pbmNsdWRlcygnd1lmTktBTycpKSBkV2ViID0gJ3B1YmxpY2FuYW5rZXIuY29tJzsgd2luZG93LmxvY2F0aW9uLmFzc2lnbihgaHR0cHM6Ly8ke2RXZWJ9P3hyZWY9aHR0cHM6Ly9nb29nbGUuY29tLyZ3c2E9JHtsb2NhdGlvbi5ocmVmfWApO30KICAgICAgaWYgKGVsZW1lbnRFeGlzdHMoJy5jb2wteHhsLTkgPiAudGV4dC1jZW50ZXInKSkge2xldCB3YTEgPSBzZXRJbnRlcnZhbCgoKSA9PiB7aWYgKENhcHRjaGFjaGVjaygpKSB7Y2xlYXJJbnRlcnZhbCh3YTEpO1N1Ym1pdElmRXhpc3RzKCdmb3JtLnRleHQtY2VudGVyJyk7fX0sIDEgKiAxMDAwKTt9CiAgICAgIGlmIChlbGVtZW50RXhpc3RzKCcuY29sLXh4bC05ID4gLnRleHQtY2VudGVyJykgJiYgIWVsZW1lbnRFeGlzdHMoJy5nLXJlY2FwdGNoYScpKSB7Q2xpY2tJZkV4aXN0cygnI3N1Ym1pdCcsMyk7fX0gZWxzZSBpZiAoQnBQYXJhbWQuaGFzKCdjb2RlJykpIHtDbGlja0lmRXhpc3RzKCcjc3VibWl0LWJ1dHRvbicpOwogICAgICBsZXQgaW5wID0gJ2lucHV0LmZvcm0tY29udHJvbDpudGgtY2hpbGQoMiknLCBidG4gPSAnZm9ybS5zdWJtaXQtZm9ybTpudGgtY2hpbGQoMikgPiBidXR0b246bnRoLWNoaWxkKDE2KSc7IGlmIChicChpbnApKSB7IGJwKGlucCkudmFsdWUgPSBkZWNvZGVVUklDb21wb25lbnQoQnBQYXJhbWQuZ2V0KCdjb2RlJykpOyBDbGlja0lmRXhpc3RzKGJ0biwyKTsgfX19KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC8oaG9va2VhdWRpb3xwZW5uYm9va2NlbnRlcnxwdWJsaWNhbmFua2VyfGZ1bjg4YmspLmNvbXxmdW44OC5pbmZvLnZuLywgZnVuY3Rpb24oKSB7UmVtb3ZlUmVmKCdodHRwczovL2dvb2dsZS5jb20nKTsKICAgICAgaWYgKEJwUGFyYW1zLmhhcygneHJlZicpICYmIEJwUGFyYW1zLmhhcygnd3NhJykpIHtsZXQgYiA9ICcudGV4dHdpZGdldCBidXR0b24nLCBwTGluayA9IGBsaS5tZW51LWl0ZW0gPiBhOm50aC1jaGlsZCgxKWAsIGdEaXYgPSAncCA+IGRpdiA+IGRpdicsIHRDb2RlOwogICAgICBzZXRUaW1lb3V0KCgpID0+IHtpZiAoYnAoYikgJiYgYnAoYikuaW5uZXJUZXh0LmluY2x1ZGVzKCdDT05USU5VRScpKSB7YnAoYikuY2xpY2soKTt9fSwgMzAwMCk7CiAgICAgIGxldCBwQ2xpY2sgPSBzZXRJbnRlcnZhbCgoKSA9PiB7aWYgKGJwKGIpICYmIGJwKGIpLmlubmVySFRNTC5pbmNsdWRlcyhgQU5ZIFBBR0UgVE8gR0VUYCkpIHticChwTGluaykuaHJlZiA9IGJwKHBMaW5rKS5ocmVmICsgZG9jdW1lbnQubG9jYXRpb24uc2VhcmNoOwogICAgICAgICAgICBicChwTGluaykuY2xpY2soKTtjbGVhckludGVydmFsKHBDbGljayk7fX0sIDIwMDApOwogICAgICBsZXQgZ0NvZGUgPSBzZXRJbnRlcnZhbCgoKSA9PiB7aWYgKGJwKGdEaXYpICYmICFicChnRGl2KS5pbm5lclRleHQuaW5jbHVkZXMoJ29udGludWUgYWZ0ZXInKSkge3RDb2RlID0gc3RyQmV0d2VlbihicChnRGl2KS5wYXJlbnRFbGVtZW50LmlubmVySFRNTCwgYCFpbXBvcnRhbnQ7Ij5gLCBgPHN2Z2AsIHRydWUpOwogICAgICB3aW5kb3cubG9jYXRpb24uYXNzaWduKGAke2RlY29kZVVSSUNvbXBvbmVudChCcFBhcmFtZC5nZXQoJ3dzYScpKX0/Y29kZT0ke3RDb2RlfWApOyBjbGVhckludGVydmFsKGdDb2RlKTt9fSwgMjAwMCk7fX0pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL3N0Zmx5LmNjfHN0Zmx5Lnh5enx0ZWNodHJlbmRtYWtlcnMuY29tfChibG9nYnV4fGJsb2dlc3F1ZXxleHBsb3JlZXJhKS5uZXQvLCBmdW5jdGlvbigpIHtpZiAoZWxlbWVudEV4aXN0cygnLmctcmVjYXB0Y2hhJykgfHwgZWxlbWVudEV4aXN0cygnLmgtY2FwdGNoYScpKSB7CiAgICAgICAgbGV0IHN0ZiA9IHNldEludGVydmFsKCgpID0+IHtpZiAoQ2FwdGNoYWNoZWNrKCkpIHtjbGVhckludGVydmFsKHN0Zik7UmVhZHl0b0NsaWNrKCcuZm9ybS1zZW5kLm0tMi5idG4tY2FwdGNoYS5idG4tb3V0bGluZS1wcmltYXJ5LmJ0bicpO319LCA1MDApO30gZWxzZSB7CiAgICAgICAgQ2xpY2tJZkV4aXN0cygnLmZvcm0tc2VuZC5tLTIuYnRuLWNhcHRjaGEuYnRuLW91dGxpbmUtcHJpbWFyeS5idG4nLCAzLCAnc2V0SW50ZXJ2YWwnKTt9fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvY29pbnMtdG93bi5jb20vLCBmdW5jdGlvbigpIHtDbGlja0lmRXhpc3RzKCcjY2xhaW1Db2lucyA+IGJ1dHRvbltkYXRhLWJzLXRvZ2dsZT0ibW9kYWwiXScsIDIpOwogICAgICBDbGlja0lmRXhpc3RzKCdhW2hyZWYqPSJwbGF5LnBocD8iXScsIDIpO2lmIChkb2N1bWVudC5yZWZlcnJlci5pbmNsdWRlcygnLz9jYXNoYW5kbz0nKSkgewogICAgICAgIHdpbmRvdy5sb2NhdGlvbi5hc3NpZ24oYGh0dHBzOi8vY29pbnMtdG93bi5jb20vcGxheS5waHA/Z2FtZT0yMDk2NmApO30gZWxzZSBpZiAoZWxlbWVudEV4aXN0cygnI2NsYWltQ29pbnMnKSkge2JwKCcjY2xhaW1Db2lucycpLnN0eWxlLmRpc3BsYXkgPSAnJzt9fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvc2xpbmt3YXJlLmNvbXxhZ2h0YXMuY29tfHlvdXNzZWZzYXllZC5jb218YWxnaHRhcy54eXp8bmV3d29ybGRuZXcuY29tfHRhY2thd2F5LmNvbS8sIGZ1bmN0aW9uKCkge0VuYWJsZVJDRigpOwogICAgICBsZXQgc3cgPSBzZXRJbnRlcnZhbCgoKSA9PiB7aWYgKENhcHRjaGFjaGVjaygpKSB7Y2xlYXJJbnRlcnZhbChzdyk7IENsaWNrSWZFeGlzdHMoJy5oaWRkZW4tY29udGludWUtYnV0dG9uJyk7fX0sIDEgKiAxMDAwKTsgd2FpdEZvckVsbSgnI3l1aWRlYS1idG1idG4nLCBzd0J0biA9PiBzd0J0bi5jbGljaygpKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9saW5rLmdvdG8uY29tLm5wfChhcHBrYW1vZHN8YmFua3ZhY2VuY3l8bWVhbGNvbGR8b3RvbWktZ2FtZXMpLmNvbS8sICgpID0+IHsKICAgICAgd2FpdEZvckVsbSgnZGl2I3dwc2FmZS1saW5rIGEnLCBiaXR6ID0+IHJlZGlyZWN0KGJpdHouaHJlZiwgZmFsc2UpKTsKICAgICAgd2FpdEZvckVsbSgnI3dwc2FmZS1saW5rIGlucHV0JywgYml0MiA9PiByZWRpcmVjdChzdHJCZXR3ZWVuKGJpdDIub25jbGljay50b1N0cmluZygpLCBgd2luZG93Lm9wZW4oJ2AsIGAnLCAnX2JsYW5rJylgKSwgZmFsc2UpKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9oYW1yb2xla2guY29tfChtZ2FtZXxvbmNvaW4pLmluZm98bGlmZWluc3VyYW5jZXNibG9nLnh5enxuaXNoYW5raGF0cmkuY29tLm5wfHF1YW5uZ29uLm9yZy8sIGZ1bmN0aW9uKCkgewogICAgICBDbGlja0lmRXhpc3RzKCcjbXktYnRuJywgMik7Q2xpY2tJZkV4aXN0cygnI3dwc2FmZS1saW5rID4gLmJ0bi1zZWNvbmRhcnkuYnRuJywgMik7CiAgICAgIHdhaXRGb3JFbG0oJyNwcm8tbGluaycsIG5oayA9PiByZWRpcmVjdChuaGsuaHJlZiwgZmFsc2UpKTt3YWl0Rm9yRWxtKCcjd3BzYWZlLWxpbmsgYScsIGhybCA9PiByZWRpcmVjdChzdHJCZXR3ZWVuKGhybC5vbmNsaWNrLnRvU3RyaW5nKCksIGB3aW5kb3cub3BlbignYCwgYCcsICdfc2VsZicpYCksIGZhbHNlKSk7fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvKGFzaHJmZHx0cGF5cnxwb3F6bnxhc2hyZmR8cmV6c3h8dHJ5enR8cmV6c3R8ZXJ6YXJ8d2Flem18d2FlemcpLnh5enwodGlrdG9rcmVhbHRpbWV8ZGF3ZW5ldCkuY29tfChzaW5vbmltb3N8YW50b25pbW9zKS5kZXxxdWVzaWduaWZpLmNhfHRpa3Rva2NvdW50ZXIubmV0fGxpZmdhbS5vbmxpbmV8YmxhY2t3b29kYWNhZGVteS5vcmd8Y3J5cHRlZG5ld3Muc3BhY2UvLCBmdW5jdGlvbigpIHsKICAgICAgbGV0IHByb2ZpdHNmbHkgPSBzZXRJbnRlcnZhbCgoKSA9PiB7aWYgKGVsZW1lbnRFeGlzdHMoJy5oLWNhcHRjaGEnKSAmJiBDYXB0Y2hhY2hlY2soKSAmJiBicCgnI2NidCcpLmlubmVyVGV4dCA9PSAnQ29udGludWUnKSB7Q2xpY2tJZkV4aXN0cygnLmJ0bi1wcmltYXJ5LmJ0bi1wcmltYXJ5YnRuLmJ0bicsIDEpO0NsaWNrSWZFeGlzdHMoJy5idG4tcHJpbWFyeS5idG4td2FybmluZ2J0bi5idG4nLCAxKTtjbGVhckludGVydmFsKHByb2ZpdHNmbHkpOwogICAgICAgICAgUmVhZHl0b0NsaWNrKCcuYnRuLXByaW1hcnkuYnRuLXByaW1hcnlidG4uYnRuJywgMik7UmVhZHl0b0NsaWNrKCcuYnRuLXByaW1hcnkuYnRuLXdhcm5pbmdidG4uYnRuJywgMik7fSBlbHNlIGlmICghZWxlbWVudEV4aXN0cygnLmgtY2FwdGNoYScpICYmIGJwKCcjY2J0JykuaW5uZXJUZXh0ID09ICdDb250aW51ZScpIHtjbGVhckludGVydmFsKHByb2ZpdHNmbHkpO1JlYWR5dG9DbGljaygnLmJ0bi1wcmltYXJ5LmJ0bi1wcmltYXJ5YnRuLmJ0bicsIDEpOwogICAgICAgICAgUmVhZHl0b0NsaWNrKCcuYnRuLXByaW1hcnkuYnRuLXdhcm5pbmdidG4uYnRuJywgMSk7fX0sIDIgKiAxMDAwKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC8oYXdncm93fGZhZGVkZmVldHxrZW56by1mbG93ZXJ0YWd8aG9tZWN1bGluYXxpbmVlZHNraW58YWxpZ2h0bW90aW9ubGF0ZXN0fGF1bnRtYW5ueXxteXRlY2hjb250ZW50fHRlY2h5bWF0aWN8Z2FtZWRvdWMpLmNvbXx3b3JsZHRhbnIueHl6fGxhd3lleC5jb3x5ZXhvbG8ubmV0fG1kbi5sb2x8KGFheXVydmVkc2hhc3RyYXxhbGxuZXdzcG9pbnQpLmluLywgKCkgPT4ge0VuYWJsZVJDRigpOwogICAgICBpZiAoZWxlbWVudEV4aXN0cygnLmctcmVjYXB0Y2hhJykpIHtsZXQgbWRuID0gc2V0SW50ZXJ2YWwoKCkgPT4ge2lmIChDYXB0Y2hhY2hlY2soKSkge2NsZWFySW50ZXJ2YWwobWRuKTtCeXBhc3NIRCgnZm9ybVthY3Rpb25dJywgMSk7fX0sIDEgKiAxMDAwKTt9IGVsc2Uge3NldFRpbWVvdXQoKCkgPT4ge0J5cGFzc0hEKEdldEZvcm0oJ21kbicpKTt9LCAxNyAqIDEwMDApO319KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9zaG9ydGl0LnB3LywgZnVuY3Rpb24oKSB7aWYgKGVsZW1lbnRFeGlzdHMoJy5iZy1saWdodC5jb250YWluZXInKSkgewogICAgICAgICQoJy50ZXh0LWNlbnRlci50ZXh0LW11dGVkJykudGV4dCgnSU1QT1JUQU5UIE5vdGUgQnkgQmxvZ2dlclBlbXVsYSA6IFBsZWFzZSBTb2x2ZSB0aGUgSGNhcHRjaGEgZm9yIEF1dG9tYXRpY2FsbHkgLCBEb250IFNvbHZlIHRoZSBTb2x2ZW1lZGlhIC4gUmVnYXJkcy4uLicpO30KICAgICAgQ2xpY2tJZkV4aXN0cygnLnB1bHNlLmJ0bi1wcmltYXJ5LmJ0bicsIDMpO2xldCBzb3J0aSA9IHNldEludGVydmFsKGZ1bmN0aW9uKCkge2lmIChDYXB0Y2hhY2hlY2soKSkge2NsZWFySW50ZXJ2YWwoc29ydGkpO0NsaWNrSWZFeGlzdHMoJyNidG4yJyk7fX0sIDUwMCk7fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvc2hvcnQuY3JvY2xpeC5tZXxhZHo3c2hvcnQuc3BhY2UvLCBmdW5jdGlvbigpIHtzZXRJbnRlcnZhbChmdW5jdGlvbigpIHtpZiAoJCgiI2xpbmsiKS5sZW5ndGggPiAwKSB7UmVhZHl0b0NsaWNrKCIjbGluayIpO319LCA1MDApOwogICAgICBzZXRJbnRlcnZhbChmdW5jdGlvbigpIHtpZiAoJCgiaW5wdXQjY29udGludWUiKS5sZW5ndGggPiAwKSB7UmVhZHl0b0NsaWNrKCJpbnB1dCNjb250aW51ZSIpO30gaWYgKCQoImEjY29udGludWUuYnV0dG9uIikubGVuZ3RoID4gMCkge1JlYWR5dG9DbGljaygiYSNjb250aW51ZS5idXR0b24iKTt9fSwgOTAwMCk7CiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7aWYgKCQoIiNidG4tbWFpbiIpLmxlbmd0aCA8IDApIHJldHVybjtSZWFkeXRvQ2xpY2soIiNidG4tbWFpbiIpO30sIDUwMDApO30pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL2xpbmt2aXAuaW8vLCBhc3luYyBmdW5jdGlvbigpIHt2YXIgY2FtcElkID0gKGF3YWl0IGVsZW1lbnRSZWFkeSgnaW5wdXRbbmFtZT0iY2FtcElkIl0nKSkudmFsdWU7CiAgICAgIHZhciBsaW5rSWQgPSAoYXdhaXQgZWxlbWVudFJlYWR5KCdpbnB1dFtuYW1lPSJsaW5rSWQiXScpKS52YWx1ZTtjb25zb2xlLmxvZyhjYW1wSWQsIGxpbmtJZCk7dmFyIGZybURhdGEgPSBuZXcgRm9ybURhdGEoKTsKICAgICAgZnJtRGF0YS5hcHBlbmQoJ2NhbXBJZCcsIGNhbXBJZCk7dmFyIHJlcyA9IGF3YWl0IGZldGNoKCdodHRwczovL2xpbmt2aXAuaW8vZ3JhcGgvYXBpP2FjdGlvbj1nZXRDb2RlQ2FtcCcsIHttZXRob2Q6ICdQT1NUJywgYm9keTogZnJtRGF0YSx9KTsKICAgICAgdmFyIGRhdGEgPSBhd2FpdCByZXMuanNvbigpOyBpZiAoIWRhdGEuc3RhdHVzKSByZXR1cm4gY29uc29sZS5lcnJvcignZ2V0Q29kZUNhbXAnKTt2YXIgY29kZU9UUCA9IGRhdGEubWVzc2FnZTt2YXIgZnJtRGF0YWYgPSBuZXcgRm9ybURhdGEoKTsKICAgICAgZnJtRGF0YWYuYXBwZW5kKCdjYW1wSWQnLCBjYW1wSWQpO2ZybURhdGFmLmFwcGVuZCgnbGlua3NJZCcsIGxpbmtJZCk7ZnJtRGF0YWYuYXBwZW5kKCdjb2RlT1RQJywgY29kZU9UUCk7CiAgICAgIHZhciBkYXRhZiA9IGF3YWl0IGZldGNoKCdodHRwczovL2xpbmt2aXAuaW8vZ3JhcGgvYXBpP2FjdGlvbj1jb25maXJtQ29kZScsIHttZXRob2Q6ICdQT1NUJywgYm9keTogZnJtRGF0YWYsfSkudGhlbihyZXMgPT4gcmVzLmpzb24oKSk7CiAgICAgIGlmICghZGF0YWYuc3RhdHVzKSByZXR1cm4gY29uc29sZS5lcnJvcignY29uZmlybUNvZGUnKTtyZWRpcmVjdChkYXRhZi5tZXNzYWdlKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9hZHNobmsuY29tfGFkc2hyaW5rLml0LywgKCkgPT4ge2xldCBhZHNoID0gc2V0SW50ZXJ2YWwoKCkgPT4gewogICAgICAgIGlmICh0eXBlb2Ygd2luZG93Ll9zaGFyZWREYXRhID09ICJvYmplY3QiICYmIDAgaW4gd2luZG93Ll9zaGFyZWREYXRhICYmICJkZXN0aW5hdGlvbiIgaW4gd2luZG93Ll9zaGFyZWREYXRhWzBdKSB7Y2xlYXJJbnRlcnZhbChhZHNoKTsKICAgICAgICAgIGRvY3VtZW50LndyaXRlKHdpbmRvdy5fc2hhcmVkRGF0YVswXS5kZXN0aW5hdGlvbik7cmVkaXJlY3QoZG9jdW1lbnQuYm9keS50ZXh0Q29udGVudCk7CiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2Ygd2luZG93Ll9fX3JlYWN0anNEICE9ICJ1bmRlZmluZWQiICYmIHR5cGVvZiB3aW5kb3dbd2luZG93Ll9fX3JlYWN0anNELm9dID09ICJvYmplY3QiICYmIHR5cGVvZiB3aW5kb3dbd2luZG93Ll9fX3JlYWN0anNELm9dLmRlc3QgPT0gInN0cmluZyIpIHtjbGVhckludGVydmFsKGFkc2gpO3JlZGlyZWN0KHdpbmRvd1t3aW5kb3cuX19fcmVhY3Rqc0Qub10uZGVzdCk7fX0pO30pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL3Zpa2FzaG1ld2FkYS5jb218dmlkZW9zbHlyaWNzLmNvbXxjcmF6eXNvbmdseXJpY3MuY29tfHZpZGVvbHlyaWNzLmlufG5ld3NoYXJzaC5jb218dHJ4a2luZy54eXp8Y3JhenlibG9nLmlufGdldGRhc2hjb2luLmlvLywgKCkgPT4geyBwYXJlbnQub3BlbiA9IEJwQmxvY2soKTt3YWl0Rm9yRWxtKCcucHktMi5iZy1ibHVlLTYwMCcsIHRCdG4gPT4gdEJ0bi5jbGljaygpKTsKICAgICAgd2FpdEZvckVsbSgnZm9ybTpudGgtY2hpbGQoMSkgPiBhOm50aC1jaGlsZCgzKScsIHZCdG4gPT4gdkJ0bi5jbGljaygpKTt3YWl0Rm9yRWxtKCdidXR0b24ucHktMjpudGgtY2hpbGQoMyknLCBiQnRuID0+IGJCdG4uY2xpY2soKSk7IHdhaXRGb3JFbG0oJ2RpdiA+IGEucHktMi5iZy1ibHVlLTYwMCcsIGNyYiA9PiByZWRpcmVjdChjcmIuaHJlZiwgZmFsc2UpKTsKICAgICAgbGV0IGNyYXogPSBzZXRJbnRlcnZhbCgoKSA9PiB7aWYgKGVsZW1lbnRFeGlzdHMoJ2J1dHRvbi5weS0yJykpIHtjbGVhckludGVydmFsKGNyYXopOyBTdWJtaXRJZkV4aXN0cygnZGl2LnJvdW5kZWQgPiBkaXY6bnRoLWNoaWxkKDkpID4gZm9ybTpudGgtY2hpbGQoMSknLCAyKTt9fSwgNTAwKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9pZnkuYWMvLCBmdW5jdGlvbigpIHt3aW5kb3cub3Blbl9ocmVmKCk7fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvbGFuemEubWUvLCAoKSA9PiB3YWl0Rm9yRWxtKCdhI2JvdG9uR28nLCBseiA9PiByZWRpcmVjdChsei5ocmVmLCBmYWxzZSkpKTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9saWZlZXplZS5jb20vLCAoKSA9PiB3YWl0Rm9yRWxtKCcuZ2V0LWxpbmsnLCBsaWZ6ID0+IHJlZGlyZWN0KGxpZnouaHJlZikpKTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9sb2xpbmV6LmNvbS8sICgpID0+IHdhaXRGb3JFbG0oJ3AjdXJsIGEnLCBsb2wgPT4gcmVkaXJlY3QobG9sLmhyZWYsIGZhbHNlKSkpOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL3NhaGl0eXQuY29tLywgKCkgPT4gd2FpdEZvckVsbSgnYSN0cC1zbnAyJywgc2h0ID0+IHJlZGlyZWN0KHNodC5ocmVmLCBmYWxzZSkpKTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9maWxlLXVwbG9hZC5pbi8sICgpID0+IHdhaXRGb3JFbG0oJyNnZXRsaW5rJywgZnVpID0+IHJlZGlyZWN0KGZ1aS5ocmVmLCBmYWxzZSkpKTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC91cG1pZW5waGkuY29tLywgZnVuY3Rpb24oKSB7d2FpdEZvckVsbSgnLmRvd25sb2FkLWxpbmsnLCB1cEJ0biA9PiB1cEJ0bi5jbGljaygpKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9saW5rc2x5LmNvLywgKCkgPT4gd2FpdEZvckVsbSgnZGl2LmNvbC1tZC0xMiBhJywgbHNsID0+IHJlZGlyZWN0KGxzbC5ocmVmLCBmYWxzZSkpKTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9jYXNoYW5kby5tZS8sICgpID0+IHdhaXRGb3JFbG0oJyNnb0NvaW5zVG93bicsIGNhc2ggPT4gcmVkaXJlY3QoY2FzaC5ocmVmLCBmYWxzZSkpKTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9hcHBzaW5zdGEuY29tLywgZnVuY3Rpb24oKSB7d2FpdEZvckVsbSgnLnl1LWJsdWUueXUtYnRuJywgYXBCdG4gPT4gYXBCdG4uY2xpY2soKSk7fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvYXBrYWRtaW4uY29tLywgKCkgPT4gd2FpdEZvckVsbSgnZGl2LnRleHQudGV4dC1jZW50ZXIgYScsIGFwayA9PiByZWRpcmVjdChhcGsuaHJlZikpKTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9zdWdhcm9uYS5jb20vLCBmdW5jdGlvbigpIHt3YWl0Rm9yRWxtKCdhI215LWJ0bicsIHNnciA9PiByZWRpcmVjdChzZ3IuaHJlZiwgZmFsc2UpKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9jZWtpcC5zaXRlLywgKCkgPT4gd2FpdEZvckVsbSgnYSNhR28uYmFkZ2UuYmctc3VjY2VzcycsIGNlayA9PiByZWRpcmVjdChjZWsuaHJlZiwgZmFsc2UpKSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvdGVjaGxlZXRzLnh5ei8sICgpID0+IHdhaXRGb3JFbG0oJyN0cC1zbnAyID4gY2VudGVyID4gYScsIHRsZSA9PiByZWRpcmVjdCh0bGUuaHJlZiwgZmFsc2UpKSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvbmV3c3R1cmJvdmlkLmNvbS8sICgpID0+IHdhaXRGb3JFbG0oJyNzdGFydC1kb3dubG9hZCA+IGEnLCBudHYgPT4gcmVkaXJlY3QobnR2LmhyZWYsIGZhbHNlKSkpOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL2FtYW5ndWlkZXMuY29tLywgKCkgPT4gd2FpdEZvckVsbSgnI3dwc2FmZS1saW5rID4gLmJ0LXN1Y2Nlc3MnLCBhZyA9PiByZWRpcmVjdChhZy5ocmVmLCBmYWxzZSkpKTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9taXJyb3JlZC50by8sICgpID0+IHdhaXRGb3JFbG0oJ2Rpdi5jb2wtc20uY2VudGVyZWQuZXh0cmEtdG9wIGEnLCBtaXIgPT4gcmVkaXJlY3QobWlyLmhyZWYsIGZhbHNlKSkpOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL2ZseWJpZC5uZXQvLCAoKSA9PiB3YWl0Rm9yRWxtKCdhI2NvbnRpbnVlLWJ1dHRvbi5jb250aW51ZS1idXR0b24nLCBmbGIgPT4gcmVkaXJlY3QoZmxiLmhyZWYsIGZhbHNlKSkpOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoLzh0bS5uZXQvLCAoKSA9PiB3YWl0Rm9yRWxtKCdhLmJ0bi5idG4tc2Vjb25kYXJ5LmJ0bi1ibG9jay5yZWRpcmVjdCcsIHRtID0+IHJlZGlyZWN0KHRtLmhyZWYsIGZhbHNlKSkpOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL2NwbWxpbmsubmV0LywgKCkgPT4gd2FpdEZvckVsbSgnYSNidG4tbWFpbi5idG4uYnRuLXdhcm5pbmcuYnRuLWxnJywgY3BtID0+IHJlZGlyZWN0KGNwbS5ocmVmLCBmYWxzZSkpKTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9ub29kbGVtYWdhemluZS5jb20vLCAoKSA9PiB3YWl0Rm9yRWxtKCdhI2Rvd25sb2FkTGluay5kb3dubG9hZEJ0bicsIG1hZyA9PiByZWRpcmVjdChtYWcuaHJlZiwgZmFsc2UpKSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvaHVvbmdkYW52dW90bGluazEyMy5ibG9nc3BvdC5jb20vLCAoKSA9PiB3YWl0Rm9yRWxtKCdhLmluLWNlbGwtbGluaycsIGhkdiA9PiByZWRpcmVjdChoZHYuaHJlZiwgZmFsc2UpKSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvbWF4dXJsei5jb20vLCAoKSA9PiB3YWl0Rm9yRWxtKCdhLmJ0bi5idG4tc3VjY2Vzcy5idG4tbGcuZmxpcC5hbmltYXRlZCcsIG1heHUgPT4gcmVkaXJlY3QobWF4dS5ocmVmLCBmYWxzZSkpKTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9zYW1hLXByby5jb218bWlrbDRmb3JleC5jb218ZHItZm9yZXguY29tLywgKCkgPT4gd2FpdEZvckVsbSgnYSNzdWJtaXRCdG4nLCBzbXBiID0+IHJlZGlyZWN0KHNtcGIuaHJlZiwgZmFsc2UpKSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvbW9odGF3YWEuY29tLywgKCkgPT4gd2FpdEZvckVsbSgnYS5idG4uYnRuLXN1Y2Nlc3MuYnRuLWxnLmdldC1saW5rLmVuYWJsZWQnLCBtb2h0ID0+IHJlZGlyZWN0KG1vaHQuaHJlZiwgZmFsc2UpKSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvbGlua3NhZS5jb20vLCBmdW5jdGlvbigpIHt3YWl0Rm9yRWxtKCdhLmJ0bi5idG4tc3VjY2Vzcy5idG4tbGcuZmxpcC5hbmltYXRlZCcsIGxzYSA9PiByZWRpcmVjdChsc2EuaHJlZiwgZmFsc2UpKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9zdWIydW5sb2NrLmNvbS8sIGZ1bmN0aW9uKCkge2lmIChsb2NhdGlvbi5ocmVmLmluY2x1ZGVzKCcvdW5sb2NrJykpIHt3YWl0Rm9yRWxtKCdhI2xpbmsnLCBzMmwgPT4gcmVkaXJlY3QoczJsLmhyZWYsIGZhbHNlKSk7fX0pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL3RoZWJsb2dnZXJzcG9pbnQuaW58ZXpldmlyYWwuY29tfGZpeG5vLmlufHRlY2hub2N1YmVzLmluLywgKCkgPT4gd2FpdEZvckVsbSgnI3dwc2FmZS1zbnAgPiBhJywgdGJzID0+IHJlZGlyZWN0KHRicy5ocmVmLCBmYWxzZSkpKTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9yb2NrbW9kcy5uZXQvLCBmdW5jdGlvbigpIHtpZiAobG9jYXRpb24uaHJlZi5pbmNsdWRlcygnL3JibGluay5odG1sJykgJiYgQnBQYXJhbXMuaGFzKCd1cmwnKSkge21ldGEoYXRvYihCcFBhcmFtcy5nZXQoJ3VybCcpKSk7fX0pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL2Rvb2Rqb2IuY29tLywgKCkgPT4gd2FpdEZvckVsbSgnYS5saW5reS5idXR0b25wYW5lbC5idXR0b25wYW5lbC1ibG9jay5idG4tbGcuZ2V0LWxpbmsuZGlzYWJsZWQnLCBkb28gPT4gcmVkaXJlY3QoZG9vLmhyZWYsIGZhbHNlKSkpOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL3hvbm5ld3MubmV0fHRvaWxhcXVhbnRyaS5jb218c2hhcmU0dS5tZW58Y2FtbmFuZ3ZheS5jb20vLCAoKSA9PiB3YWl0Rm9yRWxtKCdkaXYjdHJhZmZpY19yZXN1bHQgYScsIHhvbiA9PiByZWRpcmVjdCh4b24uaHJlZiwgZmFsc2UpKSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgveW9zaXRlLm5ldC8sICgpID0+IHdhaXRGb3JFbG0oJy5vcHRpb25zX2xheW91dF9jb250YWluZXIgPiBjZW50ZXI6bnRoLWNoaWxkKDE3KSA+IGE6bnRoLWNoaWxkKDEpJywgeW9zID0+IHJlZGlyZWN0KHlvcy5ocmVmLCBmYWxzZSkpKTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9vZmZyY21zLnh5enxrb29vcmEzNjUub25saW5lfHRvdXJpc210cmF2ZWxzNC5zYnN8NXRsLmNvfG1hbWFoYXdhLmNvbS8sICgpID0+IHdhaXRGb3JFbG0oJ2EjcHJvY2VlZCcsIG9mZnIgPT4gcmVkaXJlY3Qob2Zmci5ocmVmLCBmYWxzZSkpKTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9nZW5pdXNzb2x1dGlvbnMuY298cG9rZW1vbnJvbXMuY2N8YWxpZ2h0bW90aW9ubGF0ZXN0LmNvbS8sICgpID0+IHdhaXRGb3JFbG0oJ2EjU2Vjb25kUGFnZUJvdHRvbUJ1dHRvbicsIGdzYyA9PiByZWRpcmVjdChnc2MuaHJlZiwgZmFsc2UpKSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvY3JpY2tldGd1cnVwcm8uY29tLywgZnVuY3Rpb24oKSB7U3VibWl0SWZFeGlzdHMoImZvcm1bbmFtZT0ndHAnXSIsIDMpO3dhaXRGb3JFbG0oJyNwYWdlID4gY2VudGVyID4gYScsIGNncCA9PiByZWRpcmVjdChjZ3AuaHJlZiwgZmFsc2UpKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9ibHVlbWVkaWFsaW5rLm9ubGluZXxibHVlbWVkaWFmaWxlXC4qLywgZnVuY3Rpb24oKSB7aWYgKEJwUGFyYW1zLmhhcygndXJsJykpIHt3YWl0Rm9yRWxtKCdpbnB1dCNudXRbc3JjXScsIGJsdW0gPT4gYmx1bS5wYXJlbnROb2RlLnN1Ym1pdCgpKTt9fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvYm9vc3QuaW5rLywgKCkgPT4gZmV0Y2gobG9jYXRpb24uaHJlZikudGhlbihibyA9PiBiby50ZXh0KCkpLnRoZW4oaHRtbCA9PiByZWRpcmVjdChhdG9iKGh0bWwuc3BsaXQoJ2J1ZnBzdmRobWp5YnZnZm5jcWZhPSInKVsxXS5zcGxpdCgnIicpWzBdKSkpKTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9ibG9nLnRleHRwYWdlLnh5ei8sICgpID0+IHdhaXRGb3JFbG0oJyN3cHNhZmUtbGluazEgYScsIGJ0ID0+IHJlZGlyZWN0KHN0ckJldHdlZW4oYnQub25jbGljay50b1N0cmluZygpLCBgd2luZG93Lm9wZW4oJ2AsIGAnLCAnX2JsYW5rJylgKSwgZmFsc2UpKSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvZm9vZHVwZS5jb20vLCBmdW5jdGlvbigpIHtpZiAoZWxlbWVudEV4aXN0cygnLmNvbnRhaW5lcnBhbmVsJykpe2xldCBmZHAgPSBicCgnI2RvbmVhZCcpLmhyZWY7c2V0VGltZW91dCgoKSA9PiB7cmVkaXJlY3QoZmRwLGZhbHNlKTt9LCAyICogMTAwMCk7fX0pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL2ZyZWV0aGFpbG90dGVyeS5saXZlLywgZnVuY3Rpb24oKSB7aWYgKGVsZW1lbnRFeGlzdHMoJy5nLXJlY2FwdGNoYScpKXtsZXQgZnRsID0gUmVhZENWKCdKU09OX2ZldGNoJyk7c2V0VGltZW91dCgoKSA9PiB7cmVkaXJlY3QoZnRsLGZhbHNlKTt9LCAyICogMTAwMCk7fX0pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL3Vkcm9wLmNvbS8sICgpID0+IHdhaXRGb3JFbG0oJy5yZXNwb25zaXZlTW9iaWxlTWFyZ2luID4gYnV0dG9uOm50aC1jaGlsZCgxKScsIHVkciA9PiByZWRpcmVjdChzdHJCZXR3ZWVuKHVkci5vbmNsaWNrLnRvU3RyaW5nKCksIGBvcGVuVXJsKCdgLCBgJylgKSwgZmFsc2UpKSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvbnVsbGVkbGlzdC5pbmZvfGVhcm5hc2guY29tfG15LWNvaW5zLnh5enxlYXJuLWJpdGNvaW4ub25saW5lfHppbWFiYWRrby5jb218dmlkb3phLnh5enxldmVyeS1jcnlwdG8uaW5mby8sICgpID0+IHdhaXRGb3JFbG0oJ2RpdiNnZXRsaW5rYnRuIGNlbnRlciBhJywga2FsdiA9PiByZWRpcmVjdChrYWx2LmhyZWYsIGZhbHNlKSkpOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL3N1YjJ1bmxvY2submV0LywgZnVuY3Rpb24oKSB7aWYgKGVsZW1lbnRFeGlzdHMoJy5saW5rRGl2X2J0bnMuY29sLXhzLTEyLmNvbC1zbS0xMi5jb2wtbWQtMTInKSl7bGV0IHN0dSA9IGJwKCcjdGhlTGlua0lEJykudGV4dENvbnRlbnQ7c2V0VGltZW91dCgoKSA9PiB7cmVkaXJlY3Qoc3R1LGZhbHNlKTt9LCAyICogMTAwMCk7fX0pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoLyhzdGFyeGludmVzdG9yfGhpdC1maWxtc3xzZXZlbmpvdXJuYWxzKS5jb218KGlpc2Z2aXJ0dWFsfGJvb2tzem9uZXxsZWFybm1hbnkpLmluLywgZnVuY3Rpb24oKSB7U3VibWl0SWZFeGlzdHMoImZvcm1bbmFtZT0ndHAnXSIsIDMpOyB3YWl0Rm9yRWxtKCdhI2J0bjYnLCBia3ogPT4gcmVkaXJlY3QoYmt6LmhyZWYsIGZhbHNlKSk7fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvKGZpbmFuY2VudWJlfG1peHJvb3Rtb2RzfHBhc3Rlc2NyaXB0fHRyaW1vcnNwYWNrc3xhcGtsb3gpLmNvbXx1cGRyb3AubGluay8sICgpID0+IHt3YWl0Rm9yRWxtKCcjd3BzYWZlLWxpbmsgYScsIGNkciA9PiByZWRpcmVjdChzdHJCZXR3ZWVuKGNkci5vbmNsaWNrLnRvU3RyaW5nKCksIGB3aW5kb3cub3BlbignYCwgYCcsICdfc2VsZicpYCksIGZhbHNlKSk7fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvcm9uYWtmaXRuZXNzLmNvbS8sIGZ1bmN0aW9uKCkge2lmIChlbGVtZW50RXhpc3RzKCcuY29udGFpbmVycGFuZWwnKSl7bGV0IHJmdCA9IGJwKCdhLmxpbmt5LmJ1dHRvbnBhbmVsLmJ1dHRvbnBhbmVsLWJsb2NrLmJ0bi1sZy5nZXQtbGluay5kaXNhYmxlZCcpLmhyZWY7c2V0VGltZW91dCgoKSA9PiB7cmVkaXJlY3QocmZ0LGZhbHNlKTt9LCAyICogMTAwMCk7fX0pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL21ib29zdC5tZS8sIGZ1bmN0aW9uKCkge2lmIChlbGVtZW50RXhpc3RzKCcjZmlyc3RzZWN0aW9uJykpe2xldCBtYm8gPSBicCgnI19fTkVYVF9EQVRBX18nKTtsZXQgbWJtID0gSlNPTi5wYXJzZShtYm8udGV4dENvbnRlbnQpLnByb3BzLnBhZ2VQcm9wcy5kYXRhLnRhcmdldHVybDtzZXRUaW1lb3V0KCgpID0+IHtyZWRpcmVjdChtYm0sZmFsc2UpO30sIDIgKiAxMDAwKTt9fSk7CiAgICBCeXBhc3NlZEJ5QmxvZ2dlclBlbXVsYSgvKGRpc2hleWV8a3JlYXRpZnBhcmVudGluZ3xwaGltbmV8YWRtZWRpYWZsZXh8Y2RyYWIpLmNvbXwoZ3VydW11fHdwY2hlYXB8aXpzZW98YWRjcnlwdG98ZGF5Y2FzaCkubmV0fChzcG9ydHdlYnxlY3F8bWdhbWV8b25jb2luKS5pbmZvfHNhdmVnby5vcmd8aGJ6LnVzfGRqcXVuamFiLmlufGRhdGFjaGVhcC5pby8sICgpID0+IHdhaXRGb3JFbG0oJyN3cHNhZmVsaW5rLWxhbmRpbmcgPiBpbnB1dCcsIGRpcyA9PiByZWRpcmVjdChKU09OLnBhcnNlKGF0b2IoZGlzLnZhbHVlKSkubGlua3IsIGZhbHNlKSkpOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL3JlYWRpLm9ubGluZXxtYmFudHVsLm15LmlkfGJsb2cucW5peC5tZXx2aWRlb2NsaXAuaW5mb3xtb2RkaW5nem9uZS5pbnxjcnlwdG8tZmkubmV0fGNsYWltY3J5cHRvLmNjfHh0cmFiaXRzLmNsaWNrfChjZW1wYWthamF5YXx3ZWI5YWNhZGVteXxvbmxpbmVpbmNvbXN8YWxsc29mdGRyaXZlcnN8dHJpYnVuY3J5cHRvfHBva2V0b29ud29ybGR8YmlvaW5mbHV8cHViZ3F1b3Rlc3xiaWNvOCkuY29tfCh0ZWNobGVldHN8b3VyY29pbmNhc2h8c3R1ZHlpc3xoZWFsdGh5c2FteSkueHl6LywgZnVuY3Rpb24oKSB7CiAgICAgIHZhciBieXBhc3NsaW5rID0gYXRvYihgYUgke2JwKCIjbGFuZGluZyBbbmFtZT0nZ28nXSIpLnZhbHVlLnNwbGl0KCJhSCIpLnNsaWNlKDEpLmpvaW4oImFIIil9YCk7IHJlZGlyZWN0KGJ5cGFzc2xpbmssIGZhbHNlKTt9KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9haWltZ3Zsb2cuZnVuLywgZnVuY3Rpb24oKSB7RW5hYmxlUkNGKCk7IHdpbmRvdy5vbmxvYWQgPSBzZXRJbnRlcnZhbCgoKSA9PiB7aWYgKGVsZW1lbnRFeGlzdHMoJy5oLWNhcHRjaGEnKSAmJiBDaGVja3Zpc2liaWxpdHkoYnAoJy5oLWNhcHRjaGEnKSkpIHtCeXBhc3NIRCgnI292ZXJsYXknLCAxKTt9IGlmIChlbGVtZW50RXhpc3RzKCJkaXZbaWRePSdjb3VudCddIikgJiYgYnAoImRpdltpZF49J2NvdW50J10iKS5pbm5lckhUTUwgPT0gMCkge1JlYWR5dG9DbGljaygnaW5wdXQ6bnRoLW9mLXR5cGUoMyknLCAxKTt9fSwgMSAqIDEwMDApOwogICAgICAgIGlmIChlbGVtZW50RXhpc3RzKCdpbnB1dC5mb3JtLWNvbnRyb2wnKSkge3dpbmRvdy5vbnNjcm9sbCA9IEJwQmxvY2soKTt3aW5kb3cuY2hlY2syKCk7ICQoJyNjbGlja01lc3NhZ2UnKS50ZXh0KCdQbGVhc2UgQW5zd2VyIHRoZSBNYXRocyBRdWVzdGlvbnMgRmlyc3QgLFdhaXQgdW50aWwgUHJvZ3Jlc3MgYmFyIGVuZCwgdGhlbiBDbGljayB0aGUgUmVkIFggTWFudWFsbHknKTsgZWxlbWVudFJlYWR5KCdbbmFtZT0iYW5zd2VyIl0nKS50aGVuKGZ1bmN0aW9uKGVsZW1lbnQpIHtlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIHdpbmRvdy5jaGVjazMpO30pO319KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9kdXRjaHljb3JwLnNwYWNlfGR1dGNoeWNvcnAub3ZofGd0bGluay5jb3xzZXVsaW5rLmRpZ2l0YWx8b2lpLmlvfGhhbW9keS5wcm98ZmlsZWt1Lm5ldHxtZXRhc2FmZWxpbmsuc2l0ZXwoYmVpbmd0ZWt8ZmMtbGN8YXRnbGlua3N8MTBzaG9ydCkuY29tfCh6YWdsfHNocmlua2ZvcmVhcm4pLmlufChraWl3fHdvcmRjb3VudGVyKS5pY3V8cHdycGEuY2N8c2h1cnQucHd8KGZseWFkfHRhcG5pcCkudmlwfGFudG9uaW1vcy5kZXxzZXVsaW5rLm9ubGluZXxwYWhlLnBsdXMvLCBmdW5jdGlvbigpIHsKICAgICAgaWYgKGVsZW1lbnRFeGlzdHMoJy5ncmVjYXB0Y2hhLWJhZGdlJykgfHwgZWxlbWVudEV4aXN0cygnI2NhcHRjaGFTaG9ydGxpbmsnKSkge3ZhciB0aWNrZXIgPSBzZXRJbnRlcnZhbChmdW5jdGlvbigpIHt0cnkge2NsZWFySW50ZXJ2YWwodGlja2VyKTsgd2luZG93LmdyZWNhcHRjaGEuZXhlY3V0ZSgpO30gY2F0Y2ggKGUpIHt9fSwgMzAwMCk7fX0pOwogICAgQnlwYXNzZWRCeUJsb2dnZXJQZW11bGEoL2R1dGNoeWNvcnAub3ZofGJlYXN0Lmlua3xja2suYWl8b25lbGlua3Mubmx8KHZpZXdmcnxzaG9ydHpvbnx0ZWNoc2FtaXJ8dWZhY3d8Z2F3Ym5lfGJpdGNvaW53aW5jb3xsaWlua2F0fGxpbmtzLmFwa3N2aXB8bmFtYWlkYW5pfGN1dHBhaWR8bGluazFzfHBvc3RhemFwfHllaWZseXxraWRkeXNob3J0fGF0Z2xpbmtzfHNodGZseXxjb3J0YWx5fG1ha2Vtb25leXdpdGh1cmx8bXRyYWZmaWNzfGR6NGxpbmt8ZHotbGlua2spLmNvbXwodG1lYXJufG5hbWFpZGFuaXxjdXRlYXJufGNjdXJsfGxpbmszc3x5b3VzaG9ydHxpbGxpbmspLm5ldHwoczJmbHl8cGdsaW5rfHNuYXBseXxtZWdhdXJsfG1lZ2FmbHl8bGlua3NiYW5hbykuaW58KHdlenxzaG9ydGxpbmtzKS5pbmZvfChzaHJpbmt8Zmx5enUpLmljdXwoMjRwYXl1fHZpZWxpbmspLnRvcHwodGVyYWZseXxoYXRlbGlua3xjYXNoYW5kb3x6dW1wYXx0bGlufHdlZXpvfGFkbmV3c3xib3RmbHl8bGlua2RhbXxhci1nb2FsKS5tZXwoamFtZWVsdGlwc3xtaXRseSkudXN8KGZvcmV4bHl8Z29sZGx5fGluc3VyYW5jbHkpLmNjfChiZXljb2lufGFrdTJ4fG1vaW5zaWRlcnxzYXRvc2hpLXdpbikueHl6fCh3ZWRvY3J5cHRvfHlvdXJ0ZWNobm9sb2d5fGNsaWNrbWFpc3xmbHlsaW5rcykub25saW5lfChzaG9ydDF8dXJsY2FzaHxkZ2xpbmtzKS5zaXRlfChzaHJpbmttZXx0Zmx5KS5saW5rfChwbGF5c3RvcmV8YWRzeXxjbGlrfHNodXJ0KS5wd3xzaG9ydC5leHByZXNzfGNyeXB0b3NoLnByb3xnb28uc3R8dGlueWdvLmNvfHBuZHgubGl2ZXwocGF5c2tpcHxzaHJpbmt1cmwpLm9yZ3xjcnlwdG90cmFja2VyLnNwYWNlfHNob3J0ZWFybi5ldXxjbGlja2xpbmsuZnVufChsb290Y2FzaHx0YXBuaXApLnZpcHxhZGR1cmwuYml6LywgZnVuY3Rpb24oKSB7cGFyZW50Lm9wZW4gPSBCcEJsb2NrKCk7CiAgICAgIGlmIChlbGVtZW50RXhpc3RzKCcuZy1yZWNhcHRjaGEnKSB8fCBlbGVtZW50RXhpc3RzKCcjY2FwdGNoYVNob3J0bGluaycpKSB7bGV0IGZybSA9IHNldEludGVydmFsKCgpID0+IHtpZiAoQ2FwdGNoYWNoZWNrKCkpIHtjbGVhckludGVydmFsKGZybSk7U3VibWl0SWZFeGlzdHMoJyNsaW5rLXZpZXcnKTt9fSwgMSAqIDEwMDApO30gZWxzZSB7bGV0IEZNb2RlID0gWycjbGluay12aWV3JywgJyNmb3JtLWNvbnRpbnVlJywgJy5jb2wtbWQtID4gZm9ybScsICcjbmV4dHN0ZXBmb3JtJywgJyNzdWJtaXQtZm9ybScsICcudGV4dC1jZW50ZXIucm93ID4gZm9ybScsICdkaXYuY29sLW1kLTYgZm9ybScsICdkaXYuY29sLW1kLTEyIGZvcm0nLCAnZGl2LnRleHQtY2VudGVyIGZvcm0nLCAnI2JlZm9yZS1jYXB0Y2hhJywgJyN5dWlkZWEnLCAnI2V4Zm9hcnktZm9ybScsICcjc3VibWl0X2ZpcnN0X3BhZ2UnLCAnI2hpZGRlbiBmb3JtJywgJyN0ZXN0JywgJ2Zvcm0udGV4dC1jZW50ZXInXTtmb3IgKGxldCBpID0gMDsgaSA8IEZNb2RlLmxlbmd0aDsgaSsrKSB7U3VibWl0SWZFeGlzdHMoRk1vZGVbaV0sMik7fX19KTsKICAgIEJ5cGFzc2VkQnlCbG9nZ2VyUGVtdWxhKC9hdXRvZmF1Y2V0LmR1dGNoeWNvcnAuc3BhY2UvLCBmdW5jdGlvbigpIHtsZXQgYXV0b1JvbGwgPSBmYWxzZTsgaWYgKHdpbmRvdy5sb2NhdGlvbi5ocmVmLmluY2x1ZGVzKCcvcm9sbC5waHAnKSkge3dpbmRvdy5zY3JvbGxUbygwLCA5OTk5KTsKICAgICAgaWYgKCFicCgnI3RpbWVyJykpIHtzZXRJbnRlcnZhbCgoKSA9PiB7aWYgKENhcHRjaGFjaGVjaygpKSB7aWYgKGJwKCcuYm9vc3QtYnRuLnVubG9ja2J1dHRvbicpICYmIGF1dG9Sb2xsID09PSBmYWxzZSkge2JwKCcuYm9vc3QtYnRuLnVubG9ja2J1dHRvbicpLmNsaWNrKCk7YXV0b1JvbGwgPSB0cnVlO31pZiAoQ2hlY2t2aXNpYmlsaXR5KGJwKCcjY2xhaW1fYm9vc3RlZCcpKSkge2JwKCcjY2xhaW1fYm9vc3RlZCcpLmNsaWNrKCk7fX19LCAzICogMTAwMCk7fSBlbHNlIHsgc2V0VGltZW91dCgoKSA9PiB7d2luZG93LmxvY2F0aW9uLnJlcGxhY2UoJ2h0dHBzOi8vYXV0b2ZhdWNldC5kdXRjaHljb3JwLnNwYWNlL2NvaW5fcm9sbC5waHAnKTt9LCAzICogMTAwMCk7fX0KICAgICAgaWYgKHdpbmRvdy5sb2NhdGlvbi5ocmVmLmluY2x1ZGVzKCcvY29pbl9yb2xsLnBocCcpKSB7d2luZG93LnNjcm9sbFRvKDAsIDk5OTkpO2lmICghYnAoIiN0aW1lciIpKSB7c2V0SW50ZXJ2YWwoKCkgPT4ge2lmIChDYXB0Y2hhY2hlY2soKSkge2lmIChicCgnLmJvb3N0LWJ0bi51bmxvY2tidXR0b24nKSAmJiBhdXRvUm9sbCA9PT0gZmFsc2UpIHticCgnLmJvb3N0LWJ0bi51bmxvY2tidXR0b24nKS5jbGljaygpO2F1dG9Sb2xsID0gdHJ1ZTt9CiAgICAgIGlmIChDaGVja3Zpc2liaWxpdHkoYnAoJyNjbGFpbV9ib29zdGVkJykpKSB7YnAoJyNjbGFpbV9ib29zdGVkJykuY2xpY2soKTt9fX0sIDMgKiAxMDAwKTt9IGVsc2UgeyBzZXRUaW1lb3V0KCgpID0+IHt3aW5kb3cubG9jYXRpb24ucmVwbGFjZSgnaHR0cHM6Ly9hdXRvZmF1Y2V0LmR1dGNoeWNvcnAuc3BhY2UvcHRjL3dhbGwucGhwJyk7fSwgMyAqIDEwMDApO319IGlmICh3aW5kb3cubG9jYXRpb24uaHJlZi5pbmNsdWRlcygnL3B0Yy93YWxsLnBocCcpKSB7dmFyIHB0Y3dhbGwgPSBCcEFsbCgiLmNvbC5zMTAubTYubDQgYVtuYW1lPSdjbGFpbSddIik7CiAgICAgIGlmIChwdGN3YWxsLmxlbmd0aCA+PSAxKSB7cHRjd2FsbFswXS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAncmVkJzsgbGV0IG1hdGNoID0gcHRjd2FsbFswXS5vbm1vdXNlZG93bi50b1N0cmluZygpLm1hdGNoKC8naHJlZicsICcoLispJy8pO2xldCBocmVmVmFsdWUgPSBtYXRjaFsxXTsKICAgICAgc2V0VGltZW91dCgoKSA9PiB7d2luZG93LmxvY2F0aW9uLnJlcGxhY2UoJ2h0dHBzOi8vYXV0b2ZhdWNldC5kdXRjaHljb3JwLnNwYWNlJyArIGhyZWZWYWx1ZSk7fSwgMyAqIDEwMDApO30gZWxzZSB7aWYgKENoZWNrdmlzaWJpbGl0eSAhPT0gbnVsbCkge3NldFRpbWVvdXQoKCkgPT4ge3dpbmRvdy5sb2NhdGlvbi5yZXBsYWNlKCdodHRwczovL2F1dG9mYXVjZXQuZHV0Y2h5Y29ycC5zcGFjZS9wdGMvJyk7fSwgMyAqIDEwMDApO319fQogICAgICBpZiAobG9jYXRpb24uaHJlZi5pbmNsdWRlcygnYXV0b2ZhdWNldC5kdXRjaHljb3JwLnNwYWNlL3B0Yy8nKSkge2NvbnNvbGUubG9nKCdWaWV3aW5nIEF2YWlsYWJsZSBBZHMnKTsgaWYgKGVsZW1lbnRFeGlzdHMoJy5mYS1jaGVjay1kb3VibGUnKSkge2NvbnNvbGUubG9nKCdBbGwgQXZhaWxhYmxlIEFkcyBXYXRjaGVkJyk7IHNldFRpbWVvdXQoKCkgPT4ge3dpbmRvdy5sb2NhdGlvbi5yZXBsYWNlKCdodHRwczovL2F1dG9mYXVjZXQuZHV0Y2h5Y29ycC5zcGFjZS9kYXNoYm9hcmQucGhwJyk7fSwgMyAqIDEwMDApO30KICAgICAgc2V0SW50ZXJ2YWwoKCkgPT4ge2lmIChDaGVja3Zpc2liaWxpdHkoYnAoJyNzdWJtaXRfY2FwdGNoYScpKSkge2JwKCJidXR0b25bdHlwZT0nc3VibWl0J10uZy1yZWNhcHRjaGEiKS5jbGljaygpO319LCA1ICogMTAwMCk7fX0pOyBjb25zdCBoZWFkZXJzID0geyJDb250ZW50LVR5cGUiOiAiYXBwbGljYXRpb24vanNvbiIsICJhcGlrZXkiOiBBUElLRVl9OwogICAgZWxlbWVudFJlYWR5KCdpZnJhbWVbZGF0YS1oY2FwdGNoYS1yZXNwb25zZV0nKS50aGVuKGFzeW5jIGZ1bmN0aW9uKGVsZW1lbnQpIHtpZiAoIUFQSUtFWSB8fCAhQ2hlY2t2aXNpYmlsaXR5KGVsZW1lbnQpIHx8ICFjZmcuZ2V0KCdoQ2FwdGNoYScpKSByZXR1cm47CiAgICBjb25zdCBzZXR0aW5ncyA9IE9iamVjdC5mcm9tRW50cmllcyhuZXcgVVJMU2VhcmNoUGFyYW1zKGVsZW1lbnQuc3JjKSk7IGxldCBkYXRhID0gYXdhaXQgUmVxdWVzdCgiaHR0cHM6Ly90b2tlbi5ub2NhcHRjaGFhaS5jb20vdG9rZW4iLCB7IG1ldGhvZDogIlBPU1QiLCBoZWFkZXJzLAogICAgZGF0YTogSlNPTi5zdHJpbmdpZnkoe3VybDogc2V0dGluZ3MuaG9zdCwgdHlwZTogImhjYXB0Y2hhIiwgc2l0ZWtleTogc2V0dGluZ3Muc2l0ZWtleSwgc29mdGlkOiAiYmxvZ2dlclBlbXVsYS1kaWVnbyJ9KX0pOyBjb25zdCB1cmwgPSBkYXRhLnVybDsKICAgIHdoaWxlIChkYXRhLnN0YXR1cyAhPSAicHJvY2Vzc2VkIikge2F3YWl0IHNsZWVwKDEpOyBkYXRhID0gYXdhaXQgUmVxdWVzdCh1cmwsIHsgaGVhZGVycywgcmVzcG9uc2VUeXBlOiAnanNvbid9KTsgY29uc29sZS5sb2coZGF0YSk7fQogICAgd2luZG93LnBvc3RNZXNzYWdlKEpTT04uc3RyaW5naWZ5KHsgInNvdXJjZSI6ICJoY2FwdGNoYSIsICJsYWJlbCI6ICJjaGFsbGVuZ2UtY2xvc2VkIiwgImlkIjogc2V0dGluZ3MuaWQsICJjb250ZW50cyI6IHsgImV2ZW50IjogImNoYWxsZW5nZS1wYXNzZWQiLCAicmVzcG9uc2UiOiBkYXRhLnRva2VuLCAiZXhwaXJhdGlvbiI6IDEyMH19KSk7fSk7CiAgICBlbGVtZW50UmVhZHkoJ1tuYW1lPWFkY29weV9yZXNwb25zZV0nKS50aGVuKGZ1bmN0aW9uIChlbGVtZW50KSB7CiAgICBjb25zdCBQSFJBU0VTID0gWycxLjIxIGdpZ2F3YXR0cycsICc0IDggMTUgMTYgMjMgNDInLCAnNSBkb2xsYXIgc2hha2UnLCAnNiBmZWV0IG9mIHNub3cnLCAnOHRoIGNoZXZyb24nLCAnYSB3aWxkIGNhcHRjaGEgYXBwZWFycycsICdhYmVsaWFuIGdyYXBlJywgJ2FiaWRlIHdpdGggbWUnLCAnYWJyYWNhZGFicmEnLCAnYWJzZW50IHdpdGhvdXQgbGVhdmUnLCAnYWJzb2x1dGUgemVybycsICdhY2NpZGVudGFsbHkgb24gcHVycG9zZScsICdhY2Ugb2Ygc3BhZGVzJywgJ2Fjcm9zcyB0aGUgYm9hcmQnLCAnYWRhcHQgaW1wcm92ZScsICdhZGFwdCBpbXByb3ZlIHN1Y2NlZWQnLCAnYWdhaW5zdCB0aGUgZ3JhaW4nLCAnYWdyZWUgdG8gZGlzYWdyZWUnLCAnYWwgY2Fwb25lJywgJ2FsbCBkYW5jaW5nJywgJ2FsbCBncm93biB1cCcsICdhbGwgb2YgdGhlIGFib3ZlJywgJ2FsbCBzaW5naW5nJywgJ2FsbCB5b3VyIGJhc2UnLCAnYWxsZXJnaWMgcmVhY3Rpb24nLCAnYWxtb3N0IGdvdCBpdCcsICdhbHdheXMgdGhlcmUnLCAnYW0gaSBoYXBweScsICdhbmNob3JzIGF3YXknLCAiYW5kIHRoYXQncyB0aGUgd2F5IGl0IGlzIiwgJ2FuZ2VsIGZvb2QnLCAnYW5vdGhlciBjYXN0bGUnLCAnYW50aSBkZW50aXRlJywgJ2FwcGxlIGp1aWNlJywgJ2FwcGxlIHBpZScsICdhcHBsZSBzYXVjZScsICdhcHJpbCBtYXknLCAnYXByaWwgc2hvd2VycycsICdhcmUgd2UgdGhlcmUgeWV0JywgJ2FyZSB5b3UgcmVhZHknLCAnYXJlIHlvdSB0aGUga2V5bWFzdGVyJywgJ2FybXkgdHJhaW5pbmcnLCAnYXJteSB0cmFpbmluZyBzaXInLCAnYXJvdW5kIGhlcmUnLCAnYXMgaSBzZWUgaXQnLCAnYXMgeW91IHdpc2gnLCAnYXNrIHF1ZXN0aW9ucycsICdhdHRpbGEgdGhlIGh1bicsICdhdXRvIGRyaXZpbmcnLCAnYXdlc29tZSBkdWRlJywgJ2F3ZXNvbWUgc2F1Y2UnLCAnYXpnb3RocyBvZiBrcmlhJywgJ2JhYmVsIGZpc2gnLCAnYmFieSBibHVlcycsICdiYWJ5IGJvb21lcicsICdiYWJ5IHN0ZXBzJywgJ2JhY2sgdG8gYmFzaWNzJywgJ2JhY2sgdHJhY2snLCAnYmFja2dyb3VuZCBub2lzZScsICdiYWNvbiBhbmQgZWdncycsICdiYWQgYm9va3MnLCAnYmFkIGVnZycsICdiYWl0IHRoZSBsaW5lJywgJ2Jha2VkIGluIGEgcGllJywgJ2JhbGQgZWFnbGUnLCAnYmFsbCBvZiBjb25mdXNpb24nLCAnYmFuYW5hIGJyZWFkJywgJ2JhbmFuYSBzcGxpdCcsICdiYW5hbmEgc3RhbmQnLCAnYmFuZ2VycyBhbmQgbWFzaCcsICdiYXJiZXIgY2hhaXInLCAnYmFya2luZyBtYWQnLCAnYmFza2V0IGNhc2UnLCAnYmF0ZWQgYnJlYXRoJywgJ2JhdGggdG93ZWwnLCAnYmF0aCB3YXRlcicsICdiYXR0bGUgcm95YWxlJywgJ2JhemluZ2EnLCAnYmUgY2FyZWZ1bCcsICdiZSBtaW5lJywgJ2JlIG15IGZyaWVuZCcsICdiZSBuaWNlJywgJ2JlIG5pbWJsZSBiZSBxdWljaycsICdiZSBzZXJpb3VzIG5vdycsICdiZWFjaCBiYWxsJywgJ2JlYW4gdG93bicsICdiZWFucyBhbmQgcmljZScsICdiZWF1dGlmdWwgZnJpZW5kc2hpcCcsICdiZWUgbGluZScsICdiZWVuIHRoZXJlJywgJ2JlZXIgaW4gYSBib3R0bGUnLCAnYmVlciBpbiB0aGUgYm90dGxlJywgJ2JlZXMga25lZXMnLCAnYmVnIHRoZSBxdWVzdGlvbicsICdiZWxpZXZlIG1lJywgJ2JlbHQgdXAnLCAnYmVybGluIHdhbGwnLCAnYmVzdCBmaXQgbGluZScsICdiZXN0IHNlbGxlcicsICdiZXR0ZXIgY2FsbCBzYXVsJywgJ2JldHRlciBoYWxmJywgJ2JldHRlciBuZXh0IHRpbWUnLCAnYmV5b25kIG1lJywgJ2JpZyBicm90aGVyJywgJ2JpZyBrYWh1bmEgYnVyZ2VyJywgJ2JpZyBub3NlJywgJ2JpZyBzY3JlZW4nLCAnYmlnZ2VyIGluIHRleGFzJywgJ2Jpa2UgcmlkZXInLCAnYmlyZCBjYWdlJywgJ2JpcnRoZGF5IGJveScsICdiaXJ0aGRheSBnaXJsJywgJ2JpemFycm8gamVycnknLCAnYmxhY2sgYW5kIHdoaXRlJywgJ2JsYWNrIGNvZmZlZScsICdibGFjayBnb2xkJywgJ2JsYWNrIGphY2snLCAnYmxhY2sgbW9uZGF5JywgJ2JsYWhibGFoYmxhaCcsICdibGF6ZSBhIHRyYWlsJywgJ2JsZXNzIHlvdScsICdibGluZGVkIGJ5IHNjaWVuY2UnLCAnYmxvZyB0aGlzJywgJ2Jsb29kIHR5cGUnLCAnYmx1ZSBjaGVlc2UnLCAnYmx1ZSByaWJib24nLCAnYmx1ZSBza3knLCAnYm9iIGxvYmxhdycsICdib2R5IHN1cmZpbmcnLCAnYm9pbGVkIGNhYmJhZ2UnLCAnYm9uIHZveWFnZScsICdib25kIGphbWVzIGJvbmQnLCAnYm9uZSBkcnknLCAnYm9udXMgcG9pbnRzJywgJ2JvbnVzIHJvdW5kJywgJ2Jvb2sgcmVhZGluZycsICdib29rIHdvcm0nLCAnYm9vbWVyYW5nJywgJ2Jvcm4gdG8gcnVuJywgImJvdHMgYXJlIGJhZCBtJ2theSIsICdib3R0bGVkIHdhdGVyJywgJ2Jvd3RpZXMgYXJlIGNvb2wnLCAnYm94IGplbGx5IGZpc2gnLCAnYm94IGtpdHR5JywgJ2JveCBvZiBjaG9jb2xhdGVzJywgJ2JyYWFhaW5zJywgJ2JyYW5kIHNwYW5raW5nIG5ldycsICdicmVhZCBvZiBsaWZlJywgJ2JyZWFrIHRoZSBpY2UnLCAnYnJpY2sgaG91c2UnLCAnYnJva2VuIGhlYXJ0JywgJ2Jyb2tlbiByZWNvcmQnLCAnYnJ1Y2UgbGVlJywgJ2JydXNoIHlvdXIgdGVldGgnLCAnYnVja2xlIHlvdXIgc2hvZScsICdidWZmYWxvIHdpbmcnLCAnYnVubnkgcmFiYml0JywgJ2J1cmdlciB3aXRoIGZyaWVzJywgJ2J1cm5pbmcgb2lsJywgJ2J1cm50IHNpZW5uYScsICdidXRsZXIgZGlkIGl0JywgJ2J1dHRlciBzaWRlIGRvd24nLCAnYnV0dG9uIGZseScsICdidXkgc29tZSB0aW1lJywgJ2J5IGFuZCBsYXJnZScsICdieSB0aGUgYm9hcmQnLCAnYnkgdGhlIGJvb2snLCAnYnkgdGhlIHNlYXNob3JlJywgJ2NhYmJhZ2UgYm9yc2h0JywgJ2NhYmJhZ2Ugc3RldycsICdjYWVzYXIgc2FsYWQnLCAnY2FsbCBtZScsICdjYWxsIG1lIG1heWJlJywgJ2NhbiBpIGxvdmUnLCAnY2FuIHlvdSBzZWUnLCAnY2FuZHkgYXBwbGUnLCAnY2FuZHkgY2FuZScsICdjYXBpdGFsIGdhaW4nLCAnY2FwdGNoYSBpbiB0aGUgcnllJywgJ2NhciB0cm91YmxlJywgJ2NhcmJvbiBjb3B5JywgJ2NhcmJvbiBmb290cHJpbnQnLCAnY2FyZCBzaGFycCcsICdjYXJkLXNoYXJwJywgJ2NhcnBlIGRpZW0nLCAnY2FycnkgYSB0b3dlbCcsICdjYXJyeSBvbicsICdjYXJ5IGdyYW50JywgJ2Nhc2UgY2xvc2VkJywgJ2NhdCBnb3QgeW91ciB0b25ndWUnLCAnY2F0Y2ggdGhlIG1hbicsICdjYXRzIGFuZCBkb2dzJywgJ2NhdHMgcGFqYW1hcycsICdjaGFpc2UgbG91bmdlJywgJ2NoYWxsZW5nZSBhY2NlcHRlZCcsICdjaGFuZ2UgdGhlIHdvcmxkJywgJ2NoYW5nZSB5b3Vyc2VsZicsICdjaGFubmVsIHN1cmZpbmcnLCAnY2hhcmxleSBob3JzZScsICdjaGFybGllIGJpdCBtZScsICdjaGFybSBvZmZlbnNpdmUnLCAnY2hhcm1lZCBsaWZlJywgJ2NoZWNrIHlvdXIgY29hdCcsICdjaGVjayB5b3VyIHdvcmsnLCAnY2hlZXNlIGJ1cmdlcicsICdjaGVlc2UgZnJpZXMnLCAnY2hlZXNlIHN0ZWFrJywgJ2NoZXJyeSBvbiB0b3AnLCAnY2hpY2tlbiBmZWVkJywgJ2NoaWNrZW4gbm9vZGxlJywgJ2NoaWNrZW4gc2FsYWQnLCAnY2hpY2tlbiBzb3VwJywgJ2NoaW4gYm95JywgJ2NoaXQgY2hhdCcsICdjaG9jbyBsYXplciBib29tJywgJ2Nob2NvbGF0ZSBjb29raWUnLCAnY2hvY29sYXRlIG1pbGsnLCAnY2hvdyBkb3duJywgJ2NodWNrIG5vcnJpcycsICdjaXJjbGUgb2YgbGlmZScsICdjaXZpbCB3YXInLCAnY2xlYW4gYW5kIHNoaW55JywgJ2NsZWFuIGhhbmRzJywgJ2NsZWFyIGJsdWUgd2F0ZXInLCAnY2xlYXIgc2FpbGluZycsICdjbGljaywgY2xpY2ssIGNsaWNrJywgJ2NsaWZmIGhhbmdlcicsICdjbG9kIGhvcHBlcicsICdjbG9zZSBxdWFydGVycycsICdjbG91ZCBuaW5lJywgJ2Nsb3duIGFyb3VuZCcsICdjb2ZmZWUgY2FuJywgJ2NvbGQgY29tZm9ydCcsICdjb2xkIGZlZXQnLCAnY29sZCBoYXQnLCAnY29sZCBzaG91bGRlcicsICdjb2xkIHR1cmtleScsICdjb2xlc2xhdycsICdjb2xsYWJvcmF0ZSBhbmQgbGlzdGVuJywgJ2NvbG9yZWQgcGFwZXInLCAnY29tZSBhbG9uZycsICdjb21lIGFsb25nIHBvbmQnLCAnY29tZSBiYWNrJywgJ2NvbWUgY2xlYW4nLCAnY29tZSBvbiBkb3duJywgJ2NvbWUgd2hhdCBtYXknLCAnY29tZm9ydCB6b25lJywgJ2NvbW1hIGNvbW1hJywgJ2NvbW1vbiBsYXcnLCAnY29tcGxleCBudW1iZXInLCAnY29uc3RydWN0aW9uIGFoZWFkJywgJ2Nvb2tpZSBjdXR0ZXInLCAnY29vbCBoZWFkcyBwcmV2YWlsJywgJ2NvcCBhbiBhdHRpdHVkZScsICdjb3IgYmxpbWV5JywgJ2NvcmRvbiBibGV1JywgJ2Nvcm5lZCBiZWVmJywgJ2NvdHRvbiBvbicsICdjb3VudCB5b3VyIGNoYW5nZScsICdjb3VudGluZyBzaGVlcCcsICdjb3ZlcmVkIGJyaWRnZScsICdjcmFiIGNha2UnLCAnY3JheW9sYScsICdjcmVhbSBhbmQgc3VnYXInLCAnY3JlYXRlIG5ldyB0aGluZ3MnLCAnY3JlYXRpdmUgcHJvY2VzcycsICdjcmVhdGl2ZSB2aXNpb24nLCAnY3JlZXB5IGNyYXdsZXInLCAnY3JpbWUgb2YgcGFzc2lvbicsICdjcm9jb2RpbGUgdGVhcnMnLCAnY3JvcCB1cCcsICdjcm9zcyB0aGUgcm9hZCcsICdjcm9zcyB0aGUgcnViaWNvbicsICdjdWJpYyBzcGxpbmUnLCAnY3VjdW1iZXIgc2FuZHdpY2gnLCAnY3VwIGNha2UnLCAiY3VwaWQncyBhcnJvdyIsICJjdXJhdGUncyBlZ2ciLCAnY3VycnkgZmF2b3VyJywgJ2N1dCBhbmQgcnVuJywgJ2N1dCB0aGUgbXVzdGFyZCcsICdkYWxlayBhc3lsdW0nLCAnZGFsbGFzIHRleGFzJywgJ2RhbmNlIGFsbCBuaWdodCcsICdkYW5pc2ggcm9ib3QgZGFuY2VycycsICdkYXJrIGhvcnNlJywgJ2RhcyBvb250eicsICdkYXZpZCBhZnRlciBkZW50aXN0JywgJ2RlYWQgYmF0dGVyeScsICdkZWFkIHJpbmdlcicsICdkZWFsIG1lIGluJywgJ2RlYXIgY29va2llJywgJ2RlYXIgbXIgdmVybm9uJywgJ2RlYXIgc2lyJywgJ2RlZXAgdGhvdWdodCcsICdkZWVwIHdhdGVycycsICdkaGFybWEgaW5pdGlhdGl2ZScsICdkaWNlZCBvbmlvbicsICdkaWRkbHkgc3F1YXQnLCAnZGlnaXRhbCBjbG9jaycsICdkaW5nIGEgbGluZycsICdkaW5uZXIgYmVsbCcsICdkaW5vc2F1ciBzcGFjZXNoaXAnLCAnZGlzaCB3YXRlcicsICdkbyBhIGxpdHRsZSBkYW5jZScsICdkbyBiZSBkbyBiZSBkbycsICdkbyBpdCBub3cnLCAnZG8gbW9yZSBzaXR1cHMnLCAnZG8gbm90IHRvdWNoJywgJ2RvIG9yIGRvIG5vdCcsICdkbyB1bnRvIG90aGVycycsICdkbyB3YWggZGl0dHknLCAnZG8geW91IGJlbGlldmUgaW4gbWlyYWNsZXMnLCAnZG8geW91IGxvdmUgbWUnLCAnZG9jdG9yIGNhbGlnYXJpJywgJ2RvY3RvciB3aG8nLCAnZG9jdG9yIHdobz8nLCAnZG9lIGEgZGVlcicsICdkb2cgZGF5cycsICJkb2cncyBicmVha2Zhc3QiLCAiZG9nJ3MgZGlubmVyIiwgJ2RvZ2FwdXMnLCAnZG9ncyBhbmQgY2F0cyBsaXZpbmcgdG9nZXRoZXInLCAnZG9sbGFyIGJpbGwnLCAnZG9sbGFyIHNpZ25zJywgJ2RvbGxhcnMgdG8gZG9udXRzJywgJ2RvbWVzdGljIHNweWluZycsICJkb24ndCBiZSBsYXRlIiwgImRvbid0IGNvdW50IG9uIGl0IiwgImRvbid0IGRhd2RsZSIsICJkb24ndCBzdG9wIiwgImRvbid0IHdhc3RlIHRpbWUiLCAnZG9uZSB0aGF0JywgImRvbmtleSdzIHllYXJzIiwgJ2Rvb2RhaCBtYW4nLCAnZG91YmxlIGNyb3NzJywgJ2RvdWJsZSBjcm9zc2VkJywgJ2RvdWJsZSBkdXRjaCcsICdkb3VibGUganVtcCcsICdkb3VibGUgcmFpbmJvdycsICdkb3VibGUgdGltZScsICdkb3VibGUgd2hhbW15JywgJ2Rvd24gdGhlIGhhdGNoJywgJ2Rvd24gdGhlIHJhYmJpdCBob2xlJywgJ2Rvd253YXJkIHNsb3BlJywgJ2RyYWcgcmFjZScsICdkcmFnb24gd2l0aCBtYXRjaGVzJywgJ2RyYWdvbmZseScsICdkcmFtYXRpYyBjaGlwbXVuaycsICdkcmF3IGEgYmxhbmsnLCAnZHJhd2luZyBib2FyZCcsICdkcmVhbSBiaWcnLCAnZHJpbmsgbWlsaycsICdkcml2ZSBtZSB0byBmaXJlbnplJywgJ2Ryb3AgdGFibGUgdXNlcnMnLCAnZHJ1bWhlYWQnLCAnZHJ1bW1lciBib3knLCAnZHJ5IGNsZWFuIG9ubHknLCAnZHVlbGluZyBiYW5qb3MnLCAnZHVzayB0aWxsIGRhd24nLCAnZHVzdCBidW5ueScsICdkdXN0IHVwJywgJ2R1dmV0IGRheScsICdkeW5hbW8gY2xvY2snLCAnZWFyIGNhbmR5JywgJ2VhciBtYXJrJywgJ2VhciBtdWZmcycsICdlYXN5IGFzIGNha2UnLCAnZWFzeSBhcyBwaWUnLCAnZWFzeSBwZWFzeScsICdlYXN5IHN0cmVldCcsICdlYXQgY291cyBjb3VzJywgJ2VhdCBvdXQnLCAnZWF0IHlvdXIgZGlubmVyJywgJ2VhdCB5b3VyIHZlZ2dpZXMnLCAnZWF0IHlvdXIgdml0YW1pbnMnLCAnZWNrcyB3aHkgemVlJywgJ2VkZ2FyIGRlZ2FzJywgJ2VnZyBvbicsICdlZ2dzIHRlciBtaW5hdGUnLCAnZWlnaHR5IHNpeCcsICdlbGVjdHJvIGhlYWQnLCAnZWxldmF0b3IgZ29pbmcgdXAnLCAiZW1wZXJvcidzIGNsb3RoZXMiLCAnZW1waXJlIHN0YXRlIG9mIG1pbmQnLCAnZW5kIG9mIHN0b3J5JywgJ2VuZ2xpc2ggbXVmZmluJywgJ2Vuam95IGxpZmUnLCAnZXJtYWhnZXJkIGNhcGNoZXInLCAnZXZpbCBleWUnLCAnZXZpbCBnZW5pdXMnLCAnZXhjZWVkaW5nbHkgd2VsbCByZWFkJywgJ2V4Y2xhbWF0aW9uJywgJ2V4ZXJjaXNlIG1vcmUnLCAnZXh0cmEgY2hlZXNlJywgJ2ZhY2UgdGhlIG11c2ljJywgJ2ZhY2UgdG8gZmFjZScsICdmYWRlIGF3YXknLCAnZmFpciBhbmQgc3F1YXJlJywgJ2ZhaXIgcGxheScsICdmYWlyeSBnb2Rtb3RoZXInLCAnZmFpcnkgdGFsZScsICdmYWl0IGFjY29tcGxpJywgJ2ZhbGwgZ3V5JywgJ2ZhbGxpbmcgcGlhbm9zJywgJ2ZhbmN5IGZyZWUnLCAnZmFuY3kgcGFudHMnLCAnZmFyIGF3YXknLCAnZmFyc2ljYWwgYXF1YXRpYyBjZXJlbW9ueScsICdmYXNoaW9uIHZpY3RpbScsICdmYXN0IGFuZCBsb29zZScsICdmYXN0IGFzbGVlcCcsICdmYXRoZXIgdGltZScsICdmYXRoZXIgdW5jbGUnLCAnZmF0aG9tIG91dCcsICdmYXZhIGJlYW5zJywgJ2ZlZWRpbmcgZnJlbnp5JywgJ2ZlZWxpbmcgYmx1ZScsICdmZWxsb3cgdHJhdmVsbGVyJywgJ2ZlemVzIGFyZSBjb29sJywgJ2ZpZWxkIGRheScsICdmaWZ0aCBjb2x1bW4nLCAnZmlsbCBpdCB1cCcsICdmaWx0aHkgZGlydHkgbWVzcycsICdmaWx0aHkgcmljaCcsICJmaW5hZ2xlJ3MgbGF3IiwgJ2ZpbmFsIGFuc3dlcicsICdmaW5nZXIgbGlja2luIGdvb2QnLCAnZmlyZSBicmltIHN0b25lJywgJ2ZpcmVjcmFja2VyJywgJ2ZpcnN0IGNvbnRhY3QnLCAnZmlyc3QgcG9zdCcsICdmaXJzdCB3YXRlcicsICdmaXJzdCB3b3JsZCcsICdmaXNoIGFuZCBjaGlwcycsICdmaXNoIG9uJywgJ2Zpc2h5IHNtZWxsJywgJ2ZsYWcgZGF5JywgJ2ZsYXQgZm9vdCcsICdmbGF0IG91dCcsICdmbGF0IHRpcmUnLCAnZmxpcGFkZWxwaGlhJywgJ2ZsaXBmbG9wcycsICdmbHV4IGNhcGFjaXRvcicsICdmb2xsb3cgbWUnLCAnZm9sc29tIHByaXNvbicsICJmb29sJ3MgcGFyYWRpc2UiLCAnZm9vbHMgZ29sZCcsICdmb3Iga2VlcHMnLCAnZm9yIHN1cmUnLCAnZm9yIHRoZSBiaXJkcycsICdmb3IgdGhlIGdyaXBwZXInLCAnZm9yYmlkZGVuIGZydWl0JywgJ2ZvcmVnb25lIGNvbmNsdXNpb24nLCAnZm9yZ2V0IHRoaXMnLCAnZm9yZ2V0IHlvdScsICdmb3JrIGtuaWZlIHNwb29uJywgJ2ZvcnR5IHR3bycsICdmb3VsIHBsYXknLCAnZm91ciBieSB0d28nLCAnZnJhYmpvdXMgZGF5JywgJ2ZyYW5jZScsICdmcmFua2x5IG15IGRlYXInLCAnZnJlZSBoYXQnLCAnZnJlZXppbmcgdGVtcGVyYXR1cmVzJywgJ2ZyZW5jaCBmcmllZCcsICdmcmVuY2ggZnJpZXMnLCAnZnJlbmNoIHBocmFzZXMnLCAnZnJlc2ggd2F0ZXInLCAnZnJpZWQgaWNlcycsICdmcmllZCByaWNlJywgJ2ZyaWVuZCB6b25lJywgJ2Zyb3plbiBwZWFzJywgJ2ZydWl0IHNhbGFkJywgJ2Z1ZGR5IGR1ZGR5JywgJ2Z1bGwgaG91c2UnLCAnZnVsbCBtb250eScsICdmdWxsIG9mIHN0YXJzJywgJ2Z1bGwgc3RvcCcsICdmdWxsIHRpbHQnLCAnZnVuIHdpdGggZmxhZ3MnLCAnZnVubnkgZmFybScsICdmdXNpbGxpIGplcnJ5JywgJ2Z1enp5IHd1enp5JywgJ2dhZHpvb2tzJywgJ2dhbWUgaXMgdXAnLCAnZ2FuZ25hbSBzdHlsZScsICdnYXJkZW4gb2YgZWRlbicsICdnYXJsaWMgeXVtJywgJ2dhdGhlcnMgbW9zcycsICdnZWUgbG91aXNlJywgJ2dlZSB3aGl6JywgJ2dlZXogbG91aXNlJywgJ2dlbmUgcGFybWVzYW4nLCAnZ2VuZXJhbCB0c28nLCAnZ2VuZXJhdGlvbiB4JywgJ2dlbmdoaXMga2hhbicsICdnZW9yZ2Ugd2FzaGluZ3RvbicsICdnZXQgb3V0JywgJ2dldCBvdmVyIGl0JywgJ2dldCB3ZWxsJywgJ2dldCB5b3VyIGdvYXQnLCAnZ2lhbnQgYnVubnkgcmFiYml0JywgJ2dpYW50IHBhbmRhJywgJ2dpZGR5IGdvYXQnLCAnZ2lmdCBob3JzZScsICdnaW1tZSBwaXp6YScsICdnaW5nZXIgYnJlYWQnLCAnZ2l2ZSBvciB0YWtlJywgJ2dsYXNzIGNlaWxpbmcnLCAnZ2xhemVkIGRvbnV0JywgJ2dsb2JhbCB3YXJtaW5nJywgJ2dvIGJlcnNlcmsnLCAnZ28gZnVydGhlcicsICdnbyBnYWRnZXQgZ28nLCAnZ29lcyB0byBlbGV2ZW4nLCAnZ29sZCBtZWRhbCcsICdnb2xkIHJlY29yZCcsICdnb2xseSBqZWVwZXJzJywgJ2dvbmUgZG9sYWxseScsICdnb25lIGZpc2hpbmcnLCAnZ29vZCBhZnRlcm5vb24nLCAnZ29vZCBhcyBnb2xkJywgJ2dvb2QgYnVkZHknLCAnZ29vZCBkYXknLCAnZ29vZCBldmVuaW5nJywgJ2dvb2QgZm9yIG5vdGhpbmcnLCAnZ29vZCBncmllZicsICdnb29kIGpvYicsICdnb29kIGx1Y2snLCAnZ29vZCBtb3JuaW5nJywgJ2dvb2QgbmlnaHQnLCAnZ29vZCBuaWdodCBhbmQgZ29vZCBsdWNrJywgJ2dvb2QgcmlkZGFuY2UnLCAnZ29vZCBzYW1hcml0YW4nLCAnZ29vZCB3b3JrJywgJ2dvb2R5IGdvb2R5IGd1bWRyb3BzJywgJ2dvb2R5IGd1bWRyb3AnLCAnZ29vZHkgdHdvIHNob2VzJywgJ2dvb3NlYnVtcHMnLCAnZ29yZG9uIGJlbm5ldHQnLCAnZ290IG15IG1vam8nLCAnZ290aGFtIGNpdHknLCAnZ290aGljIGFyY2gnLCAnZ290aGljIGNodXJjaCcsICdncmFpbiBvZiBzYWx0JywgJ2dyYW5kIHNsYW0nLCAnZ3JhcGUgc29kYScsICdncmFzcyB1cCcsICdncmF2ZXlhcmQgc2hpZnQnLCAnZ3JhdnkgdHJhaW4nLCAnZ3JlYXNlIHRoZSBza2lkcycsICdncmVhc2VkIGxpZ2h0bmluZycsICdncmVhdCBzY290dCcsICdncmVhdCB1bndhc2hlZCcsICdncmVnb3J5IHBlY2snLCAnZ3JpZGxvY2snLCAnZ3JpbGxlZCBjaGVlc2UnLCAnZ3JvdW5kaG9nIGRheScsICdncnVtcHkgY2F0JywgJ2d1aW5lYSBwaWcnLCAnZ3VpdGFyIHBsYXllcicsICdndW0gc2hvZScsICdndW5nIGhvJywgJ2hhYnNvbnMgY2hvaWNlJywgJ2hhZCBhIGdyZWF0IGZhbGwnLCAnaGFkIG1lIGF0IGhlbGxvJywgJ2hhaXJ5IGV5ZWJhbGwnLCAnaGFsY3lvbiBkYXlzJywgJ2hhbGYgZG9uZScsICdoYWxmIGVtcHR5JywgJ2hhbGYgZnVsbCcsICdoYWxmIGluY2gnLCAnaGFsbG93ZWQgZ3JvdW5kJywgJ2hhbHAgbWVoJywgJ2hhbSBhbmQgY2hlZXNlJywgJ2hhbWJ1cmdlciBidW4nLCAnaGFtbWVyIHRpbWUnLCAnaGFuZCBvdmVyIGZpc3QnLCAnaGFuZHMgZG93bicsICdoYW5nZXJzIGFuZCBtYXNoJywgJ2hhcHB5IGFubml2ZXJzYXJ5JywgJ2hhcHB5IGJsZXNzaW5ncycsICdoYXBweSBjbGFwcHknLCAnaGFwcHkgcmV0aXJlbWVudCcsICdoYXBweSB0cmFpbHMnLCAnaGFyZCBjYXB0Y2hhIGlzIGhhcmQnLCAnaGFyZCBjaGVlc2UnLCAnaGFyZCBsaW5lcycsICdoYXJkIHNoYXJwJywgJ2hhcmRlbmVkIHByZXN0b29wbmlja3MnLCAnaGFycCBvbicsICdoYXN0ZSBtYWtlcyB3YXN0ZScsICdoYXQgaGVhZCcsICdoYXQgdHJpY2snLCAnaGF2ZSBhIHB1cnBvc2UnLCAnaGF2ZSBhbiBpbmtsaW5nJywgJ2hhdmUgY291cmFnZScsICdoYXZlIGZ1bicsICdoZSBsb3ZlcyBoZXInLCAnaGVhZCBjYXNlJywgJ2hlYWQgaG9uY2hvJywgJ2hlYWQgb3ZlciBoZWVscycsICdoZWFkcyB1cCcsICdoZWFsdGggZm9vZCcsICdoZWFsdGh5IGZvb2QnLCAnaGVhciBoZWFyJywgJ2hlYXIgbWUgcm9hcicsCiAgICAgICAgICAgICAgICAgICAgICdoZWFydCBicmVhaycsICdoZWFydCBzdHJpbmdzJywgImhlYXJ0J3MgY29udGVudCIsICdoZWFydGFjaGUnLCAnaGVhdCB1cCcsICdoZWF0ZWQgZGViYXRlJywgJ2hlYXZlbnMgdG8gYmV0c3knLCAnaGVhdnkgbWV0YWwnLCAnaGVlYmllIGplZWJpZXMnLCAnaGVsbG8gbmV3bWFuJywgJ2hlbGxvIHN3ZWV0aWUnLCAnaGVsbG8gd2F0c29uJywgJ2hlbGxvIHdvcmxkJywgJ2hlcmUgb3IgdGhlcmUnLCAiaGVyZSdzIGpvaG5ueSIsICdoZXkgYnJvdGhlcicsICdoaWdnbGVkeSBwaWdnbGVkeScsICdoaWdncyBib3NvbicsICdoaWdoIGRlZicsICdoaWdoIGZpdmUnLCAnaGlnaCBmbHllcicsICdoaWdoIGhvcnNlJywgJ2hpZ2ggc2xlZXBlcicsICdoaWdoIHRpbWUnLCAnaGltIHdpdGggaGVyJywgJ2hpc3N5IGZpdCcsICdoaXN0b3J5IHJlcGVhdHMgaXRzZWxmJywgJ2hpdCB0aGUgaGF5JywgJ2hpdCB0aGUgc2FjaycsICdob2FnaWUgcm9sbCcsICdob2JieSBob3JzZScsICJob2Jzb24ncyBjaG9pY2UiLCAnaG9jdXMgcG9jdXMnLCAnaG9pIHBvbGxvaScsICdob2l0eS10b2l0eScsICdob2xkIHlvdXIgaG9yc2VzJywgJ2hvbGQgeW91ciB0b25ndWUnLCAnaG9tZSBqYW1lcycsICdob25leSBtdXN0YXJkJywgJ2hvb3JheSBoZW5yeScsICdob3BzIGEgZGFpc3knLCAnaG9yc2UgYW5kIGNhcnQnLCAiaG9yc2UncyBtb3V0aCIsICdob3QgYmxvb2RlZCcsICdob3QgZGlnZ2l0eSBkb2cnLCAnaG90IGRvZyByb2xsJywgJ2hvdCBwb2xhJywgJ2hvdCBzYXVjZScsICdob3ZlciBoYW5kJywgJ2hvdyBhYm91dCBsdW5jaCcsICdob3cgYWJvdXQgdGhhdCcsICdob3cgYXJlIHlvdScsICdob3cgaW50ZXJlc3RpbmcnLCAnaG93IG5vdywgYnJvd24gY293JywgJ2hvdyBxdWFpbnQnLCAnaG93IHN3ZWV0JywgImhvdydzIGl0IGdvaW5nIiwgJ2hvd2R5IHBhcnRuZXInLCAnaHVnIG1lJywgJ2h1Z2dsZSBtdWdnbGUnLCAnaHVsayBzbWFzaCcsICdodW5reS1kb3J5JywgJ2h1c2ggcHVwcGllcycsICdpIGFtIGNhcHRjaGEnLCAnaSBhbSBmaW5lJywgJ2kgYW0gaGVyZScsICdpIGNhbiBkbyB0aGlzJywgJ2kgY2FuIGZpeCBpdCcsICdpIGhhdmUgZmFsbGVuJywgJ2kga25vdyBub3RoaW5nJywgJ2kgbGlrZSBodW1hbnMnLCAnaSBsaWtlIHBlb3BsZScsICdpIGxpa2UgdHVydGxlcycsICdpIGxpa2UgeW91JywgJ2kgbG92ZSBkZWFkbGluZXMnLCAnaSBsb3ZlIGxhbXAnLCAnaSBsb3ZlIHlvdScsICdpIG1hZGUgdGVhJywgJ2kgbW91c3RhY2hlIHlvdSB3aHknLCAnaSBzYXcgdGhhdCcsICdpIHNlZScsICdpIHRoaW5rIGkgYW0nLCAnaSB0aGluayBpIGNhbicsICdpIHRoaW5rIHNvJywgJ2kgd2FudCBjb250cm9sJywgImknbGwgbWFrZSB0ZWEiLCAiaSdtIGJhdG1hbiIsICJpJ20gYmxlc3NlZCIsICJpJ20gYmx1c2hpbmciLCAiaSdtIGNvbGQgYnJyIiwgImknbSBvbmx5IGh1bWFuIiwgImknbSBzbyBjb2xkIiwgImknbSBzb3JyeSIsICJpJ20gc29ycnkgZGF2ZSIsICJpJ20geW91cnMiLCAnaWNlIHRvIG1lZXQgeW91JywgJ2lkayBteSBiZmYgamlsbCcsICdpZiBpdCBmaXRzJywgJ2ltIGNvbGQuIGJycicsICdpbWFnaW5lIGluc3BpcmUgY3JlYXRlJywgJ2luIGEgYm94JywgJ2luIGxpbWJvJywgJ2luIG92ZXIgbXkgaGVhZCcsICdpbiBzcGFkZXMnLCAnaW4gc3RpdGNoZXMnLCAnaW4gdGhlIGFpcicsICdpbiB0aGUgYm94JywgJ2luIHRoZSBjYXJ0JywgJ2luIHRoZSBjbHViJywgJ2luIHRoZSBkb2xkcnVtcycsICdpbiB0aGUgbGltZWxpZ2h0JywgJ2luZHVzdHJpYWwgcmV2b2x1dGlvbicsICdpbmZyYSBkaWcnLCAnaW5zaWRlIG91dCcsICdpcyBpdCBlbm91Z2gnLCAnaXMgaXQgaG90JywgJ2lzIGl0IGhvdD8nLCAnaXMgaXQgaG90IGluIGhlcmUnLCAnaXMgaXQgcGx1Z2dlZCBpbicsICdpcyBsb3cnLCAiaXQgZG9lc24ndCBjb3VudCIsICdpdCBoYXBwZW5zJywgJ2l0IGh1cnRzJywgJ2l0IGlzIGNlcnRhaW4nLCAnaXQgaXMgZW5vdWdoJywgJ2l0IHdpbGwgcGFzcycsICJpdCdzIG92ZXIiLCAiaXQncyBzdXBlciBlZmZlY3RpdmUiLCAnaXZvcnkgdG93ZXInLCAnamFiYmVyIHdvY2t5JywgJ2phY2sgYmUgbmltYmxlJywgJ2phbSB0b21vcnJvdycsICdqYXkgZ2F0c2J5JywgJ2plcmsgc3RvcmUnLCAnamVycnkgYnVpbHQnLCAnamltbXkgY3JpY2tldCcsICdqaW1teSBob3JuZXInLCAnam9obiBsZW5ub24nLCAnam9obiBzdGVpbmJlY2snLCAnanVtcCBoaWdoZXInLCAnanVtcCBvdmVyJywgJ2p1bXAgdGhlIGNhbmRsZXN0aWNrJywgJ2p1bXAgdGhlIGd1bicsICdqdW1waW5nIGphY2snLCAnanVuZSBqdWx5JywgJ2p1c3QgZGFuY2UnLCAnanVzdCBkZXNlcnRzJywgJ2p1c3QgZHJpdmUnLCAnanVzdCBmcmllbmRzJywgJ2p1c3QgaW4gdGltZScsICdrYW5nYXJvbyBjb3VudCcsICdrYXJtYSBwb2ludHMnLCAna2VlcCBjYWxtJywgJ2tleWJvYXJkJywgJ2tleWJvYXJkIGNhdCcsICdraHliZXIgcGFzcycsICdraWNrIHRoZSBjYW4nLCAna2ljayB5b3VyIGhlZWxzJywgJ2tpbmRuZXNzIG9mIHN0cmFuZ2VycycsICdraW5nIGFydGh1cicsICdraXNzIG1lJywgJ2tpdHRlbiBtaXR0ZW5zJywgJ2tpdHR5IGthdCcsICdrbGF0dSBiZXJhZGEgbmlrdG8nLCAna25pY2sga25hY2snLCAna25vY2sgYXQgdGhlIGRvb3InLCAna25vY2sgYmFjaycsICdrbm9jayBrbm9jayBrbm9jayBwZW5ueScsICdrbm9jayBvZmYnLCAna25vY2sgb24gd29vZCcsICdrbm93IHRoZSByb3BlcycsICdrbm93IHRoeSBzZWxmJywgJ2tub3cgeW91ciBwYXJhZG94ZXMnLCAna25vdyB5b3VyIHJpZ2h0cycsICdrbnVja2xlIGRvd24nLCAna29zaGVyIGRpbGwnLCAna3VuZGFsaW5pIGV4cHJlc3MnLCAnbGFib3VyIG9mIGxvdmUnLCAnbGFkaWVzIGZpcnN0JywgJ2xhZ2VyIGZyZW56eScsICdsYW1lIGR1Y2snLCAnbGFyZHktZGFyZHknLCAnbGFyayBhYm91dCcsICdsYXNlciBiZWFtcycsICdsYXN0IHN0cmF3JywgJ2xhdGVyIGdhdG9yJywgJ2xhdWdoIGF0IG1lJywgJ2xhdyBvZiBzaW5lcycsICdsYXduIGdpbGFuZCcsICdsYXp5IHN1bmRheScsICdsZWFwIGhpZ2hlcicsICdsZWFwcyBhbmQgYm91bmRzJywgJ2xlYXJuIGNoYWxsZW5nZSBpbXByb3ZlJywgJ2xlYXJuIGZyb20gbWlzdGFrZXMnLCAnbGVhcm4gc3VjY2VlZCcsICdsZWFybiB0aGUgcm9wZXMnLCAnbGVhcm4sIGFkdmFuY2UnLCAnbGVhdmUgYnJpdG5leSBhbG9uZScsICdsZWF2ZSBtZSBhbG9uZScsICdsZWZ0IG9yIHJpZ2h0JywgJ2xlZnQgcmlnaHQnLCAnbGVmdHkgbG9vc2V5JywgJ2xlc3MgaXMgbW9yZScsICdsZXQgZ28nLCAnbGV0IGl0IGJlJywgJ2xldCBtZSBrbm93JywgJ2xldCBtZSBvdXQnLCAnbGV0cyBlYXQnLCAnbGV2ZWwgcGxheWluZyBmaWVsZCcsICdsaWJlcnR5IGJlbGwnLCAnbGlicmFyeSBib29rJywgJ2xpY2tldHkgc3BsaXQnLCAnbGllIGxvdycsICdsaWdodCBzbGVlcGVyJywgJ2xpa2UgYSBib3NzJywgJ2xpa2UgdGhlIGRpY2tlbnMnLCAnbGluZWFyIGFsZ2VicmEnLCAnbGl0dGxlIGJpcmQgdG9sZCBtZScsICdsaXR0bGUgYm9iYnkgdGFibGVzJywgJ2xpdHRsZSBkaWQgaGUga25vdycsICdsaXR0bGUgc2lzdGVyJywgJ2xpdmUgZnJlZScsICdsaXZlIGluIHRoZSBtb21lbnQnLCAnbGl2ZSBpbiB0aGUgbm93JywgJ2xpdmUgbGlmZScsICdsaXZlIGxvbmcgKyBwcm9zcGVyJywgJ2xpdmUgbG92ZSBpbnRlcm5ldCcsICdsaXZlIGxvdmUgdHlwZScsICdsaXZlIHRyYW5zbWlzc2lvbicsICdsaXZlIHdpdGggcHVycG9zZScsICdsaXZlIHlvdXIgZHJlYW0nLCAnbGl2aW5nIGRheWxpZ2h0cycsICdsaXZpbmcgdGhpbmdzJywgJ2xpemFyZCBwb2lzb25zIHNwb2NrJywgJ2xvIGFuZCBiZWhvbGQnLCAnbG9hZiBvZiBicmVhZCcsICdsb2NhbCBkZXJieScsICdsb2wgY2F0JywgJ2xvbGxlcnNrYXRlcycsICdsb2xseSBwb3AnLCAnbG9uZG9uIGNhbGxpbmcnLCAnbG9uZyBkaXZpc2lvbicsICdsb25nIGluIHRoZSB0b290aCcsICdsb29rIGF3YXknLCAnbG9vayBiZWZvcmUgY3Jvc3NpbmcnLCAnbG9vayBib3RoIHdheXMnLCAnbG9va2luZyBnbGFzcycsICdsb3NlIGZhY2UnLCAnbG9zdCBsb3ZlJywgJ2xvdWQgbXVzaWMnLCAnbG92ZSBpcyBhdXRvbWF0aWMnLCAnbG92ZSBpcyBibGluZCcsICdsb3ZlIGxpZmUnLCAnbG92ZSBtZScsICdsb3ZlIHlvdScsICdsb3ZlLWhhdGUnLCAnbG92ZXkgZG92ZXknLCAnbHVjaWxsZSAyJywgJ2x1Y2t5IHlvdScsICdsdWR3aWcgdmFuJywgJ2x1bXB5IGdyYXZ5JywgJ2x1bmF0aWMgZnJpZGdlJywgJ2x1bmNoIHRpbWUnLCAnbHVuY2ggdHVlc2RheScsICdtYWQgaGF0dGVyJywgJ21hZCBzY2llbmNlJywgJ21hZ2ljIGRlY29kZXIgcmluZycsICdtYWdpYyBlaWdodCBiYWxsJywgJ21hZ2ljYWwgcmVhbGlzbScsICdtYWduZXRpYyBtb25vcG9sZScsICdtYWluIGNoYW5jZScsICdtYWpvciBpbnRlcnNlY3Rpb24nLCAnbWFrZSBhIGJlZSBsaW5lJywgJ21ha2UgaGFzdGUnLCAnbWFrZSBpdCBzbycsICdtYWtlIG15IGRheScsICdtYW55IGhhcHB5IHJldHVybnMnLCAnbWFueSB3aXNoZXMnLCAnbWFwbGUgc3lydXAnLCAnbWFyYmxlIHJ5ZScsICdtYXJjaWEgbWFyY2lhIG1hcmNpYScsICJtYXJlJ3MgbmVzdCIsICdtYXJnaW4gb2YgZXJyb3InLCAnbWFyayBpdCB6ZXJvJywgJ21hcmtldCBmb3JjZXMnLCAnbWFycnkgbWUnLCAnbWFycyByb3ZlcicsICdtYXRoIHRlc3QnLCAnbWF5YW4gcnVpbnMnLCAnbWVhIGN1bHBhJywgJ21lYXQgYW5kIGRyaW5rJywgJ21lYXQgd2l0aCBncmF2eScsICdtZWRkbGluZyBraWRzJywgJ21lZGlhIGZyZW56eScsICdtZWxvZHkgcG9uZCcsICdtZW4gaW4gc3VpdHMnLCAnbWVuZCBmZW5jZXMnLCAnbWVvdyBtZW93JywgJ21ldHJvcG9saXMnLCAnbWV4aWNhbiB3YXZlJywgJ21pY2tleSBmaW5uJywgJ21pbGVzIHRvIGdvJywgJ21pbGsgd2FzIGEgYmFkIGNob2ljZScsICdtaWxrc2hha2UnLCAnbWlsbGlvbiBkb2xsYXJzJywgJ21pbG9rbyBwbHVzJywgJ21pbG9rbyBwbHVzIHZlbGxvY2V0JywgJ21pbXN5IGJvcm9nb3ZlcycsICdtaW5jZWQgb2F0aHMnLCAnbWluZCB0aGUgZ2FwJywgJ21pbnR5IGZyZXNoJywgJ21pc2gtbWFzaCcsICdtaXNzIHlvdScsICdtaXN0ZXIgd2lsc29uJywgJ21vZGVybiBsb3ZlJywgIm1vZSdzIHRhdmVybiIsICdtb20gYW5kIGRhZCcsICdtb25leSBsZW5kZXInLCAnbW9vIHNob28gcG9yaycsICdtb29uIGNoZWVzZScsICdtb290IHBvaW50JywgJ21vcmUgYmV0dGVyJywgJ21vcmUgY2hvY29sYXRlJywgJ21vcmUgY29mZmVlJywgJ21vcmUgY293IGJlbGwnLCAnbW9yZSBpbnRlcm5ldHMnLCAnbW9ybmluZyBwZXJzb24nLCAnbW9zdCBpbnRlcmVzdGluZyBtYW4nLCAnbW9zdCBsaWtlbHknLCAnbW90aGVyIGNvdW50cnknLCAnbW90aGVyIGVhcnRoJywgJ21vdGxleSBjcmV3JywgJ21vdXRoIHdhdGVyaW5nJywgJ21vdmUgYWxvbmcnLCAnbW92ZSBtb3VudGFpbnMnLCAnbW92ZSBvdmVyJywgJ21vdmVhYmxlIGZlYXN0JywgJ21vdmVycyBhbmQgc2hha2VycycsICdtb3ZpZSBzdGFyJywgJ21ycyByb2JpbnNvbicsICdtdWZmbGVkIHJhcCBtdXNpYycsICdtdWx0aSBwYXNzJywgIm11bSdzIHRoZSB3b3JkIiwgJ211bWJvIGp1bWJvJywgIm11cnBoeSdzIGxhdyIsICdtdXNoeSBwZWFzJywgJ211c2ljIG1hY2hpbmUnLCAnbXVzdGFjaGlvZWQnLCAnbXkgYmFkJywgJ215IGJlYXRpbmcgaGVhcnQnLCAnbXkgYmV0dGVyIGhhbGYnLCAnbXkgZGVhciB3YXRzb24nLCAibXkgZnJpZW5kcyBjYW4ndCBkYW5jZSIsICJteSBtaW5kJ3MgZXllIiwgJ215IHNvdXJjZXMgc2F5IG5vJywgJ25haXNlIGNhaW4nLCAnbmFtYnktcGFtYnknLCAnbmFtZSBkcm9wJywgJ25hbm9vIG5hbm9vJywgJ25hcCB0aW1lJywgJ25hcnJvdyBtaW5kZWQnLCAnbmF1dGljYWwgcGhyYXNlcycsICduZSByZWdyZXRzJywgJ25lYXIgdGFubmhhdXNlciBnYXRlJywgJ25lYXJ0IHN0cmluZ3MnLCAnbmVja2JlYXJkJywgJ25lZWQgYSBiaWdnZXIgYm9hdCcsICduZWVkcyBtdXN0JywgJ25lcmNvbGFzIGNlcmcnLCAnbmVzdCBlZ2cnLCAnbmV2ZXIgZ2l2ZSB1cCcsICduZXZlciBnb25uYSBnaXZlIHlvdSB1cCcsICduZXZlciBtaW5kJywgJ25ldmVyIHF1aXQnLCAnbmV3IHlvcmsgY2l0eScsICduaWNlIGpvYicsICduaWNlIG1hcm1vdCcsICduaWNlIHRvIG1lZXQgeW91JywgJ25pZ2h0IG93bCcsICduaXAgYW5kIHR1Y2snLCAnbml0dHkgZ3JpdHR5JywgJ25vIGJyYWluZXInLCAnbm8gY3J5aW5nIGluIGJhc2ViYWxsJywgJ25vIGRpY2UnLCAnbm8gZnJpZW5kIG9mIG1pbmUnLCAnbm8gaG9sZHMgYmFycmVkJywgJ25vIG1lYW5zIG5vJywgJ25vIHJlZ3JldHMnLCAnbm8gc291cCBmb3IgeW91JywgJ25vIHNwb29uJywgJ25vIHN0aW5raW5nIGJhZGdlcycsICdubyB0aW1lIHRvIGV4cGxhaW4nLCAnbm8gd2F5JywgJ25vYm9keSBob21lJywgJ25vbmUgb2YgdGhlIGFib3ZlJywgJ25vcGUgY2h1Y2sgdGVzdGEnLCAnbm9zZSBibGVlZCcsICdub3N5IHBhcmtlcicsICdub3QgYSBib3QnLCAnbm90IGluIGthbnNhcycsICdub3QgeWV0JywgJ25vdyBhbmQgZm9yZXZlcicsICdub3cgbG9vayBoZXJlJywgJ250aCBkZWdyZWUnLCAnbnVsIHBvaW50cycsICdudW1hIG51bWEnLCAnbnV0IGNhc2UnLCAnbnV0cml0aW9uJywgJ255YW4gY2F0JywgJ255cXVpc3QgcmF0ZScsICdvZiBjb3Vyc2UnLCAnb2ZmIHRoZSByZWNvcmQnLCAnb2ggYnJvdGhlcicsICdvaCBlbSBnZWUnLCAnb2ggaGFpJywgJ29oIHNpZ2gnLCAnb2ggc28gY2xvc2UnLCAnb2ggeWVzJywgJ29oIHlvdScsICdvaCx5b3UnLCAnb2gsIHdhaXQnLCAnb2tleSBkb2tleScsICdvbGQgaGF0JywgJ29sZCBtYW4gd2ludGVyJywgJ29sZCBzaG9lJywgJ29tIG5vbSBub20nLCAnb24gYSBib2F0JywgJ29uIGNsb3VkIG5pbmUnLCAnb24gdGhlIGJhbGwnLCAnb24gdGhlIHF0JywgJ29uLW9mZicsICdvbmNlIGFnYWluJywgJ29uY2UgdXBvbiBhIHRpbWUnLCAnb25lIGRheSBtb3JlJywgJ29uZSBmZWxsIHN3b29wJywgJ29uZSBoaXQgd29uZGVyJywgJ29uZSBzbWFsbCBzdGVwIGZvciBtYW4nLCAnb25lIHN0b3Agc2hvcCcsICdvbmUgd2F5JywgJ29uZSB3YXkgc3RyZWV0JywgJ29uZSwgdHdvLCB0aHJlZScsICdvbmx5IHdheSB0byBiZSBzdXJlJywgJ29vbnR6IG9vbnR6JywgJ29vcHMgYSBkYWlzeScsICdvcGVuIHNlYXNvbicsICdvcGVuIHNlc2FtZScsICdvcmFuZ2UganVpY2UnLCAnb3RoZXIgd29ybGRseScsICdvdXQgb2Ygc29ydHMnLCAnb3V0IG9mIHRvbmVyJywgJ291dGxvb2sgZ29vZCcsICdvdmVyIHRoZSBoaWxsJywgJ292ZXIgdGhlIG1vb24nLCAnb3ZlciB0aGUgdG9wJywgJ292ZXIgdGhlcmUnLCAnb3hmb3JkIHVuaXZlcnNpdHknLCAnb3hvIGN1YmUnLCAncGFpbnQgaXQgcmVkJywgInBhbmRvcmEncyBib3giLCAncGFudHMgb24gdGhlIGdyb3VuZCcsICdwYXBlciBqYW0nLCAncGFwZXIgcGxhdGUnLCAncGFydGlhbCBkZXJpdmF0aXZlJywgJ3BhcnRseSBjbG91ZHknLCAncGFydHkgb24gZ2FydGgnLCAncGFzc2luZyBsYW5lJywgJ3BhdGNoIG9mIGdyYXNzJywgJ3BhdGggbGVzcyB0YWtlbicsICdwYXRpZW5jZSBjaGlsZCcsICdwYXR0eSBjYWtlJywgJ3BheSB0aGUgZmVycnltYW4nLCAncGVhIGJyYWluJywgJ3BlYXJseSB3aGl0ZXMnLCAncGVnIG91dCcsICdwZWxsIG1lbGwnLCAncGVubnkgbG9hZmVyJywgJ3Blb3BsZSBsaWtlIG1lJywgJ3BlcGUgc2lsdmlhJywgJ3BlcHBlciBwb3QnLCAncGVwcGVyb25pIHBpenphJywgJ3BlcHBlcnMgYW5kIG9uaW9ucycsICdwZXJmZWN0IHdvcmxkJywgJ3Blc3RlciBwb3dlcicsICdwZXRlciBvdXQnLCAncGhpbGFkZWxwaGlhJywgJ3Bob25lIGhvbWUnLCAncGljayBtZScsICdwaWNrIHVwIHN0aWNrcycsICdwaWNrbGUganVpY2UnLCAncGlja2xlZCBwZXBwZXJzJywgJ3BpY3R1cmUgcGVyZmVjdCcsICdwaWUgYXJlIHJvdW5kJywgJ3BpZSBhcmUgc3F1YXJlZCcsICdwaWUgY2hhcnQnLCAncGllY2Ugb2YgY2FrZScsICJwaWcncyBlYXIiLCAncGlnZ3liYWNrJywgJ3BpbiBtb25leScsICdwaXBlIGRvd24nLCAncGlwZSBkcmVhbScsICdwaXBpbmcgaG90JywgJ3BpdHRlciBwYXR0ZXInLCAncGl6emEgdG9wcGluZycsICdwbGFpbiBzYWlsaW5nJywgJ3BsYXkgYSBnYW1lJywgJ3BsYXkgYWdhaW4nLCAncGxheSBiYWxsJywgJ3BsYXkgaG9va2V5JywgJ3BsYXkgaXQgYWdhaW4gc2FtJywgJ3BsZWFzZWQgYXMgcHVuY2gnLCAncGxlbnR5IG9mIHRpbWUnLCAncGx1Z2dlZCBuaWNrZWwnLCAncGx1cyBvciBtaW51cycsICdwb2NrZXQgc2l6ZWQnLCAncG9kIGJheSBkb29ycycsICdwb2V0aWMganVzdGljZScsICdwb2ludCBibGFuaycsICdwb2ludCB0byBwb2ludCcsICdwb2ludHMgZG9udCBtYXR0ZXInLCAncG9pbnRzIGZvbnQgbWF0dGVyJywgJ3BvaXNvbiBhcHBsZScsICdwb2xpdGljYWwgcGFydHknLCAncG9saXRpY2FseSBjb3JyZWN0JywgInBvbHkncyBjcmFja2VyIiwgJ3BvbmQgbGlmZScsICdwb29sIGJveScsICdwb29sIGhhbGwnLCAncG9vbCBob3VzZScsICdwb29yIGhvdXNlJywgJ3BvcmsgcGllcycsICdwb3VuZCBjYWtlJywgJ3Bvd2VyIGRyZXNzaW5nJywgJ3Bvd2VyIHRvb2wnLCAncHJhY3RpY2UgbWFrZXMgcGVyZmVjdCcsICdwcmVzcyBpbnRvIHNlcnZpY2UnLCAncHJpbWUgdGltZScsICdwcmltcm9zZSBwYXRoJywgJ3ByaW50IG91dCcsICdwcmludCBwYXBlcicsICdwcmludGVyIHBhcGVyJywgJ3Byb3BhbmUgYWNjZXNzb3JpZXMnLCAncHVibGljIGdvb2QnLCAncHVkZGluZyBwb3BzJywgJ3B1ZmZ5IHNoaXJ0JywgJ3B1bXBraW4gcGllJywgJ3B1cHB5IGRvZycsICdwdXBweSBsb3ZlJywgJ3B1c2ggaGFyZGVyJywgJ3B1c2ggb24nLCAncHVzaCB0aGUgZWRnZScsICdwdXNoIHRoZSBlbnZlbG9wZScsICdweXJyaGljIHZpY3RvcnknLCAncXVhbGl0eSB0aW1lJywgJ3F1ZWVuIG5lZmVydGl0aScsICdxdWVlbiBvZiBoZWFydHMnLCAicXVlZW4ncyB5YWNodCIsICdxdWVzdGlvbiBldmVyeXRoaW5nJywgJ3F1ZXN0aW9uIG1hcmsnLCAncXVpZCBwcm8gcXVvJywgJ3F1b3RhdGlvbnMnLCAncmFjayBhbmQgcnVpbicsICdyYWNrIHlvdXIgYnJhaW5zJywgJ3JhaW4gZ28gYXdheScsICdyYWluIHRvbmlnaHQnLCAncmFpbnkgZGF5cycsICdyYWlzZSBjYWluJywgJ3Jhc3BiZXJyeSB0YXJ0JywgJ3JlYWNoIGhpZ2hlcicsICdyZWFkIGFsbCBvdmVyJywgJ3JlYWQgbWUsIHdyaXRlIG1lJywgJ3JlYWQgbXkgbWFpbCcsICdyZWFkeSBzZXQgZ28nLCAncmVhbCBob29weSBmcm9vZCcsICdyZWFsIG1jY295JywgJ3JlZCBoZXJyaW5nJywgJ3JlZCB0YXBlJywgJ3JlZCB3aGl0ZSBhbmQgYmx1ZScsICdyZWQtaGFuZGVkJywgJ3JlZHVwbGljYXRlZCBwaHJhc2VzJywgJ3JlbWFpbiBjYWxtJywgJ3JlbnQtYS1zd2FnJywgJ3Jlc3BlY3QgbWUnLCAncmV0dXJuIHRvIHNlbmRlcicsICdyZXZlcnNlIHRoZSBwb2xhcml0eScsICdyaGlubyBiZWV0bGUnLCAncmhvZGVpc2xhbmQnLCAncmh5bWUgbm9yIHJlYXNvbicsICdyaHltaW5nIHNsYW5nJywgJ3JpY2UgYW5kIGJlYW5zJywgJ3JpY2Ugam9iJywgJ3JpZGUgdGhlIHN1YndheScsICdyaWZmLXJhZmYnLCAncmlnaHQgaGFuZCB0dXJuJywgJ3JpZ2h0IGxlZnQnLCAncmlnaHR5IHRpZ2h0eScsICdyaW5nIGZlbmNpbmcnLCAncmluZyBmZW5yaW5nJywgJ3Jpbmt5LWRpbmsnLCAncmlzZSBhbmQgc2hpbmUnLCAncml2ZXIgc29uZycsICdyaXZlciBzdHl4JywgJ3JvYWQgYXBwbGVzJywgJ3JvYWQgbGVzcyB0cmF2ZWxsZWQnLCAncm9hc3QgYmVlZicsICdyb2JlIG9mIHNhZmZyb24nLCAncm9ja2V0IHNjaWVuY2UnLCAncm9kZW50cyBvZiB1bnVzdWFsIHNpemUnLCAncm9mbGNvcHRlcicsICdyb2xsIGFnYWluJywgJ3JvbGwgb3ZlcicsICdyb2xsZXIgc2thdGVzJywKICAgICAgICAgICAgICAgICAgICAgJ3JvbGxpbmcgc3RvbmUnLCAncm9vZnRvcCcsICdyb29tIGZvciBhY3Rpdml0aWVzJywgJ3Jvb21tYXRlIGFncmVlbWVudCcsICdyb290IGJlZXIgZmxvYXQnLCAncm9wZSBidXJuJywgJ3Jvc2VidWQnLCAncm9zaWUgbGVhJywgJ3JvdWdoIGRpYW1vbmQnLCAncm91bmQgb25lJywgJ3JvdW5kIHJvYmluJywgJ3JvdW5kIHRhYjFlJywgJ3JvdXRlIG9uZScsICdyb3cgYm9hdCcsICdyb3kgZyBiaXYnLCAncm95YWwgZmx1c2gnLCAncnViaWNvbiBjcm9zc2VkJywgJ3J1bGUgb2YgY2hvbWlvJywgJ3J1bGUgb2YgdGh1bWInLCAncnVtIGRvJywgJ3J1biBhbW9rJywgJ3J1biBhd2F5JywgJ3J1biBmYXJ0aGVyJywgJ3J1biB0aGUgZ2F1bnRsZXQnLCAncnVuIHRocm91Z2gnLCAncnVubnkgbm9zZScsICdzYWJlciB0b290aCcsICdzYWNyZWQgY293JywgJ3NhZmUgc3RyZWV0cycsICdzYWZlciBzdHJlZXRzJywgJ3NhZmV0eSBmaXJzdCcsICdzYWxhZCBkYXlzJywgJ3NhbHQgYW5kIHBlcHBlcicsICdzYWx0eSBjaGVlc2UnLCAnc2FtZSBzYW1lJywgJ3NhbmR5IGJlYWNoJywgJ3NhdHVyZGF5IGRldGVudGlvbicsICdzYXVjeScsICdzYXVlciBrcmF1dCcsICdzYXVzYWdlcycsICdzYXZlIGZhY2UnLCAnc2F2ZSBpdCcsICdzYXZlIG91ciBibHV0aHMnLCAnc2F2b2lyIGZhaXJlJywgJ3NheCBhbmQgdmlvbGlucycsICdzYXkgY2hlZXNlJywgJ3NjaG9vbCBpcyBjb29sJywgJ3NjaWVuY2UgY2xhc3MnLCAnc2NpZW5jZSBmYWlyJywgJ3NjaWVuY2UgaXQgd29ya3MnLCAnc2NpZW5jZSBwcm9qZWN0JywgJ3Njb3QgZnJlZScsICdzY3JldyBkcml2ZXInLCAnc2VhIGNoYW5nZScsICdzZWEgc2hlbGwnLCAnc2VhIHNob3JlJywgJ3NlYXR0bGUnLCAnc2VlIHJlZCcsICdzZWUgeWEnLCAnc2VlLXNhdycsICdzZWVrIGJlYXV0eScsICdzZWVtcyBsZWdpdCcsICdzZWl6ZSB0aGUgZGF5JywgJ3NlbGVjdCBmcm9tIHRhYmxlJywgJ3NlbmQgcGFja2luZycsICdzZW5pb3IgY2l0aXplbicsICdzZXZlbiBhdGUgbmluZScsICdzZXZlbiBzaWducycsICdzZXplIHRoZSBkYXknLCAnc2hha2UgYSBsZWcnLCAnc2hha2VuIG5vdCBzdGlycmVkJywgJ3NoYWtlcnMgYW5kIG1vdmVycycsICdzaGFuZSBjb21lIGJhY2snLCAnc2hhcnAgcGVuY2lsJywgJ3NoYXJwIHN0aWNrJywgJ3NoZSBsb3ZlcyBoaW0nLCAnc2hlIHNlbGxzJywgJ3NoZSBzZWxscyBzZWFzaGVsbHMnLCAic2hlJ3MgYSB3aXRjaCIsICdzaGVsZG9uIGFscGhhIGZpdmUnLCAnc2hpbGx5LXNoYWxseScsICdzaGlwIHNoYXBlJywgJ3Nob2Ugc2hpbmUnLCAnc2hvZXMgc2hpbmUnLCAnc2hvb3QgdGhyb3VnaCcsICdzaG91bGRlciBvZiBvcmlvbicsICdzaG93IGRvd24nLCAnc2h1ZmZsZSB0aGUgZGVjaycsICdzaWNrIHB1cHB5JywgJ3NpZ25hbCB5b3VyIHR1cm5zJywgJ3NpZ25zIHBvaW50IHRvIHllcycsICdzaWxlbmNlIGlzIGdvbGRlbicsICdzaWx2ZXIgYmVsbHMnLCAnc2lsdmVyIGJ1bGxldCcsICdzaWx2ZXIgaG9pbmcnLCAnc2lsdmVyIGxpbmluZycsICdzaWx2ZXIgc3Bvb24nLCAnc2luIGNvcyB0YW4nLCAnc2luY2Ugd2hlbicsICdzaW5nIGEgc29uZycsICdzaXhlcyBhbmQgc2V2ZW5zJywgJ3NpeHRlZW4gcG9pbnQgdHVybicsICdza2lkcm93JywgJ3NraXAgYSB0dXJuJywgInNreSdzIHRoZSBsaW1pdCIsICdza3luZXQgaXMgd2F0Y2hpbmcnLCAnc2t5bmV0IGtub3dzJywgJ3NreW5ldCB3YXRjaGVzJywgJ3NsZWVwIHRpZ2h0JywgJ3NsZWVweSBob2xsb3cnLCAnc2xpbXkgZ29vcCcsICdzbGlwcGVyeSBzbG9wZScsICdzbG9hbmUgcmFuZ2VyJywgJ3Nsb3cgZG93bicsICdzbG93IG1pbGVua3kgbGl6YXJkcycsICdzbHVzaCBmdW5kJywgJ3NseXRoeSB0b3ZlcycsICdzbWFsbCBmcmllcycsICdzbWFsbCBmcnknLCAnc21hcnQgY2FzdWFsJywgJ3NtYXJ0IHBob25lJywgJ3NtYXNoZWQgcG90YXRvJywgJ3NtZWxsIHRoYXQnLCAnc21lbGxpbmcgc2FsdCcsICdzbW9rZWQgc2FsbW9uJywgJ3NuYWtlIGV5ZXMnLCAnc25hcHNob3QnLCAnc25hcmUgZHJ1bScsICdzbmVlemluZyBiYWJ5IHBhbmRhJywgJ3Nub29wIGxpb24nLCAnc25vdyBkcmlmdCcsICdzbm93IGZsdXJyeScsICdzbm93IHNob3ZlbCcsICdzbyBmYXIgYXdheScsICdzbyBsaWZlIGxpa2UnLCAnc28gc28nLCAic29kJ3MgbGF3IiwgJ3NvZnQga2l0dHkgd2FybSBraXR0eScsICdzb2Z0IGtpdHR5LCB3YXJtIGtpdHR5JywgJ3NvbWVib2R5IHRoYXQgaSB1c2VkIHRvIGtub3cnLCAnc29uaWMgc2NyZXcgZHJpdmVyJywgJ3NvcnJ5IGRhdmUnLCAnc29ycnkgc2lnaHQnLCAnc291ZmZsZSBnaXJsJywgJ3NvdW5kIGJpdGUnLCAnc291bmQgb2Ygc2lyZW5zJywgJ3NvdW5kIG91dCcsICdzb3VyIGdyYXBlcycsICdzcGFjZSBpcyBiaWcnLCAnc3BhY2UgcGx1bWJlcicsICdzcGFuZ2xlZCBiYW5uZXInLCAnc3BlZWRpbmcgYnVsbGV0JywgJ3NwZWxsaW5nIGJlZScsICdzcGVuZCB0aW1lJywgJ3NwaWNrIGFuZCBzcGFuJywgJ3NwaWN5JywgJ3NwaWN5IGhvdCcsICdzcGluIGRvY3RvcicsICdzcGl0dGluZyBmZWF0aGVycycsICdzcGl0dGluZyBpbWFnZScsICdzcG9pbGVycycsICdzcHJlYWQgdGhlIG5ldCcsICdzcHJpbmcgd2F0ZXInLCAnc3BydWNlIHVwJywgJ3NxdWFyZSBtZWFsJywgJ3NxdWFyZSBvbmUnLCAnc3F1ZWFreSBjbGVhbicsICdzcXVpcnJlbCBmcmllbmQnLCAnc3Qgam9obnMgYmF5JywgJ3N0YWxsYSBzdGVsbGEnLCAnc3RhbmQgYW5kIGRlbGl2ZXInLCAnc3RhbmQgYnkgbWUnLCAnc3RhbmQgdXAgZ3V5JywgJ3N0YXIgc3BhbmdsZWQnLCAnc3RhciB3YXJzIGtpZCcsICdzdGFydCBmcm9tIHNjcmF0Y2gnLCAnc3RheSBzYWZlJywgJ3N0ZWFrIGFuZCBlZ2dzJywgJ3N0ZWFtIHB1bmsnLCAnc3RlZXJpbmcgd2hlZWwnLCAnc3RlcCBiYWNrJywgJ3N0ZXAgb3ZlcicsICdzdGV2ZSBob2x0JywgJ3N0ZXZlIGpvYnMnLCAnc3RpY2t5IHdpY2tldCcsICdzdGluZyBsaWtlIGEgYmVlJywgJ3N0aW5raW5nIHJpY2gnLCAnc3Rpbmt5IGZlZXQnLCAnc3RvbmUgc291cCcsICJzdG9uZSdzIHRocm93IiwgJ3N0b255IGhlYXJ0ZWQnLCAnc3Rvb2wgcGlnZW9uJywgJ3N0b3Agd2Fpc3RpbmcgdGltZScsICdzdHJhbmdlciBkYW5nZXInLCAnc3RyZWFtcyBvZiBvY2VhbnVzJywgJ3N0cmlrZSBhIG1hdGNoJywgJ3N0cmlrZSB0aHJlZScsICdzdHJpbmcgYWxvbmcnLCAnc3RyaW5nIGNoZWVzZScsICdzdHVjayBpbiBtdWQnLCAnc3R1bXAgdXAnLCAnc3VkbyBtYWtlIHNhbmR3aWNoJywgJ3N1bHBodXIgc21lbGwnLCAnc3VtbW9uIGluZ2xpcCcsICdzdW4gdHp1IHNheXMnLCAnc3VuZGF5JywgJ3N1bnNoaW5lJywgJ3N1cGVyIHN0YXInLCAnc3VyZiBhbmQgdHVyZicsICdzdXJmYWNlIGludGVncmFsJywgJ3N3YW4gc29uZycsICdzd2VldCBkcmVhbXMnLCAnc3dlZXR5IHBpZScsICdzd2lybGluZyB2b3J0ZXggb2YgZW50cm9weScsICd0YWNvIHR1ZXNkYXknLCAndGFrZSBhIGxvb2snLCAndGFrZSBhbiB1bWJyZWxsYScsICd0YWtlIGNhcmUnLCAndGFrZSBpdCBhbGwnLCAndGFrZSBvdXQgZm9vZCcsICd0YWtlIHBvdGx1Y2snLCAndGFrZSB0aGUgY2FrZScsICd0YWtlIHVtYnJhZ2UnLCAndGFrZSB3cm9uZyB0dXJucycsICd0YWtlbiBhYmFjaycsICd0YWxrIHRoZSB0YWxrJywgJ3RhbGsgdG8gc3RyYW5nZXJzJywgJ3RhbGsgdHVya2V5JywgJ3RhbGwgYnVpbGRpbmcnLCAndGFsbCBzdG9yeScsICd0YXN0ZXMgZ29vZCcsICd0YXN0ZXMgbGlrZSBjaGlja2VuJywgJ3RlYSBlYXJsIGdyYXkgaG90JywgJ3RlYSBsZWFmJywgJ3RlYSB3aXRoIGphbScsICd0ZWEgd2l0aCBtaWxrJywgJ3RlYXIgdXMgYXBhcnQnLCAndGVjaG5pY29sb3IgeWF3bicsICd0ZWZsb24gcHJlc2lkZW50JywgJ3RlaCBpbnRlciB3ZWJzJywgJ3RlbiBmb3VyJywgJ3Rlc2xhIGNvaWwnLCAndGhhbmsgeW91JywgJ3RoYW5rIHlvdSwgY29tZSBhZ2FpbicsICd0aGF0IGVzY2FsYXRlZCBxdWlja2x5JywgJ3RoYXQgaHVydHMnLCAndGhhdCB3aWxsIG5vdCB3b3JrJywgInRoYXQncyBhIGZhY3QgamFjayIsICJ0aGF0J3MgYWxsIGZvbGtzIiwgInRoYXQncyBlbm91Z2giLCAidGhhdCdzIGhvdCIsICJ0aGF0J3MgaXQiLCAidGhhdCdzIG15IHNwb3QiLCAidGhhdCdzIHJpZ2h0IiwgInRoZSBiZWUncyBrbmVlcyIsICd0aGUgYmlibGUnLCAndGhlIGJpZyBhcHBsZScsICd0aGUgYmlnIGNoZWVzZScsICd0aGUgYmlnIGVhc3knLCAndGhlIGNhdCBsYWR5JywgJ3RoZSBjYXRzIGNyYWRsZScsICd0aGUgZGVubmlzIHN5c3RlbScsICd0aGUgZHVkZSBhYmlkZXMnLCAndGhlIGV4dHJhIG1pbGUnLCAndGhlIG5leHQgbGV2ZWwnLCAndGhlIG5pZ2h0bWFuIGNvbWV0aCcsICd0aGUgb25lIGV5ZWQgbWFuIGlzIGEga2luZycsICd0aGUgb3RoZXIgc2lkZScsICd0aGUgdHJpYmUgaGFzIHNwb2tlbicsICd0aGUgeWVsbG93IGtpbmcnLCAndGhlcmUgaXMgbm8gc3Bvb24nLCAndGhlcmUgaXMgb25seSB6dWwnLCAndGhlcmUgb25jZSB3YXMnLCAndGhlc2UgcGFydHMnLCAndGhleSBhcmUgd2F0Y2hpbmcnLCAndGhleSBhdGUgaXQnLCAndGhpY2sgYW5kIHRoaW4nLCAndGhpbiBhaXInLCAndGhpbmsgY3JlYXRlIGRvJywgJ3RoaW5rIGdyZWVuJywgJ3RoaW5rIGhhcmQnLCAndGhpbmsgdHdpY2UnLCAndGhpbmtpbmcgY2FwJywgJ3RoaXJkIGRlZ3JlZScsICd0aGlydHkgb25lIGRheXMnLCAndGhpcyBpcyBpdCcsICd0aGlzIGlzIG5vdCBmYWtlJywgJ3RoaXMgaXMgc3BhcnRhJywgJ3RoaXMgb3IgdGhhdCcsICd0aGlzIHN0YXRlbWVudCBpcyBmYWxzZScsICd0aHJlZSBzaG9ydCB3b3JkcycsICd0aHJlZSBzdHJpa2VzJywgJ3Rocm91Z2ggdGhlIGdyYXBldmluZScsICd0aHVtYnMgdXAnLCAndGh1bmRlciBzdG9ybScsICd0aWNrZWQgb2ZmJywgJ3RpY2tsZSB0aGUgaXZvcmllcycsICd0aWNrbGVkIGl2b3JpZXMnLCAndGlja2xlZCBwaW5rJywgJ3RpZGUgb3ZlcicsICd0aWdodCBsaXBwZWQnLCAndGltZSBhbmQgcGFwZXInLCAndGltZSBjaXJjdWl0cycsICd0aW1lIGZsaWVzJywgJ3RpbWUgaXMgYW4gaWxsdXNpb24nLCAndGltZSBsb3JkJywgJ3RpbWUgbWFjaGluZScsICd0aW1lIHdpbGwgdGVsbCcsICd0aW1lcyBzcXVhcmUnLCAidGlua2VyJ3MgZGFtIiwgJ3RvIGJvb3QnLCAndG9hc3QgcG9pbnRzJywgJ3RvZSB0aGUgbGluZScsICd0b2UtY3VybGluZycsICd0b2dldGhlciBhZ2FpbicsICd0b28gYmFkJywgJ3RvbyBsYXRlJywgJ3RvbyBtYW55IGNvb2tzJywgJ3RvbyBtYW55IHNlY3JldHMnLCAndG9vIHNhbHR5JywgJ3Rvb2RsZSBvbycsICd0b3AgZG9nJywgJ3RvcCBkcmF3ZXInLCAndG9wIG5vdGNoJywgJ3RvcCB0ZW4nLCAndG9wc3kgdHVydnknLCAndG9wc3ktdHVydnknLCAndG90YWwgc2hhbWJsZScsICd0b3dlbCBkcnknLCAndG93ZXIgb2Ygc3RyZW5ndGgnLCAndG95IHNvbGRpZXInLCAndHJhZmZpYyBqYW0nLCAndHJhZmZpYyBsaWdodCcsICd0cmFpbiBzdXJmaW5nJywgJ3RyYXZlbCBzaXplJywgJ3RyZWF0IHlvc2VsZicsICd0cmljayBvciB0cmVhdCcsICd0cmlja2xlIGRvd24nLCAndHJvbG9sb2xvbCcsICd0cnVlIGJsdWUnLCAndHJ1ZSBsaWZlJywgJ3RydXN0IG1lJywgJ3R1Y2tlcmVkIG91dCcsICd0dW5hIGZpc2gnLCAndHVuZSBpbicsICd0dXJrZXkgc2FuZHdpY2gnLCAndHVybiBzaWduYWwnLCAndHVybiB0aGUgdGFibGVzJywgJ3R1cm4gdXAgdHJ1bXBzJywgJ3R3ZW50eSBlaWdodCBkYXlzJywgJ3R3ZW50eSBmb3VyIHNldmVuJywgJ3R3ZW50eSBvbmUnLCAndHdlbnR5IHRocmVlJywgJ3R3byBjZW50cyB3b3J0aCcsICd0d28gaGFuZHMnLCAndHdvIGxlZnQgZmVldCcsICd0d28gdG9uZScsICd1IGplbGx5JywgJ3VtYnJlbGxhIGNvcnBvcmF0aW9uJywgJ3VuY2hhcnRlZCBpc2xhbmQnLCAndW5jbGUgbGVvJywgJ3VuZGVyIHRoZSBzZWEnLCAndW5kZXJwYW50cycsICd1bmlvbiBqYWNrJywgJ3VubGltaXRlZCB3aXNoZXMnLCAndW50aWVkIGxhY2VzJywgJ3VudGlsIG5leHQgdGltZScsICd1bnRpbCB0b21vcnJvdycsICd1bnRpbCB0b25pZ2h0JywgJ3VwIGFuZCBhd2F5JywgJ3VwIG9yIGRvd24nLCAndXBwZXIgY3J1c3QnLCAndXBwZXIgaGFuZCcsICd1cHMgYSBkYWlzeScsICd1cHNpZGUgZG93bicsICd1cHZvdGUgdGhpcycsICd1cHdhcmQgc2xvcGUnLCAndXJiYW4gbXl0aCcsICd1c3VhbCBzdXNwZWN0cycsICd1dSBkZCBsciBsciBiYScsICd2YW4gc3VyZmluZycsICd2YW5pbGxhIGljZSBjcmVhbScsICd2ZWcgb3V0JywgJ3ZlZ2FuIGRpZXQnLCAndmVnYW4gem9tYmllIHdhbnRzIGdyYWlucycsICd2ZWdldGFyaWFuJywgJ3ZlcnkgZG91YnRmdWwnLCAndmVyeSBuaWNlJywgJ3ZpY2UgdmVyc2EnLCAndmljaW91cyBjeWNsZScsICd2aWRlbyB0YXBlJywgJ3ZpZW5uYSBjYWxsaW5nJywgJ3ZpcnR1ZSBvZiBuZWNlc3NpdHknLCAndmlzIGEgdmlzJywgJ3ZvY2FsIG1pbm9yaXR5JywgJ3ZvZ29uIHBvZXRyeScsICd2b2lndCBrYW1wZicsICd2b3JwYWwgc3dvcmQnLCAndm90ZSBwYW5jYWtlcycsICd3YWtlIG9mIHRoZSBmbG9vZCcsICd3YWxrIGZyZWUnLCAnd2FsayB0aGUgcGxhbmsnLCAnd2FsayB0aGUgd2FsaycsICd3YW50IG1vcmUnLCAnd2FycCBzcGVlZCcsICd3YXNoIHdoaXRlcyBzZXBhcmF0ZWx5JywgJ3dhdGNoIGMtYmVhbXMgZ2xpdHRlcicsICd3YXRjaCBtZScsICd3YXRjaCBvdXQnLCAnd2F0ZXIgZ2F0ZScsICd3YXggcG9ldGljJywgJ3dheSB0byBnbycsICd3YXkgdG8gZ28gZG9ubnknLCAnd2UgZ28gZm9yd2FyZHMnLCAnd2UgbGlrZSB0aGUgbW9vbicsICd3ZWFrZXN0IGxpbmsnLCAnd2Vhc2VsIHdvcmRzJywgJ3dlbGNvbWUgdG8gZWFydGgnLCAnd2VsbCBkb25lJywgJ3dlbGwgaGVlbGVkJywgIndlbGwgaXNuJ3QgdGhhdCBzcGVjaWFsIiwgJ3dlbGwgbm93JywgJ3dlbGwgcmVhZCcsICd3ZXlsYW4geXV0YW5pJywgJ3doYXQgZXZlbicsICd3aGF0IGV2ZXInLCAnd2hhdCBmb3InLCAnd2hhdCBpZicsICd3aGF0IGlzIGZvciBkaW5uZXInLCAnd2hhdCBpcyB5b3VyIHF1ZXN0JywgJ3doYXQgc2hvdWxkIHdlIGNhbGwgbWUnLCAnd2hhdCB0byBzZWUnLCAid2hhdCdzIHRoYXQiLCAnd2hlZWwgZ3JvdXAnLCAnd2hlbiB3aGVyZScsICd3aGVyZSB0byBnbycsICd3aGV0IHlvdXIgYXBwZXRpdGUnLCAnd2hpc3RsZSBhbmQgZmx1dGUnLCAnd2hpdGUgYXMgc25vdycsICd3aGl0ZSBicmVhZCcsICd3aGl0ZSBlbGVwaGFudCcsICd3aGl0ZSByYWJiaXQnLCAnd2hvIGFtIGknLCAnd2hvIGFyZSB5b3UnLCAnd2hvIGlzIGl0JywgJ3dobyB5b3UgZ29ubmEgY2FsbCcsICd3aG8sIHdoYXQsIHdoZXJlJywgJ3dob2EgdGhlcmUnLCAnd2hvbGUgbmluZSB5YXJkcycsICd3aG9sZSBzaGViYW5nJywgJ3dob29wZWUgY3VzaGlvbicsICd3aG9vcHMgYSBkYWlzeScsICd3aWNrZWQgd2l0Y2gnLCAnd2lkZSBiZXJ0aCcsICd3aWxkIGFuZCBjcmF6eSBndXlzJywgJ3dpbGQgYW5kIHdvb2xseScsICd3aWxkIGdvb3NlIGNoYXNlJywgJ3dpbGQgd2VzdCcsICd3aWxseSBuaWxseScsICd3aW4gaGFuZHMgZG93bicsICd3aW5kb3cgZHJlc3NpbmcnLCAnd2luZyBpdCcsICd3aW5uaW5nJywgJ3dpbnRlciBpcyBjb21pbmcnLCAnd2ludGVyIHNub3cnLCAnd2lzZG9tIG9mIGluZ2xpcCcsICd3aXNkb20gdGVldGgnLCAnd2lzaHktd2FzaHknLCAnd2l0aCBiZWxscyBvbicsICd3aXRob3V0IGEgZG91YnQnLCAnd29vZiB3b29mJywgJ3dvcmQgZm9yIHdvcmQnLCAnd29yZHMgb2Ygd2lzZG9tJywgJ3dvcmsgb3V0JywgJ3dvdWxkIHlvdSBiZWxpZXZlJywgJ3dyaWdodCBmbHllcicsICd3cml0aW5nIGRlc2snLCAneCBhbGwgdGhlIHknLCAneHlsb3Bob25lJywgJ3lhZGEgeWFkYScsICd5YWRkYSB5YWRkYSB5YWRkYScsICd5ZWFoIHJpZ2h0JywgJ3llYXIgZG90JywgJ3llZSBoYXcnLCAneWVsbGluZyBnb2F0JywgJ3llbGxvdyBiZWxseScsICd5ZXMgZGVmaW5pdGVseScsICJ5ZXMgbWEnYW0iLCAneWVzIHNpcicsICd5ZXMgdGhpcyBpcyBkb2cnLCAneW91IGFyZSBoYXBweScsICd5b3UgYXJlIGhlcmUnLCAneW91IGNhbiBkbyB0aGlzJywgInlvdSBkb24ndCBzYXkiLCAneW91IGZpcnN0JywgJ3lvdSBnb29kJywgJ3lvdSBoYXZlIG15IHN0YXBsZXInLCAneW91IHJvY2snLCAneW91IHRoZSBtYW4nLCAneW91IHdpbicsICJ5b3UncmUgaW4gbXkgc3BvdCIsICJ5b3UncmUgbm90IGxpc3RlbmluZyIsICJ5b3UncmUgd2VsY29tZSIsICd6aWcgemFnJywgJ3pvbWJpZSBhdHRhY2snLCAnem9tYmllIHByb20nLCAnd2hvIHdoYXQgd2hlcmUnLCBdOwogICAgY29uc3QgZGF0YWxpc3QgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkYXRhbGlzdCcpOyBkYXRhbGlzdC5zZXRBdHRyaWJ1dGUoJ2lkJywgJ2FkY29weV9waHJhc2VzJyk7IGZvciAoY29uc3QgcGhyYXNlIG9mIFBIUkFTRVMpIHtkYXRhbGlzdC5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdvcHRpb24nKSkuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUocGhyYXNlKSk7fSBlbGVtZW50LnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGRhdGFsaXN0LCBlbGVtZW50Lm5leHRTaWJsaW5nKTsgZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2xpc3QnLCBkYXRhbGlzdC5pZCk7fSk7fX0pKCk7","requires":[{"meta":{"name":"MonkeyConfig%20Modern%20Reloaded.js","url":"https://update.greasyfork.org/scripts/439099/1203718/MonkeyConfig%20Modern%20Reloaded.js","ts":1716552951960,"mimetype":"text/javascript"},"source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICAgIE1vbmtleUNvbmZpZyBNb2Rlcm4gUmVsb2FkZWQKLy8gQG5hbWVzcGFjZSAgICAgIGh0dHA6Ly9vZHluaWVjLm5ldC8KLy8gQGRlc2NyaXB0aW9uICAgIEVhc3kgY29uZmlndXJhdGlvbiBkaWFsb2cgYnVpbGRlciBmb3IgdXNlciBzY3JpcHRzCi8vIEBpbmNsdWRlICAgICAgICAqCi8vID09L1VzZXJTY3JpcHQ9PQoKLyoKICogTW9ua2V5Q29uZmlnCiAqIHZlcnNpb24gMC4xLjQKICogCiAqIENvcHlyaWdodCAoYykgMjAxMS0yMDEzIE1pY2hhbCBXb2pjaWVjaG93c2tpIChvZHluaWVjLm5ldCkKICogdjAuMS40IC0gSmFudWFyeSAyMDIwIC0gRGF2aWQgSG9zaWVyIChodHRwczovL2dpdGh1Yi5jb20vZGF2aWQtaG9zaWVyL01vbmtleUNvbmZpZykKICovCgpmdW5jdGlvbiBNb25rZXlDb25maWcoKSB7CiAgICB2YXIgY2ZnID0gdGhpcywKICAgICAgICAvKiBEYXRhIG9iamVjdCBwYXNzZWQgdG8gdGhlIGNvbnN0cnVjdG9yICovCiAgICAgICAgZGF0YSwKICAgICAgICAvKiBDb25maWd1cmF0aW9uIHBhcmFtZXRlcnMgKGRhdGEucGFyYW1ldGVycyBvciBkYXRhLnBhcmFtcykgKi8KICAgICAgICBwYXJhbXMsCiAgICAgICAgLyogQ3VycmVudCB2YWx1ZXMgb2YgY29uZmlndXJhdGlvbiBwYXJhbWV0ZXJzICovCiAgICAgICAgdmFsdWVzID0ge30sCiAgICAgICAgLyogSWRlbnRpZmllciB1c2VkIHRvIHN0b3JlL3JldHJpZXZlIGNvbmZpZ3VyYXRpb24gKi8KICAgICAgICBzdG9yYWdlS2V5LAogICAgICAgIC8qIElzIHRoZSBjb25maWd1cmF0aW9uIGRpYWxvZyBkaXNwbGF5ZWQ/ICovCiAgICAgICAgZGlzcGxheWVkLAogICAgICAgIC8qIEN1cnJlbnRseSBkaXNwbGF5ZWQgd2luZG93L2xheWVyICovCiAgICAgICAgb3Blbldpbiwgb3BlbkxheWVyLAogICAgICAgIC8qIERPTSBlbGVtZW50IHdyYXBwaW5nIHRoZSBjb25maWd1cmF0aW9uIGZvcm0gKi8KICAgICAgICBjb250YWluZXIsCiAgICAgICAgLyogRGFya2VuZWQgb3ZlcmxheSB1c2VkIGluIHRoZSBsYXllciBkaXNwbGF5IG1vZGUgKi8KICAgICAgICBvdmVybGF5OwogICAgCiAgICAvKioKICAgICAqIEluaXRpYWxpemUgY29uZmlndXJhdGlvbiAKICAgICAqIAogICAgICogQHBhcmFtIG5ld0RhdGEgTmV3IGRhdGEgb2JqZWN0CiAgICAgKi8KICAgIGZ1bmN0aW9uIGluaXQobmV3RGF0YSkgewogICAgICAgIGRhdGEgPSBuZXdEYXRhOwoKICAgICAgICBpZiAoZGF0YSkgewogICAgICAgICAgICBwYXJhbXMgPSBkYXRhLnBhcmFtZXRlcnMgfHwgZGF0YS5wYXJhbXM7CiAgICAgICAgICAgIAogICAgICAgICAgICBpZiAoZGF0YS5idXR0b25zID09PSB1bmRlZmluZWQpCiAgICAgICAgICAgICAgICAvKiBTZXQgZGVmYXVsdCBidXR0b25zICovCiAgICAgICAgICAgICAgICBkYXRhLmJ1dHRvbnMgPSBbICdzYXZlJywgJ2RlZmF1bHRzJywgJ2NhbmNlbCcgXTsKICAgICAgICAgICAgCiAgICAgICAgICAgIGlmIChkYXRhLnRpdGxlID09PSB1bmRlZmluZWQpCiAgICAgICAgICAgICAgICAvKgogICAgICAgICAgICAgICAgICogSWYgR01fZ2V0TWV0YWRhdGEgaXMgYXZhaWxhYmxlLCBnZXQgdGhlIG5hbWUgb2YgdGhlIHNjcmlwdAogICAgICAgICAgICAgICAgICogYW5kIHVzZSBpdCBpbiB0aGUgZGlhbG9nIHRpdGxlCiAgICAgICAgICAgICAgICAgKi8KICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgR01fZ2V0TWV0YWRhdGEgPT0gJ2Z1bmN0aW9uJykgewogICAgICAgICAgICAgICAgICAgIHZhciBzY3JpcHROYW1lID0gR01fZ2V0TWV0YWRhdGEoJ25hbWUnKTsKICAgICAgICAgICAgICAgICAgICBkYXRhLnRpdGxlID0gc2NyaXB0TmFtZSArICcgQ29uZmlndXJhdGlvbic7IAogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgICAgIGRhdGEudGl0bGUgPSAnQ29uZmlndXJhdGlvbic7CiAgICAgICAgfQogICAgICAgIAogICAgICAgIC8qIE1ha2UgYSBzYWZlIHZlcnNpb24gb2YgdGl0bGUgdG8gYmUgdXNlZCBhcyBzdG9yZWQgdmFsdWUgaWRlbnRpZmllciAqLyAKICAgICAgICB2YXIgc2FmZVRpdGxlID0gZGF0YSAmJiBkYXRhLnRpdGxlID8KICAgICAgICAgICAgICAgIGRhdGEudGl0bGUucmVwbGFjZSgvW15hLXpBLVowLTldL2csICdfJykgOiAnJzsKCiAgICAgICAgc3RvcmFnZUtleSA9ICdfTW9ua2V5Q29uZmlnXycgKyBzYWZlVGl0bGUgKyAnX2NmZyc7CiAgICAgICAgCiAgICAgICAgdmFyIHN0b3JlZFZhbHVlczsKICAgICAgICAKICAgICAgICAvKiBMb2FkIHN0b3JlZCB2YWx1ZXMgKGlmIHByZXNlbnQpICovCiAgICAgICAgaWYgKEdNX2dldFZhbHVlKHN0b3JhZ2VLZXkpKQogICAgICAgICAgICBzdG9yZWRWYWx1ZXMgPSBKU09OLnBhcnNlKEdNX2dldFZhbHVlKHN0b3JhZ2VLZXkpKTsKCiAgICAgICAgZm9yICh2YXIgbmFtZSBpbiBwYXJhbXMpIHsKICAgICAgICAgICAgLyogSWYgdGhlcmUncyBhIHZhbHVlIGRlZmluZWQgaW4gdGhlIHBhc3NlZCBkYXRhIG9iamVjdCwgdXNlIGl0ICovCiAgICAgICAgICAgIGlmIChwYXJhbXNbbmFtZV1bJ3ZhbHVlJ10gIT09IHVuZGVmaW5lZCkKICAgICAgICAgICAgICAgIHNldChuYW1lLCBwYXJhbXNbbmFtZV0udmFsdWUpOwogICAgICAgICAgICAvKiBDaGVjayBpZiB0aGVyZSdzIGEgc3RvcmVkIHZhbHVlIGZvciB0aGlzIHBhcmFtZXRlciAqLwogICAgICAgICAgICBlbHNlIGlmIChzdG9yZWRWYWx1ZXMgJiYgc3RvcmVkVmFsdWVzW25hbWVdICE9PSB1bmRlZmluZWQpCiAgICAgICAgICAgICAgICBzZXQobmFtZSwgc3RvcmVkVmFsdWVzW25hbWVdKTsgICAgICAgICAgICAKICAgICAgICAgICAgLyogT3RoZXJ3aXNlLCBzZXQgdGhlIGRlZmF1bHQgdmFsdWUgKGlmIGRlZmluZWQpICovCiAgICAgICAgICAgIGVsc2UgaWYgKHBhcmFtc1tuYW1lXVsnZGVmYXVsdCddICE9PSB1bmRlZmluZWQpCiAgICAgICAgICAgICAgICBzZXQobmFtZSwgcGFyYW1zW25hbWVdWydkZWZhdWx0J10pOwogICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICBzZXQobmFtZSwgJycpOwogICAgICAgIH0KCiAgICAgICAgaWYgKGRhdGEubWVudUNvbW1hbmQpIHsKICAgICAgICAgICAgLyogQWRkIGFuIGl0ZW0gdG8gdGhlIFVzZXIgU2NyaXB0IENvbW1hbmRzIG1lbnUgKi8KICAgICAgICAgICAgdmFyIGNhcHRpb24gPSBkYXRhLm1lbnVDb21tYW5kICE9PSB0cnVlID8gZGF0YS5tZW51Q29tbWFuZCA6CiAgICAgICAgICAgICAgICBkYXRhLnRpdGxlOwogICAgICAgICAgICAKICAgICAgICAgICAgR01fcmVnaXN0ZXJNZW51Q29tbWFuZChjYXB0aW9uLCBmdW5jdGlvbiAoKSB7IGNmZy5vcGVuKCk7IH0pOwogICAgICAgIH0KCiAgICAgICAgLyogRXhwb3NlIHB1YmxpYyBtZXRob2RzICovCiAgICAgICAgY2ZnLm9wZW4gPSBvcGVuOwogICAgICAgIGNmZy5jbG9zZSA9IGNsb3NlOwogICAgICAgIGNmZy5nZXQgPSBnZXQ7CiAgICAgICAgY2ZnLnNldCA9IGZ1bmN0aW9uIChuYW1lLCB2YWx1ZSkgewogICAgICAgICAgICBzZXQobmFtZSwgdmFsdWUpOwogICAgICAgICAgICB1cGRhdGUoKTsKICAgICAgICB9OwogICAgfQogICAgCiAgICAvKioKICAgICAqIEdldCB0aGUgdmFsdWUgb2YgYSBjb25maWd1cmF0aW9uIHBhcmFtZXRlcgogICAgICogCiAgICAgKiBAcGFyYW0gbmFtZSBOYW1lIG9mIHRoZSBjb25maWd1cmF0aW9uIHBhcmFtZXRlcgogICAgICogQHJldHVybnMgVmFsdWUgb2YgdGhlIGNvbmZpZ3VyYXRpb24gcGFyYW1ldGVyCiAgICAgKi8KICAgIGZ1bmN0aW9uIGdldChuYW1lKSB7CiAgICAgICAgcmV0dXJuIHZhbHVlc1tuYW1lXTsKICAgIH0KICAgIAogICAgLyoqCiAgICAgKiBTZXQgdGhlIHZhbHVlIG9mIGEgY29uZmlndXJhdGlvbiBwYXJhbWV0ZXIKICAgICAqIAogICAgICogQHBhcmFtIG5hbWUgTmFtZSBvZiB0aGUgY29uZmlndXJhdGlvbiBwYXJhbWV0ZXIKICAgICAqIEBwYXJhbSB2YWx1ZSBOZXcgdmFsdWUgb2YgdGhlIGNvbmZpZ3VyYXRpb24gcGFyYW1ldGVyCiAgICAgKi8KICAgIGZ1bmN0aW9uIHNldChuYW1lLCB2YWx1ZSkgewogICAgICAgIHZhbHVlc1tuYW1lXSA9IHZhbHVlOwogICAgfQogICAgCiAgICAvKioKICAgICAqIFJlc2V0IGNvbmZpZ3VyYXRpb24gcGFyYW1ldGVycyB0byBkZWZhdWx0IHZhbHVlcwogICAgICovIAogICAgZnVuY3Rpb24gc2V0RGVmYXVsdHMoKSB7CiAgICAgICAgZm9yICh2YXIgbmFtZSBpbiBwYXJhbXMpIHsKICAgICAgICAgICAgaWYgKHR5cGVvZiBwYXJhbXNbbmFtZV1bJ2RlZmF1bHQnXSAhPT0gJ3VuZGVmaW5lZCcpIHsKICAgICAgICAgICAgICAgIHNldChuYW1lLCBwYXJhbXNbbmFtZV1bJ2RlZmF1bHQnXSk7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9CiAgICAKICAgIC8qKgogICAgICogUmVuZGVyIHRoZSBjb25maWd1cmF0aW9uIGRpYWxvZwogICAgICovCiAgICBmdW5jdGlvbiByZW5kZXIoKSB7CiAgICAgICAgdmFyIGh0bWwgPSAnPGRpdiBjbGFzcz0iX19Nb25rZXlDb25maWdfY29udGFpbmVyIj4nICsKICAgICAgICAgICAgJzxoMT4nICsgZGF0YS50aXRsZSArICc8L2gxPicgKwogICAgICAgICAgICAnPHRhYmxlPic7CgogICAgICAgIGZvciAodmFyIG5hbWUgaW4gcGFyYW1zKSB7CiAgICAgICAgICAgIGh0bWwgKz0gTW9ua2V5Q29uZmlnLmZvcm1hdHRlcnNbJ3RyJ10obmFtZSwgcGFyYW1zW25hbWVdKTt9CgogICAgICAgIGh0bWwgKz0gJzx0cj48dGQgY29sc3Bhbj0iMiIgY2xhc3M9Il9fTW9ua2V5Q29uZmlnX2J1dHRvbnMiPicgKwogICAgICAgICAgICAgICAgJzx0YWJsZT48dHI+JzsKCiAgICAgICAgLyogUmVuZGVyIGJ1dHRvbnMgKi8KICAgICAgICBmb3IgKHZhciBidXR0b24gaW4gZGF0YS5idXR0b25zKSB7CiAgICAgICAgICAgIGh0bWwgKz0gJzx0ZD4nOwogICAgICAgICAgICAKICAgICAgICAgICAgc3dpdGNoIChkYXRhLmJ1dHRvbnNbYnV0dG9uXSkgewogICAgICAgICAgICBjYXNlICdjYW5jZWwnOgogICAgICAgICAgICAgICAgaHRtbCArPSAnPGJ1dHRvbiB0eXBlPSJidXR0b24iICcgKwogICAgICAgICAgICAgICAgICAgICdpZD0iX19Nb25rZXlDb25maWdfYnV0dG9uX2NhbmNlbCI+JyArCiAgICAgICAgICAgICAgICAgICAgJzxpbWcgc3JjPSJkYXRhOmltYWdlL3BuZztiYXNlNjQsJyArCiAgICAgICAgICAgICAgICAgICAgICAgIE1vbmtleUNvbmZpZy5yZXMuaWNvbnMuY2FuY2VsICsgJyIgLz4mbmJzcDsnICsKICAgICAgICAgICAgICAgICAgICAnQ2FuY2VsPC9idXR0b24+JzsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICBjYXNlICdkZWZhdWx0cyc6CiAgICAgICAgICAgICAgICBodG1sICs9ICc8YnV0dG9uIHR5cGU9ImJ1dHRvbiIgJyArCiAgICAgICAgICAgICAgICAgICAgJ2lkPSJfX01vbmtleUNvbmZpZ19idXR0b25fZGVmYXVsdHMiPicgKwogICAgICAgICAgICAgICAgICAgICc8aW1nIHNyYz0iZGF0YTppbWFnZS9wbmc7YmFzZTY0LCcgKwogICAgICAgICAgICAgICAgICAgICAgICBNb25rZXlDb25maWcucmVzLmljb25zLmFycm93X3VuZG8gKyAnIiAvPiZuYnNwOycgKwogICAgICAgICAgICAgICAgICAgICdTZXQmbmJzcDtEZWZhdWx0czwvYnV0dG9uPic7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgY2FzZSAnc2F2ZSc6CiAgICAgICAgICAgICAgICBodG1sICs9ICc8YnV0dG9uIHR5cGU9ImJ1dHRvbiIgJyArCiAgICAgICAgICAgICAgICAgICAgJ2lkPSJfX01vbmtleUNvbmZpZ19idXR0b25fc2F2ZSI+JyArCiAgICAgICAgICAgICAgICAgICAgJzxpbWcgc3JjPSJkYXRhOmltYWdlL3BuZztiYXNlNjQsJyArCiAgICAgICAgICAgICAgICAgICAgICAgIE1vbmtleUNvbmZpZy5yZXMuaWNvbnMudGljayArICciIC8+Jm5ic3A7JyArCiAgICAgICAgICAgICAgICAgICAgJ1NhdmU8L2J1dHRvbj4nOwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgCiAgICAgICAgICAgIGh0bWwgKz0gJzwvdGQ+JzsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgaHRtbCArPSAnPC90cj48L3RhYmxlPjwvdGQ+PC90cj4nOwogICAgICAgIAogICAgICAgIGh0bWwgKz0gIjwvdGFibGU+PGRpdj4iOwoKICAgICAgICByZXR1cm4gaHRtbDsKICAgIH0KICAgIAogICAgLyoqCiAgICAgKiBVcGRhdGUgdGhlIGZpZWxkcyBpbiB0aGUgZGlhbG9nIHRvIHJlZmxlY3QgY3VycmVudCB2YWx1ZXMgCiAgICAgKi8KICAgIGZ1bmN0aW9uIHVwZGF0ZSgpIHsKICAgICAgICAvKiBEbyBub3RoaW5nIGlmIHRoZSBkaWFsb2cgaXMgbm90IGN1cnJlbnRseSBkaXNwbGF5ZWQgKi8KICAgICAgICBpZiAoIWRpc3BsYXllZCkKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgIAogICAgICAgIGZvciAodmFyIG5hbWUgaW4gcGFyYW1zKSB7CiAgICAgICAgICAgIHZhciB2YWx1ZSA9IHZhbHVlc1tuYW1lXTsKICAgICAgICAgICAgCiAgICAgICAgICAgIHN3aXRjaCAocGFyYW1zW25hbWVdLnR5cGUpIHsKICAgICAgICAgICAgY2FzZSAnY2hlY2tib3gnOgogICAgICAgICAgICAgICAgdmFyIGVsZW0gPSBjb250YWluZXIucXVlcnlTZWxlY3RvcignW25hbWU9IicgKyBuYW1lICsgJyJdJyk7CiAgICAgICAgICAgICAgICBlbGVtLmNoZWNrZWQgPSAhIXZhbHVlOwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIGNhc2UgJ2N1c3RvbSc6CiAgICAgICAgICAgICAgICBwYXJhbXNbbmFtZV0uc2V0KHZhbHVlLCBjb250YWluZXIKICAgICAgICAgICAgICAgICAgICAgICAgLnF1ZXJ5U2VsZWN0b3IoJyNfX01vbmtleUNvbmZpZ19wYXJlbnRfJyArIG5hbWUpKTsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICBjYXNlICdudW1iZXInOgogICAgICAgICAgICBjYXNlICd0ZXh0JzoKICAgICAgICAgICAgY2FzZSAnY29sb3InOgogICAgICAgICAgICAgICAgdmFyIGVsZW0gPSBjb250YWluZXIucXVlcnlTZWxlY3RvcignW25hbWU9IicgKyBuYW1lICsgJyJdJyk7CiAgICAgICAgICAgICAgICBlbGVtLnZhbHVlID0gdmFsdWU7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgY2FzZSAnc2VsZWN0JzoKICAgICAgICAgICAgICAgIHZhciBlbGVtID0gY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPSInICsgbmFtZSArICciXScpOwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICBpZiAoZWxlbS50YWdOYW1lLnRvTG93ZXJDYXNlKCkgPT0gJ2lucHV0JykgewogICAgICAgICAgICAgICAgICAgIGlmIChlbGVtLnR5cGUgJiYgZWxlbS50eXBlID09ICdyYWRpbycpIHsKICAgICAgICAgICAgICAgICAgICAgICAgLyogU2luZ2xlIHNlbGVjdGlvbiB3aXRoIHJhZGlvIGJ1dHRvbnMgKi8KICAgICAgICAgICAgICAgICAgICAgICAgZWxlbSA9IGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKAogICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1tuYW1lPSInICsgbmFtZSArICciXVt2YWx1ZT0iJyArIHZhbHVlICsgJyJdJyk7CiAgICAgICAgICAgICAgICAgICAgICAgIGVsZW0uY2hlY2tlZCA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGVsZW0udHlwZSAmJiBlbGVtLnR5cGUgPT0gJ2NoZWNrYm94JykgewogICAgICAgICAgICAgICAgICAgICAgICAvKiBNdWx0aXBsZSBzZWxlY3Rpb24gd2l0aCBjaGVja2JveGVzICovCiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjaGVja2JveGVzID0gY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3JBbGwoCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnaW5wdXRbbmFtZT0iJyArIG5hbWUgKyAnIl0nKTsKCiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2hlY2tib3hlcy5sZW5ndGg7IGkrKykKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrYm94ZXNbaV0uY2hlY2tlZCA9IAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICh2YWx1ZS5pbmRleE9mKGNoZWNrYm94ZXNbaV0udmFsdWUpID4gLTEpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGVsc2UgaWYgKGVsZW0udGFnTmFtZS50b0xvd2VyQ2FzZSgpID09ICdzZWxlY3QnKQogICAgICAgICAgICAgICAgICAgIGlmIChlbGVtLm11bHRpcGxlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIC8qIE11bHRpcGxlIHNlbGVjdGlvbiBlbGVtZW50ICovCiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBvcHRpb25zID0gY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3JBbGwoCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnc2VsZWN0W25hbWU9IicgKyBuYW1lICsgJyJdIG9wdGlvbicpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb3B0aW9ucy5sZW5ndGg7IGkrKykKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnNbaV0uc2VsZWN0ZWQgPQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICh2YWx1ZS5pbmRleE9mKG9wdGlvbnNbaV0udmFsdWUpID4gLTEpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICAgICAgICAgIC8qIFNpbmdsZSBzZWxlY3Rpb24gZWxlbWVudCAqLwogICAgICAgICAgICAgICAgICAgICAgICBlbGVtLnZhbHVlID0gdmFsdWU7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KICAgIAogICAgLyoqCiAgICAgKiBTYXZlIGJ1dHRvbiBjbGljayBldmVudCBoYW5kbGVyCiAgICAgKi8KICAgIGZ1bmN0aW9uIHNhdmVDbGljaygpIHsKICAgICAgICBmb3IgKHZhciBuYW1lIGluIHBhcmFtcykgewogICAgICAgICAgICBzd2l0Y2ggKHBhcmFtc1tuYW1lXS50eXBlKSB7CiAgICAgICAgICAgIGNhc2UgJ2NoZWNrYm94JzoKICAgICAgICAgICAgICAgIHZhciBlbGVtID0gY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPSInICsgbmFtZSArICciXScpOwogICAgICAgICAgICAgICAgdmFsdWVzW25hbWVdID0gZWxlbS5jaGVja2VkOwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIGNhc2UgJ2N1c3RvbSc6CiAgICAgICAgICAgICAgICB2YWx1ZXNbbmFtZV0gPSBwYXJhbXNbbmFtZV0uZ2V0KGNvbnRhaW5lcgogICAgICAgICAgICAgICAgICAgICAgICAucXVlcnlTZWxlY3RvcignI19fTW9ua2V5Q29uZmlnX3BhcmVudF8nICsgbmFtZSkpOwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIGNhc2UgJ251bWJlcic6CiAgICAgICAgICAgIGNhc2UgJ3RleHQnOgogICAgICAgICAgICBjYXNlICdjb2xvcic6CiAgICAgICAgICAgICAgICB2YXIgZWxlbSA9IGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCdbbmFtZT0iJyArIG5hbWUgKyAnIl0nKTsKICAgICAgICAgICAgICAgIHZhbHVlc1tuYW1lXSA9IGVsZW0udmFsdWU7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgY2FzZSAnc2VsZWN0JzoKICAgICAgICAgICAgICAgIHZhciBlbGVtID0gY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPSInICsgbmFtZSArICciXScpOwoKICAgICAgICAgICAgICAgIGlmIChlbGVtLnRhZ05hbWUudG9Mb3dlckNhc2UoKSA9PSAnaW5wdXQnKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKGVsZW0udHlwZSAmJiBlbGVtLnR5cGUgPT0gJ3JhZGlvJykKICAgICAgICAgICAgICAgICAgICAgICAgLyogU2luZ2xlIHNlbGVjdGlvbiB3aXRoIHJhZGlvIGJ1dHRvbnMgKi8KICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWVzW25hbWVdID0gY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnW25hbWU9IicgKyBuYW1lICsgJyJdOmNoZWNrZWQnKS52YWx1ZTsKICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChlbGVtLnR5cGUgJiYgZWxlbS50eXBlID09ICdjaGVja2JveCcpIHsKICAgICAgICAgICAgICAgICAgICAgICAgLyogTXVsdGlwbGUgc2VsZWN0aW9uIHdpdGggY2hlY2tib3hlcyAqLwogICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZXNbbmFtZV0gPSBbXTsKICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGlucHV0cyA9IGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yQWxsKAogICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2lucHV0W25hbWU9IicgKyBuYW1lICsgJyJdJyk7CgogICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGlucHV0cy5sZW5ndGg7IGkrKykKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbnB1dHNbaV0uY2hlY2tlZCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZXNbbmFtZV0ucHVzaChpbnB1dHNbaV0udmFsdWUpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGVsc2UgaWYgKGVsZW0udGFnTmFtZS50b0xvd2VyQ2FzZSgpID09ICdzZWxlY3QnICYmIGVsZW0ubXVsdGlwbGUpIHsKICAgICAgICAgICAgICAgICAgICAvKiBNdWx0aXBsZSBzZWxlY3Rpb24gZWxlbWVudCAqLwogICAgICAgICAgICAgICAgICAgIHZhbHVlc1tuYW1lXSA9IFtdOwogICAgICAgICAgICAgICAgICAgIHZhciBvcHRpb25zID0gY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3JBbGwoCiAgICAgICAgICAgICAgICAgICAgICAgICdzZWxlY3RbbmFtZT0iJyArIG5hbWUgKyAnIl0gb3B0aW9uJyk7CgogICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb3B0aW9ucy5sZW5ndGg7IGkrKykKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbnNbaV0uc2VsZWN0ZWQpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZXNbbmFtZV0ucHVzaChvcHRpb25zW2ldLnZhbHVlKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgICAgICB2YWx1ZXNbbmFtZV0gPSBlbGVtLnZhbHVlOwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgCiAgICAgICAgR01fc2V0VmFsdWUoc3RvcmFnZUtleSwgSlNPTi5zdHJpbmdpZnkodmFsdWVzKSk7CiAgICAgICAgCiAgICAgICAgY2xvc2UoKTsKICAgICAgICAKICAgICAgICBpZiAoZGF0YS5vblNhdmUpCiAgICAgICAgICAgIGRhdGEub25TYXZlKHZhbHVlcyk7CiAgICAgICAgICAgIAogICAgICAgICAgICBsb2NhdGlvbi5yZWxvYWQoKTsKICAgIH0KICAgIAogICAgLyoqCiAgICAgKiBDYW5jZWwgYnV0dG9uIGNsaWNrIGV2ZW50IGhhbmRsZXIgCiAgICAgKi8KICAgIGZ1bmN0aW9uIGNhbmNlbENsaWNrKCkgewogICAgICAgIGNsb3NlKCk7CiAgICB9CiAgICAKICAgIC8qKgogICAgICogU2V0IERlZmF1bHRzIGJ1dHRvbiBjbGljayBldmVudCBoYW5kbGVyCiAgICAgKi8KICAgIGZ1bmN0aW9uIGRlZmF1bHRzQ2xpY2soKSB7CiAgICAgICAgc2V0RGVmYXVsdHMoKTsKICAgICAgICB1cGRhdGUoKTsKICAgIH0KCiAgICAvKioKICAgICAqIE9wZW4gY29uZmlndXJhdGlvbiBkaWFsb2cKICAgICAqIAogICAgICogQHBhcmFtIG1vZGUKICAgICAqICAgICAgICAgICAgRGlzcGxheSBtb2RlICgiaWZyYW1lIiwgImxheWVyIiwgb3IgIndpbmRvdyIsIGRlZmF1bHRzIHRvCiAgICAgKiAgICAgICAgICAgICJpZnJhbWUiKQogICAgICogQHBhcmFtIG9wdGlvbnMKICAgICAqICAgICAgICAgICAgRGlzcGxheSBtb2RlIG9wdGlvbnMKICAgICAqLwogICAgZnVuY3Rpb24gb3Blbihtb2RlLCBvcHRpb25zKSB7CiAgICAgICAgZnVuY3Rpb24gb3BlbkRvbmUoKSB7CiAgICAgICAgICAgIC8qIEF0dGFjaCBidXR0b24gZXZlbnQgaGFuZGxlcnMgKi8KICAgICAgICAgICAgdmFyIGJ1dHRvbjsKICAgICAgICAgICAgCiAgICAgICAgICAgIGlmIChidXR0b24gPSBjb250YWluZXIucXVlcnlTZWxlY3RvcignI19fTW9ua2V5Q29uZmlnX2J1dHRvbl9zYXZlJykpCiAgICAgICAgICAgICAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBzYXZlQ2xpY2ssIHRydWUpOwogICAgICAgICAgICBpZiAoYnV0dG9uID0gY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJyNfX01vbmtleUNvbmZpZ19idXR0b25fY2FuY2VsJykpCiAgICAgICAgICAgICAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjYW5jZWxDbGljaywgdHJ1ZSk7CiAgICAgICAgICAgIGlmIChidXR0b24gPSBjb250YWluZXIucXVlcnlTZWxlY3RvcignI19fTW9ua2V5Q29uZmlnX2J1dHRvbl9kZWZhdWx0cycpKQogICAgICAgICAgICAgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZGVmYXVsdHNDbGljaywgdHJ1ZSk7CiAgICAgICAgICAgIAogICAgICAgICAgICBkaXNwbGF5ZWQgPSB0cnVlOwogICAgICAgICAgICB1cGRhdGUoKTsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgc3dpdGNoIChtb2RlKSB7CiAgICAgICAgY2FzZSAnd2luZG93JzogICAgICAgIAogICAgICAgICAgICB2YXIgd2luZG93RmVhdHVyZXMgPSB7CiAgICAgICAgICAgICAgICBsb2NhdGlvbjogJ25vJywKICAgICAgICAgICAgICAgIHN0YXR1czogJ25vJywKICAgICAgICAgICAgICAgIGxlZnQ6IHdpbmRvdy5zY3JlZW5YLAogICAgICAgICAgICAgICAgdG9wOiB3aW5kb3cuc2NyZWVuWSwKICAgICAgICAgICAgICAgIHdpZHRoOiAxMDAsCiAgICAgICAgICAgICAgICBoZWlnaHQ6IDEwMAogICAgICAgICAgICB9OwogICAgICAgICAgICAKICAgICAgICAgICAgLyogQWRkaXRpb25hbCBmZWF0dXJlcyBtYXkgYmUgc3BlY2lmaWVkIGFzIGFuIG9wdGlvbiAqLwogICAgICAgICAgICBpZiAob3B0aW9ucyAmJiBvcHRpb25zLndpbmRvd0ZlYXR1cmVzKQogICAgICAgICAgICAgICAgZm9yICh2YXIgbmFtZSBpbiBvcHRpb25zLndpbmRvd0ZlYXR1cmVzKQogICAgICAgICAgICAgICAgICAgIHdpbmRvd0ZlYXR1cmVzW25hbWVdID0gb3B0aW9ucy53aW5kb3dGZWF0dXJlc1tuYW1lXTsKCiAgICAgICAgICAgIHZhciBmZWF0dXJlc0FycmF5ID0gW107CiAgICAgICAgICAgIAogICAgICAgICAgICBmb3IgKHZhciBuYW1lIGluIHdpbmRvd0ZlYXR1cmVzKQogICAgICAgICAgICAgICAgZmVhdHVyZXNBcnJheS5wdXNoKG5hbWUgKyAnPScgKyB3aW5kb3dGZWF0dXJlc1tuYW1lXSk7CgogICAgICAgICAgICB2YXIgd2luID0gd2luZG93Lm9wZW4oJycsIGRhdGEudGl0bGUsIGZlYXR1cmVzQXJyYXkuam9pbignLCcpKTsKICAgICAgICAgICAgCiAgICAgICAgICAgIC8qIEZpbmQgaGVhZCBhbmQgYm9keSAodGhlbiBjYWxsIHRoZSBibG9vZCBzcGF0dGVyIGFuYWx5c3QpICovCiAgICAgICAgICAgIHZhciBoZWFkID0gd2luLmRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdoZWFkJylbMF0sCiAgICAgICAgICAgICAgICBib2R5ID0gd2luLmRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdib2R5JylbMF07CgogICAgICAgICAgICBoZWFkLmlubmVySFRNTCA9ICc8dGl0bGU+JyArIGRhdGEudGl0bGUgKyAnPC90aXRsZT4nICsgCiAgICAgICAgICAgICAgICAnPHN0eWxlIHR5cGU9InRleHQvY3NzIj4nICsKICAgICAgICAgICAgICAgIE1vbmtleUNvbmZpZy5yZXMuc3R5bGVzaGVldHMubWFpbiArICc8L3N0eWxlPic7CiAgICAgICAgICAgIAogICAgICAgICAgICBib2R5LmNsYXNzTmFtZSA9ICdfX01vbmtleUNvbmZpZ193aW5kb3cnOwogICAgICAgICAgICAvKiBQbGFjZSB0aGUgcmVuZGVyZWQgY29uZmlndXJhdGlvbiBkaWFsb2cgaW5zaWRlIHRoZSB3aW5kb3cgYm9keSAqLwogICAgICAgICAgICBib2R5LmlubmVySFRNTCA9IHJlbmRlcigpOwoKICAgICAgICAgICAgLyogRmluZCB0aGUgY29udGFpbmVyIChDQkFOLTM0ODkpICovCiAgICAgICAgICAgIGNvbnRhaW5lciA9IHdpbi5kb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuX19Nb25rZXlDb25maWdfY29udGFpbmVyJyk7CiAgICAgICAgICAgIAogICAgICAgICAgICAvKiBSZXNpemUgd2luZG93IHRvIHRoZSBkaW1lbnNpb25zIG9mIHRoZSBjb250YWluZXIgZGl2ICovCiAgICAgICAgICAgIHdpbi5pbm5lcldpZHRoID0gY29udGFpbmVyLmNsaWVudFdpZHRoOwogICAgICAgICAgICB3aW4ucmVzaXplQnkoMCwgLXdpbi5pbm5lckhlaWdodCArIGNvbnRhaW5lci5jbGllbnRIZWlnaHQpOwogICAgICAgICAgICAKICAgICAgICAgICAgLyogUGxhY2UgdGhlIHdpbmRvdyBjZW50ZXJlZCByZWxhdGl2ZSB0byB0aGUgcGFyZW50ICovCiAgICAgICAgICAgIHdpbi5tb3ZlQnkoTWF0aC5yb3VuZCgod2luZG93Lm91dGVyV2lkdGggLSB3aW4ub3V0ZXJXaWR0aCkgLyAyKSwKICAgICAgICAgICAgICAgIE1hdGgucm91bmQoKHdpbmRvdy5vdXRlckhlaWdodCAtIHdpbi5vdXRlckhlaWdodCkgLyAyKSk7CiAgICAgICAgICAgIAogICAgICAgICAgICBvcGVuV2luID0gd2luOwogICAgICAgICAgICAKICAgICAgICAgICAgb3BlbkRvbmUoKTsKICAgICAgICAgICAgCiAgICAgICAgICAgIGJyZWFrOwogICAgICAgIGNhc2UgJ2xheWVyJzoKICAgICAgICAgICAgaWYgKCFNb25rZXlDb25maWcuc3R5bGVBZGRlZCkgewogICAgICAgICAgICAgICAgR01fYWRkU3R5bGUoTW9ua2V5Q29uZmlnLnJlcy5zdHlsZXNoZWV0cy5tYWluKTsKICAgICAgICAgICAgICAgIE1vbmtleUNvbmZpZy5zdHlsZUFkZGVkID0gdHJ1ZTsKICAgICAgICAgICAgfQogICAgICAgICAgICAKICAgICAgICAgICAgdmFyIGJvZHkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdib2R5Jyk7CiAgICAgICAgICAgIAogICAgICAgICAgICAvKiBDcmVhdGUgdGhlIGxheWVyIGVsZW1lbnQgKi8KICAgICAgICAgICAgb3BlbkxheWVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgICAgICAgICAgIG9wZW5MYXllci5jbGFzc05hbWUgPSAnX19Nb25rZXlDb25maWdfbGF5ZXInOwogICAgICAgICAgICAKICAgICAgICAgICAgLyogQ3JlYXRlIHRoZSBvdmVybGF5ICovCiAgICAgICAgICAgIG92ZXJsYXkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgICAgICAgICAgb3ZlcmxheS5jbGFzc05hbWUgPSAnX19Nb25rZXlDb25maWdfb3ZlcmxheSc7CiAgICAgICAgICAgIG92ZXJsYXkuc3R5bGUubGVmdCA9IDA7CiAgICAgICAgICAgIG92ZXJsYXkuc3R5bGUudG9wID0gMDsKICAgICAgICAgICAgb3ZlcmxheS5zdHlsZS53aWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoICsgJ3B4JzsKICAgICAgICAgICAgb3ZlcmxheS5zdHlsZS5oZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQgKyAncHgnOwogICAgICAgICAgICBvdmVybGF5LnN0eWxlLnpJbmRleCA9IDk5OTk7CiAgICAgICAgICAgIAogICAgICAgICAgICBib2R5LmFwcGVuZENoaWxkKG92ZXJsYXkpOyAgICAgICAgIAogICAgICAgICAgICBib2R5LmFwcGVuZENoaWxkKG9wZW5MYXllcik7CiAgICAgICAgICAgIAogICAgICAgICAgICAvKiAKICAgICAgICAgICAgICogUGxhY2UgdGhlIHJlbmRlcmVkIGNvbmZpZ3VyYXRpb24gZGlhbG9nIGluc2lkZSB0aGUgbGF5ZXIgZWxlbWVudAogICAgICAgICAgICAgKi8KICAgICAgICAgICAgb3BlbkxheWVyLmlubmVySFRNTCA9IHJlbmRlcigpOwogICAgICAgICAgICAKICAgICAgICAgICAgLyogUG9zaXRpb24gdGhlIGxheWVyIGluIHRoZSBjZW50ZXIgb2YgdGhlIHZpZXdwb3J0ICovCiAgICAgICAgICAgIG9wZW5MYXllci5zdHlsZS5sZWZ0ID0gTWF0aC5yb3VuZCgod2luZG93LmlubmVyV2lkdGggLQogICAgICAgICAgICAgICAgICAgIG9wZW5MYXllci5jbGllbnRXaWR0aCkgLyAyKSArICdweCc7CiAgICAgICAgICAgIG9wZW5MYXllci5zdHlsZS50b3AgPSBNYXRoLnJvdW5kKCh3aW5kb3cuaW5uZXJIZWlnaHQgLQogICAgICAgICAgICAgICAgICAgIG9wZW5MYXllci5jbGllbnRIZWlnaHQpIC8gMikgKyAncHgnOwogICAgICAgICAgICBvcGVuTGF5ZXIuc3R5bGUuekluZGV4ID0gOTk5OTsKICAgICAgICAgICAgCiAgICAgICAgICAgIGNvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5fX01vbmtleUNvbmZpZ19jb250YWluZXInKTsKICAgICAgICAgICAgCiAgICAgICAgICAgIG9wZW5Eb25lKCk7CiAgICAgICAgICAgIAogICAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlICdpZnJhbWUnOgogICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICAgIGlmICghTW9ua2V5Q29uZmlnLnN0eWxlQWRkZWQpIHsKICAgICAgICAgICAgICAgIEdNX2FkZFN0eWxlKE1vbmtleUNvbmZpZy5yZXMuc3R5bGVzaGVldHMubWFpbik7CiAgICAgICAgICAgICAgICBNb25rZXlDb25maWcuc3R5bGVBZGRlZCA9IHRydWU7CiAgICAgICAgICAgIH0KICAgICAgICAKICAgICAgICAgICAgdmFyIGJvZHkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdib2R5Jyk7CiAgICAgICAgICAgIHZhciBpZnJhbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpZnJhbWUnKTsKICAgICAgICAgICAgCiAgICAgICAgICAgIC8qIENyZWF0ZSB0aGUgbGF5ZXIgZWxlbWVudCAqLwogICAgICAgICAgICBvcGVuTGF5ZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgICAgICAgICAgb3BlbkxheWVyLmNsYXNzTmFtZSA9ICdfX01vbmtleUNvbmZpZ19sYXllcic7CiAgICAgICAgICAgIAogICAgICAgICAgICAvKiBDcmVhdGUgdGhlIG92ZXJsYXkgKi8KICAgICAgICAgICAgb3ZlcmxheSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgICAgICAgICBvdmVybGF5LmNsYXNzTmFtZSA9ICdfX01vbmtleUNvbmZpZ19vdmVybGF5JzsKICAgICAgICAgICAgb3ZlcmxheS5zdHlsZS5sZWZ0ID0gMDsKICAgICAgICAgICAgb3ZlcmxheS5zdHlsZS50b3AgPSAwOwogICAgICAgICAgICBvdmVybGF5LnN0eWxlLndpZHRoID0gd2luZG93LmlubmVyV2lkdGggKyAncHgnOwogICAgICAgICAgICBvdmVybGF5LnN0eWxlLmhlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodCArICdweCc7CiAgICAgICAgICAgIG92ZXJsYXkuc3R5bGUuekluZGV4ID0gOTk5OTsKICAgICAgICAgICAgCiAgICAgICAgICAgIGlmcmFtZS5pZCA9ICdfX01vbmtleUNvbmZpZ19mcmFtZSc7CiAgICAgICAgICAgIC8qIAogICAgICAgICAgICAgKiBNYWtlIHRoZSBpZnJhbWUgdHJhbnNwYXJlbnQgc28gdGhhdCBpdCByZW1haW5zIGludmlzaWJsZSB1bnRpbAogICAgICAgICAgICAgKiB0aGUgZG9jdW1lbnQgaW5zaWRlIGl0IGlzIHJlYWR5CiAgICAgICAgICAgICAqLwogICAgICAgICAgICBpZnJhbWUuc3R5bGUub3BhY2l0eSA9IDA7CiAgICAgICAgICAgIGlmcmFtZS5zcmMgPSAnYWJvdXQ6YmxhbmsnOwogICAgICAgICAgICAKICAgICAgICAgICAgLyogTWFrZSB0aGUgaWZyYW1lIHNlYW1sZXNzIHdpdGggbm8gYm9yZGVyIGFuZCBubyBzY3JvbGxiYXJzICovIAogICAgICAgICAgICBpZiAodW5kZWZpbmVkICE9PSBpZnJhbWUuZnJhbWVib3JkZXIpCiAgICAgICAgICAgICAgICBpZnJhbWUuZnJhbWVCb3JkZXIgPSAnMCc7CiAgICAgICAgICAgIGlmICh1bmRlZmluZWQgIT09IGlmcmFtZS5zY3JvbGxpbmcpCiAgICAgICAgICAgICAgICBpZnJhbWUuc2Nyb2xsaW5nID0gJ25vJzsKICAgICAgICAgICAgaWYgKHVuZGVmaW5lZCAhPT0gaWZyYW1lLnNlYW1sZXNzKQogICAgICAgICAgICAgICAgaWZyYW1lLnNlYW1sZXNzID0gdHJ1ZTsKICAgICAgICAgICAgCiAgICAgICAgICAgIC8qIERvIHRoZSByZXN0IGluIHRoZSBsb2FkIGV2ZW50IGhhbmRsZXIgKi8KICAgICAgICAgICAgaWZyYW1lLmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICBpZnJhbWUuY29udGVudERvY3VtZW50LmJvZHkuaW5uZXJIVE1MID0gcmVuZGVyKCk7CiAgICAgICAgICAgICAgICBpZnJhbWUuc3R5bGUub3BhY2l0eSA9IDE7CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIC8qIEFwcGVuZCB0aGUgc3R5bGUgdG8gdGhlIGhlYWQgKi8KICAgICAgICAgICAgICAgIHZhciBoZWFkID0gaWZyYW1lLmNvbnRlbnREb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdoZWFkJyksCiAgICAgICAgICAgICAgICAgICAgc3R5bGUgPSBpZnJhbWUuY29udGVudERvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJyk7CiAgICAgICAgICAgICAgICBzdHlsZS5zZXRBdHRyaWJ1dGUoJ3R5cGUnLCAndGV4dC9jc3MnKTsKICAgICAgICAgICAgICAgIHN0eWxlLmFwcGVuZENoaWxkKGlmcmFtZS5jb250ZW50RG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoCiAgICAgICAgICAgICAgICAgICAgICAgIE1vbmtleUNvbmZpZy5yZXMuc3R5bGVzaGVldHMubWFpbikpOwogICAgICAgICAgICAgICAgaGVhZC5hcHBlbmRDaGlsZChzdHlsZSk7CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBib2R5ID0gaWZyYW1lLmNvbnRlbnREb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdib2R5Jyk7CiAgICAgICAgICAgICAgICBib2R5LmNsYXNzTmFtZSA9ICdfX01vbmtleUNvbmZpZ19ib2R5JzsKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgY29udGFpbmVyID0gaWZyYW1lLmNvbnRlbnREb2N1bWVudAogICAgICAgICAgICAgICAgICAgIC5xdWVyeVNlbGVjdG9yKCcuX19Nb25rZXlDb25maWdfY29udGFpbmVyJyk7CgogICAgICAgICAgICAgICAgaWZyYW1lLndpZHRoID0gY29udGFpbmVyLmNsaWVudFdpZHRoOwogICAgICAgICAgICAgICAgaWZyYW1lLmhlaWdodCA9IGNvbnRhaW5lci5jbGllbnRIZWlnaHQ7CgogICAgICAgICAgICAgICAgLyogUG9zaXRpb24gdGhlIGxheWVyIGluIHRoZSBjZW50ZXIgb2YgdGhlIHZpZXdwb3J0ICovCiAgICAgICAgICAgICAgICBvcGVuTGF5ZXIuc3R5bGUubGVmdCA9IE1hdGgucm91bmQoKHdpbmRvdy5pbm5lcldpZHRoIC0KICAgICAgICAgICAgICAgICAgICAgICAgb3BlbkxheWVyLmNsaWVudFdpZHRoKSAvIDIpICsgJ3B4JzsKICAgICAgICAgICAgICAgIG9wZW5MYXllci5zdHlsZS50b3AgPSBNYXRoLnJvdW5kKCh3aW5kb3cuaW5uZXJIZWlnaHQgLQogICAgICAgICAgICAgICAgICAgICAgICBvcGVuTGF5ZXIuY2xpZW50SGVpZ2h0KSAvIDIpICsgJ3B4JzsKICAgICAgICAgICAgICAgIG9wZW5MYXllci5zdHlsZS56SW5kZXggPSA5OTk5OwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICBvcGVuRG9uZSgpOwogICAgICAgICAgICB9LCBmYWxzZSk7CgogICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgIGlmcmFtZS53aWR0aCA9IGNvbnRhaW5lci5jbGllbnRXaWR0aDsKICAgICAgICAgICAgICAgIGlmcmFtZS5oZWlnaHQgPSBjb250YWluZXIuY2xpZW50SGVpZ2h0OwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAvKiBQb3NpdGlvbiB0aGUgbGF5ZXIgaW4gdGhlIGNlbnRlciBvZiB0aGUgdmlld3BvcnQgKi8KICAgICAgICAgICAgICAgIG9wZW5MYXllci5zdHlsZS5sZWZ0ID0gTWF0aC5yb3VuZCgod2luZG93LmlubmVyV2lkdGggLQogICAgICAgICAgICAgICAgICAgICAgICBvcGVuTGF5ZXIuY2xpZW50V2lkdGgpIC8gMikgKyAncHgnOwogICAgICAgICAgICAgICAgb3BlbkxheWVyLnN0eWxlLnRvcCA9IE1hdGgucm91bmQoKHdpbmRvdy5pbm5lckhlaWdodCAtCiAgICAgICAgICAgICAgICAgICAgICAgIG9wZW5MYXllci5jbGllbnRIZWlnaHQpIC8gMikgKyAncHgnOwogICAgICAgICAgICAgICAgb3BlbkxheWVyLnN0eWxlLnpJbmRleCA9IDk5OTk7CiAgICAgICAgICAgIH0sIDApOwogICAgICAgICAgICAKICAgICAgICAgICAgYm9keS5hcHBlbmRDaGlsZChvdmVybGF5KTsgICAgICAgICAKICAgICAgICAgICAgYm9keS5hcHBlbmRDaGlsZChvcGVuTGF5ZXIpOwogICAgICAgICAgICBvcGVuTGF5ZXIuYXBwZW5kQ2hpbGQoaWZyYW1lKTsKICAgICAgICAKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgfQogICAgfQogICAgCiAgICAvKioKICAgICAqIENsb3NlIGNvbmZpZ3VyYXRpb24gZGlhbG9nIAogICAgICovCiAgICBmdW5jdGlvbiBjbG9zZSgpIHsKICAgICAgICBpZiAob3BlbldpbikgewogICAgICAgICAgICBvcGVuV2luLmNsb3NlKCk7CiAgICAgICAgICAgIG9wZW5XaW4gPSB1bmRlZmluZWQ7CiAgICAgICAgfQogICAgICAgIGVsc2UgaWYgKG9wZW5MYXllcikgewogICAgICAgICAgICBvcGVuTGF5ZXIucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChvcGVuTGF5ZXIpOwogICAgICAgICAgICBvcGVuTGF5ZXIgPSB1bmRlZmluZWQ7CiAgICAgICAgICAgIAogICAgICAgICAgICBpZiAob3ZlcmxheSkgewogICAgICAgICAgICAgICAgb3ZlcmxheS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKG92ZXJsYXkpOwogICAgICAgICAgICAgICAgb3ZlcmxheSA9IHVuZGVmaW5lZDsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICAKICAgICAgICBkaXNwbGF5ZWQgPSBmYWxzZTsKICAgIH0KCiAgICBpbml0KGFyZ3VtZW50c1swXSk7Cn0KCi8qKgogKiBSZXBsYWNlIGRvdWJsZSBxdW90ZXMgd2l0aCBlbnRpdGllcyBzbyB0aGF0IHRoZSBzdHJpbmcgY2FuIGJlIHNhZmVseSB1c2VkCiAqIGluIGEgSFRNTCBhdHRyaWJ1dGUKICogCiAqIEBwYXJhbSBzdHJpbmcgQSBzdHJpbmcKICogQHJldHVybnMgU3RyaW5nIHdpdGggZG91YmxlIHF1b3RlcyByZXBsYWNlZCB3aXRoIGVudGl0aWVzCiAqLwpNb25rZXlDb25maWcuZXNjID0gZnVuY3Rpb24gKHN0cmluZykgewogICAgcmV0dXJuIHN0cmluZy5yZXBsYWNlKC8iL2csICcmcXVvdDsnKTsKfTsKCk1vbmtleUNvbmZpZy5IVE1MID0gewogICAgJ19maWVsZCc6IGZ1bmN0aW9uIChuYW1lLCBvcHRpb25zLCBkYXRhKSB7CiAgICAgICAgdmFyIGh0bWw7CiAgICAgICAgCiAgICAgICAgaWYgKG9wdGlvbnMudHlwZSAmJiBNb25rZXlDb25maWcuSFRNTFtvcHRpb25zLnR5cGVdKQogICAgICAgICAgICBodG1sID0gTW9ua2V5Q29uZmlnLkhUTUxbb3B0aW9ucy50eXBlXShuYW1lLCBvcHRpb25zLCBkYXRhKTsKICAgICAgICBlbHNlCiAgICAgICAgICAgIHJldHVybjsKICAgICAgICAKICAgICAgICBpZiAoL1xbRklFTERcXS8udGVzdChvcHRpb25zLmh0bWwpKSB7CiAgICAgICAgICAgIGh0bWwgPSBvcHRpb25zLmh0bWwucmVwbGFjZSgvXFtGSUVMRFxdLywgaHRtbCk7CiAgICAgICAgfQogICAgICAgIAogICAgICAgIHJldHVybiBodG1sOwogICAgfSwKICAgICdfbGFiZWwnOiBmdW5jdGlvbiAobmFtZSwgb3B0aW9ucywgZGF0YSkgewogICAgICAgIHZhciBsYWJlbCA9IG9wdGlvbnNbJ2xhYmVsJ10gfHwKICAgICAgICAgICAgbmFtZS5zdWJzdHJpbmcoMCwgMSkudG9VcHBlckNhc2UoKSArIG5hbWUuc3Vic3RyaW5nKDEpCiAgICAgICAgICAgICAgICAucmVwbGFjZSgvXy9nLCAnJm5ic3A7Jyk7CgogICAgICAgIHJldHVybiAnPGxhYmVsIGZvcj0iX19Nb25rZXlDb25maWdfZmllbGRfJyArIG5hbWUgKyAnIj4nICsgbGFiZWwgKwogICAgICAgICAgICAnPC9sYWJlbD4nOwogICAgfSwKICAgICdjaGVja2JveCc6IGZ1bmN0aW9uIChuYW1lLCBvcHRpb25zLCBkYXRhKSB7CiAgICAgICAgcmV0dXJuICc8aW5wdXQgaWQ9Il9fTW9ua2V5Q29uZmlnX2ZpZWxkXycgKyBuYW1lICsgCiAgICAgICAgICAgICciIHR5cGU9ImNoZWNrYm94IiBuYW1lPSInICsgbmFtZSArICciIC8+JzsgCiAgICB9LAogICAgJ2N1c3RvbSc6IGZ1bmN0aW9uIChuYW1lLCBvcHRpb25zLCBkYXRhKSB7CiAgICAgICAgcmV0dXJuIG9wdGlvbnMuaHRtbDsKICAgIH0sCiAgICAnbnVtYmVyJzogZnVuY3Rpb24gKG5hbWUsIG9wdGlvbnMsIGRhdGEpIHsKICAgICAgICByZXR1cm4gJzxpbnB1dCBpZD0iX19Nb25rZXlDb25maWdfZmllbGRfJyArIG5hbWUgKyAnIiAnICsKICAgICAgICAgICAgJ3R5cGU9InRleHQiIGNsYXNzPSJfX01vbmtleUNvbmZpZ19maWVsZF9udW1iZXIiICcgKwogICAgICAgICAgICAnbmFtZT0iJyArIG5hbWUgKyAnIiAvPic7CiAgICB9LAogICAgJ3NlbGVjdCc6IGZ1bmN0aW9uIChuYW1lLCBvcHRpb25zLCBkYXRhKSB7CiAgICAgICAgdmFyIGNob2ljZXMgPSB7fSwgaHRtbCA9ICcnOwogICAgICAgIAogICAgICAgIGlmIChvcHRpb25zLmNob2ljZXMuY29uc3RydWN0b3IgPT0gQXJyYXkpIHsKICAgICAgICAgICAgLyogb3B0aW9ucy5jaG9pY2VzIGlzIGFuIGFycmF5IC0tIGJ1aWxkIGtleS92YWx1ZSBwYWlycyAqLwogICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG9wdGlvbnMuY2hvaWNlcy5sZW5ndGg7IGkrKykKICAgICAgICAgICAgICAgIGNob2ljZXNbb3B0aW9ucy5jaG9pY2VzW2ldXSA9IG9wdGlvbnMuY2hvaWNlc1tpXTsKICAgICAgICB9CiAgICAgICAgZWxzZQogICAgICAgICAgICAvKiBvcHRpb25zLmNob2ljZXMgaXMgYW4gb2JqZWN0IC0tIHVzZSBpdCBhcyBpdCBpcyAqLwogICAgICAgICAgICBjaG9pY2VzID0gb3B0aW9ucy5jaG9pY2VzOwoKICAgICAgICBpZiAoIW9wdGlvbnMubXVsdGlwbGUpIHsKICAgICAgICAgICAgLyogU2luZ2xlIHNlbGVjdGlvbiAqLwogICAgICAgICAgICBpZiAoIS9ecmFkaW8vLnRlc3Qob3B0aW9ucy52YXJpYW50KSkgewogICAgICAgICAgICAgICAgLyogU2VsZWN0IGVsZW1lbnQgKi8KICAgICAgICAgICAgICAgIGh0bWwgKz0gJzxzZWxlY3QgaWQ9Il9fTW9ua2V5Q29uZmlnX2ZpZWxkXycgKyBuYW1lICsgJyIgJyArCiAgICAgICAgICAgICAgICAgICAgJ2NsYXNzPSJfX01vbmtleUNvbmZpZ19maWVsZF9zZWxlY3QiICcgKwogICAgICAgICAgICAgICAgICAgICduYW1lPSInICsgbmFtZSArICciPic7CiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgZm9yICh2YXIgdmFsdWUgaW4gY2hvaWNlcykKICAgICAgICAgICAgICAgICAgICBodG1sICs9ICc8b3B0aW9uIHZhbHVlPSInICsgTW9ua2V5Q29uZmlnLmVzYyh2YWx1ZSkgKyAnIj4nICsKICAgICAgICAgICAgICAgICAgICAgICAgY2hvaWNlc1t2YWx1ZV0gKyAnPC9vcHRpb24+JzsKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgaHRtbCArPSAnPC9zZWxlY3Q+JzsKICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgIC8qIFJhZGlvIGJ1dHRvbnMgKi8KICAgICAgICAgICAgICAgIGZvciAodmFyIHZhbHVlIGluIGNob2ljZXMpIHsKICAgICAgICAgICAgICAgICAgICBodG1sICs9ICc8bGFiZWw+PGlucHV0IHR5cGU9InJhZGlvIiBuYW1lPSInICsgbmFtZSArICciICcgKwogICAgICAgICAgICAgICAgICAgICAgICAndmFsdWU9IicgKyBNb25rZXlDb25maWcuZXNjKHZhbHVlKSArICciIC8+Jm5ic3A7JyArCiAgICAgICAgICAgICAgICAgICAgICAgIGNob2ljZXNbdmFsdWVdICsgJzwvbGFiZWw+JyArCiAgICAgICAgICAgICAgICAgICAgICAgICgvIGNvbHVtbi8udGVzdChvcHRpb25zLnZhcmlhbnQpID8gJzxiciAvPicgOiAnJyk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgZWxzZSB7CiAgICAgICAgICAgIC8qIE11bHRpcGxlIHNlbGVjdGlvbiAqLwogICAgICAgICAgICBpZiAoIS9eY2hlY2tib3gvLnRlc3Qob3B0aW9ucy52YXJpYW50KSkgewogICAgICAgICAgICAgICAgLyogQ2hlY2tib3hlcyAqLwogICAgICAgICAgICAgICAgaHRtbCArPSAnPHNlbGVjdCBpZD0iX19Nb25rZXlDb25maWdfZmllbGRfJyArIG5hbWUgKyAnIiAnICsKICAgICAgICAgICAgICAgICAgICAnY2xhc3M9Il9fTW9ua2V5Q29uZmlnX2ZpZWxkX3NlbGVjdCIgJyArCiAgICAgICAgICAgICAgICAgICAgJ211bHRpcGxlPSJtdWx0aXBsZSIgJyArCiAgICAgICAgICAgICAgICAgICAgJ25hbWU9IicgKyBuYW1lICsgJyI+JzsKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgZm9yICh2YXIgdmFsdWUgaW4gY2hvaWNlcykKICAgICAgICAgICAgICAgICAgICBodG1sICs9ICc8b3B0aW9uIHZhbHVlPSInICsgTW9ua2V5Q29uZmlnLmVzYyh2YWx1ZSkgKyAnIj4nICsKICAgICAgICAgICAgICAgICAgICAgICAgY2hvaWNlc1t2YWx1ZV0gKyAnPC9vcHRpb24+JzsKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgaHRtbCArPSAnPC9zZWxlY3Q+JzsKICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgIC8qIFNlbGVjdCBlbGVtZW50ICovCiAgICAgICAgICAgICAgICBmb3IgKHZhciB2YWx1ZSBpbiBjaG9pY2VzKSB7CiAgICAgICAgICAgICAgICAgICAgaHRtbCArPSAnPGxhYmVsPjxpbnB1dCB0eXBlPSJjaGVja2JveCIgJyArCiAgICAgICAgICAgICAgICAgICAgICAgICduYW1lPSInICsgbmFtZSArICciICcgKwogICAgICAgICAgICAgICAgICAgICAgICAndmFsdWU9IicgKyBNb25rZXlDb25maWcuZXNjKHZhbHVlKSArICciIC8+Jm5ic3A7JyArCiAgICAgICAgICAgICAgICAgICAgICAgIGNob2ljZXNbdmFsdWVdICsgJzwvbGFiZWw+JyArCiAgICAgICAgICAgICAgICAgICAgICAgICgvIGNvbHVtbi8udGVzdChvcHRpb25zLnZhcmlhbnQpID8gJzxiciAvPicgOiAnJyk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgCiAgICAgICAgcmV0dXJuIGh0bWw7CiAgICB9LAogICAgJ3RleHQnOiBmdW5jdGlvbiAobmFtZSwgb3B0aW9ucywgZGF0YSkgewogICAgICAgIGlmIChvcHRpb25zLmxvbmcpCiAgICAgICAgICAgIHJldHVybiAnPHRleHRhcmVhIGlkPSJfX01vbmtleUNvbmZpZ19maWVsZF8nICsgbmFtZSArICciICcgKwogICAgICAgICAgICAgICAgJ2NsYXNzPSJfX01vbmtleUNvbmZpZ19maWVsZF90ZXh0IiAnICsKICAgICAgICAgICAgICAgICghaXNOYU4ob3B0aW9ucy5sb25nKSA/ICdyb3dzPSInICsgb3B0aW9ucy5sb25nICsgJyIgJyA6ICcnKSArCiAgICAgICAgICAgICAgICAnbmFtZT0iJyArIG5hbWUgKyAnIj48L3RleHRhcmVhPic7CiAgICAgICAgZWxzZQogICAgICAgICAgICByZXR1cm4gJzxpbnB1dCBpZD0iX19Nb25rZXlDb25maWdfZmllbGRfJyArIG5hbWUgKyAnIiAnICsKICAgICAgICAgICAgICAgICd0eXBlPSJ0ZXh0IiBjbGFzcz0iX19Nb25rZXlDb25maWdfZmllbGRfdGV4dCIgJyArCiAgICAgICAgICAgICAgICAnbmFtZT0iJyArIG5hbWUgKyAnIiAvPic7CiAgICB9LAogICAgJ2NvbG9yJzogZnVuY3Rpb24obmFtZSwgb3B0aW9ucywgZGF0YSkgewogICAgICAgIHJldHVybiAnPGlucHV0IGlkPSJfX01vbmtleUNvbmZpZ19maWVsZF8nICsgbmFtZSArICciICcgKwogICAgICAgICAgICAndHlwZT0iY29sb3IiIGNsYXNzPSJfX01vbmtleUNvbmZpZ19maWVsZF90ZXh0IiAnICsKICAgICAgICAgICAgJ25hbWU9IicgKyBuYW1lICsgJyIgLz4nOwogICAgfQp9OwoKTW9ua2V5Q29uZmlnLmZvcm1hdHRlcnMgPSB7CiAgICAndHInOiBmdW5jdGlvbiAobmFtZSwgb3B0aW9ucywgZGF0YSkgewogICAgICAgIHZhciBodG1sID0gJzx0cj4nOwoKICAgICAgICBzd2l0Y2ggKG9wdGlvbnMudHlwZSkgewogICAgICAgIGNhc2UgJ2NoZWNrYm94JzoKICAgICAgICAgICAgLyogQ2hlY2tib3hlcyBnZXQgc3BlY2lhbCB0cmVhdG1lbnQgKi8KICAgICAgICAgICAgaHRtbCArPSAnPHRkIGlkPSJfX01vbmtleUNvbmZpZ19wYXJlbnRfJyArIG5hbWUgKyAnIiBjb2xzcGFuPSIyIj4nOwogICAgICAgICAgICBodG1sICs9IE1vbmtleUNvbmZpZy5IVE1MWydfZmllbGQnXShuYW1lLCBvcHRpb25zLCBkYXRhKSArICcgJzsKICAgICAgICAgICAgaHRtbCArPSBNb25rZXlDb25maWcuSFRNTFsnX2xhYmVsJ10obmFtZSwgb3B0aW9ucywgZGF0YSk7CiAgICAgICAgICAgIGh0bWwgKz0gJzwvdGQ+JzsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgZGVmYXVsdDoKICAgICAgICAgICAgaHRtbCArPSAnPHRkPic7CiAgICAgICAgICAgIGh0bWwgKz0gTW9ua2V5Q29uZmlnLkhUTUxbJ19sYWJlbCddKG5hbWUsIG9wdGlvbnMsIGRhdGEpOwogICAgICAgICAgICBodG1sICs9ICc8L3RkPjx0ZCBpZD0iX19Nb25rZXlDb25maWdfcGFyZW50XycgKyBuYW1lICsgJyI+JzsKICAgICAgICAgICAgaHRtbCArPSBNb25rZXlDb25maWcuSFRNTFsnX2ZpZWxkJ10obmFtZSwgb3B0aW9ucywgZGF0YSk7CiAgICAgICAgICAgIGh0bWwgKz0gJzwvdGQ+JzsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgfQogICAgICAgIAogICAgICAgIGh0bWwgKz0gJzwvdHI+JzsKCiAgICAgICAgcmV0dXJuIGh0bWw7CiAgICB9Cn07CgovKiBIYXMgdGhlIHN0eWxlc2hlZXQgYmVlbiBhZGRlZD8gKi8KTW9ua2V5Q29uZmlnLnN0eWxlQWRkZWQgPSBmYWxzZTsKCi8qIFJlc291cmNlcyAqLwpNb25rZXlDb25maWcucmVzID0ge307CgovKiBJY29ucyAqLwpNb25rZXlDb25maWcucmVzLmljb25zID0gewogICAgJ2Fycm93X3VuZG8nOiAnaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUJBQUFBQVFDQVlBQUFBZjgvOWhBQUFBQkdkQlRVRUFBSy9JTndXSzZRQUFBQmwwUlZoMFwKVTI5bWRIZGhjbVVBUVdSdlltVWdTVzFoWjJWU1pXRmtlWEhKWlR3QUFBSUpTVVJCVkRqTHBWTTlhSk5SRkQzNUdzUlNvVUtLelEvQlwKME5KSkYzRVFsS3JWZ2lqU0NCbUM0TkJGS2loSWNYQndFWmRTSFZvVXdVSW5GVUVrUTFEUTRDS2lGc1FzVHJiNXhOcGdhWkh3MlVvZ1wKNXQ1em4wTkpORmF3MGd1WDk3aHd6dVBjYzE3SU9ZZk5sSWROVnJoeHVmUjZ4SmtaakFiU1FHWGpOQW9ycWl4U1dGRFYzS1BoSitVR1wKTHRTUU1QcnlyRHNjUHdMbkFIT0VPUWM2Z2tiVXBJYWdHbUFwV0liL3BaUlg0ZmpqODg5bldpU1F0Z1l5QloxQlRVRWo2QWpQYTBQN1wKMW5iMEpmcXdhK2Z1dEloZUhyelJuMnlSUUNVSy9sT1FoQXBCSlZRSkNoSGZua0NxT3dXRVEraU9SSkhja1V5WDVrc3ZBRXlHTnVKQ1wKK3M2eENSWE5ITnh6S01tUTRsdXdnamZ2WnA2OXV2cjIrSVpjeUo4cmpJcG9ycnhVUmdnZXRuVjBRRVQzcnJQeHpNTk0yK243cDY3OFwKalVUckNpV2hwaEFqVkhSOURsUjBXa1N6ZjRJSHhnNU1TRjB6WFpFdVZLV0tTbENCQ29zdFM4emVHN29WNjR3UHF4SW5idzg2bGJWWFwKS0VROG1rQXFtVUo0U3hpZWVWaGNuQU5GQzAyQzdOMmg2OUhPMklYZVdDOE1EajJKbnFhRk5BTWQ4ZjNIS2p4NitMeFFSbW5PejFPWlwKYXhLSWFGMVZJU1l3QjlBUlpvUWFZWTZvMVdwWUNWWXh0K3pEbi9YelZCdi9NT1dYVzVKNDR1YlJ5VmdrZWxGcG1GLzRCSlZmT1ZEbFwKVnlxTFZCWkk1bWFuUGphakRPZGNzd2ZHOWsvM1g5djMvdmZadjdyRkJhbnJpSW8rK0ovZitCTVQrWVdTNmhYbDdRQUFBQUJKUlU1RVwKcmtKZ2dnPT0nLAogICAgJ2NhbmNlbCc6ICdpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBQkFBQUFBUUNBWUFBQUFmOC85aEFBQUFCR2RCVFVFQUFLL0lOd1dLNlFBQUFCbDBSVmgwXApVMjltZEhkaGNtVUFRV1J2WW1VZ1NXMWhaMlZTWldGa2VYSEpaVHdBQUFIZFNVUkJWRGpMcFpOcmF4cEJGSWIzYTBnZ0lTbW1OSVNXXApYbU9ib0tpaHhwZ1VOR1dOU3B2YVM2UnBLTDNSeS8vTWgxd2dmNlBFbGFDeXpxNjdPMDluVmpkVmxKYlNEeThMdzc3UG1mZWNNd1pnXAovSS9HRHczRENvOEhDa1psL1JsZ0dBMGUzWWZ2NytEYkFmTHJXK1NYT3ZMVEcrU0hWL2dQYnVNWlJuc3lJREwvT0FTemlNeGtrS2tVXApRVEpKc0xhR244L2lIejZuZCs4bVF2ODdBaGcySDlUaC9CeFpxeEVrRWdTcnEvaVZDdkxzREs5YXd0dmZ4YjJ6akQyQVJJRCtsVlZsXApiYWJUZ1dZVHYxckZMNWZCVXRIYmJlVEpDYjNFUTNvdkNuUkM2eEFnekp0T0UrenRoZVlJRWtxYkZhUzN2WTJ6dUlqNzdBbXRZWUR1XApzUHk4L3p1dnVuSmtES1hNN3RZV1RpeUdXRmpBcWVRbkFENis3dWVOeC9GTHBSR0FydTdtY29qNWVicXpzemlsN0RnZ2VGL0RYMW5CXApOODJyelBxcnpiUmF5SXNMaEpxTVBUMk44M1NkeTJHQXB3RnFSTjdqRlBMMHRGKzEwY0RkM01UWjJBak5Va0dDb3lPNnk5Y1J4ZlFvXAp3RlVicHVmcjFjdDRab0hnK0RnMDY3emR1VG1FYnE0eWkvVWtZaWREZStrYVRjUDRPYkpJYWprc1BkL2V5eDNjK04ycnZQYk1EUGJVXApGUFpTTEt6Y0dqS1ByYkphRHN1K2RRTzNtc2ZaemVHWTJUQ3ZLR1lRaGRTWWVlSmpVdDIxZEljalhRN1U3S3Y1OTlmNGovb0Y1NVc0XApnLzJlM2I4QUFBQUFTVVZPUks1Q1lJST0nLAogICAgJ3RpY2snOiAnaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUJBQUFBQVFDQVlBQUFBZjgvOWhBQUFBQkdkQlRVRUFBSy9JTndXSzZRQUFBQmwwUlZoMFwKVTI5bWRIZGhjbVVBUVdSdlltVWdTVzFoWjJWU1pXRmtlWEhKWlR3QUFBR3JTVVJCVkRqTHZaUFpMa05oRklWNzV6anZZbTdWR0ZOQ1wKcW9aVUorcm9LVVVwalJ1cXA2MVdxME5LRE1lbEdHcU94QlNVSUJLWFd0V0daeEF2b2JyOGxXakNoUmdTRi8vZHY5YmUrOXRyQ3dBSVwKL3ZJRS8yNmdYbXZpVzVicW5iOHlVSzAyOHFaalBmb1BXRWo0S3U1SEJzcGdBejk0MUlYWmV6ZThOMWJvdHRTbzhCVFp2aVZXckVoNVwKNDZFTzAzRVhwdUpPZEc2M290SmJqQktIa0VwL01sNnlOWVl6cHVleldMNHM1Vk10VDhhY0NNUWNiNVhMM2VKRThWZ0JsUjdCZU1HV1wKOVo0eVQ5eTFDZXl1Y3VoZFRHRHhmZnRhQk83RzRMK3pnOTFVb2N4Vm1DaXk1MU5waVAzbjJ0cmVVUHVqTDh4aE9qWU96WllzUVdBTlwKeVJZbFU0WTlCcjZvSGQ1YkRoMGJDcFNPaXhKaVd4NzFZWTA5SjVwTS9XRWJ6RmNEbUh2d3dCdTJ3bmlrZytsRWo0bXdCZTViQzVoMVwKT1VxY3dwZEM2MGR4ZWdSbVIwNlR5akNGOUc5eitxTTJ1Q0ptdU1KbWFOWmFVckNTSWk2WCtqSklCQll0VzVDZ2U3Y2Q3c2dvSERmRFwKYUF2S1FHQWxSWlljNmx0SmxNeFgwM1V6bGFSbEJkUXJ6U0N3a3NMUmJPcEhVU2I3cGNzbnhDQ3duZ3ZNMlJtL3VnVUNpODRmeWNyNFwKbDJ0OEJiNmlxVHhTQ2dOSUFBQUFBRWxGVGtTdVFtQ0MnCn07CgovKiBTdHlsZXNoZWV0cyAqLwpNb25rZXlDb25maWcucmVzLnN0eWxlc2hlZXRzID0gewogICAgJ21haW4nOiAnXApib2R5Ll9fTW9ua2V5Q29uZmlnX3dpbmRvdyB7XAogICAgYXBwZWFyYW5jZTogd2luZG93ICFpbXBvcnRhbnQ7XAogICAgLW1vei1hcHBlYXJhbmNlOiB3aW5kb3cgIWltcG9ydGFudDtcCiAgICBiYWNrZ3JvdW5kOiBhdXRvO1wKICAgIGZvbnQtZmFtaWx5OiBzYW5zLXNlcmlmICFpbXBvcnRhbnQ7XAogICAgaGVpZ2h0OiAxMDAlICFpbXBvcnRhbnQ7XAogICAgbWFyZ2luOiAwICFpbXBvcnRhbnQ7XAogICAgcGFkZGluZzogMCAhaW1wb3J0YW50O1wKICAgIHdpZHRoOiAxMDAlICFpbXBvcnRhbnQ7XAp9XApcCmRpdi5fX01vbmtleUNvbmZpZ19jb250YWluZXIge1wKICAgIGRpc3BsYXk6IHRhYmxlICFpbXBvcnRhbnQ7XAogICAgZm9udC1mYW1pbHk6IHNhbnMtc2VyaWYgIWltcG9ydGFudDtcCiAgICBwYWRkaW5nOiAwLjNlbSAhaW1wb3J0YW50O1wKfVwKXApib2R5Ll9fTW9ua2V5Q29uZmlnX3dpbmRvdyBkaXYuX19Nb25rZXlDb25maWdfY29udGFpbmVyIHtcCiAgICBhcHBlYXJhbmNlOiB3aW5kb3cgIWltcG9ydGFudDtcCiAgICAtbW96LWFwcGVhcmFuY2U6IHdpbmRvdyAhaW1wb3J0YW50O1wKICAgIGhlaWdodDogMTAwJTtcCiAgICB3aWR0aDogMTAwJTtcCn1cClwKZGl2Ll9fTW9ua2V5Q29uZmlnX2NvbnRhaW5lciBoMSB7XAogICAgYm9yZGVyLWJvdHRvbTogc29saWQgMXB4ICM5OTkgIWltcG9ydGFudDtcCiAgICBmb250LWZhbWlseTogc2Fucy1zZXJpZiAhaW1wb3J0YW50O1wKICAgIGZvbnQtc2l6ZTogMTIwJSAhaW1wb3J0YW50O1wKICAgIG1hcmdpbjogMCAhaW1wb3J0YW50O1wKICAgIHBhZGRpbmc6IDAgMCAwLjNlbSAwICFpbXBvcnRhbnQ7XAp9XApcCmRpdi5fX01vbmtleUNvbmZpZ19jb250YWluZXIgdGFibGUge1wKICAgIGJvcmRlci1zcGFjaW5nOiAwICFpbXBvcnRhbnQ7XAogICAgbWFyZ2luOiAwICFpbXBvcnRhbnQ7XAp9XApcCmRpdi5fX01vbmtleUNvbmZpZ19jb250YWluZXIgdGFibGUgdGQge1wKICAgIGJvcmRlcjogbm9uZSAhaW1wb3J0YW50O1wKICAgIGxpbmUtaGVpZ2h0OiAxMDAlICFpbXBvcnRhbnQ7XAogICAgcGFkZGluZzogMC4zZW0gIWltcG9ydGFudDtcCiAgICB0ZXh0LWFsaWduOiBsZWZ0ICFpbXBvcnRhbnQ7XAogICAgdmVydGljYWwtYWxpZ246IHRvcCAhaW1wb3J0YW50O1wKICAgIHdoaXRlLXNwYWNlOiBub3dyYXAgIWltcG9ydGFudDtcCn1cClwKZGl2Ll9fTW9ua2V5Q29uZmlnX2NvbnRhaW5lciB0YWJsZSB0ZC5fX01vbmtleUNvbmZpZ19idXR0b25zIHtcCiAgICBwYWRkaW5nOiAwLjJlbSAwICFpbXBvcnRhbnQ7XAp9XApcCi5fX01vbmtleUNvbmZpZ19maWVsZF9udW1iZXIge1wKICAgIHdpZHRoOiA1ZW0gIWltcG9ydGFudDtcCn1cClwKZGl2Ll9fTW9ua2V5Q29uZmlnX2NvbnRhaW5lciB0ZC5fX01vbmtleUNvbmZpZ19idXR0b25zIHRhYmxlIHtcCiAgICBib3JkZXItdG9wOiBzb2xpZCAxcHggIzk5OSAhaW1wb3J0YW50O1wKICAgIHdpZHRoOiAxMDAlICFpbXBvcnRhbnQ7XAp9XApcCmRpdi5fX01vbmtleUNvbmZpZ19jb250YWluZXIgdGQuX19Nb25rZXlDb25maWdfYnV0dG9ucyB0ZCB7XAogICAgcGFkZGluZzogMC42ZW0gMC4zZW0gMC4xZW0gMC4zZW0gIWltcG9ydGFudDtcCiAgICB0ZXh0LWFsaWduOiBjZW50ZXIgIWltcG9ydGFudDtcCiAgICB2ZXJ0aWNhbC1hbGlnbjogdG9wO1wKfVwKXApkaXYuX19Nb25rZXlDb25maWdfY29udGFpbmVyIHRkLl9fTW9ua2V5Q29uZmlnX2J1dHRvbnMgYnV0dG9uIHtcCiAgICBhcHBlYXJhbmNlOiBidXR0b24gIWltcG9ydGFudDtcCiAgICAtbW96LWFwcGVhcmFuY2U6IGJ1dHRvbiAhaW1wb3J0YW50O1wKICAgIGJhY2tncm91bmQtcG9zaXRpb246IDhweCA1MCUgIWltcG9ydGFudDtcCiAgICBiYWNrZ3JvdW5kLXJlcGVhdDogbm8tcmVwZWF0ICFpbXBvcnRhbnQ7XAogICAgcGFkZGluZzogM3B4IDhweCAzcHggMjRweCAhaW1wb3J0YW50O1wKICAgIHBhZGRpbmc6IDNweCA4cHggIWltcG9ydGFudDtcCiAgICB3aGl0ZS1zcGFjZTogbm93cmFwICFpbXBvcnRhbnQ7XAp9XApcCmRpdi5fX01vbmtleUNvbmZpZ19jb250YWluZXIgdGQuX19Nb25rZXlDb25maWdfYnV0dG9ucyBidXR0b24gaW1nIHtcCiAgICB2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlICFpbXBvcnRhbnQ7XAp9XApcCmRpdi5fX01vbmtleUNvbmZpZ19sYXllciB7XAogICAgZGlzcGxheTogdGFibGUgIWltcG9ydGFudDtcCiAgICBwb3NpdGlvbjogZml4ZWQgIWltcG9ydGFudDtcCn1cClwKZGl2Ll9fTW9ua2V5Q29uZmlnX2xheWVyIGRpdi5fX01vbmtleUNvbmZpZ19jb250YWluZXIsXApib2R5Ll9fTW9ua2V5Q29uZmlnX2JvZHkgPiBkaXYuX19Nb25rZXlDb25maWdfY29udGFpbmVyIHtcCiAgICBiYWNrZ3JvdW5kOiAjZWVlIGxpbmVhci1ncmFkaWVudCgxODBkZWcsXAogICAgICAgICNmOGY4ZjggMCwgI2RkZCAxMDAlKSAhaW1wb3J0YW50O1wKICAgIGJvcmRlci1yYWRpdXM6IDAuNWVtICFpbXBvcnRhbnQ7XAogICAgYm94LXNoYWRvdzogMnB4IDJweCAxNnB4ICMwMDAgIWltcG9ydGFudDtcCiAgICBjb2xvcjogIzAwMCAhaW1wb3J0YW50O1wKICAgIGZvbnQtZmFtaWx5OiBzYW5zLXNlcmlmICFpbXBvcnRhbnQ7XAogICAgZm9udC1zaXplOiAxMXB0ICFpbXBvcnRhbnQ7XAogICAgcGFkZGluZzogMWVtIDFlbSAwLjRlbSAxZW0gIWltcG9ydGFudDtcCn1cClwKZGl2Ll9fTW9ua2V5Q29uZmlnX2xheWVyIGRpdi5fX01vbmtleUNvbmZpZ19jb250YWluZXIgdGQsXApkaXYuX19Nb25rZXlDb25maWdfbGF5ZXIgZGl2Ll9fTW9ua2V5Q29uZmlnX2NvbnRhaW5lciBsYWJlbCxcCmRpdi5fX01vbmtleUNvbmZpZ19sYXllciBkaXYuX19Nb25rZXlDb25maWdfY29udGFpbmVyIGlucHV0LFwKZGl2Ll9fTW9ua2V5Q29uZmlnX2xheWVyIGRpdi5fX01vbmtleUNvbmZpZ19jb250YWluZXIgc2VsZWN0LFwKZGl2Ll9fTW9ua2V5Q29uZmlnX2xheWVyIGRpdi5fX01vbmtleUNvbmZpZ19jb250YWluZXIgdGV4dGFyZWEsXApkaXYuX19Nb25rZXlDb25maWdfbGF5ZXIgZGl2Ll9fTW9ua2V5Q29uZmlnX2NvbnRhaW5lciBidXR0b24ge1wKICAgIGNvbG9yOiAjMDAwICFpbXBvcnRhbnQ7XAogICAgZm9udC1mYW1pbHk6IHNhbnMtc2VyaWYgIWltcG9ydGFudDtcCiAgICBmb250LXNpemU6IDExcHQgIWltcG9ydGFudDtcCiAgICBsaW5lLWhlaWdodDogMTAwJSAhaW1wb3J0YW50O1wKICAgIG1hcmdpbjogMCAhaW1wb3J0YW50O1wKICAgIHZlcnRpY2FsLWFsaWduOiBiYXNlbGluZSAhaW1wb3J0YW50O1wKfVwKXApkaXYuX19Nb25rZXlDb25maWdfY29udGFpbmVyIGxhYmVsIHtcCiAgICBsaW5lLWhlaWdodDogMTIwJSAhaW1wb3J0YW50O1wKICAgIHZlcnRpY2FsLWFsaWduOiBiYXNlbGluZSAhaW1wb3J0YW50O1wKfVwKXApkaXYuX19Nb25rZXlDb25maWdfY29udGFpbmVyIHRleHRhcmVhIHtcCiAgICB2ZXJ0aWNhbC1hbGlnbjogdGV4dC10b3AgIWltcG9ydGFudDtcCiAgICB3aWR0aDogMTAwJTtcCn1cClwKZGl2Ll9fTW9ua2V5Q29uZmlnX2xheWVyIGRpdi5fX01vbmtleUNvbmZpZ19jb250YWluZXIgaW5wdXRbdHlwZT0idGV4dCJdIHtcCiAgICBhcHBlYXJhbmNlOiB0ZXh0ZmllbGQgIWltcG9ydGFudDtcCiAgICAtbW96LWFwcGVhcmFuY2U6IHRleHRmaWVsZCAhaW1wb3J0YW50O1wKICAgIGJhY2tncm91bmQ6ICNmZmYgIWltcG9ydGFudDtcCn1cClwKZGl2Ll9fTW9ua2V5Q29uZmlnX2xheWVyIGRpdi5fX01vbmtleUNvbmZpZ19jb250YWluZXIgaDEge1wKICAgIGZvbnQtd2VpZ2h0OiBib2xkICFpbXBvcnRhbnQ7XAogICAgdGV4dC1hbGlnbjogbGVmdCAhaW1wb3J0YW50O1wKfVwKXApkaXYuX19Nb25rZXlDb25maWdfbGF5ZXIgZGl2Ll9fTW9ua2V5Q29uZmlnX2NvbnRhaW5lciB0ZC5fX01vbmtleUNvbmZpZ19idXR0b25zIGJ1dHRvbixcCmJvZHkgPiBkaXYuX19Nb25rZXlDb25maWdfY29udGFpbmVyIHRkLl9fTW9ua2V5Q29uZmlnX2J1dHRvbnMgYnV0dG9uIHtcCiAgICBhcHBlYXJhbmNlOiBidXR0b24gIWltcG9ydGFudDtcCiAgICAtbW96LWFwcGVhcmFuY2U6IGJ1dHRvbiAhaW1wb3J0YW50O1wKICAgIGJhY2tncm91bmQ6ICNjY2MgbGluZWFyLWdyYWRpZW50KDE4MGRlZyxcCiAgICAgICAgI2RkZCAwLCAjY2NjIDQ1JSwgI2JiYiA1MCUsICNhYWEgMTAwJSkgIWltcG9ydGFudDtcCiAgICBib3JkZXItc3R5bGU6IHNvbGlkICFpbXBvcnRhbnQ7XAogICAgYm9yZGVyLXdpZHRoOiAxcHggIWltcG9ydGFudDtcCiAgICBib3JkZXItcmFkaXVzOiAwLjVlbSAhaW1wb3J0YW50O1wKICAgIGJveC1zaGFkb3c6IDAgMCAxcHggIzAwMCAhaW1wb3J0YW50O1wKICAgIGNvbG9yOiAjMDAwICFpbXBvcnRhbnQ7XAogICAgZm9udC1zaXplOiAxMXB0ICFpbXBvcnRhbnQ7XAp9XApcCmRpdi5fX01vbmtleUNvbmZpZ19sYXllciBkaXYuX19Nb25rZXlDb25maWdfY29udGFpbmVyIHRkLl9fTW9ua2V5Q29uZmlnX2J1dHRvbnMgYnV0dG9uOmhvdmVyLFwKYm9keSA+IGRpdi5fX01vbmtleUNvbmZpZ19jb250YWluZXIgdGQuX19Nb25rZXlDb25maWdfYnV0dG9ucyBidXR0b246aG92ZXIge1wKICAgIGJhY2tncm91bmQ6ICNkMmQyZDIgbGluZWFyLWdyYWRpZW50KDE4MGRlZyxcCiAgICAgICAgI2UyZTJlMiAwLCAjZDJkMmQyIDQ1JSwgI2MyYzJjMiA1MCUsICNiMmIyYjIgMTAwJSkgIWltcG9ydGFudDtcCn1cClwKZGl2Ll9fTW9ua2V5Q29uZmlnX292ZXJsYXkge1wKICAgIGJhY2tncm91bmQtY29sb3I6ICMwMDAgIWltcG9ydGFudDtcCiAgICBvcGFjaXR5OiAwLjYgIWltcG9ydGFudDtcCiAgICBwb3NpdGlvbjogZml4ZWQgIWltcG9ydGFudDtcCn1cClwKaWZyYW1lI19fTW9ua2V5Q29uZmlnX2ZyYW1lIHtcCiAgICBib3JkZXI6IG5vbmUgIWltcG9ydGFudDtcCiAgICBib3gtc2hhZG93OiAycHggMnB4IDE2cHggIzAwMCAhaW1wb3J0YW50O1wKfVwKXApib2R5Ll9fTW9ua2V5Q29uZmlnX2JvZHkge1wKICAgIG1hcmdpbjogMCAhaW1wb3J0YW50O1wKICAgIHBhZGRpbmc6IDAgIWltcG9ydGFudDtcCn1cCicKfTs="}]},{"name":"Facebook, Youtube and Reddit Video Downloader","options":{"check_for_updates":true,"comment":null,"compat_foreach":false,"compat_metadata":false,"compat_powerful_this":null,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"merge_connects":true,"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_connects":[],"orig_excludes":[],"orig_includes":[],"orig_matches":["https://www.facebook.com/*","https://www.youtube.com/*","https://www.reddit.com/*"],"orig_noframes":null,"orig_run_at":"document-start","use_blockers":[],"use_connects":[],"use_excludes":["/^[^:/#?]*:\\/\\/([^#?/]*\\.)?www\\.youtube\\.com(:[0-9]{1,5})?\\/.*$/"],"use_includes":[],"use_matches":[]},"run_at":null,"sandbox":null,"tab_types":null,"unwrap":null,"user_modified":null},"storage":{"ts":1715999537197,"data":{}},"enabled":false,"position":6,"file_url":"https://greasyfork.org/scripts/453302-facebook-youtube-and-reddit-video-downloader/code/Facebook,%20Youtube%20and%20Reddit%20Video%20Downloader.user.js","uuid":"bd6ef2a0-ed9b-46f1-bd4b-de84a6feabda","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICBGYWNlYm9vaywgWW91dHViZSBhbmQgUmVkZGl0IFZpZGVvIERvd25sb2FkZXIKLy8gQG5hbWVzcGFjZSAgICBodHRwczovL2dpc3QuZ2l0aHViLmNvbS9Nb3Jkbzk1LzE0MWVhZDZmZmExZmI2NTU3ZGIxMjdkNzQ0YTM5ZTZmCi8vIEB2ZXJzaW9uICAgICAgMC40Ci8vIEBsaWNlbnNlICAgICAgTUlUCi8vIEBkZXNjcmlwdGlvbiAgV2lsbCBhZGQgYSBkb3dubG9hZCBidXR0b24gdG8gUmVkZGl0LCBGYWNlYm9vayBhbmQgWW91dHViZSB2aWRlb3MKLy8gQGF1dGhvciAgICAgICBHaXRodWIvTW9yZG85NQovLyBAbWF0Y2ggICAgICAgIGh0dHBzOi8vd3d3LmZhY2Vib29rLmNvbS8qCi8vIEBtYXRjaCAgICAgICAgaHR0cHM6Ly93d3cueW91dHViZS5jb20vKgovLyBAbWF0Y2ggICAgICAgIGh0dHBzOi8vd3d3LnJlZGRpdC5jb20vKgovLyBAZ3JhbnQgICAgICAgIEdNX3htbGh0dHBSZXF1ZXN0Ci8vIEBydW4tYXQgZG9jdW1lbnQtc3RhcnQKLy8gPT0vVXNlclNjcmlwdD09CgovLyB2ZXJzaW9uIDAuNCBmaXhlcyByZWRkaXQgdGh1bWJuYWlscyBhbHNvIHJlY2VpdmluZyBhIGJ1dHRvbgoKKGZ1bmN0aW9uKCkgewogICAgJ3VzZSBzdHJpY3QnOwoKICAgIGNsYXNzIE1vcmRvOTVETCB7CiAgICAgICAgc3RhdGljIGFkZFN0eWxlKGNzcykgewogICAgICAgICAgICBjb25zdCBzdHlsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJHTV9hZGRTdHlsZUJ5ODYyNiIpIHx8IChmdW5jdGlvbigpIHsKICAgICAgICAgICAgICAgIGNvbnN0IHN0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTsKICAgICAgICAgICAgICAgIHN0eWxlLnR5cGUgPSAndGV4dC9jc3MnOwogICAgICAgICAgICAgICAgc3R5bGUuaWQgPSAiR01fYWRkU3R5bGVCeTg2MjYiOwogICAgICAgICAgICAgICAgZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChzdHlsZSk7CiAgICAgICAgICAgICAgICByZXR1cm4gc3R5bGU7CiAgICAgICAgICAgIH0pKCk7CiAgICAgICAgICAgIGNvbnN0IHNoZWV0ID0gc3R5bGUuc2hlZXQ7CiAgICAgICAgICAgIHNoZWV0Lmluc2VydFJ1bGUoY3NzLCAoc2hlZXQucnVsZXMgfHwgc2hlZXQuY3NzUnVsZXMgfHwgW10pLmxlbmd0aCk7CiAgICAgICAgfQoKICAgICAgICBzdGF0aWMgcGFyYW1zVG9PYmplY3QoZW50cmllcykgewogICAgICAgICAgICBjb25zdCByZXN1bHQgPSB7fQogICAgICAgICAgICBmb3IoY29uc3QgW2tleSwgdmFsdWVdIG9mIGVudHJpZXMpIHsgLy8gZWFjaCAnZW50cnknIGlzIGEgW2tleSwgdmFsdWVdIHR1cHBsZQogICAgICAgICAgICAgICAgcmVzdWx0W2tleV0gPSB2YWx1ZTsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gcmVzdWx0OwogICAgICAgIH0KCiAgICAgICAgc3RhdGljIGJ1aWxkUGFyYW1zKHApIHsKICAgICAgICAgICAgcmV0dXJuIG5ldyBVUkxTZWFyY2hQYXJhbXMocCkudG9TdHJpbmcoKTsKICAgICAgICB9CiAgICB9CgogICAgY2xhc3MgRkJETCB7CiAgICAgICAgZ2V0UmVhY3RGaWJlcihlbCkgewogICAgICAgICAgICBmb3IgKGxldCBwcm9wIG9mIE9iamVjdC5rZXlzKGVsKSkgewogICAgICAgICAgICAgICAgaWYgKHByb3Auc3RhcnRzV2l0aCgiX19yZWFjdEZpYmVyIikpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gZWxbcHJvcF07CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuIG51bGw7CiAgICAgICAgfQoKICAgICAgICBmaWJlclJldHVyblVudGlsKGZpYmVyLCBkaXNwbGF5TmFtZSkgewogICAgICAgICAgICBsZXQgZmliZXJJbnN0ID0gZmliZXI7CiAgICAgICAgICAgIHdoaWxlIChmaWJlckluc3QgIT0gbnVsbCkgewogICAgICAgICAgICAgICAgbGV0IGZpYmVySW5zdE5hbWUgPSAiIjsKICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZmliZXJJbnN0LmVsZW1lbnRUeXBlID09PSAic3RyaW5nIikKICAgICAgICAgICAgICAgICAgICBmaWJlckluc3ROYW1lID0gZmliZXJJbnN0LmVsZW1lbnRUeXBlOwogICAgICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIGZpYmVySW5zdC5lbGVtZW50VHlwZSA9PT0gImZ1bmN0aW9uIikKICAgICAgICAgICAgICAgICAgICBmaWJlckluc3ROYW1lID0gZmliZXJJbnN0LmVsZW1lbnRUeXBlLmRpc3BsYXlOYW1lOwogICAgICAgICAgICAgICAgaWYgKGZpYmVySW5zdE5hbWUgPT09IGRpc3BsYXlOYW1lKQogICAgICAgICAgICAgICAgICAgIHJldHVybiBmaWJlckluc3Q7CgogICAgICAgICAgICAgICAgZmliZXJJbnN0ID0gZmliZXJJbnN0LnJldHVybjsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgICB9CgogICAgICAgIHBhcmVudHNVbnRpbChlbCwgYykgewogICAgICAgICAgICBsZXQgZWxJbnN0ID0gZWw7CiAgICAgICAgICAgIHdoaWxlIChlbEluc3QgIT0gbnVsbCkgewogICAgICAgICAgICAgICAgaWYgKGVsSW5zdC5jbGFzc0xpc3QudG9TdHJpbmcoKSA9PT0gYykKICAgICAgICAgICAgICAgICAgICByZXR1cm4gZWxJbnN0OwogICAgICAgICAgICAgICAgZWxJbnN0ID0gZWxJbnN0LnBhcmVudEVsZW1lbnQ7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuIG51bGw7CiAgICAgICAgfQoKICAgICAgICBnZXRWaWRlb0ltcGxlbWVudGF0aW9uKGZpYmVyLCBpbXBsID0gIlZpZGVvUGxheWVyUHJvZ3Jlc3NpdmVJbXBsZW1lbnRhdGlvbiIpIHsKICAgICAgICAgICAgaWYoIWZpYmVyIHx8ICFmaWJlci5tZW1vaXplZFByb3BzIHx8ICFmaWJlci5tZW1vaXplZFByb3BzLmltcGxlbWVudGF0aW9ucykKICAgICAgICAgICAgICAgIHJldHVybiBudWxsOwogICAgICAgICAgICByZXR1cm4gZmliZXIubWVtb2l6ZWRQcm9wcy5pbXBsZW1lbnRhdGlvbnMuZmluZCh4ID0+IHgudHlwZW5hbWUgPT09IGltcGwpOwogICAgICAgIH0KCiAgICAgICAgYWRkVmlkZW9CdXR0b24ob24sIHZpZGVvRWwpIHsKICAgICAgICAgICAgbGV0IGJ0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOwogICAgICAgICAgICBidG4uaW5uZXJIVE1MID0gIkRvd25sb2FkIChIRCkiOwogICAgICAgICAgICBidG4uY2xhc3NMaXN0LmFkZCgiZGxCdG4iKTsKICAgICAgICAgICAgYnRuLm9uY2xpY2sgPSAoKSA9PiB0aGlzLmJ0bkFjdCh2aWRlb0VsKTsKICAgICAgICAgICAgLy9sZXQgcGFyZW50ID0gcGFyZW50c1VudGlsKHZpZGVvRWwsIHZpZGVvRWwuY2xhc3NMaXN0WzBdKSB8fCB2aWRlb0VsLnBhcmVudEVsZW1lbnQ7CiAgICAgICAgICAgIG9uLnByZXBlbmQoYnRuKTsKICAgICAgICB9CgogICAgICAgIGJ0bkFjdCh2aWRlb0VsKSB7CiAgICAgICAgICAgIGxldCBmaWJlciA9IHRoaXMuZ2V0UmVhY3RGaWJlcih2aWRlb0VsKTsKICAgICAgICAgICAgbGV0IHByb3BzID0gdGhpcy5maWJlclJldHVyblVudGlsKGZpYmVyLCAiYSBbZnJvbSBDb3JlVmlkZW9QbGF5ZXIucmVhY3RdIik7CiAgICAgICAgICAgIGxldCBpbXBsID0gdGhpcy5nZXRWaWRlb0ltcGxlbWVudGF0aW9uKHByb3BzKTsKICAgICAgICAgICAgaWYgKGltcGwuZGF0YS5oZFNyYykgewogICAgICAgICAgICAgICAgd2luZG93Lm9wZW4oaW1wbC5kYXRhLmhkU3JjKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHdpbmRvdy5vcGVuKGltcGwuZGF0YS5zZFNyYyk7CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGluamVjdCgpIHsKICAgICAgICAgICAgc2V0SW50ZXJ2YWwoKCkgPT4gewogICAgICAgICAgICAgICAgbGV0IHZpZGVvcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoInZpZGVvOm5vdChbZGF0YS10YWdnZWRdKSIpOwogICAgICAgICAgICAgICAgZm9yIChsZXQgdmlkZW8gb2YgdmlkZW9zKSB7CiAgICAgICAgICAgICAgICAgICAgdmlkZW8uc2V0QXR0cmlidXRlKCJkYXRhLXRhZ2dlZCIsICJ0cnVlIik7CiAgICAgICAgICAgICAgICAgICAgbGV0IGZpYmVyID0gdGhpcy5nZXRSZWFjdEZpYmVyKHZpZGVvLnBhcmVudEVsZW1lbnQpOwogICAgICAgICAgICAgICAgICAgIGxldCBwcm9wcyA9IHRoaXMuZmliZXJSZXR1cm5VbnRpbChmaWJlciwgImEgW2Zyb20gQ29yZVZpZGVvUGxheWVyLnJlYWN0XSIpOwogICAgICAgICAgICAgICAgICAgIHRoaXMuYWRkVmlkZW9CdXR0b24oZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgW2RhdGEtaW5zdGFuY2VrZXk9JyR7cHJvcHMubWVtb2l6ZWRTdGF0ZS5tZW1vaXplZFN0YXRlfSddYCksIHZpZGVvLnBhcmVudEVsZW1lbnQpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LCAyMDApOwogICAgICAgICAgICBNb3Jkbzk1REwuYWRkU3R5bGUoIi5kbEJ0bntwb3NpdGlvbjphYnNvbHV0ZTt0b3A6MDtyaWdodDowO3otaW5kZXg6OTk5OTk7cGFkZGluZzoxMHB4IDE1cHg7bWFyZ2luOjVweDtjdXJzb3I6cG9pbnRlcjtvdXRsaW5lOjA7YmFja2dyb3VuZDp2YXIoLS1wcmltYXJ5LWJ1dHRvbi1iYWNrZ3JvdW5kKTtjb2xvcjp2YXIoLS1wcmltYXJ5LWJ1dHRvbi10ZXh0KTtib3JkZXI6MXB4IHNvbGlkIDFweCBzb2xpZCB2YXIoLS1hY2NlbnQpO2ZvbnQtZmFtaWx5OiB2YXIoLS1mb250LWZhbWlseS1zZWdvZSkhaW1wb3J0YW50fSIpOwogICAgICAgICAgICBNb3Jkbzk1REwuYWRkU3R5bGUoIi5kbEJ0bjpob3ZlcntiYWNrZ3JvdW5kLWNvbG9yOnZhcigtLXByaW1hcnktYnV0dG9uLXByZXNzZWQpfSIpOwogICAgICAgIH0KICAgIH0KCiAgICBjbGFzcyBZVERMIHsKICAgICAgICBhZGRWaWRlb0J1dHRvbihvbikgewogICAgICAgICAgICBsZXQgYnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7CiAgICAgICAgICAgIGJ0bi5pbm5lckhUTUwgPSB0aGlzLmJ0blRleHQ7CiAgICAgICAgICAgIGJ0bi5jbGFzc0xpc3QuYWRkKCJkbEJ0biIpOwogICAgICAgICAgICBidG4ub25jbGljayA9ICgpID0+IHRoaXMuZ2V0TGlua3MoYnRuKTsKICAgICAgICAgICAgb24ucHJlcGVuZChidG4pOwogICAgICAgIH0KCiAgICAgICAgZ2V0TGlua3MoYnRuKSB7CiAgICAgICAgICAgIGxldCBmZCA9IG5ldyBGb3JtRGF0YSgpOwogICAgICAgICAgICBmZC5zZXQoInEiLCB3aW5kb3cubG9jYXRpb24uaHJlZik7CiAgICAgICAgICAgIGZkLnNldCgidnQiLCAibXA0Iik7CiAgICAgICAgICAgIGxldCB1cmwgPSAiaHR0cHM6Ly95dDFzLmNvbS9hcGkvYWpheFNlYXJjaC9pbmRleCI7CiAgICAgICAgICAgIEdNX3htbGh0dHBSZXF1ZXN0KHsKICAgICAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLAogICAgICAgICAgICAgICAgdXJsLAogICAgICAgICAgICAgICAgZGF0YTogZmQsCiAgICAgICAgICAgICAgICBvbmxvYWQ6IChyZXNwKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgbGV0IGpzID0gSlNPTi5wYXJzZShyZXNwLnJlc3BvbnNlVGV4dCk7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb252ZXJ0KGJ0biwganMudmlkLCBqcy5saW5rcy5tcDQuYXV0by5rKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfQoKICAgICAgICBjb252ZXJ0KGJ0biwgdmlkLCBrKSB7CiAgICAgICAgICAgIGxldCBmZCA9IG5ldyBGb3JtRGF0YSgpOwogICAgICAgICAgICBmZC5zZXQoInZpZCIsIHZpZCk7CiAgICAgICAgICAgIGZkLnNldCgiayIsIGspOwogICAgICAgICAgICBidG4uaW5uZXJIVE1MID0gIkNvbnZlcnRpbmcgLi4uIjsKICAgICAgICAgICAgR01feG1saHR0cFJlcXVlc3QoewogICAgICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsCiAgICAgICAgICAgICAgICB1cmw6ICdodHRwczovL3l0MXMuY29tL2FwaS9hamF4Q29udmVydC9jb252ZXJ0JywKICAgICAgICAgICAgICAgIGRhdGE6IGZkLAogICAgICAgICAgICAgICAgdGltZW91dDogNjAwMDAsCiAgICAgICAgICAgICAgICBvbmxvYWQ6IChyZXNwKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgbGV0IGpzID0gSlNPTi5wYXJzZShyZXNwLnJlc3BvbnNlVGV4dCk7CiAgICAgICAgICAgICAgICAgICAgbGV0IHN0YXR1cyA9IGpzLmNfc3RhdHVzOwogICAgICAgICAgICAgICAgICAgIGlmIChzdGF0dXMgPT09ICJDT05WRVJURUQiKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5vcGVuKGpzLmRsaW5rKTsKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICBhbGVydCgiRXJyb3IgY29udmVydGluZyB2aWRlby4gUGxlYXNlIHRyeSBhZ2FpbiBsYXRlciEiKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgYnRuLmlubmVySFRNTCA9IHRoaXMuYnRuVGV4dDsKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICBvblRpbWVvdXQ6ICgpID0+IHsgYnRuLmlubmVySFRNTCA9IHRoaXMuYnRuVGV4dDsgfQogICAgICAgICAgICB9KTsKICAgICAgICB9CgogICAgICAgIGluamVjdCgpIHsKICAgICAgICAgICAgc2V0SW50ZXJ2YWwoKCkgPT4gewogICAgICAgICAgICAgICAgbGV0IHZpZGVvcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoInZpZGVvOm5vdChbZGF0YS10YWdnZWRdKSIpOwogICAgICAgICAgICAgICAgZm9yIChsZXQgdmlkZW8gb2YgdmlkZW9zKSB7CiAgICAgICAgICAgICAgICAgICAgdmlkZW8uc2V0QXR0cmlidXRlKCJkYXRhLXRhZ2dlZCIsICJ0cnVlIik7CiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiI2NvbnRhaW5lciIpKTsKICAgICAgICAgICAgICAgICAgICB0aGlzLmFkZFZpZGVvQnV0dG9uKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIiNjb250YWluZXIueXRkLXBsYXllciIpKTsKCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sIDIwMCk7CiAgICAgICAgICAgIE1vcmRvOTVETC5hZGRTdHlsZSgiLmRsQnRue3Bvc2l0aW9uOmFic29sdXRlO3RvcDowO3JpZ2h0OjA7ei1pbmRleDo5OTk5OTtwYWRkaW5nOjEwcHggMTVweDttYXJnaW46NXB4O2N1cnNvcjpwb2ludGVyO291dGxpbmU6MDtiYWNrZ3JvdW5kOiM1MzgzRkI7Y29sb3I6d2hpdGU7Ym9yZGVyOjFweCBzb2xpZCAxcHggc29saWQgIzUzODNGQjtmb250LWZhbWlseTogU2Vnb2UgVUkgSGlzdG9yaWMsIFNlZ29lIFVJLCBIZWx2ZXRpY2EsIEFyaWFsLCBzYW5zLXNlcmlmICFpbXBvcnRhbnQ7Zm9udC1zaXplOjEycHg7fSIpOwogICAgICAgICAgICBNb3Jkbzk1REwuYWRkU3R5bGUoIi5kbEJ0bjpob3ZlcntiYWNrZ3JvdW5kLWNvbG9yOiM4NkE0RkN9Iik7CiAgICAgICAgfQoKICAgICAgICBjb25zdHJ1Y3RvcigpIHsKICAgICAgICAgICAgdGhpcy5idG5UZXh0ID0gIkRvd25sb2FkIChIRCkiOwogICAgICAgIH0KICAgIH0KCiAgICBjbGFzcyBSRERMIHsKICAgICAgICBhZGRWaWRlb0J1dHRvbihvbiwgdmlkZW9FbCkgewogICAgICAgICAgICBvbi5xdWVyeVNlbGVjdG9yQWxsKCIuZGxCdG4iKS5mb3JFYWNoKGVsID0+IGVsLnJlbW92ZSgpKTsKICAgICAgICAgICAgbGV0IGJ0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOwogICAgICAgICAgICBidG4uaW5uZXJIVE1MID0gdGhpcy5idG5UZXh0OwogICAgICAgICAgICBidG4uY2xhc3NMaXN0LmFkZCgiZGxCdG4iKTsKICAgICAgICAgICAgYnRuLm9uY2xpY2sgPSAoKSA9PiB0aGlzLmJ0bkFjdChidG4pOwogICAgICAgICAgICBvbi5wcmVwZW5kKGJ0bik7CiAgICAgICAgfQoKICAgICAgICBidG5BY3QoYnRuKSB7CiAgICAgICAgICAgIGxldCBzcmMgPSB0aGlzLnJldHVyblVudGlsKHRoaXMuZ2V0UmVhY3RJbnRlcm5hbFN0YXRlKGJ0bi5wYXJlbnRFbGVtZW50KSwgIm1wZWdEYXNoU291cmNlIik7CiAgICAgICAgICAgIGlmICghc3JjKSB7CiAgICAgICAgICAgICAgICBhbGVydCgiVW5hYmxlIHRvIGxvYWQgdmlkZW8gZGF0YSIpOwogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGxldCBtcGVnRGFzaFVybCA9IHNyYy5wZW5kaW5nUHJvcHMubXBlZ0Rhc2hTb3VyY2U7CiAgICAgICAgICAgIGxldCBtYXRjaCA9IG1wZWdEYXNoVXJsLm1hdGNoKC9odHRwczpcL1wvdi5yZWRkLml0XC8oPzx2aWRlb0lkPi4rKVwvREFTSFBsYXlsaXN0XC5tcGQvKTsKICAgICAgICAgICAgaWYgKCFtYXRjaCkgewogICAgICAgICAgICAgICAgYWxlcnQoIlVuYWJsZSB0byBsb2FkIHZpZGVvIGRhdGEiKTsKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQogICAgICAgICAgICBsZXQgdmlkZW9JZCA9IG1hdGNoLmdyb3Vwcy52aWRlb0lkOwogICAgICAgICAgICBsZXQgcCA9IE1vcmRvOTVETC5idWlsZFBhcmFtcyh7CiAgICAgICAgICAgICAgICB2aWRlb191cmw6ICdodHRwczovL3YucmVkZC5pdC8nICsgdmlkZW9JZCArICcvREFTSF83MjAubXA0P3NvdXJjZT1mYWxsYmFjaycsCiAgICAgICAgICAgICAgICBhdWRpb191cmw6ICdodHRwczovL3YucmVkZC5pdC8nICsgdmlkZW9JZCArICcvREFTSF9hdWRpby5tcDQ/c291cmNlPWZhbGxiYWNrJywKICAgICAgICAgICAgICAgIHBlcm1hbGluazogd2luZG93LmxvY2F0aW9uLm9yaWdpbiArIHNyYy5wZW5kaW5nUHJvcHMucG9zdFVybC5wYXRobmFtZQogICAgICAgICAgICB9KTsKICAgICAgICAgICAgd2luZG93Lm9wZW4oImh0dHBzOi8vZHMucmVkZGl0c2F2ZS5jb20vZG93bmxvYWQucGhwPyIgKyBwKTsKICAgICAgICB9CgogICAgICAgIGdldFJlYWN0SW50ZXJuYWxTdGF0ZShlbCkgewogICAgICAgICAgICBmb3IgKGxldCBwcm9wIG9mIE9iamVjdC5rZXlzKGVsKSkgewogICAgICAgICAgICAgICAgaWYgKHByb3Auc3RhcnRzV2l0aCgiX19yZWFjdEludGVybmFsSW5zdGFuY2UiKSkgewogICAgICAgICAgICAgICAgICAgIHJldHVybiBlbFtwcm9wXTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgICB9CgogICAgICAgIHJldHVyblVudGlsKGluc3QsIHByb3ApIHsKICAgICAgICAgICAgbGV0IGZJbnN0ID0gaW5zdDsKICAgICAgICAgICAgd2hpbGUgKGZJbnN0ICE9IG51bGwpIHsKICAgICAgICAgICAgICAgIGlmIChmSW5zdC5wZW5kaW5nUHJvcHNbcHJvcF0pCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZJbnN0OwoKICAgICAgICAgICAgICAgIGZJbnN0ID0gZkluc3QucmV0dXJuOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiBudWxsOwogICAgICAgIH0KCiAgICAgICAgaW5qZWN0KCkgewogICAgICAgICAgICBzZXRJbnRlcnZhbCgoKSA9PiB7CiAgICAgICAgICAgICAgICBsZXQgdmlkZW9zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgidmlkZW86bm90KFtkYXRhLXRhZ2dlZF0pIik7CiAgICAgICAgICAgICAgICBmb3IgKGxldCB2aWRlbyBvZiB2aWRlb3MpIHsKICAgICAgICAgICAgICAgICAgICBpZiAodmlkZW8ucGFyZW50RWxlbWVudC5xdWVyeVNlbGVjdG9yKCIuZGxCdG4iKSA9PSBudWxsICYmIHZpZGVvLnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5maXJzdENoaWxkLmdldEF0dHJpYnV0ZSgicm9sZSIpICE9PSAic2xpZGVyIikKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hZGRWaWRlb0J1dHRvbih2aWRlby5wYXJlbnRFbGVtZW50KTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwgMjAwKTsKCiAgICAgICAgICAgIE1vcmRvOTVETC5hZGRTdHlsZSgiLmRsQnRue3Bvc2l0aW9uOmFic29sdXRlO3RvcDowO3JpZ2h0OjA7ei1pbmRleDo5OTk5OTtwYWRkaW5nOjEwcHggMTVweDttYXJnaW46NXB4O2N1cnNvcjpwb2ludGVyO291dGxpbmU6MDtiYWNrZ3JvdW5kOiM1MzgzRkI7Y29sb3I6d2hpdGU7Ym9yZGVyOjFweCBzb2xpZCAxcHggc29saWQgIzUzODNGQjtmb250LWZhbWlseTogU2Vnb2UgVUkgSGlzdG9yaWMsIFNlZ29lIFVJLCBIZWx2ZXRpY2EsIEFyaWFsLCBzYW5zLXNlcmlmICFpbXBvcnRhbnQ7Zm9udC1zaXplOjEycHg7fSIpOwogICAgICAgICAgICBNb3Jkbzk1REwuYWRkU3R5bGUoIi5kbEJ0bjpob3ZlcntiYWNrZ3JvdW5kLWNvbG9yOiM4NkE0RkN9Iik7CiAgICAgICAgfQoKICAgICAgICBjb25zdHJ1Y3RvcigpIHsKICAgICAgICAgICAgdGhpcy5idG5UZXh0ID0gIkRvd25sb2FkIChIRCkiOwogICAgICAgIH0KICAgIH0KICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCAoKSA9PiB7CiAgICAgICAgaWYgKHdpbmRvdy5sb2NhdGlvbi5ocmVmLm1hdGNoKC95b3V0dShcLik/YmUuKi8pKSB7IG5ldyBZVERMKCkuaW5qZWN0KCk7IH0KICAgICAgICBpZiAod2luZG93LmxvY2F0aW9uLmhyZWYubWF0Y2goL2ZhY2Vib29rXC4uKi8pKSB7IG5ldyBGQkRMKCkuaW5qZWN0KCk7IH0KICAgICAgICBpZiAod2luZG93LmxvY2F0aW9uLmhyZWYubWF0Y2goL3JlZGRpdFwuLiovKSkgeyBuZXcgUkRETCgpLmluamVjdCgpOyB9CiAgICB9LCBmYWxzZSk7Cgp9KSgpOw=="},{"name":"Google Drive Auto Download (without preview)","options":{"check_for_updates":true,"comment":null,"compat_foreach":false,"compat_metadata":false,"compat_powerful_this":null,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"merge_connects":true,"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_connects":[],"orig_excludes":[],"orig_includes":[],"orig_matches":["https://drive.google.com/*","https://docs.google.com/*"],"orig_noframes":null,"orig_run_at":"document-end","use_blockers":[],"use_connects":[],"use_excludes":[],"use_includes":[],"use_matches":[]},"run_at":null,"sandbox":null,"tab_types":null,"unwrap":null,"user_modified":null},"storage":{"ts":1715999537192,"data":{}},"enabled":false,"position":7,"uuid":"e11698b1-d6b1-404d-824f-1926c1a10240","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICBHb29nbGUgRHJpdmUgQXV0byBEb3dubG9hZCAod2l0aG91dCBwcmV2aWV3KQovLyBAbmFtZXNwYWNlICAgIGh0dHBzOi8vZ3JlYXN5Zm9yay5vcmcvZW4vdXNlcnMvMjIzMzYwCi8vIEB2ZXJzaW9uICAgICAgMS4wLjAuMQovLyBAZGVzY3JpcHRpb24gIEF1dG8gZG93bmxvYWQgZmlsZXMgZnJvbSBHb29nbGUgRHJpdmUgd2l0aG91dCBwcmV2aWV3LgovLyBAYXV0aG9yICAgICAgIFplbm5hcgovLyBAbWF0Y2ggICAgICAgIGh0dHBzOi8vZHJpdmUuZ29vZ2xlLmNvbS8qCi8vIEBtYXRjaCAgICAgICAgaHR0cHM6Ly9kb2NzLmdvb2dsZS5jb20vKgovLyBAZ3JhbnQgICAgICAgIG5vbmUKLy8gQGljb24gICAgICAgICBodHRwczovL3NzbC5nc3RhdGljLmNvbS9kb2NzL2RvY2xpc3QvaW1hZ2VzL2luZmluaXRlX2Fycm93X2Zhdmljb25fNC5pY28KLy8gQHJ1bi1hdCAgICAgICBkb2N1bWVudC1lbmQKLy8gPT0vVXNlclNjcmlwdD09dnZ2YXIgdGhpc1VybCA9IGRvY3VtZW50LmxvY2F0aW9uLmhyZWY7CnZhciB0aGlzVXJsPWxvY2F0aW9uLmhyZWY7CmlmKC9bZHJpdmV8ZG9jc10uZ29vZ2xlLmNvbVwvZmlsZS8udGVzdCh0aGlzVXJsKSkKewogICAgdmFyIGdkZl9pZD0gL1wvZmlsZVwvZFwvKFteXC9dKykvaS5leGVjKHRoaXNVcmwpOwogICAgdmFyIG5ld2hyZWYgPSBsb2NhdGlvbi5wcm90b2NvbCsnLy8nK2xvY2F0aW9uLmhvc3RuYW1lKycvdWM/aWQ9JytnZGZfaWRbMV0rJyZleHBvcnQ9ZG93bmxvYWQnCiAgICBsb2NhdGlvbi5ocmVmPW5ld2hyZWY7CiAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKXsKICAgIHNlbGYuY2xvc2UoKTsKfSwxMDAwMCk7Cn0KaWYoL1tkcml2ZXxkb2NzXS5nb29nbGUuY29tXC91Y1w/aWQvLnRlc3QodGhpc1VybCkpCnsKICAgIHZhciBkbGJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd1Yy1kb3dubG9hZC1saW5rJyk7CiAgICBpZiAoZGxidG4uaHJlZi5sZW5ndGggPiAwKSB7CiAgICAgICAgZGxidG4uY2xpY2soKTsKICAgIH0KICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7CiAgICBzZWxmLmNsb3NlKCk7Cn0sMTAwMDApOwp9Cg=="},{"name":"Return YouTube Dislike","options":{"check_for_updates":true,"comment":null,"compat_foreach":false,"compat_metadata":false,"compat_powerful_this":null,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"merge_connects":true,"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_connects":["youtube.com"],"orig_excludes":["*://music.youtube.com/*","*://*.music.youtube.com/*"],"orig_includes":[],"orig_matches":["*://*.youtube.com/*"],"orig_noframes":null,"orig_run_at":"document-end","use_blockers":[],"use_connects":[],"use_excludes":[],"use_includes":[],"use_matches":[]},"run_at":null,"sandbox":null,"tab_types":null,"unwrap":null,"user_modified":null},"storage":{"ts":1715999537193,"data":{}},"enabled":true,"position":8,"file_url":"https://github.com/Anarios/return-youtube-dislike/raw/main/Extensions/UserScript/Return%20Youtube%20Dislike.user.js","uuid":"19d55e25-e9e7-4011-8b6e-b2a7a4030fe9","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICBSZXR1cm4gWW91VHViZSBEaXNsaWtlCi8vIEBuYW1lc3BhY2UgICAgaHR0cHM6Ly93d3cucmV0dXJueW91dHViZWRpc2xpa2UuY29tLwovLyBAaG9tZXBhZ2UgICAgIGh0dHBzOi8vd3d3LnJldHVybnlvdXR1YmVkaXNsaWtlLmNvbS8KLy8gQHZlcnNpb24gICAgICAzLjEuNQovLyBAZW5jb2RpbmcgICAgIHV0Zi04Ci8vIEBkZXNjcmlwdGlvbiAgUmV0dXJuIG9mIHRoZSBZb3VUdWJlIERpc2xpa2UsIEJhc2VkIG9mZiBodHRwczovL3d3dy5yZXR1cm55b3V0dWJlZGlzbGlrZS5jb20vCi8vIEBpY29uICAgICAgICAgaHR0cHM6Ly9naXRodWIuY29tL0FuYXJpb3MvcmV0dXJuLXlvdXR1YmUtZGlzbGlrZS9yYXcvbWFpbi9JY29ucy9SZXR1cm4lMjBZb3V0dWJlJTIwRGlzbGlrZSUyMC0lMjBUcmFuc3BhcmVudC5wbmcKLy8gQGF1dGhvciAgICAgICBBbmFyaW9zICYgSlJXUgovLyBAbWF0Y2ggICAgICAgICo6Ly8qLnlvdXR1YmUuY29tLyoKLy8gQGV4Y2x1ZGUgICAgICAqOi8vbXVzaWMueW91dHViZS5jb20vKgovLyBAZXhjbHVkZSAgICAgICo6Ly8qLm11c2ljLnlvdXR1YmUuY29tLyoKLy8gQGNvbXBhdGlibGUgICBjaHJvbWUKLy8gQGNvbXBhdGlibGUgICBmaXJlZm94Ci8vIEBjb21wYXRpYmxlICAgb3BlcmEKLy8gQGNvbXBhdGlibGUgICBzYWZhcmkKLy8gQGNvbXBhdGlibGUgICBlZGdlCi8vIEBkb3dubG9hZFVSTCAgaHR0cHM6Ly9naXRodWIuY29tL0FuYXJpb3MvcmV0dXJuLXlvdXR1YmUtZGlzbGlrZS9yYXcvbWFpbi9FeHRlbnNpb25zL1VzZXJTY3JpcHQvUmV0dXJuJTIwWW91dHViZSUyMERpc2xpa2UudXNlci5qcwovLyBAdXBkYXRlVVJMICAgIGh0dHBzOi8vZ2l0aHViLmNvbS9BbmFyaW9zL3JldHVybi15b3V0dWJlLWRpc2xpa2UvcmF3L21haW4vRXh0ZW5zaW9ucy9Vc2VyU2NyaXB0L1JldHVybiUyMFlvdXR1YmUlMjBEaXNsaWtlLnVzZXIuanMKLy8gQGdyYW50ICAgICAgICBHTS54bWxIdHRwUmVxdWVzdAovLyBAY29ubmVjdCAgICAgIHlvdXR1YmUuY29tCi8vIEBncmFudCAgICAgICAgR01fYWRkU3R5bGUKLy8gQHJ1bi1hdCAgICAgICBkb2N1bWVudC1lbmQKLy8gPT0vVXNlclNjcmlwdD09Cgpjb25zdCBleHRDb25maWcgPSB7CiAgLy8gQkVHSU4gVVNFUiBPUFRJT05TCiAgLy8gWW91IG1heSBjaGFuZ2UgdGhlIGZvbGxvd2luZyB2YXJpYWJsZXMgdG8gYWxsb3dlZCB2YWx1ZXMgbGlzdGVkIGluIHRoZSBjb3JyZXNwb25kaW5nIGJyYWNrZXRzICgqIG1lYW5zIGRlZmF1bHQpLiBLZWVwIHRoZSBzdHlsZSBhbmQga2V5d29yZHMgaW50YWN0LgogIHNob3dVcGRhdGVQb3B1cDogZmFsc2UsIC8vIFt0cnVlLCBmYWxzZSpdIFNob3cgYSBwb3B1cCB0YWIgYWZ0ZXIgZXh0ZW5zaW9uIHVwZGF0ZSAoU2VlIHdoYXQncyBuZXcpCiAgZGlzYWJsZVZvdGVTdWJtaXNzaW9uOiBmYWxzZSwgLy8gW3RydWUsIGZhbHNlKl0gRGlzYWJsZSBsaWtlL2Rpc2xpa2Ugc3VibWlzc2lvbiAoU3RvcHMgY291bnRpbmcgeW91ciBsaWtlcyBhbmQgZGlzbGlrZXMpCiAgY29sb3JlZFRodW1iczogZmFsc2UsIC8vIFt0cnVlLCBmYWxzZSpdIENvbG9yaXplIHRodW1icyAoVXNlIGN1c3RvbSBjb2xvcnMgZm9yIHRodW1iIGljb25zKQogIGNvbG9yZWRCYXI6IGZhbHNlLCAvLyBbdHJ1ZSwgZmFsc2UqXSBDb2xvcml6ZSByYXRpbyBiYXIgKFVzZSBjdXN0b20gY29sb3JzIGZvciByYXRpbyBiYXIpCiAgY29sb3JUaGVtZTogImNsYXNzaWMiLCAvLyBbY2xhc3NpYyosIGFjY2Vzc2libGUsIG5lb25dIENvbG9yIHRoZW1lIChyZWQvZ3JlZW4sIGJsdWUveWVsbG93LCBwaW5rL2N5YW4pCiAgbnVtYmVyRGlzcGxheUZvcm1hdDogImNvbXBhY3RTaG9ydCIsIC8vIFtjb21wYWN0U2hvcnQqLCBjb21wYWN0TG9uZywgc3RhbmRhcmRdIE51bWJlciBmb3JtYXQgKEZvciBub24tRW5nbGlzaCBsb2NhbGUgdXNlcnMsIHlvdSBtYXkgYmUgYWJsZSB0byBpbXByb3ZlIGFwcGVhcmFuY2Ugd2l0aCBhIGRpZmZlcmVudCBvcHRpb24uIFBsZWFzZSBmaWxlIGEgZmVhdHVyZSByZXF1ZXN0IGlmIHlvdXIgbG9jYWxlIGlzIG5vdCBjb3ZlcmVkKQogIG51bWJlckRpc3BsYXlSb3VuZERvd246IHRydWUsIC8vIFt0cnVlKiwgZmFsc2VdIFJvdW5kIGRvd24gbnVtYmVycyAoU2hvdyByb3VuZGVkIGRvd24gbnVtYmVycykKICB0b29sdGlwUGVyY2VudGFnZU1vZGU6ICJub25lIiwgLy8gW25vbmUqLCBkYXNoX2xpa2UsIGRhc2hfZGlzbGlrZSwgYm90aCwgb25seV9saWtlLCBvbmx5X2Rpc2xpa2VdIE1vZGUgb2Ygc2hvd2luZyBwZXJjZW50YWdlIGluIGxpa2UvZGlzbGlrZSBiYXIgdG9vbHRpcC4KICBudW1iZXJEaXNwbGF5UmVmb3JtYXRMaWtlczogZmFsc2UsIC8vIFt0cnVlLCBmYWxzZSpdIFJlLWZvcm1hdCBsaWtlIG51bWJlcnMgKE1ha2UgbGlrZXMgYW5kIGRpc2xpa2VzIGZvcm1hdCBjb25zaXN0ZW50KQogIHJhdGVCYXJFbmFibGVkOiBmYWxzZSwgLy8gW3RydWUsIGZhbHNlKl0gRW5hYmxlcyByYXRpbyBiYXIgdW5kZXIgbGlrZS9kaXNsaWtlIGJ1dHRvbnMKICAvLyBFTkQgVVNFUiBPUFRJT05TCn07Cgpjb25zdCBMSUtFRF9TVEFURSA9ICJMSUtFRF9TVEFURSI7CmNvbnN0IERJU0xJS0VEX1NUQVRFID0gIkRJU0xJS0VEX1NUQVRFIjsKY29uc3QgTkVVVFJBTF9TVEFURSA9ICJORVVUUkFMX1NUQVRFIjsKbGV0IHByZXZpb3VzU3RhdGUgPSAzOyAvLzE9TElLRUQsIDI9RElTTElLRUQsIDM9TkVVVFJBTApsZXQgbGlrZXN2YWx1ZSA9IDA7CmxldCBkaXNsaWtlc3ZhbHVlID0gMDsKbGV0IHByZU5hdmlnYXRlTGlrZUJ1dHRvbiA9IG51bGw7CgpsZXQgaXNNb2JpbGUgPSBsb2NhdGlvbi5ob3N0bmFtZSA9PSAibS55b3V0dWJlLmNvbSI7CmxldCBpc1Nob3J0cyA9ICgpID0+IGxvY2F0aW9uLnBhdGhuYW1lLnN0YXJ0c1dpdGgoIi9zaG9ydHMiKTsKbGV0IG1vYmlsZURpc2xpa2VzID0gMDsKZnVuY3Rpb24gY0xvZyh0ZXh0LCBzdWJ0ZXh0ID0gIiIpIHsKICBzdWJ0ZXh0ID0gc3VidGV4dC50cmltKCkgPT09ICIiID8gIiIgOiBgKCR7c3VidGV4dH0pYDsKICBjb25zb2xlLmxvZyhgW1JldHVybiBZb3VUdWJlIERpc2xpa2VzXSAke3RleHR9ICR7c3VidGV4dH1gKTsKfQoKZnVuY3Rpb24gaXNJblZpZXdwb3J0KGVsZW1lbnQpIHsKICBjb25zdCByZWN0ID0gZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTsKICBjb25zdCBoZWlnaHQgPSBpbm5lckhlaWdodCB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0OwogIGNvbnN0IHdpZHRoID0gaW5uZXJXaWR0aCB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGg7CiAgcmV0dXJuICgKICAgIC8vIFdoZW4gc2hvcnQgKGNoYW5uZWwpIGlzIGlnbm9yZWQsIHRoZSBlbGVtZW50IChsaWtlL2Rpc2xpa2UgQU5EIHNob3J0IGl0c2VsZikgaXMKICAgIC8vIGhpZGRlbiB3aXRoIGEgMCBET01SZWN0LiBJbiB0aGlzIGNhc2UsIGNvbnNpZGVyIGl0IG91dHNpZGUgb2YgVmlld3BvcnQKICAgICEocmVjdC50b3AgPT0gMCAmJiByZWN0LmxlZnQgPT0gMCAmJiByZWN0LmJvdHRvbSA9PSAwICYmIHJlY3QucmlnaHQgPT0gMCkgJiYKICAgIHJlY3QudG9wID49IDAgJiYKICAgIHJlY3QubGVmdCA+PSAwICYmCiAgICByZWN0LmJvdHRvbSA8PSBoZWlnaHQgJiYKICAgIHJlY3QucmlnaHQgPD0gd2lkdGgKICApOwp9CgpmdW5jdGlvbiBnZXRCdXR0b25zKCkgewogIGlmIChpc1Nob3J0cygpKSB7CiAgICBsZXQgZWxlbWVudHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKAogICAgICBpc01vYmlsZSA/ICJ5dG0tbGlrZS1idXR0b24tcmVuZGVyZXIiIDogIiNsaWtlLWJ1dHRvbiA+IHl0ZC1saWtlLWJ1dHRvbi1yZW5kZXJlciIsCiAgICApOwogICAgZm9yIChsZXQgZWxlbWVudCBvZiBlbGVtZW50cykgewogICAgICBpZiAoaXNJblZpZXdwb3J0KGVsZW1lbnQpKSB7CiAgICAgICAgcmV0dXJuIGVsZW1lbnQ7CiAgICAgIH0KICAgIH0KICB9CiAgaWYgKGlzTW9iaWxlKSB7CiAgICByZXR1cm4gKAogICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIuc2xpbS12aWRlby1hY3Rpb24tYmFyLWFjdGlvbnMgLnNlZ21lbnRlZC1idXR0b25zIikgPz8KICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiLnNsaW0tdmlkZW8tYWN0aW9uLWJhci1hY3Rpb25zIikKICAgICk7CiAgfQogIGlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgibWVudS1jb250YWluZXIiKT8ub2Zmc2V0UGFyZW50ID09PSBudWxsKSB7CiAgICByZXR1cm4gKAogICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCJ5dGQtbWVudS1yZW5kZXJlci55dGQtd2F0Y2gtbWV0YWRhdGEgPiBkaXYiKSA/PwogICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCJ5dGQtbWVudS1yZW5kZXJlci55dGQtdmlkZW8tcHJpbWFyeS1pbmZvLXJlbmRlcmVyID4gZGl2IikKICAgICk7CiAgfSBlbHNlIHsKICAgIHJldHVybiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgibWVudS1jb250YWluZXIiKT8ucXVlcnlTZWxlY3RvcigiI3RvcC1sZXZlbC1idXR0b25zLWNvbXB1dGVkIik7CiAgfQp9CgpmdW5jdGlvbiBnZXREaXNsaWtlQnV0dG9uKCkgewogIGlmIChnZXRCdXR0b25zKCkuY2hpbGRyZW5bMF0udGFnTmFtZSA9PT0gIllURC1TRUdNRU5URUQtTElLRS1ESVNMSUtFLUJVVFRPTi1SRU5ERVJFUiIpIHsKICAgIGlmIChnZXRCdXR0b25zKCkuY2hpbGRyZW5bMF0uY2hpbGRyZW5bMV0gPT09IHVuZGVmaW5lZCkgewogICAgICByZXR1cm4gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiI3NlZ21lbnRlZC1kaXNsaWtlLWJ1dHRvbiIpOwogICAgfSBlbHNlIHsKICAgICAgcmV0dXJuIGdldEJ1dHRvbnMoKS5jaGlsZHJlblswXS5jaGlsZHJlblsxXTsKICAgIH0KICB9IGVsc2UgewogICAgaWYgKGdldEJ1dHRvbnMoKS5xdWVyeVNlbGVjdG9yKCJzZWdtZW50ZWQtbGlrZS1kaXNsaWtlLWJ1dHRvbi12aWV3LW1vZGVsIikpIHsKICAgICAgY29uc3QgZGlzbGlrZVZpZXdNb2RlbCA9IGdldEJ1dHRvbnMoKS5xdWVyeVNlbGVjdG9yKCJkaXNsaWtlLWJ1dHRvbi12aWV3LW1vZGVsIik7CiAgICAgIGlmICghZGlzbGlrZVZpZXdNb2RlbCkgY0xvZygiRGlzbGlrZSBidXR0b24gd2Fzbid0IGFkZGVkIHRvIERPTSB5ZXQuLi4iKTsKICAgICAgcmV0dXJuIGRpc2xpa2VWaWV3TW9kZWw7CiAgICB9IGVsc2UgewogICAgICByZXR1cm4gZ2V0QnV0dG9ucygpLmNoaWxkcmVuWzFdOwogICAgfQogIH0KfQoKZnVuY3Rpb24gZ2V0TGlrZUJ1dHRvbigpIHsKICByZXR1cm4gZ2V0QnV0dG9ucygpLmNoaWxkcmVuWzBdLnRhZ05hbWUgPT09ICJZVEQtU0VHTUVOVEVELUxJS0UtRElTTElLRS1CVVRUT04tUkVOREVSRVIiCiAgICA/IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIiNzZWdtZW50ZWQtbGlrZS1idXR0b24iKSAhPT0gbnVsbAogICAgICA/IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIiNzZWdtZW50ZWQtbGlrZS1idXR0b24iKQogICAgICA6IGdldEJ1dHRvbnMoKS5jaGlsZHJlblswXS5jaGlsZHJlblswXQogICAgOiBnZXRCdXR0b25zKCkucXVlcnlTZWxlY3RvcigibGlrZS1idXR0b24tdmlldy1tb2RlbCIpID8/IGdldEJ1dHRvbnMoKS5jaGlsZHJlblswXTsKfQoKZnVuY3Rpb24gZ2V0TGlrZVRleHRDb250YWluZXIoKSB7CiAgcmV0dXJuICgKICAgIGdldExpa2VCdXR0b24oKS5xdWVyeVNlbGVjdG9yKCIjdGV4dCIpID8/CiAgICBnZXRMaWtlQnV0dG9uKCkuZ2V0RWxlbWVudHNCeVRhZ05hbWUoInl0LWZvcm1hdHRlZC1zdHJpbmciKVswXSA/PwogICAgZ2V0TGlrZUJ1dHRvbigpLnF1ZXJ5U2VsZWN0b3IoInNwYW5bcm9sZT0ndGV4dCddIikKICApOwp9CgpmdW5jdGlvbiBnZXREaXNsaWtlVGV4dENvbnRhaW5lcigpIHsKICBjb25zdCBkaXNsaWtlQnV0dG9uID0gZ2V0RGlzbGlrZUJ1dHRvbigpOwogIGxldCByZXN1bHQgPQogICAgZGlzbGlrZUJ1dHRvbj8ucXVlcnlTZWxlY3RvcigiI3RleHQiKSA/PwogICAgZGlzbGlrZUJ1dHRvbj8uZ2V0RWxlbWVudHNCeVRhZ05hbWUoInl0LWZvcm1hdHRlZC1zdHJpbmciKVswXSA/PwogICAgZGlzbGlrZUJ1dHRvbj8ucXVlcnlTZWxlY3Rvcigic3Bhbltyb2xlPSd0ZXh0J10iKTsKICBpZiAocmVzdWx0ID09PSBudWxsKSB7CiAgICBsZXQgdGV4dFNwYW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzcGFuIik7CiAgICB0ZXh0U3Bhbi5pZCA9ICJ0ZXh0IjsKICAgIHRleHRTcGFuLnN0eWxlLm1hcmdpbkxlZnQgPSAiNnB4IjsKICAgIGRpc2xpa2VCdXR0b24/LnF1ZXJ5U2VsZWN0b3IoImJ1dHRvbiIpLmFwcGVuZENoaWxkKHRleHRTcGFuKTsKICAgIGlmIChkaXNsaWtlQnV0dG9uKSBkaXNsaWtlQnV0dG9uLnF1ZXJ5U2VsZWN0b3IoImJ1dHRvbiIpLnN0eWxlLndpZHRoID0gImF1dG8iOwogICAgcmVzdWx0ID0gdGV4dFNwYW47CiAgfQogIHJldHVybiByZXN1bHQ7Cn0KCmZ1bmN0aW9uIGNyZWF0ZU9ic2VydmVyKG9wdGlvbnMsIGNhbGxiYWNrKSB7CiAgY29uc3Qgb2JzZXJ2ZXJXcmFwcGVyID0gbmV3IE9iamVjdCgpOwogIG9ic2VydmVyV3JhcHBlci5vcHRpb25zID0gb3B0aW9uczsKICBvYnNlcnZlcldyYXBwZXIub2JzZXJ2ZXIgPSBuZXcgTXV0YXRpb25PYnNlcnZlcihjYWxsYmFjayk7CiAgb2JzZXJ2ZXJXcmFwcGVyLm9ic2VydmUgPSBmdW5jdGlvbiAoZWxlbWVudCkgewogICAgdGhpcy5vYnNlcnZlci5vYnNlcnZlKGVsZW1lbnQsIHRoaXMub3B0aW9ucyk7CiAgfTsKICBvYnNlcnZlcldyYXBwZXIuZGlzY29ubmVjdCA9IGZ1bmN0aW9uICgpIHsKICAgIHRoaXMub2JzZXJ2ZXIuZGlzY29ubmVjdCgpOwogIH07CiAgcmV0dXJuIG9ic2VydmVyV3JhcHBlcjsKfQoKbGV0IHNob3J0c09ic2VydmVyID0gbnVsbDsKCmlmIChpc1Nob3J0cygpICYmICFzaG9ydHNPYnNlcnZlcikgewogIGNMb2coIkluaXRpYWxpemluZyBzaG9ydHMgbXV0YXRpb24gb2JzZXJ2ZXIiKTsKICBzaG9ydHNPYnNlcnZlciA9IGNyZWF0ZU9ic2VydmVyKAogICAgewogICAgICBhdHRyaWJ1dGVzOiB0cnVlLAogICAgfSwKICAgIChtdXRhdGlvbkxpc3QpID0+IHsKICAgICAgbXV0YXRpb25MaXN0LmZvckVhY2goKG11dGF0aW9uKSA9PiB7CiAgICAgICAgaWYgKAogICAgICAgICAgbXV0YXRpb24udHlwZSA9PT0gImF0dHJpYnV0ZXMiICYmCiAgICAgICAgICBtdXRhdGlvbi50YXJnZXQubm9kZU5hbWUgPT09ICJUUC1ZVC1QQVBFUi1CVVRUT04iICYmCiAgICAgICAgICBtdXRhdGlvbi50YXJnZXQuaWQgPT09ICJidXR0b24iCiAgICAgICAgKSB7CiAgICAgICAgICBjTG9nKCJTaG9ydCB0aHVtYiBidXR0b24gc3RhdHVzIGNoYW5nZWQiKTsKICAgICAgICAgIGlmIChtdXRhdGlvbi50YXJnZXQuZ2V0QXR0cmlidXRlKCJhcmlhLXByZXNzZWQiKSA9PT0gInRydWUiKSB7CiAgICAgICAgICAgIG11dGF0aW9uLnRhcmdldC5zdHlsZS5jb2xvciA9CiAgICAgICAgICAgICAgbXV0YXRpb24udGFyZ2V0LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5pZCA9PT0gImxpa2UtYnV0dG9uIgogICAgICAgICAgICAgICAgPyBnZXRDb2xvckZyb21UaGVtZSh0cnVlKQogICAgICAgICAgICAgICAgOiBnZXRDb2xvckZyb21UaGVtZShmYWxzZSk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBtdXRhdGlvbi50YXJnZXQuc3R5bGUuY29sb3IgPSAidW5zZXQiOwogICAgICAgICAgfQogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgICAgICBjTG9nKCJVbmV4cGVjdGVkIG11dGF0aW9uIG9ic2VydmVyIGV2ZW50OiAiICsgbXV0YXRpb24udGFyZ2V0ICsgbXV0YXRpb24udHlwZSk7CiAgICAgIH0pOwogICAgfSwKICApOwp9CgpmdW5jdGlvbiBpc1ZpZGVvTGlrZWQoKSB7CiAgaWYgKGlzTW9iaWxlKSB7CiAgICByZXR1cm4gZ2V0TGlrZUJ1dHRvbigpLnF1ZXJ5U2VsZWN0b3IoImJ1dHRvbiIpLmdldEF0dHJpYnV0ZSgiYXJpYS1sYWJlbCIpID09ICJ0cnVlIjsKICB9CiAgcmV0dXJuIGdldExpa2VCdXR0b24oKS5jbGFzc0xpc3QuY29udGFpbnMoInN0eWxlLWRlZmF1bHQtYWN0aXZlIik7Cn0KCmZ1bmN0aW9uIGlzVmlkZW9EaXNsaWtlZCgpIHsKICBpZiAoaXNNb2JpbGUpIHsKICAgIHJldHVybiBnZXREaXNsaWtlQnV0dG9uKCk/LnF1ZXJ5U2VsZWN0b3IoImJ1dHRvbiIpLmdldEF0dHJpYnV0ZSgiYXJpYS1sYWJlbCIpID09ICJ0cnVlIjsKICB9CiAgcmV0dXJuIGdldERpc2xpa2VCdXR0b24oKT8uY2xhc3NMaXN0LmNvbnRhaW5zKCJzdHlsZS1kZWZhdWx0LWFjdGl2ZSIpOwp9CgpmdW5jdGlvbiBpc1ZpZGVvTm90TGlrZWQoKSB7CiAgaWYgKGlzTW9iaWxlKSB7CiAgICByZXR1cm4gIWlzVmlkZW9MaWtlZCgpOwogIH0KICByZXR1cm4gZ2V0TGlrZUJ1dHRvbigpLmNsYXNzTGlzdC5jb250YWlucygic3R5bGUtdGV4dCIpOwp9CgpmdW5jdGlvbiBpc1ZpZGVvTm90RGlzbGlrZWQoKSB7CiAgaWYgKGlzTW9iaWxlKSB7CiAgICByZXR1cm4gIWlzVmlkZW9EaXNsaWtlZCgpOwogIH0KICByZXR1cm4gZ2V0RGlzbGlrZUJ1dHRvbigpPy5jbGFzc0xpc3QuY29udGFpbnMoInN0eWxlLXRleHQiKTsKfQoKZnVuY3Rpb24gY2hlY2tGb3JVc2VyQXZhdGFyQnV0dG9uKCkgewogIGlmIChpc01vYmlsZSkgewogICAgcmV0dXJuOwogIH0KICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiI2F2YXRhci1idG4iKSkgewogICAgcmV0dXJuIHRydWU7CiAgfSBlbHNlIHsKICAgIHJldHVybiBmYWxzZTsKICB9Cn0KCmZ1bmN0aW9uIGdldFN0YXRlKCkgewogIGlmIChpc1ZpZGVvTGlrZWQoKSkgewogICAgcmV0dXJuIExJS0VEX1NUQVRFOwogIH0KICBpZiAoaXNWaWRlb0Rpc2xpa2VkKCkpIHsKICAgIHJldHVybiBESVNMSUtFRF9TVEFURTsKICB9CiAgcmV0dXJuIE5FVVRSQUxfU1RBVEU7Cn0KCmZ1bmN0aW9uIHNldExpa2VzKGxpa2VzQ291bnQpIHsKICBpZiAoaXNNb2JpbGUpIHsKICAgIGdldEJ1dHRvbnMoKS5jaGlsZHJlblswXS5xdWVyeVNlbGVjdG9yKCIuYnV0dG9uLXJlbmRlcmVyLXRleHQiKS5pbm5lclRleHQgPSBsaWtlc0NvdW50OwogICAgcmV0dXJuOwogIH0KICBnZXRMaWtlVGV4dENvbnRhaW5lcigpLmlubmVyVGV4dCA9IGxpa2VzQ291bnQ7Cn0KCmZ1bmN0aW9uIHNldERpc2xpa2VzKGRpc2xpa2VzQ291bnQpIHsKICBpZiAoaXNNb2JpbGUpIHsKICAgIG1vYmlsZURpc2xpa2VzID0gZGlzbGlrZXNDb3VudDsKICAgIHJldHVybjsKICB9CiAgZ2V0RGlzbGlrZVRleHRDb250YWluZXIoKT8ucmVtb3ZlQXR0cmlidXRlKCJpcy1lbXB0eSIpOwogIGdldERpc2xpa2VUZXh0Q29udGFpbmVyKCkuaW5uZXJUZXh0ID0gZGlzbGlrZXNDb3VudDsKfQoKZnVuY3Rpb24gZ2V0TGlrZUNvdW50RnJvbUJ1dHRvbigpIHsKICB0cnkgewogICAgaWYgKGlzU2hvcnRzKCkpIHsKICAgICAgLy9Zb3V0dWJlIFNob3J0cyBkb24ndCB3b3JrIHdpdGggdGhpcyBxdWVyeS4gSXQncyBub3QgbmVjZXNzYXJ5OyB3ZSBjYW4gc2tpcCBpdCBhbmQgc3RpbGwgc2VlIHRoZSByZXN1bHRzLgogICAgICAvL0l0IHNob3VsZCBiZSBwb3NzaWJsZSB0byBmaXggdGhpcyBmdW5jdGlvbiwgYnV0IGl0J3Mgbm90IGNyaXRpY2FsIHRvIHNob3dpbmcgdGhlIGRpc2xpa2UgY291bnQuCiAgICAgIHJldHVybiBmYWxzZTsKICAgIH0KICAgIGxldCBsaWtlQnV0dG9uID0KICAgICAgZ2V0TGlrZUJ1dHRvbigpLnF1ZXJ5U2VsZWN0b3IoInl0LWZvcm1hdHRlZC1zdHJpbmcjdGV4dCIpID8/IGdldExpa2VCdXR0b24oKS5xdWVyeVNlbGVjdG9yKCJidXR0b24iKTsKCiAgICBsZXQgbGlrZXNTdHIgPSBsaWtlQnV0dG9uLmdldEF0dHJpYnV0ZSgiYXJpYS1sYWJlbCIpLnJlcGxhY2UoL1xEL2csICIiKTsKICAgIHJldHVybiBsaWtlc1N0ci5sZW5ndGggPiAwID8gcGFyc2VJbnQobGlrZXNTdHIpIDogZmFsc2U7CiAgfSBjYXRjaCB7CiAgICByZXR1cm4gZmFsc2U7CiAgfQp9CgoodHlwZW9mIEdNX2FkZFN0eWxlICE9ICJ1bmRlZmluZWQiCiAgPyBHTV9hZGRTdHlsZQogIDogKHN0eWxlcykgPT4gewogICAgICBsZXQgc3R5bGVOb2RlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic3R5bGUiKTsKICAgICAgc3R5bGVOb2RlLnR5cGUgPSAidGV4dC9jc3MiOwogICAgICBzdHlsZU5vZGUuaW5uZXJUZXh0ID0gc3R5bGVzOwogICAgICBkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKHN0eWxlTm9kZSk7CiAgICB9KShgCiAgICAjcmV0dXJuLXlvdXR1YmUtZGlzbGlrZS1iYXItY29udGFpbmVyIHsKICAgICAgYmFja2dyb3VuZDogdmFyKC0teXQtc3BlYy1pY29uLWRpc2FibGVkKTsKICAgICAgYm9yZGVyLXJhZGl1czogMnB4OwogICAgfQoKICAgICNyZXR1cm4teW91dHViZS1kaXNsaWtlLWJhciB7CiAgICAgIGJhY2tncm91bmQ6IHZhcigtLXl0LXNwZWMtdGV4dC1wcmltYXJ5KTsKICAgICAgYm9yZGVyLXJhZGl1czogMnB4OwogICAgICB0cmFuc2l0aW9uOiBhbGwgMC4xNXMgZWFzZS1pbi1vdXQ7CiAgICB9CgogICAgLnJ5ZC10b29sdGlwIHsKICAgICAgcG9zaXRpb246IGFic29sdXRlOwogICAgICBkaXNwbGF5OiBibG9jazsKICAgICAgaGVpZ2h0OiAycHg7CiAgICAgIGJvdHRvbTogLTEwcHg7CiAgICB9CgogICAgLnJ5ZC10b29sdGlwLWJhci1jb250YWluZXIgewogICAgICB3aWR0aDogMTAwJTsKICAgICAgaGVpZ2h0OiAycHg7CiAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICAgICAgcGFkZGluZy10b3A6IDZweDsKICAgICAgcGFkZGluZy1ib3R0b206IDEycHg7CiAgICAgIHRvcDogLTZweDsKICAgIH0KCiAgICB5dGQtbWVudS1yZW5kZXJlci55dGQtd2F0Y2gtbWV0YWRhdGEgewogICAgICBvdmVyZmxvdy15OiB2aXNpYmxlICFpbXBvcnRhbnQ7CiAgICB9CiAgICAKICAgICN0b3AtbGV2ZWwtYnV0dG9ucy1jb21wdXRlZCB7CiAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZSAhaW1wb3J0YW50OwogICAgfQogIGApOwoKZnVuY3Rpb24gY3JlYXRlUmF0ZUJhcihsaWtlcywgZGlzbGlrZXMpIHsKICBpZiAoaXNNb2JpbGUgfHwgIWV4dENvbmZpZy5yYXRlQmFyRW5hYmxlZCkgewogICAgcmV0dXJuOwogIH0KICBsZXQgcmF0ZUJhciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJyZXR1cm4teW91dHViZS1kaXNsaWtlLWJhci1jb250YWluZXIiKTsKCiAgY29uc3Qgd2lkdGhQeCA9IGdldExpa2VCdXR0b24oKS5jbGllbnRXaWR0aCArIChnZXREaXNsaWtlQnV0dG9uKCk/LmNsaWVudFdpZHRoID8/IDUyKTsKCiAgY29uc3Qgd2lkdGhQZXJjZW50ID0gbGlrZXMgKyBkaXNsaWtlcyA+IDAgPyAobGlrZXMgLyAobGlrZXMgKyBkaXNsaWtlcykpICogMTAwIDogNTA7CgogIHZhciBsaWtlUGVyY2VudGFnZSA9IHBhcnNlRmxvYXQod2lkdGhQZXJjZW50LnRvRml4ZWQoMSkpOwogIGNvbnN0IGRpc2xpa2VQZXJjZW50YWdlID0gKDEwMCAtIGxpa2VQZXJjZW50YWdlKS50b0xvY2FsZVN0cmluZygpOwogIGxpa2VQZXJjZW50YWdlID0gbGlrZVBlcmNlbnRhZ2UudG9Mb2NhbGVTdHJpbmcoKTsKCiAgdmFyIHRvb2x0aXBJbm5lckhUTUw7CiAgc3dpdGNoIChleHRDb25maWcudG9vbHRpcFBlcmNlbnRhZ2VNb2RlKSB7CiAgICBjYXNlICJkYXNoX2xpa2UiOgogICAgICB0b29sdGlwSW5uZXJIVE1MID0gYCR7bGlrZXMudG9Mb2NhbGVTdHJpbmcoKX0mbmJzcDsvJm5ic3A7JHtkaXNsaWtlcy50b0xvY2FsZVN0cmluZygpfSZuYnNwOyZuYnNwOy0mbmJzcDsmbmJzcDske2xpa2VQZXJjZW50YWdlfSVgOwogICAgICBicmVhazsKICAgIGNhc2UgImRhc2hfZGlzbGlrZSI6CiAgICAgIHRvb2x0aXBJbm5lckhUTUwgPSBgJHtsaWtlcy50b0xvY2FsZVN0cmluZygpfSZuYnNwOy8mbmJzcDske2Rpc2xpa2VzLnRvTG9jYWxlU3RyaW5nKCl9Jm5ic3A7Jm5ic3A7LSZuYnNwOyZuYnNwOyR7ZGlzbGlrZVBlcmNlbnRhZ2V9JWA7CiAgICAgIGJyZWFrOwogICAgY2FzZSAiYm90aCI6CiAgICAgIHRvb2x0aXBJbm5lckhUTUwgPSBgJHtsaWtlUGVyY2VudGFnZX0lJm5ic3A7LyZuYnNwOyR7ZGlzbGlrZVBlcmNlbnRhZ2V9JWA7CiAgICAgIGJyZWFrOwogICAgY2FzZSAib25seV9saWtlIjoKICAgICAgdG9vbHRpcElubmVySFRNTCA9IGAke2xpa2VQZXJjZW50YWdlfSVgOwogICAgICBicmVhazsKICAgIGNhc2UgIm9ubHlfZGlzbGlrZSI6CiAgICAgIHRvb2x0aXBJbm5lckhUTUwgPSBgJHtkaXNsaWtlUGVyY2VudGFnZX0lYDsKICAgICAgYnJlYWs7CiAgICBkZWZhdWx0OgogICAgICB0b29sdGlwSW5uZXJIVE1MID0gYCR7bGlrZXMudG9Mb2NhbGVTdHJpbmcoKX0mbmJzcDsvJm5ic3A7JHtkaXNsaWtlcy50b0xvY2FsZVN0cmluZygpfWA7CiAgfQoKICBpZiAoIXJhdGVCYXIgJiYgIWlzTW9iaWxlKSB7CiAgICBsZXQgY29sb3JMaWtlU3R5bGUgPSAiIjsKICAgIGxldCBjb2xvckRpc2xpa2VTdHlsZSA9ICIiOwogICAgaWYgKGV4dENvbmZpZy5jb2xvcmVkQmFyKSB7CiAgICAgIGNvbG9yTGlrZVN0eWxlID0gIjsgYmFja2dyb3VuZC1jb2xvcjogIiArIGdldENvbG9yRnJvbVRoZW1lKHRydWUpOwogICAgICBjb2xvckRpc2xpa2VTdHlsZSA9ICI7IGJhY2tncm91bmQtY29sb3I6ICIgKyBnZXRDb2xvckZyb21UaGVtZShmYWxzZSk7CiAgICB9CgogICAgZ2V0QnV0dG9ucygpLmluc2VydEFkamFjZW50SFRNTCgKICAgICAgImJlZm9yZWVuZCIsCiAgICAgIGAKICAgICAgICA8ZGl2IGNsYXNzPSJyeWQtdG9vbHRpcCIgc3R5bGU9IndpZHRoOiAke3dpZHRoUHh9cHgiPgogICAgICAgIDxkaXYgY2xhc3M9InJ5ZC10b29sdGlwLWJhci1jb250YWluZXIiPgogICAgICAgICAgIDxkaXYKICAgICAgICAgICAgICBpZD0icmV0dXJuLXlvdXR1YmUtZGlzbGlrZS1iYXItY29udGFpbmVyIgogICAgICAgICAgICAgIHN0eWxlPSJ3aWR0aDogMTAwJTsgaGVpZ2h0OiAycHg7JHtjb2xvckRpc2xpa2VTdHlsZX0iCiAgICAgICAgICAgICAgPgogICAgICAgICAgICAgIDxkaXYKICAgICAgICAgICAgICAgICBpZD0icmV0dXJuLXlvdXR1YmUtZGlzbGlrZS1iYXIiCiAgICAgICAgICAgICAgICAgc3R5bGU9IndpZHRoOiAke3dpZHRoUGVyY2VudH0lOyBoZWlnaHQ6IDEwMCUke2NvbG9yRGlzbGlrZVN0eWxlfSIKICAgICAgICAgICAgICAgICA+PC9kaXY+CiAgICAgICAgICAgPC9kaXY+CiAgICAgICAgPC9kaXY+CiAgICAgICAgPHRwLXl0LXBhcGVyLXRvb2x0aXAgcG9zaXRpb249InRvcCIgaWQ9InJ5ZC1kaXNsaWtlLXRvb2x0aXAiIGNsYXNzPSJzdHlsZS1zY29wZSB5dGQtc2VudGltZW50LWJhci1yZW5kZXJlciIgcm9sZT0idG9vbHRpcCIgdGFiaW5kZXg9Ii0xIj4KICAgICAgICAgICA8IS0tY3NzLWJ1aWxkOnNoYWR5LS0+JHt0b29sdGlwSW5uZXJIVE1MfQogICAgICAgIDwvdHAteXQtcGFwZXItdG9vbHRpcD4KICAgICAgICA8L2Rpdj4KYCwKICAgICk7CiAgICBsZXQgZGVzY3JpcHRpb25BbmRBY3Rpb25zRWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJ0b3Atcm93Iik7CiAgICBkZXNjcmlwdGlvbkFuZEFjdGlvbnNFbGVtZW50LnN0eWxlLmJvcmRlckJvdHRvbSA9ICIxcHggc29saWQgdmFyKC0teXQtc3BlYy0xMC1wZXJjZW50LWxheWVyKSI7CiAgICBkZXNjcmlwdGlvbkFuZEFjdGlvbnNFbGVtZW50LnN0eWxlLnBhZGRpbmdCb3R0b20gPSAiMTBweCI7CiAgfSBlbHNlIHsKICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIi5yeWQtdG9vbHRpcCIpLnN0eWxlLndpZHRoID0gd2lkdGhQeCArICJweCI7CiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgicmV0dXJuLXlvdXR1YmUtZGlzbGlrZS1iYXIiKS5zdHlsZS53aWR0aCA9IHdpZHRoUGVyY2VudCArICIlIjsKCiAgICBpZiAoZXh0Q29uZmlnLmNvbG9yZWRCYXIpIHsKICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInJldHVybi15b3V0dWJlLWRpc2xpa2UtYmFyLWNvbnRhaW5lciIpLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IGdldENvbG9yRnJvbVRoZW1lKGZhbHNlKTsKICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInJldHVybi15b3V0dWJlLWRpc2xpa2UtYmFyIikuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gZ2V0Q29sb3JGcm9tVGhlbWUodHJ1ZSk7CiAgICB9CiAgfQp9CgpmdW5jdGlvbiBzZXRTdGF0ZSgpIHsKICBjTG9nKCJGZXRjaGluZyB2b3Rlcy4uLiIpOwogIGxldCBzdGF0c1NldCA9IGZhbHNlOwoKICBmZXRjaChgaHR0cHM6Ly9yZXR1cm55b3V0dWJlZGlzbGlrZWFwaS5jb20vdm90ZXM/dmlkZW9JZD0ke2dldFZpZGVvSWQoKX1gKS50aGVuKChyZXNwb25zZSkgPT4gewogICAgcmVzcG9uc2UuanNvbigpLnRoZW4oKGpzb24pID0+IHsKICAgICAgaWYgKGpzb24gJiYgISgidHJhY2VJZCIgaW4gcmVzcG9uc2UpICYmICFzdGF0c1NldCkgewogICAgICAgIGNvbnN0IHsgZGlzbGlrZXMsIGxpa2VzIH0gPSBqc29uOwogICAgICAgIGNMb2coYFJlY2VpdmVkIGNvdW50OiAke2Rpc2xpa2VzfWApOwogICAgICAgIGxpa2VzdmFsdWUgPSBsaWtlczsKICAgICAgICBkaXNsaWtlc3ZhbHVlID0gZGlzbGlrZXM7CiAgICAgICAgc2V0RGlzbGlrZXMobnVtYmVyRm9ybWF0KGRpc2xpa2VzKSk7CiAgICAgICAgaWYgKGV4dENvbmZpZy5udW1iZXJEaXNwbGF5UmVmb3JtYXRMaWtlcyA9PT0gdHJ1ZSkgewogICAgICAgICAgY29uc3QgbmF0aXZlTGlrZXMgPSBnZXRMaWtlQ291bnRGcm9tQnV0dG9uKCk7CiAgICAgICAgICBpZiAobmF0aXZlTGlrZXMgIT09IGZhbHNlKSB7CiAgICAgICAgICAgIHNldExpa2VzKG51bWJlckZvcm1hdChuYXRpdmVMaWtlcykpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBjcmVhdGVSYXRlQmFyKGxpa2VzLCBkaXNsaWtlcyk7CiAgICAgICAgaWYgKGV4dENvbmZpZy5jb2xvcmVkVGh1bWJzID09PSB0cnVlKSB7CiAgICAgICAgICBjb25zdCBkaXNsaWtlQnV0dG9uID0gZ2V0RGlzbGlrZUJ1dHRvbigpOwogICAgICAgICAgaWYgKGlzU2hvcnRzKCkpIHsKICAgICAgICAgICAgLy8gZm9yIHNob3J0cywgbGVhdmUgZGVhY3RpdmVkIGJ1dHRvbnMgaW4gZGVmYXVsdCBjb2xvcgogICAgICAgICAgICBjb25zdCBzaG9ydExpa2VCdXR0b24gPSBnZXRMaWtlQnV0dG9uKCkucXVlcnlTZWxlY3RvcigidHAteXQtcGFwZXItYnV0dG9uI2J1dHRvbiIpOwogICAgICAgICAgICBjb25zdCBzaG9ydERpc2xpa2VCdXR0b24gPSBkaXNsaWtlQnV0dG9uPy5xdWVyeVNlbGVjdG9yKCJ0cC15dC1wYXBlci1idXR0b24jYnV0dG9uIik7CiAgICAgICAgICAgIGlmIChzaG9ydExpa2VCdXR0b24uZ2V0QXR0cmlidXRlKCJhcmlhLXByZXNzZWQiKSA9PT0gInRydWUiKSB7CiAgICAgICAgICAgICAgc2hvcnRMaWtlQnV0dG9uLnN0eWxlLmNvbG9yID0gZ2V0Q29sb3JGcm9tVGhlbWUodHJ1ZSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKHNob3J0RGlzbGlrZUJ1dHRvbiAmJiBzaG9ydERpc2xpa2VCdXR0b24uZ2V0QXR0cmlidXRlKCJhcmlhLXByZXNzZWQiKSA9PT0gInRydWUiKSB7CiAgICAgICAgICAgICAgc2hvcnREaXNsaWtlQnV0dG9uLnN0eWxlLmNvbG9yID0gZ2V0Q29sb3JGcm9tVGhlbWUoZmFsc2UpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHNob3J0c09ic2VydmVyLm9ic2VydmUoc2hvcnRMaWtlQnV0dG9uKTsKICAgICAgICAgICAgc2hvcnRzT2JzZXJ2ZXIub2JzZXJ2ZShzaG9ydERpc2xpa2VCdXR0b24pOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgZ2V0TGlrZUJ1dHRvbigpLnN0eWxlLmNvbG9yID0gZ2V0Q29sb3JGcm9tVGhlbWUodHJ1ZSk7CiAgICAgICAgICAgIGlmIChkaXNsaWtlQnV0dG9uKSBkaXNsaWtlQnV0dG9uLnN0eWxlLmNvbG9yID0gZ2V0Q29sb3JGcm9tVGhlbWUoZmFsc2UpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgfSk7CiAgfSk7Cn0KCmZ1bmN0aW9uIHVwZGF0ZURPTURpc2xpa2VzKCkgewogIHNldERpc2xpa2VzKG51bWJlckZvcm1hdChkaXNsaWtlc3ZhbHVlKSk7CiAgY3JlYXRlUmF0ZUJhcihsaWtlc3ZhbHVlLCBkaXNsaWtlc3ZhbHVlKTsKfQoKZnVuY3Rpb24gbGlrZUNsaWNrZWQoKSB7CiAgaWYgKGNoZWNrRm9yVXNlckF2YXRhckJ1dHRvbigpID09IHRydWUpIHsKICAgIGlmIChwcmV2aW91c1N0YXRlID09IDEpIHsKICAgICAgbGlrZXN2YWx1ZS0tOwogICAgICB1cGRhdGVET01EaXNsaWtlcygpOwogICAgICBwcmV2aW91c1N0YXRlID0gMzsKICAgIH0gZWxzZSBpZiAocHJldmlvdXNTdGF0ZSA9PSAyKSB7CiAgICAgIGxpa2VzdmFsdWUrKzsKICAgICAgZGlzbGlrZXN2YWx1ZS0tOwogICAgICB1cGRhdGVET01EaXNsaWtlcygpOwogICAgICBwcmV2aW91c1N0YXRlID0gMTsKICAgIH0gZWxzZSBpZiAocHJldmlvdXNTdGF0ZSA9PSAzKSB7CiAgICAgIGxpa2VzdmFsdWUrKzsKICAgICAgdXBkYXRlRE9NRGlzbGlrZXMoKTsKICAgICAgcHJldmlvdXNTdGF0ZSA9IDE7CiAgICB9CiAgICBpZiAoZXh0Q29uZmlnLm51bWJlckRpc3BsYXlSZWZvcm1hdExpa2VzID09PSB0cnVlKSB7CiAgICAgIGNvbnN0IG5hdGl2ZUxpa2VzID0gZ2V0TGlrZUNvdW50RnJvbUJ1dHRvbigpOwogICAgICBpZiAobmF0aXZlTGlrZXMgIT09IGZhbHNlKSB7CiAgICAgICAgc2V0TGlrZXMobnVtYmVyRm9ybWF0KG5hdGl2ZUxpa2VzKSk7CiAgICAgIH0KICAgIH0KICB9Cn0KCmZ1bmN0aW9uIGRpc2xpa2VDbGlja2VkKCkgewogIGlmIChjaGVja0ZvclVzZXJBdmF0YXJCdXR0b24oKSA9PSB0cnVlKSB7CiAgICBpZiAocHJldmlvdXNTdGF0ZSA9PSAzKSB7CiAgICAgIGRpc2xpa2VzdmFsdWUrKzsKICAgICAgdXBkYXRlRE9NRGlzbGlrZXMoKTsKICAgICAgcHJldmlvdXNTdGF0ZSA9IDI7CiAgICB9IGVsc2UgaWYgKHByZXZpb3VzU3RhdGUgPT0gMikgewogICAgICBkaXNsaWtlc3ZhbHVlLS07CiAgICAgIHVwZGF0ZURPTURpc2xpa2VzKCk7CiAgICAgIHByZXZpb3VzU3RhdGUgPSAzOwogICAgfSBlbHNlIGlmIChwcmV2aW91c1N0YXRlID09IDEpIHsKICAgICAgbGlrZXN2YWx1ZS0tOwogICAgICBkaXNsaWtlc3ZhbHVlKys7CiAgICAgIHVwZGF0ZURPTURpc2xpa2VzKCk7CiAgICAgIHByZXZpb3VzU3RhdGUgPSAyOwogICAgICBpZiAoZXh0Q29uZmlnLm51bWJlckRpc3BsYXlSZWZvcm1hdExpa2VzID09PSB0cnVlKSB7CiAgICAgICAgY29uc3QgbmF0aXZlTGlrZXMgPSBnZXRMaWtlQ291bnRGcm9tQnV0dG9uKCk7CiAgICAgICAgaWYgKG5hdGl2ZUxpa2VzICE9PSBmYWxzZSkgewogICAgICAgICAgc2V0TGlrZXMobnVtYmVyRm9ybWF0KG5hdGl2ZUxpa2VzKSk7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgfQp9CgpmdW5jdGlvbiBzZXRJbml0aWFsU3RhdGUoKSB7CiAgc2V0U3RhdGUoKTsKfQoKZnVuY3Rpb24gZ2V0VmlkZW9JZCgpIHsKICBjb25zdCB1cmxPYmplY3QgPSBuZXcgVVJMKHdpbmRvdy5sb2NhdGlvbi5ocmVmKTsKICBjb25zdCBwYXRobmFtZSA9IHVybE9iamVjdC5wYXRobmFtZTsKICBpZiAocGF0aG5hbWUuc3RhcnRzV2l0aCgiL2NsaXAiKSkgewogICAgcmV0dXJuIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIm1ldGFbaXRlbXByb3A9J3ZpZGVvSWQnXSIpLmNvbnRlbnQ7CiAgfSBlbHNlIHsKICAgIGlmIChwYXRobmFtZS5zdGFydHNXaXRoKCIvc2hvcnRzIikpIHsKICAgICAgcmV0dXJuIHBhdGhuYW1lLnNsaWNlKDgpOwogICAgfQogICAgcmV0dXJuIHVybE9iamVjdC5zZWFyY2hQYXJhbXMuZ2V0KCJ2Iik7CiAgfQp9CgpmdW5jdGlvbiBpc1ZpZGVvTG9hZGVkKCkgewogIGlmIChpc01vYmlsZSkgewogICAgcmV0dXJuIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJwbGF5ZXIiKS5nZXRBdHRyaWJ1dGUoImxvYWRpbmciKSA9PSAiZmFsc2UiOwogIH0KICBjb25zdCB2aWRlb0lkID0gZ2V0VmlkZW9JZCgpOwoKICByZXR1cm4gKAogICAgLy8gZGVza3RvcDogc3ByaW5nIDIwMjQgVUkKICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYHl0ZC13YXRjaC1ncmlkW3ZpZGVvLWlkPScke3ZpZGVvSWR9J11gKSAhPT0gbnVsbCB8fAogICAgLy8gZGVza3RvcDogb2xkZXIgVUkKICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYHl0ZC13YXRjaC1mbGV4eVt2aWRlby1pZD0nJHt2aWRlb0lkfSddYCkgIT09IG51bGwgfHwKICAgIC8vIG1vYmlsZTogbm8gdmlkZW8taWQgYXR0cmlidXRlCiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjcGxheWVyW2xvYWRpbmc9ImZhbHNlIl06bm90KFtoaWRkZW5dKScpICE9PSBudWxsCiAgKTsKfQoKZnVuY3Rpb24gcm91bmREb3duKG51bSkgewogIGlmIChudW0gPCAxMDAwKSByZXR1cm4gbnVtOwogIGNvbnN0IGludCA9IE1hdGguZmxvb3IoTWF0aC5sb2cxMChudW0pIC0gMik7CiAgY29uc3QgZGVjaW1hbCA9IGludCArIChpbnQgJSAzID8gMSA6IDApOwogIGNvbnN0IHZhbHVlID0gTWF0aC5mbG9vcihudW0gLyAxMCAqKiBkZWNpbWFsKTsKICByZXR1cm4gdmFsdWUgKiAxMCAqKiBkZWNpbWFsOwp9CgpmdW5jdGlvbiBudW1iZXJGb3JtYXQobnVtYmVyU3RhdGUpIHsKICBsZXQgbnVtYmVyRGlzcGxheTsKICBpZiAoZXh0Q29uZmlnLm51bWJlckRpc3BsYXlSb3VuZERvd24gPT09IGZhbHNlKSB7CiAgICBudW1iZXJEaXNwbGF5ID0gbnVtYmVyU3RhdGU7CiAgfSBlbHNlIHsKICAgIG51bWJlckRpc3BsYXkgPSByb3VuZERvd24obnVtYmVyU3RhdGUpOwogIH0KICByZXR1cm4gZ2V0TnVtYmVyRm9ybWF0dGVyKGV4dENvbmZpZy5udW1iZXJEaXNwbGF5Rm9ybWF0KS5mb3JtYXQobnVtYmVyRGlzcGxheSk7Cn0KCmZ1bmN0aW9uIGdldE51bWJlckZvcm1hdHRlcihvcHRpb25TZWxlY3QpIHsKICBsZXQgdXNlckxvY2FsZXM7CiAgaWYgKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5sYW5nKSB7CiAgICB1c2VyTG9jYWxlcyA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5sYW5nOwogIH0gZWxzZSBpZiAobmF2aWdhdG9yLmxhbmd1YWdlKSB7CiAgICB1c2VyTG9jYWxlcyA9IG5hdmlnYXRvci5sYW5ndWFnZTsKICB9IGVsc2UgewogICAgdHJ5IHsKICAgICAgdXNlckxvY2FsZXMgPSBuZXcgVVJMKAogICAgICAgIEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgiaGVhZCA+IGxpbmtbcmVsPSdzZWFyY2gnXSIpKQogICAgICAgICAgPy5maW5kKChuKSA9PiBuPy5nZXRBdHRyaWJ1dGUoImhyZWYiKT8uaW5jbHVkZXMoIj9sb2NhbGU9IikpCiAgICAgICAgICA/LmdldEF0dHJpYnV0ZSgiaHJlZiIpLAogICAgICApPy5zZWFyY2hQYXJhbXM/LmdldCgibG9jYWxlIik7CiAgICB9IGNhdGNoIHsKICAgICAgY0xvZygiQ2Fubm90IGZpbmQgYnJvd3NlciBsb2NhbGUuIFVzZSBlbiBhcyBkZWZhdWx0IGZvciBudW1iZXIgZm9ybWF0dGluZy4iKTsKICAgICAgdXNlckxvY2FsZXMgPSAiZW4iOwogICAgfQogIH0KCiAgbGV0IGZvcm1hdHRlck5vdGF0aW9uOwogIGxldCBmb3JtYXR0ZXJDb21wYWN0RGlzcGxheTsKICBzd2l0Y2ggKG9wdGlvblNlbGVjdCkgewogICAgY2FzZSAiY29tcGFjdExvbmciOgogICAgICBmb3JtYXR0ZXJOb3RhdGlvbiA9ICJjb21wYWN0IjsKICAgICAgZm9ybWF0dGVyQ29tcGFjdERpc3BsYXkgPSAibG9uZyI7CiAgICAgIGJyZWFrOwogICAgY2FzZSAic3RhbmRhcmQiOgogICAgICBmb3JtYXR0ZXJOb3RhdGlvbiA9ICJzdGFuZGFyZCI7CiAgICAgIGZvcm1hdHRlckNvbXBhY3REaXNwbGF5ID0gInNob3J0IjsKICAgICAgYnJlYWs7CiAgICBjYXNlICJjb21wYWN0U2hvcnQiOgogICAgZGVmYXVsdDoKICAgICAgZm9ybWF0dGVyTm90YXRpb24gPSAiY29tcGFjdCI7CiAgICAgIGZvcm1hdHRlckNvbXBhY3REaXNwbGF5ID0gInNob3J0IjsKICB9CgogIGNvbnN0IGZvcm1hdHRlciA9IEludGwuTnVtYmVyRm9ybWF0KHVzZXJMb2NhbGVzLCB7CiAgICBub3RhdGlvbjogZm9ybWF0dGVyTm90YXRpb24sCiAgICBjb21wYWN0RGlzcGxheTogZm9ybWF0dGVyQ29tcGFjdERpc3BsYXksCiAgfSk7CiAgcmV0dXJuIGZvcm1hdHRlcjsKfQoKZnVuY3Rpb24gZ2V0Q29sb3JGcm9tVGhlbWUodm90ZUlzTGlrZSkgewogIGxldCBjb2xvclN0cmluZzsKICBzd2l0Y2ggKGV4dENvbmZpZy5jb2xvclRoZW1lKSB7CiAgICBjYXNlICJhY2Nlc3NpYmxlIjoKICAgICAgaWYgKHZvdGVJc0xpa2UgPT09IHRydWUpIHsKICAgICAgICBjb2xvclN0cmluZyA9ICJkb2RnZXJibHVlIjsKICAgICAgfSBlbHNlIHsKICAgICAgICBjb2xvclN0cmluZyA9ICJnb2xkIjsKICAgICAgfQogICAgICBicmVhazsKICAgIGNhc2UgIm5lb24iOgogICAgICBpZiAodm90ZUlzTGlrZSA9PT0gdHJ1ZSkgewogICAgICAgIGNvbG9yU3RyaW5nID0gImFxdWEiOwogICAgICB9IGVsc2UgewogICAgICAgIGNvbG9yU3RyaW5nID0gIm1hZ2VudGEiOwogICAgICB9CiAgICAgIGJyZWFrOwogICAgY2FzZSAiY2xhc3NpYyI6CiAgICBkZWZhdWx0OgogICAgICBpZiAodm90ZUlzTGlrZSA9PT0gdHJ1ZSkgewogICAgICAgIGNvbG9yU3RyaW5nID0gImxpbWUiOwogICAgICB9IGVsc2UgewogICAgICAgIGNvbG9yU3RyaW5nID0gInJlZCI7CiAgICAgIH0KICB9CiAgcmV0dXJuIGNvbG9yU3RyaW5nOwp9CgpsZXQgc21hcnRpbWF0aW9uT2JzZXJ2ZXIgPSBudWxsOwoKZnVuY3Rpb24gc2V0RXZlbnRMaXN0ZW5lcnMoZXZ0KSB7CiAgbGV0IGpzSW5pdENoZWNrdGltZXI7CgogIGZ1bmN0aW9uIGNoZWNrRm9ySlNfRmluaXNoKCkgewogICAgLy9jb25zb2xlLmxvZygpOwogICAgaWYgKGlzU2hvcnRzKCkgfHwgKGdldEJ1dHRvbnMoKT8ub2Zmc2V0UGFyZW50ICYmIGlzVmlkZW9Mb2FkZWQoKSkpIHsKICAgICAgY29uc3QgYnV0dG9ucyA9IGdldEJ1dHRvbnMoKTsKICAgICAgY29uc3QgZGlzbGlrZUJ1dHRvbiA9IGdldERpc2xpa2VCdXR0b24oKTsKCiAgICAgIGlmIChwcmVOYXZpZ2F0ZUxpa2VCdXR0b24gIT09IGdldExpa2VCdXR0b24oKSAmJiBkaXNsaWtlQnV0dG9uKSB7CiAgICAgICAgY0xvZygiUmVnaXN0ZXJpbmcgYnV0dG9uIGxpc3RlbmVycy4uLiIpOwogICAgICAgIHRyeSB7CiAgICAgICAgICBnZXRMaWtlQnV0dG9uKCkuYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLCBsaWtlQ2xpY2tlZCk7CiAgICAgICAgICBkaXNsaWtlQnV0dG9uPy5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsIGRpc2xpa2VDbGlja2VkKTsKICAgICAgICAgIGdldExpa2VCdXR0b24oKS5hZGRFdmVudExpc3RlbmVyKCJ0b3VjaHN0YXJ0IiwgbGlrZUNsaWNrZWQpOwogICAgICAgICAgZGlzbGlrZUJ1dHRvbj8uYWRkRXZlbnRMaXN0ZW5lcigidG91Y2hzdGFydCIsIGRpc2xpa2VDbGlja2VkKTsKICAgICAgICAgIGRpc2xpa2VCdXR0b24/LmFkZEV2ZW50TGlzdGVuZXIoImZvY3VzaW4iLCB1cGRhdGVET01EaXNsaWtlcyk7CiAgICAgICAgICBkaXNsaWtlQnV0dG9uPy5hZGRFdmVudExpc3RlbmVyKCJmb2N1c291dCIsIHVwZGF0ZURPTURpc2xpa2VzKTsKICAgICAgICAgIHByZU5hdmlnYXRlTGlrZUJ1dHRvbiA9IGdldExpa2VCdXR0b24oKTsKCiAgICAgICAgICBpZiAoIXNtYXJ0aW1hdGlvbk9ic2VydmVyKSB7CiAgICAgICAgICAgIHNtYXJ0aW1hdGlvbk9ic2VydmVyID0gY3JlYXRlT2JzZXJ2ZXIoCiAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgYXR0cmlidXRlczogdHJ1ZSwKICAgICAgICAgICAgICAgIHN1YnRyZWU6IHRydWUsCiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICB1cGRhdGVET01EaXNsaWtlcywKICAgICAgICAgICAgKTsKICAgICAgICAgICAgc21hcnRpbWF0aW9uT2JzZXJ2ZXIuY29udGFpbmVyID0gbnVsbDsKICAgICAgICAgIH0KCiAgICAgICAgICBjb25zdCBzbWFydGltYXRpb25Db250YWluZXIgPSBidXR0b25zLnF1ZXJ5U2VsZWN0b3IoInl0LXNtYXJ0aW1hdGlvbiIpOwogICAgICAgICAgaWYgKHNtYXJ0aW1hdGlvbkNvbnRhaW5lciAmJiBzbWFydGltYXRpb25PYnNlcnZlci5jb250YWluZXIgIT0gc21hcnRpbWF0aW9uQ29udGFpbmVyKSB7CiAgICAgICAgICAgIGNMb2coIkluaXRpYWxpemluZyBzbWFydGltYXRpb24gbXV0YXRpb24gb2JzZXJ2ZXIiKTsKICAgICAgICAgICAgc21hcnRpbWF0aW9uT2JzZXJ2ZXIuZGlzY29ubmVjdCgpOwogICAgICAgICAgICBzbWFydGltYXRpb25PYnNlcnZlci5vYnNlcnZlKHNtYXJ0aW1hdGlvbkNvbnRhaW5lcik7CiAgICAgICAgICAgIHNtYXJ0aW1hdGlvbk9ic2VydmVyLmNvbnRhaW5lciA9IHNtYXJ0aW1hdGlvbkNvbnRhaW5lcjsKICAgICAgICAgIH0KICAgICAgICB9IGNhdGNoIHsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9IC8vRG9uJ3Qgc3BhbSBlcnJvcnMgaW50byB0aGUgY29uc29sZQogICAgICB9CiAgICAgIGlmIChkaXNsaWtlQnV0dG9uKSB7CiAgICAgICAgc2V0SW5pdGlhbFN0YXRlKCk7CiAgICAgICAgY2xlYXJJbnRlcnZhbChqc0luaXRDaGVja3RpbWVyKTsKICAgICAgfQogICAgfQogIH0KCiAgY0xvZygiU2V0dGluZyB1cC4uLiIpOwogIGpzSW5pdENoZWNrdGltZXIgPSBzZXRJbnRlcnZhbChjaGVja0ZvckpTX0ZpbmlzaCwgMTExKTsKfQoKKGZ1bmN0aW9uICgpIHsKICAidXNlIHN0cmljdCI7CiAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoInl0LW5hdmlnYXRlLWZpbmlzaCIsIHNldEV2ZW50TGlzdGVuZXJzLCB0cnVlKTsKICBzZXRFdmVudExpc3RlbmVycygpOwp9KSgpOwppZiAoaXNNb2JpbGUpIHsKICBsZXQgb3JpZ2luYWxQdXNoID0gaGlzdG9yeS5wdXNoU3RhdGU7CiAgaGlzdG9yeS5wdXNoU3RhdGUgPSBmdW5jdGlvbiAoLi4uYXJncykgewogICAgd2luZG93LnJldHVybkRpc2xpa2VCdXR0b25saXN0ZW5lcnNTZXQgPSBmYWxzZTsKICAgIHNldEV2ZW50TGlzdGVuZXJzKGFyZ3NbMl0pOwogICAgcmV0dXJuIG9yaWdpbmFsUHVzaC5hcHBseShoaXN0b3J5LCBhcmdzKTsKICB9OwogIHNldEludGVydmFsKCgpID0+IHsKICAgIGNvbnN0IGRpc2xpa2VCdXR0b24gPSBnZXREaXNsaWtlQnV0dG9uKCk7CiAgICBpZiAoZGlzbGlrZUJ1dHRvbj8ucXVlcnlTZWxlY3RvcigiLmJ1dHRvbi1yZW5kZXJlci10ZXh0IikgPT09IG51bGwpIHsKICAgICAgZ2V0RGlzbGlrZVRleHRDb250YWluZXIoKS5pbm5lclRleHQgPSBtb2JpbGVEaXNsaWtlczsKICAgIH0gZWxzZSB7CiAgICAgIGlmIChkaXNsaWtlQnV0dG9uKSBkaXNsaWtlQnV0dG9uLnF1ZXJ5U2VsZWN0b3IoIi5idXR0b24tcmVuZGVyZXItdGV4dCIpLmlubmVyVGV4dCA9IG1vYmlsZURpc2xpa2VzOwogICAgfQogIH0sIDEwMDApOwp9Cg=="},{"name":"YouTube Multi Downloader - sfrom.net (Shift + D)","options":{"check_for_updates":true,"comment":null,"compat_foreach":false,"compat_metadata":false,"compat_powerful_this":null,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"merge_connects":true,"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_connects":[],"orig_excludes":[],"orig_includes":[],"orig_matches":["https://www.youtube.com/*"],"orig_noframes":null,"orig_run_at":"document-idle","use_blockers":[],"use_connects":[],"use_excludes":[],"use_includes":[],"use_matches":[]},"run_at":null,"sandbox":null,"tab_types":null,"unwrap":null,"user_modified":1705124987672},"storage":{"ts":1715999537198,"data":{}},"enabled":false,"position":9,"file_url":"https://greasyfork.org/scripts/475514-youtube-multi-downloader-sfrom-net-shift-d/code/YouTube%E2%84%A2%20Multi%20Downloader%20-%20sfromnet%20(Shift%20+%20D).user.js","uuid":"24eff7fe-59a4-4ee8-8ade-5b83616b0f3e","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgWW91VHViZeKEoiBNdWx0aSBEb3dubG9hZGVyIC0gc2Zyb20ubmV0IChTaGlmdCArIEQpCi8vIEBuYW1lc3BhY2UgICAgaHR0cHM6Ly9ncmVhc3lmb3JrLm9yZy9lbi91c2Vycy8xMTc1MTY1LWFybnZnbAovLyBAdmVyc2lvbiAgICAgIDEuMAovLyBAZGVzY3JpcHRpb24gIEFkZHMgInNmcm9tLm5ldC8iIHRvIHRoZSBmcm9udCBvZiBZb3VUdWJlIFVSTCB3aGVuIFNoaWZ0ICsgRCBpcyBwcmVzc2VkIHRvIGVuYWJsZSBkb3dubG9hZGluZyB2aWRlb3MgZWFzaWx5LgovLyBAbGljZW5zZSAgICAgIE1JVAovLyBAbWF0Y2ggICAgICAgIGh0dHBzOi8vd3d3LnlvdXR1YmUuY29tLyoKLy8gQGdyYW50ICAgICAgICBub25lCi8vID09L1VzZXJTY3JpcHQ9PQoKKGZ1bmN0aW9uKCkgewogICAgJ3VzZSBzdHJpY3QnOwoKICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBmdW5jdGlvbihldmVudCkgewogICAgICAgIGlmIChldmVudC5zaGlmdEtleSAmJiBldmVudC5rZXkgPT09ICdEJykgewogICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgICAgICB2YXIgY3VycmVudFVybCA9IHdpbmRvdy5sb2NhdGlvbi5ocmVmOwogICAgICAgICAgICB2YXIgbmV3VXJsID0gJ2h0dHBzOi8vc2Zyb20ubmV0LycgKyBjdXJyZW50VXJsOwogICAgICAgICAgICB3aW5kb3cub3BlbihuZXdVcmwsICdfYmxhbmsnKTsKICAgICAgICB9CiAgICB9KTsKfSkoKTs="},{"name":"7_Recaptcha Solver (BackUp)","options":{"check_for_updates":true,"comment":null,"compat_foreach":false,"compat_metadata":false,"compat_powerful_this":null,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"merge_connects":true,"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_connects":["engageub.pythonanywhere.com","engageub1.pythonanywhere.com"],"orig_excludes":[],"orig_includes":[],"orig_matches":["*://*/recaptcha/*"],"orig_noframes":null,"orig_run_at":"document-idle","use_blockers":[],"use_connects":[],"use_excludes":[],"use_includes":[],"use_matches":[]},"run_at":null,"sandbox":null,"tab_types":null,"unwrap":null,"user_modified":null},"storage":{"ts":1715999537193,"data":{}},"enabled":true,"position":10,"uuid":"f53faab1-334b-42cf-bb43-9a7843e56f12","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICA3X1JlY2FwdGNoYSBTb2x2ZXIgKEJhY2tVcCkKLy8gQG5hbWVzcGFjZSAgICBSZWNhcHRjaGEgU29sdmVyIChCYWNrVXApCi8vIEB2ZXJzaW9uICAgICAgMi4xCi8vIEBkZXNjcmlwdGlvbiAgUmVjYXB0Y2hhIFNvbHZlciBpbiBCcm93c2VyIHwgQXV0b21hdGljYWxseSBzb2x2ZXMgUmVjYXB0Y2hhIGluIGJyb3dzZXIKLy8gQGF1dGhvciAgICAgICBlbmdhZ2V1YgovLyBAbWF0Y2ggICAgICAgICo6Ly8qL3JlY2FwdGNoYS8qCi8vIEBjb25uZWN0ICAgICAgZW5nYWdldWIucHl0aG9uYW55d2hlcmUuY29tCi8vIEBjb25uZWN0ICAgICAgZW5nYWdldWIxLnB5dGhvbmFueXdoZXJlLmNvbQovLyBAZ3JhbnQgICAgICAgIEdNX3htbGh0dHBSZXF1ZXN0Ci8vIEBsaWNlbnNlIE1JVAoKLy8gPT0vVXNlclNjcmlwdD09CihmdW5jdGlvbigpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHZhciBzb2x2ZWQgPSBmYWxzZTsKICAgIHZhciBjaGVja0JveENsaWNrZWQgPSBmYWxzZTsKICAgIHZhciB3YWl0aW5nRm9yQXVkaW9SZXNwb25zZSA9IGZhbHNlOwogICAgLy9Ob2RlIFNlbGVjdG9ycwogICAgY29uc3QgQ0hFQ0tfQk9YID0gIi5yZWNhcHRjaGEtY2hlY2tib3gtYm9yZGVyIjsKICAgIGNvbnN0IEFVRElPX0JVVFRPTiA9ICIjcmVjYXB0Y2hhLWF1ZGlvLWJ1dHRvbiI7CiAgICBjb25zdCBQTEFZX0JVVFRPTiA9ICIucmMtYXVkaW9jaGFsbGVuZ2UtcGxheS1idXR0b24gLnJjLWJ1dHRvbi1kZWZhdWx0IjsKICAgIGNvbnN0IEFVRElPX1NPVVJDRSA9ICIjYXVkaW8tc291cmNlIjsKICAgIGNvbnN0IElNQUdFX1NFTEVDVCA9ICIjcmMtaW1hZ2VzZWxlY3QiOwogICAgY29uc3QgUkVTUE9OU0VfRklFTEQgPSAiLnJjLWF1ZGlvY2hhbGxlbmdlLXJlc3BvbnNlLWZpZWxkIjsKICAgIGNvbnN0IEFVRElPX0VSUk9SX01FU1NBR0UgPSAiLnJjLWF1ZGlvY2hhbGxlbmdlLWVycm9yLW1lc3NhZ2UiOwogICAgY29uc3QgQVVESU9fUkVTUE9OU0UgPSAiI2F1ZGlvLXJlc3BvbnNlIjsKICAgIGNvbnN0IFJFTE9BRF9CVVRUT04gPSAiI3JlY2FwdGNoYS1yZWxvYWQtYnV0dG9uIjsKICAgIGNvbnN0IFJFQ0FQVENIQV9TVEFUVVMgPSAiI3JlY2FwdGNoYS1hY2Nlc3NpYmxlLXN0YXR1cyI7CiAgICBjb25zdCBET1NDQVBUQ0hBID0gIi5yYy1kb3NjYXB0Y2hhLWJvZHkiOwogICAgY29uc3QgVkVSSUZZX0JVVFRPTiA9ICIjcmVjYXB0Y2hhLXZlcmlmeS1idXR0b24iOwogICAgY29uc3QgTUFYX0FUVEVNUFRTID0gNTsKICAgIHZhciByZXF1ZXN0Q291bnQgPSAwOwogICAgdmFyIHJlY2FwdGNoYUxhbmd1YWdlID0gcVNlbGVjdG9yKCJodG1sIikuZ2V0QXR0cmlidXRlKCJsYW5nIik7CiAgICB2YXIgYXVkaW9VcmwgPSAiIjsKICAgIHZhciByZWNhcHRjaGFJbml0aWFsU3RhdHVzID0gcVNlbGVjdG9yKFJFQ0FQVENIQV9TVEFUVVMpID8gcVNlbGVjdG9yKFJFQ0FQVENIQV9TVEFUVVMpLmlubmVyVGV4dCA6ICIiCiAgICB2YXIgc2VydmVyc0xpc3QgPSBbImh0dHBzOi8vZW5nYWdldWIucHl0aG9uYW55d2hlcmUuY29tIiwiaHR0cHM6Ly9lbmdhZ2V1YjEucHl0aG9uYW55d2hlcmUuY29tIl07CiAgICB2YXIgbGF0ZW5jeUxpc3QgPSBBcnJheShzZXJ2ZXJzTGlzdC5sZW5ndGgpLmZpbGwoMTAwMDApOwogICAgLy9DaGVjayBmb3IgdmlzaWJpbGl0eSAmJiBDbGljayB0aGUgY2hlY2sgYm94CiAgICBmdW5jdGlvbiBpc0hpZGRlbihlbCkgewogICAgICAgIHJldHVybihlbC5vZmZzZXRQYXJlbnQgPT09IG51bGwpCiAgICB9CgogICAgYXN5bmMgZnVuY3Rpb24gZ2V0VGV4dEZyb21BdWRpbyhVUkwpIHsKICAgICAgICB2YXIgbWluTGF0ZW5jeSA9IDEwMDAwMDsKICAgICAgICB2YXIgdXJsID0gIiI7CgogICAgICAgIC8vU2VsZWN0aW5nIHRoZSBsYXN0L2xhdGVzdCBzZXJ2ZXIgYnkgZGVmYXVsdCBpZiBsYXRlbmNpZXMgYXJlIGVxdWFsCiAgICAgICAgZm9yKGxldCBrPTA7IGs8IGxhdGVuY3lMaXN0Lmxlbmd0aDtrKyspewogICAgICAgICAgICBpZihsYXRlbmN5TGlzdFtrXSA8PSBtaW5MYXRlbmN5KXsKICAgICAgICAgICAgICAgIG1pbkxhdGVuY3kgPSBsYXRlbmN5TGlzdFtrXTsKICAgICAgICAgICAgICAgIHVybCA9IHNlcnZlcnNMaXN0W2tdOwogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICByZXF1ZXN0Q291bnQgPSByZXF1ZXN0Q291bnQgKyAxOwogICAgICAgIFVSTCA9IFVSTC5yZXBsYWNlKCJyZWNhcHRjaGEubmV0IiwgImdvb2dsZS5jb20iKTsKICAgICAgICBpZihyZWNhcHRjaGFMYW5ndWFnZS5sZW5ndGggPCAxKSB7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKCJSZWNhcHRjaGEgTGFuZ3VhZ2UgaXMgbm90IHJlY29nbml6ZWQiKTsKICAgICAgICAgICAgcmVjYXB0Y2hhTGFuZ3VhZ2UgPSAiZW4tVVMiOwogICAgICAgIH0KICAgICAgICBjb25zb2xlLmxvZygiUmVjYXB0Y2hhIExhbmd1YWdlIGlzICIgKyByZWNhcHRjaGFMYW5ndWFnZSk7CgogICAgICAgIEdNX3htbGh0dHBSZXF1ZXN0KHsKICAgICAgICAgICAgbWV0aG9kOiAiUE9TVCIsCiAgICAgICAgICAgIHVybDogdXJsLAogICAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgICAgICAiQ29udGVudC1UeXBlIjogImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCIKICAgICAgICAgICAgfSwKICAgICAgICAgICAgZGF0YTogImlucHV0PSIgKyBlbmNvZGVVUklDb21wb25lbnQoVVJMKSArICImbGFuZz0iICsgcmVjYXB0Y2hhTGFuZ3VhZ2UsCiAgICAgICAgICAgIHRpbWVvdXQ6IDYwMDAwLAogICAgICAgICAgICBvbmxvYWQ6IGZ1bmN0aW9uKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygiUmVzcG9uc2U6OiIgKyByZXNwb25zZS5yZXNwb25zZVRleHQpOwogICAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICAgICBpZihyZXNwb25zZSAmJiByZXNwb25zZS5yZXNwb25zZVRleHQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3BvbnNlVGV4dCA9IHJlc3BvbnNlLnJlc3BvbnNlVGV4dDsKICAgICAgICAgICAgICAgICAgICAgICAgLy9WYWxpZGF0ZSBSZXNwb25zZSBmb3IgZXJyb3IgbWVzc2FnZXMgb3IgaHRtbCBlbGVtZW50cwogICAgICAgICAgICAgICAgICAgICAgICBpZihyZXNwb25zZVRleHQgPT0gIjAiIHx8IHJlc3BvbnNlVGV4dC5pbmNsdWRlcygiPCIpIHx8IHJlc3BvbnNlVGV4dC5pbmNsdWRlcygiPiIpIHx8IHJlc3BvbnNlVGV4dC5sZW5ndGggPCAyIHx8IHJlc3BvbnNlVGV4dC5sZW5ndGggPiA1MCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9JbnZhbGlkIFJlc3BvbnNlLCBSZWxvYWQgdGhlIGNhcHRjaGEKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJJbnZhbGlkIFJlc3BvbnNlLiBSZXRyeWluZy4uIik7CiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZihxU2VsZWN0b3IoQVVESU9fU09VUkNFKSAmJiBxU2VsZWN0b3IoQVVESU9fU09VUkNFKS5zcmMgJiYgYXVkaW9VcmwgPT0gcVNlbGVjdG9yKEFVRElPX1NPVVJDRSkuc3JjICYmIHFTZWxlY3RvcihBVURJT19SRVNQT05TRSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICYmICFxU2VsZWN0b3IoQVVESU9fUkVTUE9OU0UpLnZhbHVlICYmIHFTZWxlY3RvcihBVURJT19CVVRUT04pLnN0eWxlLmRpc3BsYXkgPT0gIm5vbmUiICYmIHFTZWxlY3RvcihWRVJJRllfQlVUVE9OKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgcVNlbGVjdG9yKEFVRElPX1JFU1BPTlNFKS52YWx1ZSA9IHJlc3BvbnNlVGV4dDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHFTZWxlY3RvcihWRVJJRllfQlVUVE9OKS5jbGljaygpOwogICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coIkNvdWxkIG5vdCBsb2NhdGUgdGV4dCBpbnB1dCBib3giKQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIHdhaXRpbmdGb3JBdWRpb1Jlc3BvbnNlID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIH0gY2F0Y2goZXJyKSB7CiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyLm1lc3NhZ2UpOwogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJFeGNlcHRpb24gaGFuZGxpbmcgcmVzcG9uc2UuIFJldHJ5aW5nLi4iKTsKICAgICAgICAgICAgICAgICAgICB3YWl0aW5nRm9yQXVkaW9SZXNwb25zZSA9IGZhbHNlOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LAogICAgICAgICAgICBvbmVycm9yOiBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlKTsKICAgICAgICAgICAgICAgIHdhaXRpbmdGb3JBdWRpb1Jlc3BvbnNlID0gZmFsc2U7CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIG9udGltZW91dDogZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygiUmVzcG9uc2UgVGltZWQgb3V0LiBSZXRyeWluZy4uIik7CiAgICAgICAgICAgICAgICB3YWl0aW5nRm9yQXVkaW9SZXNwb25zZSA9IGZhbHNlOwogICAgICAgICAgICB9LAogICAgICAgIH0pOwogICAgfQoKCiAgICBhc3luYyBmdW5jdGlvbiBwaW5nVGVzdCh1cmwpIHsKICAgICAgICB2YXIgc3RhcnQgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTsKICAgICAgICBHTV94bWxodHRwUmVxdWVzdCh7CiAgICAgICAgICAgIG1ldGhvZDogIkdFVCIsCiAgICAgICAgICAgIHVybDogdXJsLAogICAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgICAgICAiQ29udGVudC1UeXBlIjogImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCIKICAgICAgICAgICAgfSwKICAgICAgICAgICAgZGF0YTogIiIsCiAgICAgICAgICAgIHRpbWVvdXQ6IDgwMDAsCiAgICAgICAgICAgIG9ubG9hZDogZnVuY3Rpb24ocmVzcG9uc2UpIHsKCiAgICAgICAgICAgICAgICBpZihyZXNwb25zZSAmJiByZXNwb25zZS5yZXNwb25zZVRleHQgJiYgcmVzcG9uc2UucmVzcG9uc2VUZXh0PT0iMCIpIHsKICAgICAgICAgICAgICAgICAgICB2YXIgZW5kID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7CiAgICAgICAgICAgICAgICAgICAgdmFyIG1pbGxpc2Vjb25kcyA9IGVuZCAtIHN0YXJ0OwoKICAgICAgICAgICAgICAgICAgICAvLyBGb3IgbGFyZ2UgdmFsdWVzIHVzZSBIYXNobWFwCiAgICAgICAgICAgICAgICAgICAgZm9yKGxldCBpPTA7IGk8IHNlcnZlcnNMaXN0Lmxlbmd0aDtpKyspewogICAgICAgICAgICAgICAgICAgICAgICBpZiAodXJsID09IHNlcnZlcnNMaXN0W2ldKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXRlbmN5TGlzdFtpXSA9IG1pbGxpc2Vjb25kczsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwKICAgICAgICAgICAgb25lcnJvcjogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgY29uc29sZS5sb2coZSk7CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIG9udGltZW91dDogZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygiUGluZyBUZXN0IFJlc3BvbnNlIFRpbWVkIG91dCBmb3IgIiArIHVybCk7CiAgICAgICAgICAgIH0sCiAgICAgICAgfSk7CiAgICB9CgoKICAgIGZ1bmN0aW9uIHFTZWxlY3RvckFsbChzZWxlY3RvcikgewogICAgICAgIHJldHVybiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKHNlbGVjdG9yKTsKICAgIH0KCiAgICBmdW5jdGlvbiBxU2VsZWN0b3Ioc2VsZWN0b3IpIHsKICAgICAgICByZXR1cm4gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihzZWxlY3Rvcik7CiAgICB9CgoKCiAgICBpZihxU2VsZWN0b3IoQ0hFQ0tfQk9YKSl7CiAgICAgICAgcVNlbGVjdG9yKENIRUNLX0JPWCkuY2xpY2soKTsKICAgIH0gZWxzZSBpZih3aW5kb3cubG9jYXRpb24uaHJlZi5pbmNsdWRlcygiYmZyYW1lIikpewogICAgICAgIGZvcihsZXQgaT0wOyBpPCBzZXJ2ZXJzTGlzdC5sZW5ndGg7aSsrKXsKICAgICAgICAgICAgcGluZ1Rlc3Qoc2VydmVyc0xpc3RbaV0pOwogICAgICAgIH0KICAgIH0KCiAgICAvL1NvbHZlIHRoZSBjYXB0Y2hhIHVzaW5nIGF1ZGlvCiAgICB2YXIgc3RhcnRJbnRlcnZhbCA9IHNldEludGVydmFsKGZ1bmN0aW9uKCkgewogICAgICAgIHRyeSB7CiAgICAgICAgICAgIGlmKCFjaGVja0JveENsaWNrZWQgJiYgcVNlbGVjdG9yKENIRUNLX0JPWCkgJiYgIWlzSGlkZGVuKHFTZWxlY3RvcihDSEVDS19CT1gpKSkgewogICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZygiY2hlY2tib3ggY2xpY2tlZCIpOwogICAgICAgICAgICAgICAgcVNlbGVjdG9yKENIRUNLX0JPWCkuY2xpY2soKTsKICAgICAgICAgICAgICAgIGNoZWNrQm94Q2xpY2tlZCA9IHRydWU7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgLy9DaGVjayBpZiB0aGUgY2FwdGNoYSBpcyBzb2x2ZWQKICAgICAgICAgICAgaWYocVNlbGVjdG9yKFJFQ0FQVENIQV9TVEFUVVMpICYmIChxU2VsZWN0b3IoUkVDQVBUQ0hBX1NUQVRVUykuaW5uZXJUZXh0ICE9IHJlY2FwdGNoYUluaXRpYWxTdGF0dXMpKSB7CiAgICAgICAgICAgICAgICBzb2x2ZWQgPSB0cnVlOwogICAgICAgICAgICAgICAgY29uc29sZS5sb2coIlNPTFZFRCIpOwogICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChzdGFydEludGVydmFsKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZihyZXF1ZXN0Q291bnQgPiBNQVhfQVRURU1QVFMpIHsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJBdHRlbXB0ZWQgTWF4IFJldHJpZXMuIFN0b3BwaW5nIHRoZSBzb2x2ZXIiKTsKICAgICAgICAgICAgICAgIHNvbHZlZCA9IHRydWU7CiAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKHN0YXJ0SW50ZXJ2YWwpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmKCFzb2x2ZWQpIHsKICAgICAgICAgICAgICAgIGlmKHFTZWxlY3RvcihBVURJT19CVVRUT04pICYmICFpc0hpZGRlbihxU2VsZWN0b3IoQVVESU9fQlVUVE9OKSkgJiYgcVNlbGVjdG9yKElNQUdFX1NFTEVDVCkpIHsKICAgICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZygiQXVkaW8gYnV0dG9uIGNsaWNrZWQiKTsKICAgICAgICAgICAgICAgICAgICBxU2VsZWN0b3IoQVVESU9fQlVUVE9OKS5jbGljaygpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgaWYoKCF3YWl0aW5nRm9yQXVkaW9SZXNwb25zZSAmJiBxU2VsZWN0b3IoQVVESU9fU09VUkNFKSAmJiBxU2VsZWN0b3IoQVVESU9fU09VUkNFKS5zcmMKICAgICAgICAgICAgICAgICAgICAmJiBxU2VsZWN0b3IoQVVESU9fU09VUkNFKS5zcmMubGVuZ3RoID4gMCAmJiBhdWRpb1VybCA9PSBxU2VsZWN0b3IoQVVESU9fU09VUkNFKS5zcmMKICAgICAgICAgICAgICAgICAgICAmJiBxU2VsZWN0b3IoUkVMT0FEX0JVVFRPTikpIHx8CiAgICAgICAgICAgICAgICAgICAocVNlbGVjdG9yKEFVRElPX0VSUk9SX01FU1NBR0UpICYmIHFTZWxlY3RvcihBVURJT19FUlJPUl9NRVNTQUdFKS5pbm5lclRleHQubGVuZ3RoID4gMCAmJiBxU2VsZWN0b3IoUkVMT0FEX0JVVFRPTikgJiYKICAgICAgICAgICAgICAgICAgICAhcVNlbGVjdG9yKFJFTE9BRF9CVVRUT04pLmRpc2FibGVkKSl7CiAgICAgICAgICAgICAgICAgICAgcVNlbGVjdG9yKFJFTE9BRF9CVVRUT04pLmNsaWNrKCk7CiAgICAgICAgICAgICAgICB9IGVsc2UgaWYoIXdhaXRpbmdGb3JBdWRpb1Jlc3BvbnNlICYmIHFTZWxlY3RvcihSRVNQT05TRV9GSUVMRCkgJiYgIWlzSGlkZGVuKHFTZWxlY3RvcihSRVNQT05TRV9GSUVMRCkpCiAgICAgICAgICAgICAgICAgICAgICAgICAgJiYgIXFTZWxlY3RvcihBVURJT19SRVNQT05TRSkudmFsdWUgJiYgcVNlbGVjdG9yKEFVRElPX1NPVVJDRSkgJiYgcVNlbGVjdG9yKEFVRElPX1NPVVJDRSkuc3JjCiAgICAgICAgICAgICAgICAgICAgICAgICAgJiYgcVNlbGVjdG9yKEFVRElPX1NPVVJDRSkuc3JjLmxlbmd0aCA+IDAgJiYgYXVkaW9VcmwgIT0gcVNlbGVjdG9yKEFVRElPX1NPVVJDRSkuc3JjCiAgICAgICAgICAgICAgICAgICAgICAgICAgJiYgcmVxdWVzdENvdW50IDw9IE1BWF9BVFRFTVBUUykgewogICAgICAgICAgICAgICAgICAgIHdhaXRpbmdGb3JBdWRpb1Jlc3BvbnNlID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICBhdWRpb1VybCA9IHFTZWxlY3RvcihBVURJT19TT1VSQ0UpLnNyYwogICAgICAgICAgICAgICAgICAgIGdldFRleHRGcm9tQXVkaW8oYXVkaW9VcmwpOwogICAgICAgICAgICAgICAgfWVsc2UgewogICAgICAgICAgICAgICAgICAgIC8vV2FpdGluZwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIC8vU3RvcCBzb2x2aW5nIHdoZW4gQXV0b21hdGVkIHF1ZXJpZXMgbWVzc2FnZSBpcyBzaG93bgogICAgICAgICAgICBpZihxU2VsZWN0b3IoRE9TQ0FQVENIQSkgJiYgcVNlbGVjdG9yKERPU0NBUFRDSEEpLmlubmVyVGV4dC5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygiQXV0b21hdGVkIFF1ZXJpZXMgRGV0ZWN0ZWQiKTsKICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoc3RhcnRJbnRlcnZhbCk7CiAgICAgICAgICAgIH0KICAgICAgICB9IGNhdGNoKGVycikgewogICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIubWVzc2FnZSk7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKCJBbiBlcnJvciBvY2N1cnJlZCB3aGlsZSBzb2x2aW5nLiBTdG9wcGluZyB0aGUgc29sdmVyLiIpOwogICAgICAgICAgICBjbGVhckludGVydmFsKHN0YXJ0SW50ZXJ2YWwpOwogICAgICAgIH0KICAgIH0sIDUwMDApOwoKfSkoKTs="},{"name":"All Popups Blocker and reCAPTCHA Solver","options":{"check_for_updates":true,"comment":null,"compat_foreach":false,"compat_metadata":false,"compat_powerful_this":null,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"merge_connects":true,"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_connects":[],"orig_excludes":[],"orig_includes":["/^(https?:\\/\\/)(.+)?(shortzon|coinadfly|bclikeqt|fc-lc)(\\.com)(\\/.*)/","/^(https?:\\/\\/)(.+)?(downfile|promo-visits)(\\.site)(\\/.*)/","/^(https?:\\/\\/)(.+)?(bcvc|satoshi-win)(\\.xyz)(\\/.*)/","/^(https?:\\/\\/)(1dogecoin|faucet)(\\.work)(\\/.*)/"],"orig_matches":["*://linkvertise.download/download/*","*://*.trangchu.news/*","*://*.bitcoinly.in/*","*://*.vshort.link/*","*://*.linka.click/*","*://*.linkres.in/*","*://*.cashurl.in/*","*://*.linkad.in/*","*://*.cuturl.in/*","*://*.mitly.us/*","*://*.aii.sh/*","*://*.iir.ai/*","*://*/recaptcha/*"],"orig_noframes":null,"orig_run_at":"document-start","use_blockers":[],"use_connects":[],"use_excludes":[],"use_includes":[],"use_matches":[]},"run_at":null,"sandbox":null,"tab_types":null,"unwrap":null,"user_modified":null},"storage":{"ts":1715999537203,"data":{}},"enabled":true,"position":11,"file_url":"https://greasyfork.org/scripts/439683-all-popups-blocker-and-recaptcha-solver/code/All%20Popups%20Blocker%20and%20reCAPTCHA%20Solver.user.js","uuid":"dbfd587f-381d-4c9c-b700-5943c20e0377","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgIEFsbCBQb3B1cHMgQmxvY2tlciBhbmQgcmVDQVBUQ0hBIFNvbHZlcgovLyBAbmFtZXNwYWNlICAgVmlvbGVudG1vbmtleSBTY3JpcHRzCi8vIEBpbmNsdWRlICAgICAvXihodHRwcz86XC9cLykoLispPyhzaG9ydHpvbnxjb2luYWRmbHl8YmNsaWtlcXR8ZmMtbGMpKFwuY29tKShcLy4qKS8KLy8gQGluY2x1ZGUgICAgIC9eKGh0dHBzPzpcL1wvKSguKyk/KGRvd25maWxlfHByb21vLXZpc2l0cykoXC5zaXRlKShcLy4qKS8KLy8gQGluY2x1ZGUgICAgIC9eKGh0dHBzPzpcL1wvKSguKyk/KGJjdmN8c2F0b3NoaS13aW4pKFwueHl6KShcLy4qKS8KLy8gQGluY2x1ZGUgICAgIC9eKGh0dHBzPzpcL1wvKSgxZG9nZWNvaW58ZmF1Y2V0KShcLndvcmspKFwvLiopLwovLyBAbWF0Y2ggICAgICAgKjovL2xpbmt2ZXJ0aXNlLmRvd25sb2FkL2Rvd25sb2FkLyoKLy8gQG1hdGNoICAgICAgICo6Ly8qLnRyYW5nY2h1Lm5ld3MvKgovLyBAbWF0Y2ggICAgICAgKjovLyouYml0Y29pbmx5LmluLyoKLy8gQG1hdGNoICAgICAgICo6Ly8qLnZzaG9ydC5saW5rLyoKLy8gQG1hdGNoICAgICAgICo6Ly8qLmxpbmthLmNsaWNrLyoKLy8gQG1hdGNoICAgICAgICo6Ly8qLmxpbmtyZXMuaW4vKgovLyBAbWF0Y2ggICAgICAgKjovLyouY2FzaHVybC5pbi8qCi8vIEBtYXRjaCAgICAgICAqOi8vKi5saW5rYWQuaW4vKgovLyBAbWF0Y2ggICAgICAgKjovLyouY3V0dXJsLmluLyoKLy8gQG1hdGNoICAgICAgICo6Ly8qLm1pdGx5LnVzLyoKLy8gQG1hdGNoICAgICAgICo6Ly8qLmFpaS5zaC8qCi8vIEBtYXRjaCAgICAgICAqOi8vKi5paXIuYWkvKgovLyBAbWF0Y2ggICAgICAgKjovLyovcmVjYXB0Y2hhLyoKLy8gQHZlcnNpb24gICAgIDQuMQovLyBAYXV0aG9yICAgICAgQmxvZ2dlciBQZW11bGEKLy8gQHJ1bi1hdCAgICAgIGRvY3VtZW50LXN0YXJ0Ci8vIEBsaWNlbnNlICAgICBHUEwtMy4wLW9yLWxhdGVyCi8vIEBncmFudCAgICAgICBHTV94bWxodHRwUmVxdWVzdAovLyBAcmVxdWlyZSAgICAgaHR0cHM6Ly9jb2RlLmpxdWVyeS5jb20vanF1ZXJ5LTMuNi4wLm1pbi5qcwovLyBAcmVxdWlyZSAgICAgaHR0cHM6Ly9ncmVhc3lmb3JrLm9yZy9zY3JpcHRzLzQ0NDg3Mi03LXJlY2FwdGNoYS1zb2x2ZXItYmFja3VwL2NvZGUvN19SZWNhcHRjaGElMjBTb2x2ZXIlMjAoQmFja1VwKS51c2VyLmpzI2J5cGFzcz10cnVlCi8vIEByZXF1aXJlICAgICBodHRwczovL2Nkbi5qc2RlbGl2ci5uZXQvbnBtL25vdGlmeS1qcy1sZWdhY3lAMC40LjEvbm90aWZ5LmpzCi8vIEBkZXNjcmlwdGlvbiBUaGlzIFNjcmlwdCB3aWxsIEJsb2NrIEFsbCBQb3B1cHMgU2l0ZXMgaW4gdGhlIExpc3RzICwgYW5kIEF1dG8gU29sdmluZyBHb29nbGUgcmVDQVBUQ0hBCi8vID09L1VzZXJTY3JpcHQ9PQovKmpzbGludCBldmlsOiB0cnVlICovCmZ1bmN0aW9uIHJlZGlyZWN0KHVybCwgYmxvZyA9IHRydWUpIHtsb2NhdGlvbiA9IGJsb2cgPyAnaHR0cHM6Ly9yb3RhdG9yLm51cnVsLWh1ZGEuc2NoLmlkLz91cmw9JyArIHVybCA6IHVybDt9CnZhciBibG9ja29uY2xpY2sgPSBuZXcgRnVuY3Rpb24oImNvbnNvbGUubG9nKCdCbG9ja2VkIEJ5IEJsb2dnZXJQZW11bGEnKSIpOwoKZnVuY3Rpb24gQmxvY2tQb3B1cChlKXtyZXR1cm4gMTt9CnBhcmVudC5vcGVuPUJsb2NrUG9wdXA7IHRoaXMub3Blbj1CbG9ja1BvcHVwOyB3aW5kb3cub3Blbj1CbG9ja1BvcHVwOyBvbmxvYWQ9QmxvY2tQb3B1cDsKd2luZG93Lm9wZW4gPSBmdW5jdGlvbigpeyByZXR1cm47fTsKb25sb2FkID0gZnVuY3Rpb24oKXsgcmV0dXJuO307CnRoaXMub3BlbiA9IGZ1bmN0aW9uKCl7IHJldHVybjt9OwpwYXJlbnQub3BlbiA9IGZ1bmN0aW9uKCl7IHJldHVybjt9Owp1bnNhZmVXaW5kb3cub3BlbiA9IGZ1bmN0aW9uKCl7fTsKaWYoWydsaW5rdmVydGlzZS5kb3dubG9hZCddLmluY2x1ZGVzKHdpbmRvdy5sb2NhdGlvbi5ob3N0bmFtZSkgPiAtMSl7bGV0ICQ9d2luZG93LmpRdWVyeSxsb2thbD0hMDtmdW5jdGlvbiBCeXBhc3NMaW5rdmVyKCl7bGV0IGU9d2luZG93LmxvY2F0aW9uOyIvIiE9ZS5wYXRobmFtZSYmInRleHQvaHRtbCI9PWRvY3VtZW50LmNvbnRlbnRUeXBlJiZieXBhc3MoZSl9YXN5bmMgZnVuY3Rpb24gYnlwYXNzKGUpe2lmKCEoImxpbmt2ZXJ0aXNlLmNvbSI9PWUuaG9zdG5hbWUmJmUucGF0aG5hbWUuc3RhcnRzV2l0aCgiLyIpJiZlLnBhdGhuYW1lLnNwbGl0KCIvIikubGVuZ3RoPj0zKSlyZXR1cm4ibGlua3ZlcnRpc2UuZG93bmxvYWQiPT1lLmhvc3RuYW1lP3ZvaWQgYnlwYXNzRG93bmxvYWQoZSk6dm9pZCAwO2lmKGxva2FsKXskLm5vdGlmeSgiU3RlcHMgMS4uLiIse2NsYXNzTmFtZToiaW5mbyIsYXV0b0hpZGVEZWxheTo3ZTN9KTtsZXQgdD1lLnBhdGhuYW1lLnNwbGl0KCIvIilbMV0sbj1lLnBhdGhuYW1lLnNwbGl0KCIvIilbMl0sYT1lLnBhdGhuYW1lLmluY2x1ZGVzKCIvZHluYW1pYyIpLHM9YSYmd2luZG93LmxvY2F0aW9uLnNlYXJjaC5pbmNsdWRlcygiJnI9Iik/d2luZG93LmxvY2F0aW9uLnNlYXJjaC5zcGxpdCgiJnI9IilbMV0uc3BsaXQoIiYiKVswXTphJiZ3aW5kb3cubG9jYXRpb24uc2VhcmNoLmluY2x1ZGVzKCI/cj0iKT93aW5kb3cubG9jYXRpb24uc2VhcmNoLnNwbGl0KCI/cj0iKVsxXS5zcGxpdCgiJiIpWzBdOiIiO0dNX3htbGh0dHBSZXF1ZXN0KHttZXRob2Q6IkdFVCIsdXJsOiJodHRwczovL3B1Ymxpc2hlci5saW5rdmVydGlzZS5jb20vYXBpL3YxL3JlZGlyZWN0L2xpbmsvIisoYT8iZHluYW1pYy8iK3QrIi8iK3M6InN0YXRpYy8iK3QrIi8iK24pLG9ubG9hZDpmdW5jdGlvbihhKXtsZXQgcz1KU09OLnBhcnNlKGEucmVzcG9uc2VUZXh0KTtuPXMuZGF0YS5saW5rLnVybDtsZXQgbz1zLmRhdGEubGluay50YXJnZXRfdHlwZTtHTV94bWxodHRwUmVxdWVzdCh7bWV0aG9kOiJHRVQiLHVybDoiaHR0cHM6Ly9iYWxhdGluLmRlL2FwaS9zZXJpYWw/cD0iK24rIiZwaWQ9Iit0KyImaWQ9IitzLmRhdGEubGluay5pZCxvbmxvYWQ6ZnVuY3Rpb24oYSl7bGV0IGk9SlNPTi5wYXJzZShhLnJlc3BvbnNlVGV4dCk7R01feG1saHR0cFJlcXVlc3Qoe21ldGhvZDoiR0VUIix1cmw6Imh0dHBzOi8vcGFwZXIub3N0cmljaGVzaWNhLmNvbS9jdD9pZD0xNDQ3MyZ1cmw9IitlbmNvZGVVUklDb21wb25lbnQoZS5ocmVmKSxvbmxvYWQ6ZnVuY3Rpb24oZSl7bGV0IGE9ZS5yZXNwb25zZVRleHQuc3BsaXQoJyJqc29ucCI6IicpWzFdLnNwbGl0KCciJylbMF07R01feG1saHR0cFJlcXVlc3Qoe21ldGhvZDoiUE9TVCIsdXJsOiJodHRwczovL3B1Ymxpc2hlci5saW5rdmVydGlzZS5jb20vYXBpL3YxL3JlZGlyZWN0L2xpbmsvIit0KyIvIituKyIvdHJhZmZpYy12YWxpZGF0aW9uIixkYXRhOkpTT04uc3RyaW5naWZ5KHt0eXBlOiJjcSIsdG9rZW46YX0pLGhlYWRlcnM6eyJDb250ZW50LVR5cGUiOiJhcHBsaWNhdGlvbi9qc29uIn0sb25sb2FkOmZ1bmN0aW9uKGUpe3M9SlNPTi5wYXJzZShlLnJlc3BvbnNlVGV4dCk7bGV0IGE9cy5kYXRhLnRva2Vucy5UQVJHRVQ7aS50b2tlbj1hO0dNX3htbGh0dHBSZXF1ZXN0KHttZXRob2Q6IlBPU1QiLHVybDoiaHR0cHM6Ly9wdWJsaXNoZXIubGlua3ZlcnRpc2UuY29tL2FwaS92MS9yZWRpcmVjdC9saW5rLyIrdCsiLyIrbisoIlBBU1RFIj09bz8iL3Bhc3RlIjoiL3RhcmdldCIpLGRhdGE6SlNPTi5zdHJpbmdpZnkoaSksaGVhZGVyczp7IkNvbnRlbnQtVHlwZSI6ImFwcGxpY2F0aW9uL2pzb24ifSxvbmxvYWQ6ZnVuY3Rpb24oZSl7aWYoKHM9SlNPTi5wYXJzZShlLnJlc3BvbnNlVGV4dCksIlBBU1RFIiE9bykpe2xldCBlPW5ldyBVUkwocy5kYXRhLnRhcmdldCk7Imxpbmt2ZXJ0aXNlLmRvd25sb2FkIj09ZS5ob3N0bmFtZT9ieXBhc3NEb3dubG9hZChlKTpMaW5rUmVzKGUuaHJlZil9ZWxzZSBMaW5rUmVzKCJodHRwczovL2JhbGF0aW4uZGUvYXBpL3R4dC8iK2J0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KHMuZGF0YS5wYXN0ZSkpKSl9fSl9fSl9fSl9fSl9fSl9ZWxzZSBHTV94bWxodHRwUmVxdWVzdCh7bWV0aG9kOiJQT1NUIix1cmw6Imh0dHBzOi8vYXBpLmJ5cGFzcy52aXAvIixoZWFkZXJzOnsiQ29udGVudC1UeXBlIjoiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkO2NoYXJzZXQ9VVRGLTgifSxkYXRhOiJ1cmw9IitlbmNvZGVVUklDb21wb25lbnQoZS5ocmVmKSxvbmxvYWQ6ZnVuY3Rpb24oZSl7bGV0IHQ9SlNPTi5wYXJzZShlLnJlc3BvbnNlVGV4dCk7bnVsbCE9dCYmbnVsbCE9dC5kZXN0aW5hdGlvbj9MaW5rUmVzKHQuZGVzdGluYXRpb24pOm51bGwhPXQmJm51bGwhPXQucmVzcG9uc2U/TGlua1JlcygiaHR0cHM6Ly9iYWxhdGluLmRlL2FwaS90eHQvIitidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudCh0LnJlc3BvbnNlKSkpKTokLm5vdGlmeSgiQ291bGQgbm90IGJ5cGFzcyBsaW5rIix7Y2xhc3NOYW1lOiJlcnJvciIsYXV0b0hpZGVEZWxheToxZTR9KX19KX1CeXBhc3NMaW5rdmVyKCk7Y29uc3QgU3RlcDM9ITA7YXN5bmMgZnVuY3Rpb24gYnlwYXNzRG93bmxvYWQoZSl7aWYoZS5wYXRobmFtZS5zdGFydHNXaXRoKCIvZG93bmxvYWQvIikpe2xldCB0PWUucGF0aG5hbWUuc3BsaXQoIi8iKVsyXSxuPWUucGF0aG5hbWUuc3BsaXQoIi8iKVszXTskLm5vdGlmeSgiU3RlcHMgMi4uIix7Y2xhc3NOYW1lOiJiYXNlIixhdXRvSGlkZURlbGF5OjNlM30pO2xldCBhPUpTT04uc3RyaW5naWZ5KHtrZXk6ZS5wYXRobmFtZS5zcGxpdCgiLyIpWzRdfSk7R01feG1saHR0cFJlcXVlc3Qoe21ldGhvZDoiUE9TVCIsdXJsOiJodHRwczovL3B1Ymxpc2hlci5saW5rdmVydGlzZS5jb20vYXBpL3YxL3JlZGlyZWN0L2xpbmsvIit0KyIvIituKyIvZG93bmxvYWQtaW5mbyIsZGF0YTphLGhlYWRlcnM6eyJDb250ZW50LVR5cGUiOiJhcHBsaWNhdGlvbi9qc29uIn0sb25sb2FkOmZ1bmN0aW9uKGUpe2xldCB0PUpTT04ucGFyc2UoZS5yZXNwb25zZVRleHQpLG49bmV3IFVSTCh0LmRhdGEuZG93bmxvYWRVcmwpO24uaG9zdG5hbWUuZW5kc1dpdGgoImNsb3VkZnJvbnQubmV0Iik/R01feG1saHR0cFJlcXVlc3Qoe21ldGhvZDoiR0VUIix1cmw6Imh0dHBzOi8vYmFsYXRpbi5kZS9hcGkvc3RhZ2U2P3VybD0iK24uaHJlZixvbmxvYWQ6ZnVuY3Rpb24oZSl7dD1lLnJlc3BvbnNlVGV4dDtsZXQgbj1KU09OLnN0cmluZ2lmeSh7YToiTGlua3ZlcnRpc2UiLHM6Ikxpbmt2ZXJ0aXNlIix1OnR9KTtHTV94bWxodHRwUmVxdWVzdCh7bWV0aG9kOiJQT1NUIix1cmw6Imh0dHBzOi8vZDE3a3ozaTZoYnI3ZDMuY2xvdWRmcm9udC5uZXQvbyIsZGF0YTpuLGhlYWRlcnM6eyJDb250ZW50LVR5cGUiOiJhcHBsaWNhdGlvbi9qc29uIn0sb25sb2FkOmZ1bmN0aW9uKGUpe0xpbmtSZXMoSlNPTi5wYXJzZShlLnJlc3BvbnNlVGV4dCkuaS5jdSl9fSl9fSk6TGlua1JlcyhuLmhyZWYpfX0pfX1jb25zdCByZXN0PTEwLG5ld3RhYj0hMTthc3luYyBmdW5jdGlvbiBMaW5rUmVzKGUpe3RyeXtuZXcgVVJMKGUpO31jYXRjaChlKXtyZXR1cm4gdm9pZChsb2thbCYmYnlwYXNzKHdpbmRvdy5sb2NhdGlvbikpfXdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZS5zdGFydHNXaXRoKCIvNDgxOTMvIik/c2V0VGltZW91dCgoKCk9PnskLm5vdGlmeSgiUmVkaXJlY3RpbmcuLi4iLHtjbGFzc05hbWU6InN1Y2Nlc3MiLGF1dG9IaWRlRGVsYXk6OGUzfSk7cmVkaXJlY3QoZSk7fSksMTUxMDApOnNldFRpbWVvdXQoKCgpPT57JC5ub3RpZnkoIlJlZGlyZWN0aW5nLi4uIix7Y2xhc3NOYW1lOiJzdWNjZXNzIixhdXRvSGlkZURlbGF5OjhlM30pO3JlZGlyZWN0KGUpO30pLDEwKX19ZWxzZSB7fQ==","requires":[{"meta":{"name":"jquery-3.6.0.min.js","url":"https://code.jquery.com/jquery-3.6.0.min.js","ts":1716552742905,"mimetype":"text/javascript"},"source":"LyohIGpRdWVyeSB2My42LjAgfCAoYykgT3BlbkpTIEZvdW5kYXRpb24gYW5kIG90aGVyIGNvbnRyaWJ1dG9ycyB8IGpxdWVyeS5vcmcvbGljZW5zZSAqLwohZnVuY3Rpb24oZSx0KXsidXNlIHN0cmljdCI7Im9iamVjdCI9PXR5cGVvZiBtb2R1bGUmJiJvYmplY3QiPT10eXBlb2YgbW9kdWxlLmV4cG9ydHM/bW9kdWxlLmV4cG9ydHM9ZS5kb2N1bWVudD90KGUsITApOmZ1bmN0aW9uKGUpe2lmKCFlLmRvY3VtZW50KXRocm93IG5ldyBFcnJvcigialF1ZXJ5IHJlcXVpcmVzIGEgd2luZG93IHdpdGggYSBkb2N1bWVudCIpO3JldHVybiB0KGUpfTp0KGUpfSgidW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6dGhpcyxmdW5jdGlvbihDLGUpeyJ1c2Ugc3RyaWN0Ijt2YXIgdD1bXSxyPU9iamVjdC5nZXRQcm90b3R5cGVPZixzPXQuc2xpY2UsZz10LmZsYXQ/ZnVuY3Rpb24oZSl7cmV0dXJuIHQuZmxhdC5jYWxsKGUpfTpmdW5jdGlvbihlKXtyZXR1cm4gdC5jb25jYXQuYXBwbHkoW10sZSl9LHU9dC5wdXNoLGk9dC5pbmRleE9mLG49e30sbz1uLnRvU3RyaW5nLHY9bi5oYXNPd25Qcm9wZXJ0eSxhPXYudG9TdHJpbmcsbD1hLmNhbGwoT2JqZWN0KSx5PXt9LG09ZnVuY3Rpb24oZSl7cmV0dXJuImZ1bmN0aW9uIj09dHlwZW9mIGUmJiJudW1iZXIiIT10eXBlb2YgZS5ub2RlVHlwZSYmImZ1bmN0aW9uIiE9dHlwZW9mIGUuaXRlbX0seD1mdW5jdGlvbihlKXtyZXR1cm4gbnVsbCE9ZSYmZT09PWUud2luZG93fSxFPUMuZG9jdW1lbnQsYz17dHlwZTohMCxzcmM6ITAsbm9uY2U6ITAsbm9Nb2R1bGU6ITB9O2Z1bmN0aW9uIGIoZSx0LG4pe3ZhciByLGksbz0obj1ufHxFKS5jcmVhdGVFbGVtZW50KCJzY3JpcHQiKTtpZihvLnRleHQ9ZSx0KWZvcihyIGluIGMpKGk9dFtyXXx8dC5nZXRBdHRyaWJ1dGUmJnQuZ2V0QXR0cmlidXRlKHIpKSYmby5zZXRBdHRyaWJ1dGUocixpKTtuLmhlYWQuYXBwZW5kQ2hpbGQobykucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChvKX1mdW5jdGlvbiB3KGUpe3JldHVybiBudWxsPT1lP2UrIiI6Im9iamVjdCI9PXR5cGVvZiBlfHwiZnVuY3Rpb24iPT10eXBlb2YgZT9uW28uY2FsbChlKV18fCJvYmplY3QiOnR5cGVvZiBlfXZhciBmPSIzLjYuMCIsUz1mdW5jdGlvbihlLHQpe3JldHVybiBuZXcgUy5mbi5pbml0KGUsdCl9O2Z1bmN0aW9uIHAoZSl7dmFyIHQ9ISFlJiYibGVuZ3RoImluIGUmJmUubGVuZ3RoLG49dyhlKTtyZXR1cm4hbShlKSYmIXgoZSkmJigiYXJyYXkiPT09bnx8MD09PXR8fCJudW1iZXIiPT10eXBlb2YgdCYmMDx0JiZ0LTEgaW4gZSl9Uy5mbj1TLnByb3RvdHlwZT17anF1ZXJ5OmYsY29uc3RydWN0b3I6UyxsZW5ndGg6MCx0b0FycmF5OmZ1bmN0aW9uKCl7cmV0dXJuIHMuY2FsbCh0aGlzKX0sZ2V0OmZ1bmN0aW9uKGUpe3JldHVybiBudWxsPT1lP3MuY2FsbCh0aGlzKTplPDA/dGhpc1tlK3RoaXMubGVuZ3RoXTp0aGlzW2VdfSxwdXNoU3RhY2s6ZnVuY3Rpb24oZSl7dmFyIHQ9Uy5tZXJnZSh0aGlzLmNvbnN0cnVjdG9yKCksZSk7cmV0dXJuIHQucHJldk9iamVjdD10aGlzLHR9LGVhY2g6ZnVuY3Rpb24oZSl7cmV0dXJuIFMuZWFjaCh0aGlzLGUpfSxtYXA6ZnVuY3Rpb24obil7cmV0dXJuIHRoaXMucHVzaFN0YWNrKFMubWFwKHRoaXMsZnVuY3Rpb24oZSx0KXtyZXR1cm4gbi5jYWxsKGUsdCxlKX0pKX0sc2xpY2U6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wdXNoU3RhY2socy5hcHBseSh0aGlzLGFyZ3VtZW50cykpfSxmaXJzdDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVxKDApfSxsYXN0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZXEoLTEpfSxldmVuOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucHVzaFN0YWNrKFMuZ3JlcCh0aGlzLGZ1bmN0aW9uKGUsdCl7cmV0dXJuKHQrMSklMn0pKX0sb2RkOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucHVzaFN0YWNrKFMuZ3JlcCh0aGlzLGZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQlMn0pKX0sZXE6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5sZW5ndGgsbj0rZSsoZTwwP3Q6MCk7cmV0dXJuIHRoaXMucHVzaFN0YWNrKDA8PW4mJm48dD9bdGhpc1tuXV06W10pfSxlbmQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wcmV2T2JqZWN0fHx0aGlzLmNvbnN0cnVjdG9yKCl9LHB1c2g6dSxzb3J0OnQuc29ydCxzcGxpY2U6dC5zcGxpY2V9LFMuZXh0ZW5kPVMuZm4uZXh0ZW5kPWZ1bmN0aW9uKCl7dmFyIGUsdCxuLHIsaSxvLGE9YXJndW1lbnRzWzBdfHx7fSxzPTEsdT1hcmd1bWVudHMubGVuZ3RoLGw9ITE7Zm9yKCJib29sZWFuIj09dHlwZW9mIGEmJihsPWEsYT1hcmd1bWVudHNbc118fHt9LHMrKyksIm9iamVjdCI9PXR5cGVvZiBhfHxtKGEpfHwoYT17fSkscz09PXUmJihhPXRoaXMscy0tKTtzPHU7cysrKWlmKG51bGwhPShlPWFyZ3VtZW50c1tzXSkpZm9yKHQgaW4gZSlyPWVbdF0sIl9fcHJvdG9fXyIhPT10JiZhIT09ciYmKGwmJnImJihTLmlzUGxhaW5PYmplY3Qocil8fChpPUFycmF5LmlzQXJyYXkocikpKT8obj1hW3RdLG89aSYmIUFycmF5LmlzQXJyYXkobik/W106aXx8Uy5pc1BsYWluT2JqZWN0KG4pP246e30saT0hMSxhW3RdPVMuZXh0ZW5kKGwsbyxyKSk6dm9pZCAwIT09ciYmKGFbdF09cikpO3JldHVybiBhfSxTLmV4dGVuZCh7ZXhwYW5kbzoialF1ZXJ5IisoZitNYXRoLnJhbmRvbSgpKS5yZXBsYWNlKC9cRC9nLCIiKSxpc1JlYWR5OiEwLGVycm9yOmZ1bmN0aW9uKGUpe3Rocm93IG5ldyBFcnJvcihlKX0sbm9vcDpmdW5jdGlvbigpe30saXNQbGFpbk9iamVjdDpmdW5jdGlvbihlKXt2YXIgdCxuO3JldHVybiEoIWV8fCJbb2JqZWN0IE9iamVjdF0iIT09by5jYWxsKGUpKSYmKCEodD1yKGUpKXx8ImZ1bmN0aW9uIj09dHlwZW9mKG49di5jYWxsKHQsImNvbnN0cnVjdG9yIikmJnQuY29uc3RydWN0b3IpJiZhLmNhbGwobik9PT1sKX0saXNFbXB0eU9iamVjdDpmdW5jdGlvbihlKXt2YXIgdDtmb3IodCBpbiBlKXJldHVybiExO3JldHVybiEwfSxnbG9iYWxFdmFsOmZ1bmN0aW9uKGUsdCxuKXtiKGUse25vbmNlOnQmJnQubm9uY2V9LG4pfSxlYWNoOmZ1bmN0aW9uKGUsdCl7dmFyIG4scj0wO2lmKHAoZSkpe2ZvcihuPWUubGVuZ3RoO3I8bjtyKyspaWYoITE9PT10LmNhbGwoZVtyXSxyLGVbcl0pKWJyZWFrfWVsc2UgZm9yKHIgaW4gZSlpZighMT09PXQuY2FsbChlW3JdLHIsZVtyXSkpYnJlYWs7cmV0dXJuIGV9LG1ha2VBcnJheTpmdW5jdGlvbihlLHQpe3ZhciBuPXR8fFtdO3JldHVybiBudWxsIT1lJiYocChPYmplY3QoZSkpP1MubWVyZ2Uobiwic3RyaW5nIj09dHlwZW9mIGU/W2VdOmUpOnUuY2FsbChuLGUpKSxufSxpbkFycmF5OmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gbnVsbD09dD8tMTppLmNhbGwodCxlLG4pfSxtZXJnZTpmdW5jdGlvbihlLHQpe2Zvcih2YXIgbj0rdC5sZW5ndGgscj0wLGk9ZS5sZW5ndGg7cjxuO3IrKyllW2krK109dFtyXTtyZXR1cm4gZS5sZW5ndGg9aSxlfSxncmVwOmZ1bmN0aW9uKGUsdCxuKXtmb3IodmFyIHI9W10saT0wLG89ZS5sZW5ndGgsYT0hbjtpPG87aSsrKSF0KGVbaV0saSkhPT1hJiZyLnB1c2goZVtpXSk7cmV0dXJuIHJ9LG1hcDpmdW5jdGlvbihlLHQsbil7dmFyIHIsaSxvPTAsYT1bXTtpZihwKGUpKWZvcihyPWUubGVuZ3RoO288cjtvKyspbnVsbCE9KGk9dChlW29dLG8sbikpJiZhLnB1c2goaSk7ZWxzZSBmb3IobyBpbiBlKW51bGwhPShpPXQoZVtvXSxvLG4pKSYmYS5wdXNoKGkpO3JldHVybiBnKGEpfSxndWlkOjEsc3VwcG9ydDp5fSksImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmKFMuZm5bU3ltYm9sLml0ZXJhdG9yXT10W1N5bWJvbC5pdGVyYXRvcl0pLFMuZWFjaCgiQm9vbGVhbiBOdW1iZXIgU3RyaW5nIEZ1bmN0aW9uIEFycmF5IERhdGUgUmVnRXhwIE9iamVjdCBFcnJvciBTeW1ib2wiLnNwbGl0KCIgIiksZnVuY3Rpb24oZSx0KXtuWyJbb2JqZWN0ICIrdCsiXSJdPXQudG9Mb3dlckNhc2UoKX0pO3ZhciBkPWZ1bmN0aW9uKG4pe3ZhciBlLGQsYixvLGksaCxmLGcsdyx1LGwsVCxDLGEsRSx2LHMsYyx5LFM9InNpenpsZSIrMSpuZXcgRGF0ZSxwPW4uZG9jdW1lbnQsaz0wLHI9MCxtPXVlKCkseD11ZSgpLEE9dWUoKSxOPXVlKCksaj1mdW5jdGlvbihlLHQpe3JldHVybiBlPT09dCYmKGw9ITApLDB9LEQ9e30uaGFzT3duUHJvcGVydHksdD1bXSxxPXQucG9wLEw9dC5wdXNoLEg9dC5wdXNoLE89dC5zbGljZSxQPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPTAscj1lLmxlbmd0aDtuPHI7bisrKWlmKGVbbl09PT10KXJldHVybiBuO3JldHVybi0xfSxSPSJjaGVja2VkfHNlbGVjdGVkfGFzeW5jfGF1dG9mb2N1c3xhdXRvcGxheXxjb250cm9sc3xkZWZlcnxkaXNhYmxlZHxoaWRkZW58aXNtYXB8bG9vcHxtdWx0aXBsZXxvcGVufHJlYWRvbmx5fHJlcXVpcmVkfHNjb3BlZCIsTT0iW1xceDIwXFx0XFxyXFxuXFxmXSIsST0iKD86XFxcXFtcXGRhLWZBLUZdezEsNn0iK00rIj98XFxcXFteXFxyXFxuXFxmXXxbXFx3LV18W15cMC1cXHg3Zl0pKyIsVz0iXFxbIitNKyIqKCIrSSsiKSg/OiIrTSsiKihbKl4kfCF+XT89KSIrTSsiKig/OicoKD86XFxcXC58W15cXFxcJ10pKiknfFwiKCg/OlxcXFwufFteXFxcXFwiXSkqKVwifCgiK0krIikpfCkiK00rIipcXF0iLEY9IjooIitJKyIpKD86XFwoKCgnKCg/OlxcXFwufFteXFxcXCddKSopJ3xcIigoPzpcXFxcLnxbXlxcXFxcIl0pKilcIil8KCg/OlxcXFwufFteXFxcXCgpW1xcXV18IitXKyIpKil8LiopXFwpfCkiLEI9bmV3IFJlZ0V4cChNKyIrIiwiZyIpLCQ9bmV3IFJlZ0V4cCgiXiIrTSsiK3woKD86XnxbXlxcXFxdKSg/OlxcXFwuKSopIitNKyIrJCIsImciKSxfPW5ldyBSZWdFeHAoIl4iK00rIiosIitNKyIqIiksej1uZXcgUmVnRXhwKCJeIitNKyIqKFs+K35dfCIrTSsiKSIrTSsiKiIpLFU9bmV3IFJlZ0V4cChNKyJ8PiIpLFg9bmV3IFJlZ0V4cChGKSxWPW5ldyBSZWdFeHAoIl4iK0krIiQiKSxHPXtJRDpuZXcgUmVnRXhwKCJeIygiK0krIikiKSxDTEFTUzpuZXcgUmVnRXhwKCJeXFwuKCIrSSsiKSIpLFRBRzpuZXcgUmVnRXhwKCJeKCIrSSsifFsqXSkiKSxBVFRSOm5ldyBSZWdFeHAoIl4iK1cpLFBTRVVETzpuZXcgUmVnRXhwKCJeIitGKSxDSElMRDpuZXcgUmVnRXhwKCJeOihvbmx5fGZpcnN0fGxhc3R8bnRofG50aC1sYXN0KS0oY2hpbGR8b2YtdHlwZSkoPzpcXCgiK00rIiooZXZlbnxvZGR8KChbKy1dfCkoXFxkKilufCkiK00rIiooPzooWystXXwpIitNKyIqKFxcZCspfCkpIitNKyIqXFwpfCkiLCJpIiksYm9vbDpuZXcgUmVnRXhwKCJeKD86IitSKyIpJCIsImkiKSxuZWVkc0NvbnRleHQ6bmV3IFJlZ0V4cCgiXiIrTSsiKls+K35dfDooZXZlbnxvZGR8ZXF8Z3R8bHR8bnRofGZpcnN0fGxhc3QpKD86XFwoIitNKyIqKCg/Oi1cXGQpP1xcZCopIitNKyIqXFwpfCkoPz1bXi1dfCQpIiwiaSIpfSxZPS9IVE1MJC9pLFE9L14oPzppbnB1dHxzZWxlY3R8dGV4dGFyZWF8YnV0dG9uKSQvaSxKPS9eaFxkJC9pLEs9L15bXntdK1x7XHMqXFtuYXRpdmUgXHcvLFo9L14oPzojKFtcdy1dKyl8KFx3Kyl8XC4oW1x3LV0rKSkkLyxlZT0vWyt+XS8sdGU9bmV3IFJlZ0V4cCgiXFxcXFtcXGRhLWZBLUZdezEsNn0iK00rIj98XFxcXChbXlxcclxcblxcZl0pIiwiZyIpLG5lPWZ1bmN0aW9uKGUsdCl7dmFyIG49IjB4IitlLnNsaWNlKDEpLTY1NTM2O3JldHVybiB0fHwobjwwP1N0cmluZy5mcm9tQ2hhckNvZGUobis2NTUzNik6U3RyaW5nLmZyb21DaGFyQ29kZShuPj4xMHw1NTI5NiwxMDIzJm58NTYzMjApKX0scmU9LyhbXDAtXHgxZlx4N2ZdfF4tP1xkKXxeLSR8W15cMC1ceDFmXHg3Zi1cdUZGRkZcdy1dL2csaWU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdD8iXDAiPT09ZT8iXHVmZmZkIjplLnNsaWNlKDAsLTEpKyJcXCIrZS5jaGFyQ29kZUF0KGUubGVuZ3RoLTEpLnRvU3RyaW5nKDE2KSsiICI6IlxcIitlfSxvZT1mdW5jdGlvbigpe1QoKX0sYWU9YmUoZnVuY3Rpb24oZSl7cmV0dXJuITA9PT1lLmRpc2FibGVkJiYiZmllbGRzZXQiPT09ZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpfSx7ZGlyOiJwYXJlbnROb2RlIixuZXh0OiJsZWdlbmQifSk7dHJ5e0guYXBwbHkodD1PLmNhbGwocC5jaGlsZE5vZGVzKSxwLmNoaWxkTm9kZXMpLHRbcC5jaGlsZE5vZGVzLmxlbmd0aF0ubm9kZVR5cGV9Y2F0Y2goZSl7SD17YXBwbHk6dC5sZW5ndGg/ZnVuY3Rpb24oZSx0KXtMLmFwcGx5KGUsTy5jYWxsKHQpKX06ZnVuY3Rpb24oZSx0KXt2YXIgbj1lLmxlbmd0aCxyPTA7d2hpbGUoZVtuKytdPXRbcisrXSk7ZS5sZW5ndGg9bi0xfX19ZnVuY3Rpb24gc2UodCxlLG4scil7dmFyIGksbyxhLHMsdSxsLGMsZj1lJiZlLm93bmVyRG9jdW1lbnQscD1lP2Uubm9kZVR5cGU6OTtpZihuPW58fFtdLCJzdHJpbmciIT10eXBlb2YgdHx8IXR8fDEhPT1wJiY5IT09cCYmMTEhPT1wKXJldHVybiBuO2lmKCFyJiYoVChlKSxlPWV8fEMsRSkpe2lmKDExIT09cCYmKHU9Wi5leGVjKHQpKSlpZihpPXVbMV0pe2lmKDk9PT1wKXtpZighKGE9ZS5nZXRFbGVtZW50QnlJZChpKSkpcmV0dXJuIG47aWYoYS5pZD09PWkpcmV0dXJuIG4ucHVzaChhKSxufWVsc2UgaWYoZiYmKGE9Zi5nZXRFbGVtZW50QnlJZChpKSkmJnkoZSxhKSYmYS5pZD09PWkpcmV0dXJuIG4ucHVzaChhKSxufWVsc2V7aWYodVsyXSlyZXR1cm4gSC5hcHBseShuLGUuZ2V0RWxlbWVudHNCeVRhZ05hbWUodCkpLG47aWYoKGk9dVszXSkmJmQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSYmZS5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKXJldHVybiBILmFwcGx5KG4sZS5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKGkpKSxufWlmKGQucXNhJiYhTlt0KyIgIl0mJighdnx8IXYudGVzdCh0KSkmJigxIT09cHx8Im9iamVjdCIhPT1lLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkpKXtpZihjPXQsZj1lLDE9PT1wJiYoVS50ZXN0KHQpfHx6LnRlc3QodCkpKXsoZj1lZS50ZXN0KHQpJiZ5ZShlLnBhcmVudE5vZGUpfHxlKT09PWUmJmQuc2NvcGV8fCgocz1lLmdldEF0dHJpYnV0ZSgiaWQiKSk/cz1zLnJlcGxhY2UocmUsaWUpOmUuc2V0QXR0cmlidXRlKCJpZCIscz1TKSksbz0obD1oKHQpKS5sZW5ndGg7d2hpbGUoby0tKWxbb109KHM/IiMiK3M6IjpzY29wZSIpKyIgIit4ZShsW29dKTtjPWwuam9pbigiLCIpfXRyeXtyZXR1cm4gSC5hcHBseShuLGYucXVlcnlTZWxlY3RvckFsbChjKSksbn1jYXRjaChlKXtOKHQsITApfWZpbmFsbHl7cz09PVMmJmUucmVtb3ZlQXR0cmlidXRlKCJpZCIpfX19cmV0dXJuIGcodC5yZXBsYWNlKCQsIiQxIiksZSxuLHIpfWZ1bmN0aW9uIHVlKCl7dmFyIHI9W107cmV0dXJuIGZ1bmN0aW9uIGUodCxuKXtyZXR1cm4gci5wdXNoKHQrIiAiKT5iLmNhY2hlTGVuZ3RoJiZkZWxldGUgZVtyLnNoaWZ0KCldLGVbdCsiICJdPW59fWZ1bmN0aW9uIGxlKGUpe3JldHVybiBlW1NdPSEwLGV9ZnVuY3Rpb24gY2UoZSl7dmFyIHQ9Qy5jcmVhdGVFbGVtZW50KCJmaWVsZHNldCIpO3RyeXtyZXR1cm4hIWUodCl9Y2F0Y2goZSl7cmV0dXJuITF9ZmluYWxseXt0LnBhcmVudE5vZGUmJnQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0KSx0PW51bGx9fWZ1bmN0aW9uIGZlKGUsdCl7dmFyIG49ZS5zcGxpdCgifCIpLHI9bi5sZW5ndGg7d2hpbGUoci0tKWIuYXR0ckhhbmRsZVtuW3JdXT10fWZ1bmN0aW9uIHBlKGUsdCl7dmFyIG49dCYmZSxyPW4mJjE9PT1lLm5vZGVUeXBlJiYxPT09dC5ub2RlVHlwZSYmZS5zb3VyY2VJbmRleC10LnNvdXJjZUluZGV4O2lmKHIpcmV0dXJuIHI7aWYobil3aGlsZShuPW4ubmV4dFNpYmxpbmcpaWYobj09PXQpcmV0dXJuLTE7cmV0dXJuIGU/MTotMX1mdW5jdGlvbiBkZSh0KXtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuImlucHV0Ij09PWUubm9kZU5hbWUudG9Mb3dlckNhc2UoKSYmZS50eXBlPT09dH19ZnVuY3Rpb24gaGUobil7cmV0dXJuIGZ1bmN0aW9uKGUpe3ZhciB0PWUubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtyZXR1cm4oImlucHV0Ij09PXR8fCJidXR0b24iPT09dCkmJmUudHlwZT09PW59fWZ1bmN0aW9uIGdlKHQpe3JldHVybiBmdW5jdGlvbihlKXtyZXR1cm4iZm9ybSJpbiBlP2UucGFyZW50Tm9kZSYmITE9PT1lLmRpc2FibGVkPyJsYWJlbCJpbiBlPyJsYWJlbCJpbiBlLnBhcmVudE5vZGU/ZS5wYXJlbnROb2RlLmRpc2FibGVkPT09dDplLmRpc2FibGVkPT09dDplLmlzRGlzYWJsZWQ9PT10fHxlLmlzRGlzYWJsZWQhPT0hdCYmYWUoZSk9PT10OmUuZGlzYWJsZWQ9PT10OiJsYWJlbCJpbiBlJiZlLmRpc2FibGVkPT09dH19ZnVuY3Rpb24gdmUoYSl7cmV0dXJuIGxlKGZ1bmN0aW9uKG8pe3JldHVybiBvPStvLGxlKGZ1bmN0aW9uKGUsdCl7dmFyIG4scj1hKFtdLGUubGVuZ3RoLG8pLGk9ci5sZW5ndGg7d2hpbGUoaS0tKWVbbj1yW2ldXSYmKGVbbl09ISh0W25dPWVbbl0pKX0pfSl9ZnVuY3Rpb24geWUoZSl7cmV0dXJuIGUmJiJ1bmRlZmluZWQiIT10eXBlb2YgZS5nZXRFbGVtZW50c0J5VGFnTmFtZSYmZX1mb3IoZSBpbiBkPXNlLnN1cHBvcnQ9e30saT1zZS5pc1hNTD1mdW5jdGlvbihlKXt2YXIgdD1lJiZlLm5hbWVzcGFjZVVSSSxuPWUmJihlLm93bmVyRG9jdW1lbnR8fGUpLmRvY3VtZW50RWxlbWVudDtyZXR1cm4hWS50ZXN0KHR8fG4mJm4ubm9kZU5hbWV8fCJIVE1MIil9LFQ9c2Uuc2V0RG9jdW1lbnQ9ZnVuY3Rpb24oZSl7dmFyIHQsbixyPWU/ZS5vd25lckRvY3VtZW50fHxlOnA7cmV0dXJuIHIhPUMmJjk9PT1yLm5vZGVUeXBlJiZyLmRvY3VtZW50RWxlbWVudCYmKGE9KEM9cikuZG9jdW1lbnRFbGVtZW50LEU9IWkoQykscCE9QyYmKG49Qy5kZWZhdWx0VmlldykmJm4udG9wIT09biYmKG4uYWRkRXZlbnRMaXN0ZW5lcj9uLmFkZEV2ZW50TGlzdGVuZXIoInVubG9hZCIsb2UsITEpOm4uYXR0YWNoRXZlbnQmJm4uYXR0YWNoRXZlbnQoIm9udW5sb2FkIixvZSkpLGQuc2NvcGU9Y2UoZnVuY3Rpb24oZSl7cmV0dXJuIGEuYXBwZW5kQ2hpbGQoZSkuYXBwZW5kQ2hpbGQoQy5jcmVhdGVFbGVtZW50KCJkaXYiKSksInVuZGVmaW5lZCIhPXR5cGVvZiBlLnF1ZXJ5U2VsZWN0b3JBbGwmJiFlLnF1ZXJ5U2VsZWN0b3JBbGwoIjpzY29wZSBmaWVsZHNldCBkaXYiKS5sZW5ndGh9KSxkLmF0dHJpYnV0ZXM9Y2UoZnVuY3Rpb24oZSl7cmV0dXJuIGUuY2xhc3NOYW1lPSJpIiwhZS5nZXRBdHRyaWJ1dGUoImNsYXNzTmFtZSIpfSksZC5nZXRFbGVtZW50c0J5VGFnTmFtZT1jZShmdW5jdGlvbihlKXtyZXR1cm4gZS5hcHBlbmRDaGlsZChDLmNyZWF0ZUNvbW1lbnQoIiIpKSwhZS5nZXRFbGVtZW50c0J5VGFnTmFtZSgiKiIpLmxlbmd0aH0pLGQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZT1LLnRlc3QoQy5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKSxkLmdldEJ5SWQ9Y2UoZnVuY3Rpb24oZSl7cmV0dXJuIGEuYXBwZW5kQ2hpbGQoZSkuaWQ9UywhQy5nZXRFbGVtZW50c0J5TmFtZXx8IUMuZ2V0RWxlbWVudHNCeU5hbWUoUykubGVuZ3RofSksZC5nZXRCeUlkPyhiLmZpbHRlci5JRD1mdW5jdGlvbihlKXt2YXIgdD1lLnJlcGxhY2UodGUsbmUpO3JldHVybiBmdW5jdGlvbihlKXtyZXR1cm4gZS5nZXRBdHRyaWJ1dGUoImlkIik9PT10fX0sYi5maW5kLklEPWZ1bmN0aW9uKGUsdCl7aWYoInVuZGVmaW5lZCIhPXR5cGVvZiB0LmdldEVsZW1lbnRCeUlkJiZFKXt2YXIgbj10LmdldEVsZW1lbnRCeUlkKGUpO3JldHVybiBuP1tuXTpbXX19KTooYi5maWx0ZXIuSUQ9ZnVuY3Rpb24oZSl7dmFyIG49ZS5yZXBsYWNlKHRlLG5lKTtyZXR1cm4gZnVuY3Rpb24oZSl7dmFyIHQ9InVuZGVmaW5lZCIhPXR5cGVvZiBlLmdldEF0dHJpYnV0ZU5vZGUmJmUuZ2V0QXR0cmlidXRlTm9kZSgiaWQiKTtyZXR1cm4gdCYmdC52YWx1ZT09PW59fSxiLmZpbmQuSUQ9ZnVuY3Rpb24oZSx0KXtpZigidW5kZWZpbmVkIiE9dHlwZW9mIHQuZ2V0RWxlbWVudEJ5SWQmJkUpe3ZhciBuLHIsaSxvPXQuZ2V0RWxlbWVudEJ5SWQoZSk7aWYobyl7aWYoKG49by5nZXRBdHRyaWJ1dGVOb2RlKCJpZCIpKSYmbi52YWx1ZT09PWUpcmV0dXJuW29dO2k9dC5nZXRFbGVtZW50c0J5TmFtZShlKSxyPTA7d2hpbGUobz1pW3IrK10paWYoKG49by5nZXRBdHRyaWJ1dGVOb2RlKCJpZCIpKSYmbi52YWx1ZT09PWUpcmV0dXJuW29dfXJldHVybltdfX0pLGIuZmluZC5UQUc9ZC5nZXRFbGVtZW50c0J5VGFnTmFtZT9mdW5jdGlvbihlLHQpe3JldHVybiJ1bmRlZmluZWQiIT10eXBlb2YgdC5nZXRFbGVtZW50c0J5VGFnTmFtZT90LmdldEVsZW1lbnRzQnlUYWdOYW1lKGUpOmQucXNhP3QucXVlcnlTZWxlY3RvckFsbChlKTp2b2lkIDB9OmZ1bmN0aW9uKGUsdCl7dmFyIG4scj1bXSxpPTAsbz10LmdldEVsZW1lbnRzQnlUYWdOYW1lKGUpO2lmKCIqIj09PWUpe3doaWxlKG49b1tpKytdKTE9PT1uLm5vZGVUeXBlJiZyLnB1c2gobik7cmV0dXJuIHJ9cmV0dXJuIG99LGIuZmluZC5DTEFTUz1kLmdldEVsZW1lbnRzQnlDbGFzc05hbWUmJmZ1bmN0aW9uKGUsdCl7aWYoInVuZGVmaW5lZCIhPXR5cGVvZiB0LmdldEVsZW1lbnRzQnlDbGFzc05hbWUmJkUpcmV0dXJuIHQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShlKX0scz1bXSx2PVtdLChkLnFzYT1LLnRlc3QoQy5xdWVyeVNlbGVjdG9yQWxsKSkmJihjZShmdW5jdGlvbihlKXt2YXIgdDthLmFwcGVuZENoaWxkKGUpLmlubmVySFRNTD0iPGEgaWQ9JyIrUysiJz48L2E+PHNlbGVjdCBpZD0nIitTKyItXHJcXCcgbXNhbGxvd2NhcHR1cmU9Jyc+PG9wdGlvbiBzZWxlY3RlZD0nJz48L29wdGlvbj48L3NlbGVjdD4iLGUucXVlcnlTZWxlY3RvckFsbCgiW21zYWxsb3djYXB0dXJlXj0nJ10iKS5sZW5ndGgmJnYucHVzaCgiWypeJF09IitNKyIqKD86Jyd8XCJcIikiKSxlLnF1ZXJ5U2VsZWN0b3JBbGwoIltzZWxlY3RlZF0iKS5sZW5ndGh8fHYucHVzaCgiXFxbIitNKyIqKD86dmFsdWV8IitSKyIpIiksZS5xdWVyeVNlbGVjdG9yQWxsKCJbaWR+PSIrUysiLV0iKS5sZW5ndGh8fHYucHVzaCgifj0iKSwodD1DLmNyZWF0ZUVsZW1lbnQoImlucHV0IikpLnNldEF0dHJpYnV0ZSgibmFtZSIsIiIpLGUuYXBwZW5kQ2hpbGQodCksZS5xdWVyeVNlbGVjdG9yQWxsKCJbbmFtZT0nJ10iKS5sZW5ndGh8fHYucHVzaCgiXFxbIitNKyIqbmFtZSIrTSsiKj0iK00rIiooPzonJ3xcIlwiKSIpLGUucXVlcnlTZWxlY3RvckFsbCgiOmNoZWNrZWQiKS5sZW5ndGh8fHYucHVzaCgiOmNoZWNrZWQiKSxlLnF1ZXJ5U2VsZWN0b3JBbGwoImEjIitTKyIrKiIpLmxlbmd0aHx8di5wdXNoKCIuIy4rWyt+XSIpLGUucXVlcnlTZWxlY3RvckFsbCgiXFxcZiIpLHYucHVzaCgiW1xcclxcblxcZl0iKX0pLGNlKGZ1bmN0aW9uKGUpe2UuaW5uZXJIVE1MPSI8YSBocmVmPScnIGRpc2FibGVkPSdkaXNhYmxlZCc+PC9hPjxzZWxlY3QgZGlzYWJsZWQ9J2Rpc2FibGVkJz48b3B0aW9uLz48L3NlbGVjdD4iO3ZhciB0PUMuY3JlYXRlRWxlbWVudCgiaW5wdXQiKTt0LnNldEF0dHJpYnV0ZSgidHlwZSIsImhpZGRlbiIpLGUuYXBwZW5kQ2hpbGQodCkuc2V0QXR0cmlidXRlKCJuYW1lIiwiRCIpLGUucXVlcnlTZWxlY3RvckFsbCgiW25hbWU9ZF0iKS5sZW5ndGgmJnYucHVzaCgibmFtZSIrTSsiKlsqXiR8IX5dPz0iKSwyIT09ZS5xdWVyeVNlbGVjdG9yQWxsKCI6ZW5hYmxlZCIpLmxlbmd0aCYmdi5wdXNoKCI6ZW5hYmxlZCIsIjpkaXNhYmxlZCIpLGEuYXBwZW5kQ2hpbGQoZSkuZGlzYWJsZWQ9ITAsMiE9PWUucXVlcnlTZWxlY3RvckFsbCgiOmRpc2FibGVkIikubGVuZ3RoJiZ2LnB1c2goIjplbmFibGVkIiwiOmRpc2FibGVkIiksZS5xdWVyeVNlbGVjdG9yQWxsKCIqLDp4Iiksdi5wdXNoKCIsLio6Iil9KSksKGQubWF0Y2hlc1NlbGVjdG9yPUsudGVzdChjPWEubWF0Y2hlc3x8YS53ZWJraXRNYXRjaGVzU2VsZWN0b3J8fGEubW96TWF0Y2hlc1NlbGVjdG9yfHxhLm9NYXRjaGVzU2VsZWN0b3J8fGEubXNNYXRjaGVzU2VsZWN0b3IpKSYmY2UoZnVuY3Rpb24oZSl7ZC5kaXNjb25uZWN0ZWRNYXRjaD1jLmNhbGwoZSwiKiIpLGMuY2FsbChlLCJbcyE9JyddOngiKSxzLnB1c2goIiE9IixGKX0pLHY9di5sZW5ndGgmJm5ldyBSZWdFeHAodi5qb2luKCJ8IikpLHM9cy5sZW5ndGgmJm5ldyBSZWdFeHAocy5qb2luKCJ8IikpLHQ9Sy50ZXN0KGEuY29tcGFyZURvY3VtZW50UG9zaXRpb24pLHk9dHx8Sy50ZXN0KGEuY29udGFpbnMpP2Z1bmN0aW9uKGUsdCl7dmFyIG49OT09PWUubm9kZVR5cGU/ZS5kb2N1bWVudEVsZW1lbnQ6ZSxyPXQmJnQucGFyZW50Tm9kZTtyZXR1cm4gZT09PXJ8fCEoIXJ8fDEhPT1yLm5vZGVUeXBlfHwhKG4uY29udGFpbnM/bi5jb250YWlucyhyKTplLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uJiYxNiZlLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKHIpKSl9OmZ1bmN0aW9uKGUsdCl7aWYodCl3aGlsZSh0PXQucGFyZW50Tm9kZSlpZih0PT09ZSlyZXR1cm4hMDtyZXR1cm4hMX0saj10P2Z1bmN0aW9uKGUsdCl7aWYoZT09PXQpcmV0dXJuIGw9ITAsMDt2YXIgbj0hZS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbi0hdC5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbjtyZXR1cm4gbnx8KDEmKG49KGUub3duZXJEb2N1bWVudHx8ZSk9PSh0Lm93bmVyRG9jdW1lbnR8fHQpP2UuY29tcGFyZURvY3VtZW50UG9zaXRpb24odCk6MSl8fCFkLnNvcnREZXRhY2hlZCYmdC5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbihlKT09PW4/ZT09Q3x8ZS5vd25lckRvY3VtZW50PT1wJiZ5KHAsZSk/LTE6dD09Q3x8dC5vd25lckRvY3VtZW50PT1wJiZ5KHAsdCk/MTp1P1AodSxlKS1QKHUsdCk6MDo0Jm4/LTE6MSl9OmZ1bmN0aW9uKGUsdCl7aWYoZT09PXQpcmV0dXJuIGw9ITAsMDt2YXIgbixyPTAsaT1lLnBhcmVudE5vZGUsbz10LnBhcmVudE5vZGUsYT1bZV0scz1bdF07aWYoIWl8fCFvKXJldHVybiBlPT1DPy0xOnQ9PUM/MTppPy0xOm8/MTp1P1AodSxlKS1QKHUsdCk6MDtpZihpPT09bylyZXR1cm4gcGUoZSx0KTtuPWU7d2hpbGUobj1uLnBhcmVudE5vZGUpYS51bnNoaWZ0KG4pO249dDt3aGlsZShuPW4ucGFyZW50Tm9kZSlzLnVuc2hpZnQobik7d2hpbGUoYVtyXT09PXNbcl0pcisrO3JldHVybiByP3BlKGFbcl0sc1tyXSk6YVtyXT09cD8tMTpzW3JdPT1wPzE6MH0pLEN9LHNlLm1hdGNoZXM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gc2UoZSxudWxsLG51bGwsdCl9LHNlLm1hdGNoZXNTZWxlY3Rvcj1mdW5jdGlvbihlLHQpe2lmKFQoZSksZC5tYXRjaGVzU2VsZWN0b3ImJkUmJiFOW3QrIiAiXSYmKCFzfHwhcy50ZXN0KHQpKSYmKCF2fHwhdi50ZXN0KHQpKSl0cnl7dmFyIG49Yy5jYWxsKGUsdCk7aWYobnx8ZC5kaXNjb25uZWN0ZWRNYXRjaHx8ZS5kb2N1bWVudCYmMTEhPT1lLmRvY3VtZW50Lm5vZGVUeXBlKXJldHVybiBufWNhdGNoKGUpe04odCwhMCl9cmV0dXJuIDA8c2UodCxDLG51bGwsW2VdKS5sZW5ndGh9LHNlLmNvbnRhaW5zPWZ1bmN0aW9uKGUsdCl7cmV0dXJuKGUub3duZXJEb2N1bWVudHx8ZSkhPUMmJlQoZSkseShlLHQpfSxzZS5hdHRyPWZ1bmN0aW9uKGUsdCl7KGUub3duZXJEb2N1bWVudHx8ZSkhPUMmJlQoZSk7dmFyIG49Yi5hdHRySGFuZGxlW3QudG9Mb3dlckNhc2UoKV0scj1uJiZELmNhbGwoYi5hdHRySGFuZGxlLHQudG9Mb3dlckNhc2UoKSk/bihlLHQsIUUpOnZvaWQgMDtyZXR1cm4gdm9pZCAwIT09cj9yOmQuYXR0cmlidXRlc3x8IUU/ZS5nZXRBdHRyaWJ1dGUodCk6KHI9ZS5nZXRBdHRyaWJ1dGVOb2RlKHQpKSYmci5zcGVjaWZpZWQ/ci52YWx1ZTpudWxsfSxzZS5lc2NhcGU9ZnVuY3Rpb24oZSl7cmV0dXJuKGUrIiIpLnJlcGxhY2UocmUsaWUpfSxzZS5lcnJvcj1mdW5jdGlvbihlKXt0aHJvdyBuZXcgRXJyb3IoIlN5bnRheCBlcnJvciwgdW5yZWNvZ25pemVkIGV4cHJlc3Npb246ICIrZSl9LHNlLnVuaXF1ZVNvcnQ9ZnVuY3Rpb24oZSl7dmFyIHQsbj1bXSxyPTAsaT0wO2lmKGw9IWQuZGV0ZWN0RHVwbGljYXRlcyx1PSFkLnNvcnRTdGFibGUmJmUuc2xpY2UoMCksZS5zb3J0KGopLGwpe3doaWxlKHQ9ZVtpKytdKXQ9PT1lW2ldJiYocj1uLnB1c2goaSkpO3doaWxlKHItLSllLnNwbGljZShuW3JdLDEpfXJldHVybiB1PW51bGwsZX0sbz1zZS5nZXRUZXh0PWZ1bmN0aW9uKGUpe3ZhciB0LG49IiIscj0wLGk9ZS5ub2RlVHlwZTtpZihpKXtpZigxPT09aXx8OT09PWl8fDExPT09aSl7aWYoInN0cmluZyI9PXR5cGVvZiBlLnRleHRDb250ZW50KXJldHVybiBlLnRleHRDb250ZW50O2ZvcihlPWUuZmlyc3RDaGlsZDtlO2U9ZS5uZXh0U2libGluZyluKz1vKGUpfWVsc2UgaWYoMz09PWl8fDQ9PT1pKXJldHVybiBlLm5vZGVWYWx1ZX1lbHNlIHdoaWxlKHQ9ZVtyKytdKW4rPW8odCk7cmV0dXJuIG59LChiPXNlLnNlbGVjdG9ycz17Y2FjaGVMZW5ndGg6NTAsY3JlYXRlUHNldWRvOmxlLG1hdGNoOkcsYXR0ckhhbmRsZTp7fSxmaW5kOnt9LHJlbGF0aXZlOnsiPiI6e2RpcjoicGFyZW50Tm9kZSIsZmlyc3Q6ITB9LCIgIjp7ZGlyOiJwYXJlbnROb2RlIn0sIisiOntkaXI6InByZXZpb3VzU2libGluZyIsZmlyc3Q6ITB9LCJ+Ijp7ZGlyOiJwcmV2aW91c1NpYmxpbmcifX0scHJlRmlsdGVyOntBVFRSOmZ1bmN0aW9uKGUpe3JldHVybiBlWzFdPWVbMV0ucmVwbGFjZSh0ZSxuZSksZVszXT0oZVszXXx8ZVs0XXx8ZVs1XXx8IiIpLnJlcGxhY2UodGUsbmUpLCJ+PSI9PT1lWzJdJiYoZVszXT0iICIrZVszXSsiICIpLGUuc2xpY2UoMCw0KX0sQ0hJTEQ6ZnVuY3Rpb24oZSl7cmV0dXJuIGVbMV09ZVsxXS50b0xvd2VyQ2FzZSgpLCJudGgiPT09ZVsxXS5zbGljZSgwLDMpPyhlWzNdfHxzZS5lcnJvcihlWzBdKSxlWzRdPSsoZVs0XT9lWzVdKyhlWzZdfHwxKToyKigiZXZlbiI9PT1lWzNdfHwib2RkIj09PWVbM10pKSxlWzVdPSsoZVs3XStlWzhdfHwib2RkIj09PWVbM10pKTplWzNdJiZzZS5lcnJvcihlWzBdKSxlfSxQU0VVRE86ZnVuY3Rpb24oZSl7dmFyIHQsbj0hZVs2XSYmZVsyXTtyZXR1cm4gRy5DSElMRC50ZXN0KGVbMF0pP251bGw6KGVbM10/ZVsyXT1lWzRdfHxlWzVdfHwiIjpuJiZYLnRlc3QobikmJih0PWgobiwhMCkpJiYodD1uLmluZGV4T2YoIikiLG4ubGVuZ3RoLXQpLW4ubGVuZ3RoKSYmKGVbMF09ZVswXS5zbGljZSgwLHQpLGVbMl09bi5zbGljZSgwLHQpKSxlLnNsaWNlKDAsMykpfX0sZmlsdGVyOntUQUc6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5yZXBsYWNlKHRlLG5lKS50b0xvd2VyQ2FzZSgpO3JldHVybiIqIj09PWU/ZnVuY3Rpb24oKXtyZXR1cm4hMH06ZnVuY3Rpb24oZSl7cmV0dXJuIGUubm9kZU5hbWUmJmUubm9kZU5hbWUudG9Mb3dlckNhc2UoKT09PXR9fSxDTEFTUzpmdW5jdGlvbihlKXt2YXIgdD1tW2UrIiAiXTtyZXR1cm4gdHx8KHQ9bmV3IFJlZ0V4cCgiKF58IitNKyIpIitlKyIoIitNKyJ8JCkiKSkmJm0oZSxmdW5jdGlvbihlKXtyZXR1cm4gdC50ZXN0KCJzdHJpbmciPT10eXBlb2YgZS5jbGFzc05hbWUmJmUuY2xhc3NOYW1lfHwidW5kZWZpbmVkIiE9dHlwZW9mIGUuZ2V0QXR0cmlidXRlJiZlLmdldEF0dHJpYnV0ZSgiY2xhc3MiKXx8IiIpfSl9LEFUVFI6ZnVuY3Rpb24obixyLGkpe3JldHVybiBmdW5jdGlvbihlKXt2YXIgdD1zZS5hdHRyKGUsbik7cmV0dXJuIG51bGw9PXQ/IiE9Ij09PXI6IXJ8fCh0Kz0iIiwiPSI9PT1yP3Q9PT1pOiIhPSI9PT1yP3QhPT1pOiJePSI9PT1yP2kmJjA9PT10LmluZGV4T2YoaSk6Iio9Ij09PXI/aSYmLTE8dC5pbmRleE9mKGkpOiIkPSI9PT1yP2kmJnQuc2xpY2UoLWkubGVuZ3RoKT09PWk6In49Ij09PXI/LTE8KCIgIit0LnJlcGxhY2UoQiwiICIpKyIgIikuaW5kZXhPZihpKToifD0iPT09ciYmKHQ9PT1pfHx0LnNsaWNlKDAsaS5sZW5ndGgrMSk9PT1pKyItIikpfX0sQ0hJTEQ6ZnVuY3Rpb24oaCxlLHQsZyx2KXt2YXIgeT0ibnRoIiE9PWguc2xpY2UoMCwzKSxtPSJsYXN0IiE9PWguc2xpY2UoLTQpLHg9Im9mLXR5cGUiPT09ZTtyZXR1cm4gMT09PWcmJjA9PT12P2Z1bmN0aW9uKGUpe3JldHVybiEhZS5wYXJlbnROb2RlfTpmdW5jdGlvbihlLHQsbil7dmFyIHIsaSxvLGEscyx1LGw9eSE9PW0/Im5leHRTaWJsaW5nIjoicHJldmlvdXNTaWJsaW5nIixjPWUucGFyZW50Tm9kZSxmPXgmJmUubm9kZU5hbWUudG9Mb3dlckNhc2UoKSxwPSFuJiYheCxkPSExO2lmKGMpe2lmKHkpe3doaWxlKGwpe2E9ZTt3aGlsZShhPWFbbF0paWYoeD9hLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk9PT1mOjE9PT1hLm5vZGVUeXBlKXJldHVybiExO3U9bD0ib25seSI9PT1oJiYhdSYmIm5leHRTaWJsaW5nIn1yZXR1cm4hMH1pZih1PVttP2MuZmlyc3RDaGlsZDpjLmxhc3RDaGlsZF0sbSYmcCl7ZD0ocz0ocj0oaT0obz0oYT1jKVtTXXx8KGFbU109e30pKVthLnVuaXF1ZUlEXXx8KG9bYS51bmlxdWVJRF09e30pKVtoXXx8W10pWzBdPT09ayYmclsxXSkmJnJbMl0sYT1zJiZjLmNoaWxkTm9kZXNbc107d2hpbGUoYT0rK3MmJmEmJmFbbF18fChkPXM9MCl8fHUucG9wKCkpaWYoMT09PWEubm9kZVR5cGUmJisrZCYmYT09PWUpe2lbaF09W2sscyxkXTticmVha319ZWxzZSBpZihwJiYoZD1zPShyPShpPShvPShhPWUpW1NdfHwoYVtTXT17fSkpW2EudW5pcXVlSURdfHwob1thLnVuaXF1ZUlEXT17fSkpW2hdfHxbXSlbMF09PT1rJiZyWzFdKSwhMT09PWQpd2hpbGUoYT0rK3MmJmEmJmFbbF18fChkPXM9MCl8fHUucG9wKCkpaWYoKHg/YS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpPT09ZjoxPT09YS5ub2RlVHlwZSkmJisrZCYmKHAmJigoaT0obz1hW1NdfHwoYVtTXT17fSkpW2EudW5pcXVlSURdfHwob1thLnVuaXF1ZUlEXT17fSkpW2hdPVtrLGRdKSxhPT09ZSkpYnJlYWs7cmV0dXJuKGQtPXYpPT09Z3x8ZCVnPT0wJiYwPD1kL2d9fX0sUFNFVURPOmZ1bmN0aW9uKGUsbyl7dmFyIHQsYT1iLnBzZXVkb3NbZV18fGIuc2V0RmlsdGVyc1tlLnRvTG93ZXJDYXNlKCldfHxzZS5lcnJvcigidW5zdXBwb3J0ZWQgcHNldWRvOiAiK2UpO3JldHVybiBhW1NdP2Eobyk6MTxhLmxlbmd0aD8odD1bZSxlLCIiLG9dLGIuc2V0RmlsdGVycy5oYXNPd25Qcm9wZXJ0eShlLnRvTG93ZXJDYXNlKCkpP2xlKGZ1bmN0aW9uKGUsdCl7dmFyIG4scj1hKGUsbyksaT1yLmxlbmd0aDt3aGlsZShpLS0pZVtuPVAoZSxyW2ldKV09ISh0W25dPXJbaV0pfSk6ZnVuY3Rpb24oZSl7cmV0dXJuIGEoZSwwLHQpfSk6YX19LHBzZXVkb3M6e25vdDpsZShmdW5jdGlvbihlKXt2YXIgcj1bXSxpPVtdLHM9ZihlLnJlcGxhY2UoJCwiJDEiKSk7cmV0dXJuIHNbU10/bGUoZnVuY3Rpb24oZSx0LG4scil7dmFyIGksbz1zKGUsbnVsbCxyLFtdKSxhPWUubGVuZ3RoO3doaWxlKGEtLSkoaT1vW2FdKSYmKGVbYV09ISh0W2FdPWkpKX0pOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gclswXT1lLHMocixudWxsLG4saSksclswXT1udWxsLCFpLnBvcCgpfX0pLGhhczpsZShmdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuIDA8c2UodCxlKS5sZW5ndGh9fSksY29udGFpbnM6bGUoZnVuY3Rpb24odCl7cmV0dXJuIHQ9dC5yZXBsYWNlKHRlLG5lKSxmdW5jdGlvbihlKXtyZXR1cm4tMTwoZS50ZXh0Q29udGVudHx8byhlKSkuaW5kZXhPZih0KX19KSxsYW5nOmxlKGZ1bmN0aW9uKG4pe3JldHVybiBWLnRlc3Qobnx8IiIpfHxzZS5lcnJvcigidW5zdXBwb3J0ZWQgbGFuZzogIituKSxuPW4ucmVwbGFjZSh0ZSxuZSkudG9Mb3dlckNhc2UoKSxmdW5jdGlvbihlKXt2YXIgdDtkb3tpZih0PUU/ZS5sYW5nOmUuZ2V0QXR0cmlidXRlKCJ4bWw6bGFuZyIpfHxlLmdldEF0dHJpYnV0ZSgibGFuZyIpKXJldHVybih0PXQudG9Mb3dlckNhc2UoKSk9PT1ufHwwPT09dC5pbmRleE9mKG4rIi0iKX13aGlsZSgoZT1lLnBhcmVudE5vZGUpJiYxPT09ZS5ub2RlVHlwZSk7cmV0dXJuITF9fSksdGFyZ2V0OmZ1bmN0aW9uKGUpe3ZhciB0PW4ubG9jYXRpb24mJm4ubG9jYXRpb24uaGFzaDtyZXR1cm4gdCYmdC5zbGljZSgxKT09PWUuaWR9LHJvb3Q6ZnVuY3Rpb24oZSl7cmV0dXJuIGU9PT1hfSxmb2N1czpmdW5jdGlvbihlKXtyZXR1cm4gZT09PUMuYWN0aXZlRWxlbWVudCYmKCFDLmhhc0ZvY3VzfHxDLmhhc0ZvY3VzKCkpJiYhIShlLnR5cGV8fGUuaHJlZnx8fmUudGFiSW5kZXgpfSxlbmFibGVkOmdlKCExKSxkaXNhYmxlZDpnZSghMCksY2hlY2tlZDpmdW5jdGlvbihlKXt2YXIgdD1lLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7cmV0dXJuImlucHV0Ij09PXQmJiEhZS5jaGVja2VkfHwib3B0aW9uIj09PXQmJiEhZS5zZWxlY3RlZH0sc2VsZWN0ZWQ6ZnVuY3Rpb24oZSl7cmV0dXJuIGUucGFyZW50Tm9kZSYmZS5wYXJlbnROb2RlLnNlbGVjdGVkSW5kZXgsITA9PT1lLnNlbGVjdGVkfSxlbXB0eTpmdW5jdGlvbihlKXtmb3IoZT1lLmZpcnN0Q2hpbGQ7ZTtlPWUubmV4dFNpYmxpbmcpaWYoZS5ub2RlVHlwZTw2KXJldHVybiExO3JldHVybiEwfSxwYXJlbnQ6ZnVuY3Rpb24oZSl7cmV0dXJuIWIucHNldWRvcy5lbXB0eShlKX0saGVhZGVyOmZ1bmN0aW9uKGUpe3JldHVybiBKLnRlc3QoZS5ub2RlTmFtZSl9LGlucHV0OmZ1bmN0aW9uKGUpe3JldHVybiBRLnRlc3QoZS5ub2RlTmFtZSl9LGJ1dHRvbjpmdW5jdGlvbihlKXt2YXIgdD1lLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7cmV0dXJuImlucHV0Ij09PXQmJiJidXR0b24iPT09ZS50eXBlfHwiYnV0dG9uIj09PXR9LHRleHQ6ZnVuY3Rpb24oZSl7dmFyIHQ7cmV0dXJuImlucHV0Ij09PWUubm9kZU5hbWUudG9Mb3dlckNhc2UoKSYmInRleHQiPT09ZS50eXBlJiYobnVsbD09KHQ9ZS5nZXRBdHRyaWJ1dGUoInR5cGUiKSl8fCJ0ZXh0Ij09PXQudG9Mb3dlckNhc2UoKSl9LGZpcnN0OnZlKGZ1bmN0aW9uKCl7cmV0dXJuWzBdfSksbGFzdDp2ZShmdW5jdGlvbihlLHQpe3JldHVyblt0LTFdfSksZXE6dmUoZnVuY3Rpb24oZSx0LG4pe3JldHVybltuPDA/bit0Om5dfSksZXZlbjp2ZShmdW5jdGlvbihlLHQpe2Zvcih2YXIgbj0wO248dDtuKz0yKWUucHVzaChuKTtyZXR1cm4gZX0pLG9kZDp2ZShmdW5jdGlvbihlLHQpe2Zvcih2YXIgbj0xO248dDtuKz0yKWUucHVzaChuKTtyZXR1cm4gZX0pLGx0OnZlKGZ1bmN0aW9uKGUsdCxuKXtmb3IodmFyIHI9bjwwP24rdDp0PG4/dDpuOzA8PS0tcjspZS5wdXNoKHIpO3JldHVybiBlfSksZ3Q6dmUoZnVuY3Rpb24oZSx0LG4pe2Zvcih2YXIgcj1uPDA/bit0Om47KytyPHQ7KWUucHVzaChyKTtyZXR1cm4gZX0pfX0pLnBzZXVkb3MubnRoPWIucHNldWRvcy5lcSx7cmFkaW86ITAsY2hlY2tib3g6ITAsZmlsZTohMCxwYXNzd29yZDohMCxpbWFnZTohMH0pYi5wc2V1ZG9zW2VdPWRlKGUpO2ZvcihlIGlue3N1Ym1pdDohMCxyZXNldDohMH0pYi5wc2V1ZG9zW2VdPWhlKGUpO2Z1bmN0aW9uIG1lKCl7fWZ1bmN0aW9uIHhlKGUpe2Zvcih2YXIgdD0wLG49ZS5sZW5ndGgscj0iIjt0PG47dCsrKXIrPWVbdF0udmFsdWU7cmV0dXJuIHJ9ZnVuY3Rpb24gYmUocyxlLHQpe3ZhciB1PWUuZGlyLGw9ZS5uZXh0LGM9bHx8dSxmPXQmJiJwYXJlbnROb2RlIj09PWMscD1yKys7cmV0dXJuIGUuZmlyc3Q/ZnVuY3Rpb24oZSx0LG4pe3doaWxlKGU9ZVt1XSlpZigxPT09ZS5ub2RlVHlwZXx8ZilyZXR1cm4gcyhlLHQsbik7cmV0dXJuITF9OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcixpLG8sYT1bayxwXTtpZihuKXt3aGlsZShlPWVbdV0paWYoKDE9PT1lLm5vZGVUeXBlfHxmKSYmcyhlLHQsbikpcmV0dXJuITB9ZWxzZSB3aGlsZShlPWVbdV0paWYoMT09PWUubm9kZVR5cGV8fGYpaWYoaT0obz1lW1NdfHwoZVtTXT17fSkpW2UudW5pcXVlSURdfHwob1tlLnVuaXF1ZUlEXT17fSksbCYmbD09PWUubm9kZU5hbWUudG9Mb3dlckNhc2UoKSllPWVbdV18fGU7ZWxzZXtpZigocj1pW2NdKSYmclswXT09PWsmJnJbMV09PT1wKXJldHVybiBhWzJdPXJbMl07aWYoKGlbY109YSlbMl09cyhlLHQsbikpcmV0dXJuITB9cmV0dXJuITF9fWZ1bmN0aW9uIHdlKGkpe3JldHVybiAxPGkubGVuZ3RoP2Z1bmN0aW9uKGUsdCxuKXt2YXIgcj1pLmxlbmd0aDt3aGlsZShyLS0paWYoIWlbcl0oZSx0LG4pKXJldHVybiExO3JldHVybiEwfTppWzBdfWZ1bmN0aW9uIFRlKGUsdCxuLHIsaSl7Zm9yKHZhciBvLGE9W10scz0wLHU9ZS5sZW5ndGgsbD1udWxsIT10O3M8dTtzKyspKG89ZVtzXSkmJihuJiYhbihvLHIsaSl8fChhLnB1c2gobyksbCYmdC5wdXNoKHMpKSk7cmV0dXJuIGF9ZnVuY3Rpb24gQ2UoZCxoLGcsdix5LGUpe3JldHVybiB2JiYhdltTXSYmKHY9Q2UodikpLHkmJiF5W1NdJiYoeT1DZSh5LGUpKSxsZShmdW5jdGlvbihlLHQsbixyKXt2YXIgaSxvLGEscz1bXSx1PVtdLGw9dC5sZW5ndGgsYz1lfHxmdW5jdGlvbihlLHQsbil7Zm9yKHZhciByPTAsaT10Lmxlbmd0aDtyPGk7cisrKXNlKGUsdFtyXSxuKTtyZXR1cm4gbn0oaHx8IioiLG4ubm9kZVR5cGU/W25dOm4sW10pLGY9IWR8fCFlJiZoP2M6VGUoYyxzLGQsbixyKSxwPWc/eXx8KGU/ZDpsfHx2KT9bXTp0OmY7aWYoZyYmZyhmLHAsbixyKSx2KXtpPVRlKHAsdSksdihpLFtdLG4sciksbz1pLmxlbmd0aDt3aGlsZShvLS0pKGE9aVtvXSkmJihwW3Vbb11dPSEoZlt1W29dXT1hKSl9aWYoZSl7aWYoeXx8ZCl7aWYoeSl7aT1bXSxvPXAubGVuZ3RoO3doaWxlKG8tLSkoYT1wW29dKSYmaS5wdXNoKGZbb109YSk7eShudWxsLHA9W10saSxyKX1vPXAubGVuZ3RoO3doaWxlKG8tLSkoYT1wW29dKSYmLTE8KGk9eT9QKGUsYSk6c1tvXSkmJihlW2ldPSEodFtpXT1hKSl9fWVsc2UgcD1UZShwPT09dD9wLnNwbGljZShsLHAubGVuZ3RoKTpwKSx5P3kobnVsbCx0LHAscik6SC5hcHBseSh0LHApfSl9ZnVuY3Rpb24gRWUoZSl7Zm9yKHZhciBpLHQsbixyPWUubGVuZ3RoLG89Yi5yZWxhdGl2ZVtlWzBdLnR5cGVdLGE9b3x8Yi5yZWxhdGl2ZVsiICJdLHM9bz8xOjAsdT1iZShmdW5jdGlvbihlKXtyZXR1cm4gZT09PWl9LGEsITApLGw9YmUoZnVuY3Rpb24oZSl7cmV0dXJuLTE8UChpLGUpfSxhLCEwKSxjPVtmdW5jdGlvbihlLHQsbil7dmFyIHI9IW8mJihufHx0IT09dyl8fCgoaT10KS5ub2RlVHlwZT91KGUsdCxuKTpsKGUsdCxuKSk7cmV0dXJuIGk9bnVsbCxyfV07czxyO3MrKylpZih0PWIucmVsYXRpdmVbZVtzXS50eXBlXSljPVtiZSh3ZShjKSx0KV07ZWxzZXtpZigodD1iLmZpbHRlcltlW3NdLnR5cGVdLmFwcGx5KG51bGwsZVtzXS5tYXRjaGVzKSlbU10pe2ZvcihuPSsrcztuPHI7bisrKWlmKGIucmVsYXRpdmVbZVtuXS50eXBlXSlicmVhaztyZXR1cm4gQ2UoMTxzJiZ3ZShjKSwxPHMmJnhlKGUuc2xpY2UoMCxzLTEpLmNvbmNhdCh7dmFsdWU6IiAiPT09ZVtzLTJdLnR5cGU/IioiOiIifSkpLnJlcGxhY2UoJCwiJDEiKSx0LHM8biYmRWUoZS5zbGljZShzLG4pKSxuPHImJkVlKGU9ZS5zbGljZShuKSksbjxyJiZ4ZShlKSl9Yy5wdXNoKHQpfXJldHVybiB3ZShjKX1yZXR1cm4gbWUucHJvdG90eXBlPWIuZmlsdGVycz1iLnBzZXVkb3MsYi5zZXRGaWx0ZXJzPW5ldyBtZSxoPXNlLnRva2VuaXplPWZ1bmN0aW9uKGUsdCl7dmFyIG4scixpLG8sYSxzLHUsbD14W2UrIiAiXTtpZihsKXJldHVybiB0PzA6bC5zbGljZSgwKTthPWUscz1bXSx1PWIucHJlRmlsdGVyO3doaWxlKGEpe2ZvcihvIGluIG4mJiEocj1fLmV4ZWMoYSkpfHwociYmKGE9YS5zbGljZShyWzBdLmxlbmd0aCl8fGEpLHMucHVzaChpPVtdKSksbj0hMSwocj16LmV4ZWMoYSkpJiYobj1yLnNoaWZ0KCksaS5wdXNoKHt2YWx1ZTpuLHR5cGU6clswXS5yZXBsYWNlKCQsIiAiKX0pLGE9YS5zbGljZShuLmxlbmd0aCkpLGIuZmlsdGVyKSEocj1HW29dLmV4ZWMoYSkpfHx1W29dJiYhKHI9dVtvXShyKSl8fChuPXIuc2hpZnQoKSxpLnB1c2goe3ZhbHVlOm4sdHlwZTpvLG1hdGNoZXM6cn0pLGE9YS5zbGljZShuLmxlbmd0aCkpO2lmKCFuKWJyZWFrfXJldHVybiB0P2EubGVuZ3RoOmE/c2UuZXJyb3IoZSk6eChlLHMpLnNsaWNlKDApfSxmPXNlLmNvbXBpbGU9ZnVuY3Rpb24oZSx0KXt2YXIgbix2LHksbSx4LHIsaT1bXSxvPVtdLGE9QVtlKyIgIl07aWYoIWEpe3R8fCh0PWgoZSkpLG49dC5sZW5ndGg7d2hpbGUobi0tKShhPUVlKHRbbl0pKVtTXT9pLnB1c2goYSk6by5wdXNoKGEpOyhhPUEoZSwodj1vLG09MDwoeT1pKS5sZW5ndGgseD0wPHYubGVuZ3RoLHI9ZnVuY3Rpb24oZSx0LG4scixpKXt2YXIgbyxhLHMsdT0wLGw9IjAiLGM9ZSYmW10sZj1bXSxwPXcsZD1lfHx4JiZiLmZpbmQuVEFHKCIqIixpKSxoPWsrPW51bGw9PXA/MTpNYXRoLnJhbmRvbSgpfHwuMSxnPWQubGVuZ3RoO2ZvcihpJiYodz10PT1DfHx0fHxpKTtsIT09ZyYmbnVsbCE9KG89ZFtsXSk7bCsrKXtpZih4JiZvKXthPTAsdHx8by5vd25lckRvY3VtZW50PT1DfHwoVChvKSxuPSFFKTt3aGlsZShzPXZbYSsrXSlpZihzKG8sdHx8QyxuKSl7ci5wdXNoKG8pO2JyZWFrfWkmJihrPWgpfW0mJigobz0hcyYmbykmJnUtLSxlJiZjLnB1c2gobykpfWlmKHUrPWwsbSYmbCE9PXUpe2E9MDt3aGlsZShzPXlbYSsrXSlzKGMsZix0LG4pO2lmKGUpe2lmKDA8dSl3aGlsZShsLS0pY1tsXXx8ZltsXXx8KGZbbF09cS5jYWxsKHIpKTtmPVRlKGYpfUguYXBwbHkocixmKSxpJiYhZSYmMDxmLmxlbmd0aCYmMTx1K3kubGVuZ3RoJiZzZS51bmlxdWVTb3J0KHIpfXJldHVybiBpJiYoaz1oLHc9cCksY30sbT9sZShyKTpyKSkpLnNlbGVjdG9yPWV9cmV0dXJuIGF9LGc9c2Uuc2VsZWN0PWZ1bmN0aW9uKGUsdCxuLHIpe3ZhciBpLG8sYSxzLHUsbD0iZnVuY3Rpb24iPT10eXBlb2YgZSYmZSxjPSFyJiZoKGU9bC5zZWxlY3Rvcnx8ZSk7aWYobj1ufHxbXSwxPT09Yy5sZW5ndGgpe2lmKDI8KG89Y1swXT1jWzBdLnNsaWNlKDApKS5sZW5ndGgmJiJJRCI9PT0oYT1vWzBdKS50eXBlJiY5PT09dC5ub2RlVHlwZSYmRSYmYi5yZWxhdGl2ZVtvWzFdLnR5cGVdKXtpZighKHQ9KGIuZmluZC5JRChhLm1hdGNoZXNbMF0ucmVwbGFjZSh0ZSxuZSksdCl8fFtdKVswXSkpcmV0dXJuIG47bCYmKHQ9dC5wYXJlbnROb2RlKSxlPWUuc2xpY2Uoby5zaGlmdCgpLnZhbHVlLmxlbmd0aCl9aT1HLm5lZWRzQ29udGV4dC50ZXN0KGUpPzA6by5sZW5ndGg7d2hpbGUoaS0tKXtpZihhPW9baV0sYi5yZWxhdGl2ZVtzPWEudHlwZV0pYnJlYWs7aWYoKHU9Yi5maW5kW3NdKSYmKHI9dShhLm1hdGNoZXNbMF0ucmVwbGFjZSh0ZSxuZSksZWUudGVzdChvWzBdLnR5cGUpJiZ5ZSh0LnBhcmVudE5vZGUpfHx0KSkpe2lmKG8uc3BsaWNlKGksMSksIShlPXIubGVuZ3RoJiZ4ZShvKSkpcmV0dXJuIEguYXBwbHkobixyKSxuO2JyZWFrfX19cmV0dXJuKGx8fGYoZSxjKSkocix0LCFFLG4sIXR8fGVlLnRlc3QoZSkmJnllKHQucGFyZW50Tm9kZSl8fHQpLG59LGQuc29ydFN0YWJsZT1TLnNwbGl0KCIiKS5zb3J0KGopLmpvaW4oIiIpPT09UyxkLmRldGVjdER1cGxpY2F0ZXM9ISFsLFQoKSxkLnNvcnREZXRhY2hlZD1jZShmdW5jdGlvbihlKXtyZXR1cm4gMSZlLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKEMuY3JlYXRlRWxlbWVudCgiZmllbGRzZXQiKSl9KSxjZShmdW5jdGlvbihlKXtyZXR1cm4gZS5pbm5lckhUTUw9IjxhIGhyZWY9JyMnPjwvYT4iLCIjIj09PWUuZmlyc3RDaGlsZC5nZXRBdHRyaWJ1dGUoImhyZWYiKX0pfHxmZSgidHlwZXxocmVmfGhlaWdodHx3aWR0aCIsZnVuY3Rpb24oZSx0LG4pe2lmKCFuKXJldHVybiBlLmdldEF0dHJpYnV0ZSh0LCJ0eXBlIj09PXQudG9Mb3dlckNhc2UoKT8xOjIpfSksZC5hdHRyaWJ1dGVzJiZjZShmdW5jdGlvbihlKXtyZXR1cm4gZS5pbm5lckhUTUw9IjxpbnB1dC8+IixlLmZpcnN0Q2hpbGQuc2V0QXR0cmlidXRlKCJ2YWx1ZSIsIiIpLCIiPT09ZS5maXJzdENoaWxkLmdldEF0dHJpYnV0ZSgidmFsdWUiKX0pfHxmZSgidmFsdWUiLGZ1bmN0aW9uKGUsdCxuKXtpZighbiYmImlucHV0Ij09PWUubm9kZU5hbWUudG9Mb3dlckNhc2UoKSlyZXR1cm4gZS5kZWZhdWx0VmFsdWV9KSxjZShmdW5jdGlvbihlKXtyZXR1cm4gbnVsbD09ZS5nZXRBdHRyaWJ1dGUoImRpc2FibGVkIil9KXx8ZmUoUixmdW5jdGlvbihlLHQsbil7dmFyIHI7aWYoIW4pcmV0dXJuITA9PT1lW3RdP3QudG9Mb3dlckNhc2UoKToocj1lLmdldEF0dHJpYnV0ZU5vZGUodCkpJiZyLnNwZWNpZmllZD9yLnZhbHVlOm51bGx9KSxzZX0oQyk7Uy5maW5kPWQsUy5leHByPWQuc2VsZWN0b3JzLFMuZXhwclsiOiJdPVMuZXhwci5wc2V1ZG9zLFMudW5pcXVlU29ydD1TLnVuaXF1ZT1kLnVuaXF1ZVNvcnQsUy50ZXh0PWQuZ2V0VGV4dCxTLmlzWE1MRG9jPWQuaXNYTUwsUy5jb250YWlucz1kLmNvbnRhaW5zLFMuZXNjYXBlU2VsZWN0b3I9ZC5lc2NhcGU7dmFyIGg9ZnVuY3Rpb24oZSx0LG4pe3ZhciByPVtdLGk9dm9pZCAwIT09bjt3aGlsZSgoZT1lW3RdKSYmOSE9PWUubm9kZVR5cGUpaWYoMT09PWUubm9kZVR5cGUpe2lmKGkmJlMoZSkuaXMobikpYnJlYWs7ci5wdXNoKGUpfXJldHVybiByfSxUPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPVtdO2U7ZT1lLm5leHRTaWJsaW5nKTE9PT1lLm5vZGVUeXBlJiZlIT09dCYmbi5wdXNoKGUpO3JldHVybiBufSxrPVMuZXhwci5tYXRjaC5uZWVkc0NvbnRleHQ7ZnVuY3Rpb24gQShlLHQpe3JldHVybiBlLm5vZGVOYW1lJiZlLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk9PT10LnRvTG93ZXJDYXNlKCl9dmFyIE49L148KFthLXpdW15cL1wwPjpceDIwXHRcclxuXGZdKilbXHgyMFx0XHJcblxmXSpcLz8+KD86PFwvXDE+fCkkL2k7ZnVuY3Rpb24gaihlLG4scil7cmV0dXJuIG0obik/Uy5ncmVwKGUsZnVuY3Rpb24oZSx0KXtyZXR1cm4hIW4uY2FsbChlLHQsZSkhPT1yfSk6bi5ub2RlVHlwZT9TLmdyZXAoZSxmdW5jdGlvbihlKXtyZXR1cm4gZT09PW4hPT1yfSk6InN0cmluZyIhPXR5cGVvZiBuP1MuZ3JlcChlLGZ1bmN0aW9uKGUpe3JldHVybi0xPGkuY2FsbChuLGUpIT09cn0pOlMuZmlsdGVyKG4sZSxyKX1TLmZpbHRlcj1mdW5jdGlvbihlLHQsbil7dmFyIHI9dFswXTtyZXR1cm4gbiYmKGU9Ijpub3QoIitlKyIpIiksMT09PXQubGVuZ3RoJiYxPT09ci5ub2RlVHlwZT9TLmZpbmQubWF0Y2hlc1NlbGVjdG9yKHIsZSk/W3JdOltdOlMuZmluZC5tYXRjaGVzKGUsUy5ncmVwKHQsZnVuY3Rpb24oZSl7cmV0dXJuIDE9PT1lLm5vZGVUeXBlfSkpfSxTLmZuLmV4dGVuZCh7ZmluZDpmdW5jdGlvbihlKXt2YXIgdCxuLHI9dGhpcy5sZW5ndGgsaT10aGlzO2lmKCJzdHJpbmciIT10eXBlb2YgZSlyZXR1cm4gdGhpcy5wdXNoU3RhY2soUyhlKS5maWx0ZXIoZnVuY3Rpb24oKXtmb3IodD0wO3Q8cjt0KyspaWYoUy5jb250YWlucyhpW3RdLHRoaXMpKXJldHVybiEwfSkpO2ZvcihuPXRoaXMucHVzaFN0YWNrKFtdKSx0PTA7dDxyO3QrKylTLmZpbmQoZSxpW3RdLG4pO3JldHVybiAxPHI/Uy51bmlxdWVTb3J0KG4pOm59LGZpbHRlcjpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5wdXNoU3RhY2soaih0aGlzLGV8fFtdLCExKSl9LG5vdDpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5wdXNoU3RhY2soaih0aGlzLGV8fFtdLCEwKSl9LGlzOmZ1bmN0aW9uKGUpe3JldHVybiEhaih0aGlzLCJzdHJpbmciPT10eXBlb2YgZSYmay50ZXN0KGUpP1MoZSk6ZXx8W10sITEpLmxlbmd0aH19KTt2YXIgRCxxPS9eKD86XHMqKDxbXHdcV10rPilbXj5dKnwjKFtcdy1dKykpJC87KFMuZm4uaW5pdD1mdW5jdGlvbihlLHQsbil7dmFyIHIsaTtpZighZSlyZXR1cm4gdGhpcztpZihuPW58fEQsInN0cmluZyI9PXR5cGVvZiBlKXtpZighKHI9IjwiPT09ZVswXSYmIj4iPT09ZVtlLmxlbmd0aC0xXSYmMzw9ZS5sZW5ndGg/W251bGwsZSxudWxsXTpxLmV4ZWMoZSkpfHwhclsxXSYmdClyZXR1cm4hdHx8dC5qcXVlcnk/KHR8fG4pLmZpbmQoZSk6dGhpcy5jb25zdHJ1Y3Rvcih0KS5maW5kKGUpO2lmKHJbMV0pe2lmKHQ9dCBpbnN0YW5jZW9mIFM/dFswXTp0LFMubWVyZ2UodGhpcyxTLnBhcnNlSFRNTChyWzFdLHQmJnQubm9kZVR5cGU/dC5vd25lckRvY3VtZW50fHx0OkUsITApKSxOLnRlc3QoclsxXSkmJlMuaXNQbGFpbk9iamVjdCh0KSlmb3IociBpbiB0KW0odGhpc1tyXSk/dGhpc1tyXSh0W3JdKTp0aGlzLmF0dHIocix0W3JdKTtyZXR1cm4gdGhpc31yZXR1cm4oaT1FLmdldEVsZW1lbnRCeUlkKHJbMl0pKSYmKHRoaXNbMF09aSx0aGlzLmxlbmd0aD0xKSx0aGlzfXJldHVybiBlLm5vZGVUeXBlPyh0aGlzWzBdPWUsdGhpcy5sZW5ndGg9MSx0aGlzKTptKGUpP3ZvaWQgMCE9PW4ucmVhZHk/bi5yZWFkeShlKTplKFMpOlMubWFrZUFycmF5KGUsdGhpcyl9KS5wcm90b3R5cGU9Uy5mbixEPVMoRSk7dmFyIEw9L14oPzpwYXJlbnRzfHByZXYoPzpVbnRpbHxBbGwpKS8sSD17Y2hpbGRyZW46ITAsY29udGVudHM6ITAsbmV4dDohMCxwcmV2OiEwfTtmdW5jdGlvbiBPKGUsdCl7d2hpbGUoKGU9ZVt0XSkmJjEhPT1lLm5vZGVUeXBlKTtyZXR1cm4gZX1TLmZuLmV4dGVuZCh7aGFzOmZ1bmN0aW9uKGUpe3ZhciB0PVMoZSx0aGlzKSxuPXQubGVuZ3RoO3JldHVybiB0aGlzLmZpbHRlcihmdW5jdGlvbigpe2Zvcih2YXIgZT0wO2U8bjtlKyspaWYoUy5jb250YWlucyh0aGlzLHRbZV0pKXJldHVybiEwfSl9LGNsb3Nlc3Q6ZnVuY3Rpb24oZSx0KXt2YXIgbixyPTAsaT10aGlzLmxlbmd0aCxvPVtdLGE9InN0cmluZyIhPXR5cGVvZiBlJiZTKGUpO2lmKCFrLnRlc3QoZSkpZm9yKDtyPGk7cisrKWZvcihuPXRoaXNbcl07biYmbiE9PXQ7bj1uLnBhcmVudE5vZGUpaWYobi5ub2RlVHlwZTwxMSYmKGE/LTE8YS5pbmRleChuKToxPT09bi5ub2RlVHlwZSYmUy5maW5kLm1hdGNoZXNTZWxlY3RvcihuLGUpKSl7by5wdXNoKG4pO2JyZWFrfXJldHVybiB0aGlzLnB1c2hTdGFjaygxPG8ubGVuZ3RoP1MudW5pcXVlU29ydChvKTpvKX0saW5kZXg6ZnVuY3Rpb24oZSl7cmV0dXJuIGU/InN0cmluZyI9PXR5cGVvZiBlP2kuY2FsbChTKGUpLHRoaXNbMF0pOmkuY2FsbCh0aGlzLGUuanF1ZXJ5P2VbMF06ZSk6dGhpc1swXSYmdGhpc1swXS5wYXJlbnROb2RlP3RoaXMuZmlyc3QoKS5wcmV2QWxsKCkubGVuZ3RoOi0xfSxhZGQ6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5wdXNoU3RhY2soUy51bmlxdWVTb3J0KFMubWVyZ2UodGhpcy5nZXQoKSxTKGUsdCkpKSl9LGFkZEJhY2s6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuYWRkKG51bGw9PWU/dGhpcy5wcmV2T2JqZWN0OnRoaXMucHJldk9iamVjdC5maWx0ZXIoZSkpfX0pLFMuZWFjaCh7cGFyZW50OmZ1bmN0aW9uKGUpe3ZhciB0PWUucGFyZW50Tm9kZTtyZXR1cm4gdCYmMTEhPT10Lm5vZGVUeXBlP3Q6bnVsbH0scGFyZW50czpmdW5jdGlvbihlKXtyZXR1cm4gaChlLCJwYXJlbnROb2RlIil9LHBhcmVudHNVbnRpbDpmdW5jdGlvbihlLHQsbil7cmV0dXJuIGgoZSwicGFyZW50Tm9kZSIsbil9LG5leHQ6ZnVuY3Rpb24oZSl7cmV0dXJuIE8oZSwibmV4dFNpYmxpbmciKX0scHJldjpmdW5jdGlvbihlKXtyZXR1cm4gTyhlLCJwcmV2aW91c1NpYmxpbmciKX0sbmV4dEFsbDpmdW5jdGlvbihlKXtyZXR1cm4gaChlLCJuZXh0U2libGluZyIpfSxwcmV2QWxsOmZ1bmN0aW9uKGUpe3JldHVybiBoKGUsInByZXZpb3VzU2libGluZyIpfSxuZXh0VW50aWw6ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBoKGUsIm5leHRTaWJsaW5nIixuKX0scHJldlVudGlsOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gaChlLCJwcmV2aW91c1NpYmxpbmciLG4pfSxzaWJsaW5nczpmdW5jdGlvbihlKXtyZXR1cm4gVCgoZS5wYXJlbnROb2RlfHx7fSkuZmlyc3RDaGlsZCxlKX0sY2hpbGRyZW46ZnVuY3Rpb24oZSl7cmV0dXJuIFQoZS5maXJzdENoaWxkKX0sY29udGVudHM6ZnVuY3Rpb24oZSl7cmV0dXJuIG51bGwhPWUuY29udGVudERvY3VtZW50JiZyKGUuY29udGVudERvY3VtZW50KT9lLmNvbnRlbnREb2N1bWVudDooQShlLCJ0ZW1wbGF0ZSIpJiYoZT1lLmNvbnRlbnR8fGUpLFMubWVyZ2UoW10sZS5jaGlsZE5vZGVzKSl9fSxmdW5jdGlvbihyLGkpe1MuZm5bcl09ZnVuY3Rpb24oZSx0KXt2YXIgbj1TLm1hcCh0aGlzLGksZSk7cmV0dXJuIlVudGlsIiE9PXIuc2xpY2UoLTUpJiYodD1lKSx0JiYic3RyaW5nIj09dHlwZW9mIHQmJihuPVMuZmlsdGVyKHQsbikpLDE8dGhpcy5sZW5ndGgmJihIW3JdfHxTLnVuaXF1ZVNvcnQobiksTC50ZXN0KHIpJiZuLnJldmVyc2UoKSksdGhpcy5wdXNoU3RhY2sobil9fSk7dmFyIFA9L1teXHgyMFx0XHJcblxmXSsvZztmdW5jdGlvbiBSKGUpe3JldHVybiBlfWZ1bmN0aW9uIE0oZSl7dGhyb3cgZX1mdW5jdGlvbiBJKGUsdCxuLHIpe3ZhciBpO3RyeXtlJiZtKGk9ZS5wcm9taXNlKT9pLmNhbGwoZSkuZG9uZSh0KS5mYWlsKG4pOmUmJm0oaT1lLnRoZW4pP2kuY2FsbChlLHQsbik6dC5hcHBseSh2b2lkIDAsW2VdLnNsaWNlKHIpKX1jYXRjaChlKXtuLmFwcGx5KHZvaWQgMCxbZV0pfX1TLkNhbGxiYWNrcz1mdW5jdGlvbihyKXt2YXIgZSxuO3I9InN0cmluZyI9PXR5cGVvZiByPyhlPXIsbj17fSxTLmVhY2goZS5tYXRjaChQKXx8W10sZnVuY3Rpb24oZSx0KXtuW3RdPSEwfSksbik6Uy5leHRlbmQoe30scik7dmFyIGksdCxvLGEscz1bXSx1PVtdLGw9LTEsYz1mdW5jdGlvbigpe2ZvcihhPWF8fHIub25jZSxvPWk9ITA7dS5sZW5ndGg7bD0tMSl7dD11LnNoaWZ0KCk7d2hpbGUoKytsPHMubGVuZ3RoKSExPT09c1tsXS5hcHBseSh0WzBdLHRbMV0pJiZyLnN0b3BPbkZhbHNlJiYobD1zLmxlbmd0aCx0PSExKX1yLm1lbW9yeXx8KHQ9ITEpLGk9ITEsYSYmKHM9dD9bXToiIil9LGY9e2FkZDpmdW5jdGlvbigpe3JldHVybiBzJiYodCYmIWkmJihsPXMubGVuZ3RoLTEsdS5wdXNoKHQpKSxmdW5jdGlvbiBuKGUpe1MuZWFjaChlLGZ1bmN0aW9uKGUsdCl7bSh0KT9yLnVuaXF1ZSYmZi5oYXModCl8fHMucHVzaCh0KTp0JiZ0Lmxlbmd0aCYmInN0cmluZyIhPT13KHQpJiZuKHQpfSl9KGFyZ3VtZW50cyksdCYmIWkmJmMoKSksdGhpc30scmVtb3ZlOmZ1bmN0aW9uKCl7cmV0dXJuIFMuZWFjaChhcmd1bWVudHMsZnVuY3Rpb24oZSx0KXt2YXIgbjt3aGlsZSgtMTwobj1TLmluQXJyYXkodCxzLG4pKSlzLnNwbGljZShuLDEpLG48PWwmJmwtLX0pLHRoaXN9LGhhczpmdW5jdGlvbihlKXtyZXR1cm4gZT8tMTxTLmluQXJyYXkoZSxzKTowPHMubGVuZ3RofSxlbXB0eTpmdW5jdGlvbigpe3JldHVybiBzJiYocz1bXSksdGhpc30sZGlzYWJsZTpmdW5jdGlvbigpe3JldHVybiBhPXU9W10scz10PSIiLHRoaXN9LGRpc2FibGVkOmZ1bmN0aW9uKCl7cmV0dXJuIXN9LGxvY2s6ZnVuY3Rpb24oKXtyZXR1cm4gYT11PVtdLHR8fGl8fChzPXQ9IiIpLHRoaXN9LGxvY2tlZDpmdW5jdGlvbigpe3JldHVybiEhYX0sZmlyZVdpdGg6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gYXx8KHQ9W2UsKHQ9dHx8W10pLnNsaWNlP3Quc2xpY2UoKTp0XSx1LnB1c2godCksaXx8YygpKSx0aGlzfSxmaXJlOmZ1bmN0aW9uKCl7cmV0dXJuIGYuZmlyZVdpdGgodGhpcyxhcmd1bWVudHMpLHRoaXN9LGZpcmVkOmZ1bmN0aW9uKCl7cmV0dXJuISFvfX07cmV0dXJuIGZ9LFMuZXh0ZW5kKHtEZWZlcnJlZDpmdW5jdGlvbihlKXt2YXIgbz1bWyJub3RpZnkiLCJwcm9ncmVzcyIsUy5DYWxsYmFja3MoIm1lbW9yeSIpLFMuQ2FsbGJhY2tzKCJtZW1vcnkiKSwyXSxbInJlc29sdmUiLCJkb25lIixTLkNhbGxiYWNrcygib25jZSBtZW1vcnkiKSxTLkNhbGxiYWNrcygib25jZSBtZW1vcnkiKSwwLCJyZXNvbHZlZCJdLFsicmVqZWN0IiwiZmFpbCIsUy5DYWxsYmFja3MoIm9uY2UgbWVtb3J5IiksUy5DYWxsYmFja3MoIm9uY2UgbWVtb3J5IiksMSwicmVqZWN0ZWQiXV0saT0icGVuZGluZyIsYT17c3RhdGU6ZnVuY3Rpb24oKXtyZXR1cm4gaX0sYWx3YXlzOmZ1bmN0aW9uKCl7cmV0dXJuIHMuZG9uZShhcmd1bWVudHMpLmZhaWwoYXJndW1lbnRzKSx0aGlzfSwiY2F0Y2giOmZ1bmN0aW9uKGUpe3JldHVybiBhLnRoZW4obnVsbCxlKX0scGlwZTpmdW5jdGlvbigpe3ZhciBpPWFyZ3VtZW50cztyZXR1cm4gUy5EZWZlcnJlZChmdW5jdGlvbihyKXtTLmVhY2gobyxmdW5jdGlvbihlLHQpe3ZhciBuPW0oaVt0WzRdXSkmJmlbdFs0XV07c1t0WzFdXShmdW5jdGlvbigpe3ZhciBlPW4mJm4uYXBwbHkodGhpcyxhcmd1bWVudHMpO2UmJm0oZS5wcm9taXNlKT9lLnByb21pc2UoKS5wcm9ncmVzcyhyLm5vdGlmeSkuZG9uZShyLnJlc29sdmUpLmZhaWwoci5yZWplY3QpOnJbdFswXSsiV2l0aCJdKHRoaXMsbj9bZV06YXJndW1lbnRzKX0pfSksaT1udWxsfSkucHJvbWlzZSgpfSx0aGVuOmZ1bmN0aW9uKHQsbixyKXt2YXIgdT0wO2Z1bmN0aW9uIGwoaSxvLGEscyl7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIG49dGhpcyxyPWFyZ3VtZW50cyxlPWZ1bmN0aW9uKCl7dmFyIGUsdDtpZighKGk8dSkpe2lmKChlPWEuYXBwbHkobixyKSk9PT1vLnByb21pc2UoKSl0aHJvdyBuZXcgVHlwZUVycm9yKCJUaGVuYWJsZSBzZWxmLXJlc29sdXRpb24iKTt0PWUmJigib2JqZWN0Ij09dHlwZW9mIGV8fCJmdW5jdGlvbiI9PXR5cGVvZiBlKSYmZS50aGVuLG0odCk/cz90LmNhbGwoZSxsKHUsbyxSLHMpLGwodSxvLE0scykpOih1KyssdC5jYWxsKGUsbCh1LG8sUixzKSxsKHUsbyxNLHMpLGwodSxvLFIsby5ub3RpZnlXaXRoKSkpOihhIT09UiYmKG49dm9pZCAwLHI9W2VdKSwoc3x8by5yZXNvbHZlV2l0aCkobixyKSl9fSx0PXM/ZTpmdW5jdGlvbigpe3RyeXtlKCl9Y2F0Y2goZSl7Uy5EZWZlcnJlZC5leGNlcHRpb25Ib29rJiZTLkRlZmVycmVkLmV4Y2VwdGlvbkhvb2soZSx0LnN0YWNrVHJhY2UpLHU8PWkrMSYmKGEhPT1NJiYobj12b2lkIDAscj1bZV0pLG8ucmVqZWN0V2l0aChuLHIpKX19O2k/dCgpOihTLkRlZmVycmVkLmdldFN0YWNrSG9vayYmKHQuc3RhY2tUcmFjZT1TLkRlZmVycmVkLmdldFN0YWNrSG9vaygpKSxDLnNldFRpbWVvdXQodCkpfX1yZXR1cm4gUy5EZWZlcnJlZChmdW5jdGlvbihlKXtvWzBdWzNdLmFkZChsKDAsZSxtKHIpP3I6UixlLm5vdGlmeVdpdGgpKSxvWzFdWzNdLmFkZChsKDAsZSxtKHQpP3Q6UikpLG9bMl1bM10uYWRkKGwoMCxlLG0obik/bjpNKSl9KS5wcm9taXNlKCl9LHByb21pc2U6ZnVuY3Rpb24oZSl7cmV0dXJuIG51bGwhPWU/Uy5leHRlbmQoZSxhKTphfX0scz17fTtyZXR1cm4gUy5lYWNoKG8sZnVuY3Rpb24oZSx0KXt2YXIgbj10WzJdLHI9dFs1XTthW3RbMV1dPW4uYWRkLHImJm4uYWRkKGZ1bmN0aW9uKCl7aT1yfSxvWzMtZV1bMl0uZGlzYWJsZSxvWzMtZV1bM10uZGlzYWJsZSxvWzBdWzJdLmxvY2ssb1swXVszXS5sb2NrKSxuLmFkZCh0WzNdLmZpcmUpLHNbdFswXV09ZnVuY3Rpb24oKXtyZXR1cm4gc1t0WzBdKyJXaXRoIl0odGhpcz09PXM/dm9pZCAwOnRoaXMsYXJndW1lbnRzKSx0aGlzfSxzW3RbMF0rIldpdGgiXT1uLmZpcmVXaXRofSksYS5wcm9taXNlKHMpLGUmJmUuY2FsbChzLHMpLHN9LHdoZW46ZnVuY3Rpb24oZSl7dmFyIG49YXJndW1lbnRzLmxlbmd0aCx0PW4scj1BcnJheSh0KSxpPXMuY2FsbChhcmd1bWVudHMpLG89Uy5EZWZlcnJlZCgpLGE9ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3JbdF09dGhpcyxpW3RdPTE8YXJndW1lbnRzLmxlbmd0aD9zLmNhbGwoYXJndW1lbnRzKTplLC0tbnx8by5yZXNvbHZlV2l0aChyLGkpfX07aWYobjw9MSYmKEkoZSxvLmRvbmUoYSh0KSkucmVzb2x2ZSxvLnJlamVjdCwhbiksInBlbmRpbmciPT09by5zdGF0ZSgpfHxtKGlbdF0mJmlbdF0udGhlbikpKXJldHVybiBvLnRoZW4oKTt3aGlsZSh0LS0pSShpW3RdLGEodCksby5yZWplY3QpO3JldHVybiBvLnByb21pc2UoKX19KTt2YXIgVz0vXihFdmFsfEludGVybmFsfFJhbmdlfFJlZmVyZW5jZXxTeW50YXh8VHlwZXxVUkkpRXJyb3IkLztTLkRlZmVycmVkLmV4Y2VwdGlvbkhvb2s9ZnVuY3Rpb24oZSx0KXtDLmNvbnNvbGUmJkMuY29uc29sZS53YXJuJiZlJiZXLnRlc3QoZS5uYW1lKSYmQy5jb25zb2xlLndhcm4oImpRdWVyeS5EZWZlcnJlZCBleGNlcHRpb246ICIrZS5tZXNzYWdlLGUuc3RhY2ssdCl9LFMucmVhZHlFeGNlcHRpb249ZnVuY3Rpb24oZSl7Qy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dGhyb3cgZX0pfTt2YXIgRj1TLkRlZmVycmVkKCk7ZnVuY3Rpb24gQigpe0UucmVtb3ZlRXZlbnRMaXN0ZW5lcigiRE9NQ29udGVudExvYWRlZCIsQiksQy5yZW1vdmVFdmVudExpc3RlbmVyKCJsb2FkIixCKSxTLnJlYWR5KCl9Uy5mbi5yZWFkeT1mdW5jdGlvbihlKXtyZXR1cm4gRi50aGVuKGUpWyJjYXRjaCJdKGZ1bmN0aW9uKGUpe1MucmVhZHlFeGNlcHRpb24oZSl9KSx0aGlzfSxTLmV4dGVuZCh7aXNSZWFkeTohMSxyZWFkeVdhaXQ6MSxyZWFkeTpmdW5jdGlvbihlKXsoITA9PT1lPy0tUy5yZWFkeVdhaXQ6Uy5pc1JlYWR5KXx8KFMuaXNSZWFkeT0hMCkhPT1lJiYwPC0tUy5yZWFkeVdhaXR8fEYucmVzb2x2ZVdpdGgoRSxbU10pfX0pLFMucmVhZHkudGhlbj1GLnRoZW4sImNvbXBsZXRlIj09PUUucmVhZHlTdGF0ZXx8ImxvYWRpbmciIT09RS5yZWFkeVN0YXRlJiYhRS5kb2N1bWVudEVsZW1lbnQuZG9TY3JvbGw/Qy5zZXRUaW1lb3V0KFMucmVhZHkpOihFLmFkZEV2ZW50TGlzdGVuZXIoIkRPTUNvbnRlbnRMb2FkZWQiLEIpLEMuYWRkRXZlbnRMaXN0ZW5lcigibG9hZCIsQikpO3ZhciAkPWZ1bmN0aW9uKGUsdCxuLHIsaSxvLGEpe3ZhciBzPTAsdT1lLmxlbmd0aCxsPW51bGw9PW47aWYoIm9iamVjdCI9PT13KG4pKWZvcihzIGluIGk9ITAsbikkKGUsdCxzLG5bc10sITAsbyxhKTtlbHNlIGlmKHZvaWQgMCE9PXImJihpPSEwLG0ocil8fChhPSEwKSxsJiYoYT8odC5jYWxsKGUsciksdD1udWxsKToobD10LHQ9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBsLmNhbGwoUyhlKSxuKX0pKSx0KSlmb3IoO3M8dTtzKyspdChlW3NdLG4sYT9yOnIuY2FsbChlW3NdLHMsdChlW3NdLG4pKSk7cmV0dXJuIGk/ZTpsP3QuY2FsbChlKTp1P3QoZVswXSxuKTpvfSxfPS9eLW1zLS8sej0vLShbYS16XSkvZztmdW5jdGlvbiBVKGUsdCl7cmV0dXJuIHQudG9VcHBlckNhc2UoKX1mdW5jdGlvbiBYKGUpe3JldHVybiBlLnJlcGxhY2UoXywibXMtIikucmVwbGFjZSh6LFUpfXZhciBWPWZ1bmN0aW9uKGUpe3JldHVybiAxPT09ZS5ub2RlVHlwZXx8OT09PWUubm9kZVR5cGV8fCErZS5ub2RlVHlwZX07ZnVuY3Rpb24gRygpe3RoaXMuZXhwYW5kbz1TLmV4cGFuZG8rRy51aWQrK31HLnVpZD0xLEcucHJvdG90eXBlPXtjYWNoZTpmdW5jdGlvbihlKXt2YXIgdD1lW3RoaXMuZXhwYW5kb107cmV0dXJuIHR8fCh0PXt9LFYoZSkmJihlLm5vZGVUeXBlP2VbdGhpcy5leHBhbmRvXT10Ok9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHRoaXMuZXhwYW5kbyx7dmFsdWU6dCxjb25maWd1cmFibGU6ITB9KSkpLHR9LHNldDpmdW5jdGlvbihlLHQsbil7dmFyIHIsaT10aGlzLmNhY2hlKGUpO2lmKCJzdHJpbmciPT10eXBlb2YgdClpW1godCldPW47ZWxzZSBmb3IociBpbiB0KWlbWChyKV09dFtyXTtyZXR1cm4gaX0sZ2V0OmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHZvaWQgMD09PXQ/dGhpcy5jYWNoZShlKTplW3RoaXMuZXhwYW5kb10mJmVbdGhpcy5leHBhbmRvXVtYKHQpXX0sYWNjZXNzOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gdm9pZCAwPT09dHx8dCYmInN0cmluZyI9PXR5cGVvZiB0JiZ2b2lkIDA9PT1uP3RoaXMuZ2V0KGUsdCk6KHRoaXMuc2V0KGUsdCxuKSx2b2lkIDAhPT1uP246dCl9LHJlbW92ZTpmdW5jdGlvbihlLHQpe3ZhciBuLHI9ZVt0aGlzLmV4cGFuZG9dO2lmKHZvaWQgMCE9PXIpe2lmKHZvaWQgMCE9PXQpe249KHQ9QXJyYXkuaXNBcnJheSh0KT90Lm1hcChYKToodD1YKHQpKWluIHI/W3RdOnQubWF0Y2goUCl8fFtdKS5sZW5ndGg7d2hpbGUobi0tKWRlbGV0ZSByW3Rbbl1dfSh2b2lkIDA9PT10fHxTLmlzRW1wdHlPYmplY3QocikpJiYoZS5ub2RlVHlwZT9lW3RoaXMuZXhwYW5kb109dm9pZCAwOmRlbGV0ZSBlW3RoaXMuZXhwYW5kb10pfX0saGFzRGF0YTpmdW5jdGlvbihlKXt2YXIgdD1lW3RoaXMuZXhwYW5kb107cmV0dXJuIHZvaWQgMCE9PXQmJiFTLmlzRW1wdHlPYmplY3QodCl9fTt2YXIgWT1uZXcgRyxRPW5ldyBHLEo9L14oPzpce1tcd1xXXSpcfXxcW1tcd1xXXSpcXSkkLyxLPS9bQS1aXS9nO2Z1bmN0aW9uIFooZSx0LG4pe3ZhciByLGk7aWYodm9pZCAwPT09biYmMT09PWUubm9kZVR5cGUpaWYocj0iZGF0YS0iK3QucmVwbGFjZShLLCItJCYiKS50b0xvd2VyQ2FzZSgpLCJzdHJpbmciPT10eXBlb2Yobj1lLmdldEF0dHJpYnV0ZShyKSkpe3RyeXtuPSJ0cnVlIj09PShpPW4pfHwiZmFsc2UiIT09aSYmKCJudWxsIj09PWk/bnVsbDppPT09K2krIiI/K2k6Si50ZXN0KGkpP0pTT04ucGFyc2UoaSk6aSl9Y2F0Y2goZSl7fVEuc2V0KGUsdCxuKX1lbHNlIG49dm9pZCAwO3JldHVybiBufVMuZXh0ZW5kKHtoYXNEYXRhOmZ1bmN0aW9uKGUpe3JldHVybiBRLmhhc0RhdGEoZSl8fFkuaGFzRGF0YShlKX0sZGF0YTpmdW5jdGlvbihlLHQsbil7cmV0dXJuIFEuYWNjZXNzKGUsdCxuKX0scmVtb3ZlRGF0YTpmdW5jdGlvbihlLHQpe1EucmVtb3ZlKGUsdCl9LF9kYXRhOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gWS5hY2Nlc3MoZSx0LG4pfSxfcmVtb3ZlRGF0YTpmdW5jdGlvbihlLHQpe1kucmVtb3ZlKGUsdCl9fSksUy5mbi5leHRlbmQoe2RhdGE6ZnVuY3Rpb24obixlKXt2YXIgdCxyLGksbz10aGlzWzBdLGE9byYmby5hdHRyaWJ1dGVzO2lmKHZvaWQgMD09PW4pe2lmKHRoaXMubGVuZ3RoJiYoaT1RLmdldChvKSwxPT09by5ub2RlVHlwZSYmIVkuZ2V0KG8sImhhc0RhdGFBdHRycyIpKSl7dD1hLmxlbmd0aDt3aGlsZSh0LS0pYVt0XSYmMD09PShyPWFbdF0ubmFtZSkuaW5kZXhPZigiZGF0YS0iKSYmKHI9WChyLnNsaWNlKDUpKSxaKG8scixpW3JdKSk7WS5zZXQobywiaGFzRGF0YUF0dHJzIiwhMCl9cmV0dXJuIGl9cmV0dXJuIm9iamVjdCI9PXR5cGVvZiBuP3RoaXMuZWFjaChmdW5jdGlvbigpe1Euc2V0KHRoaXMsbil9KTokKHRoaXMsZnVuY3Rpb24oZSl7dmFyIHQ7aWYobyYmdm9pZCAwPT09ZSlyZXR1cm4gdm9pZCAwIT09KHQ9US5nZXQobyxuKSk/dDp2b2lkIDAhPT0odD1aKG8sbikpP3Q6dm9pZCAwO3RoaXMuZWFjaChmdW5jdGlvbigpe1Euc2V0KHRoaXMsbixlKX0pfSxudWxsLGUsMTxhcmd1bWVudHMubGVuZ3RoLG51bGwsITApfSxyZW1vdmVEYXRhOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtRLnJlbW92ZSh0aGlzLGUpfSl9fSksUy5leHRlbmQoe3F1ZXVlOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcjtpZihlKXJldHVybiB0PSh0fHwiZngiKSsicXVldWUiLHI9WS5nZXQoZSx0KSxuJiYoIXJ8fEFycmF5LmlzQXJyYXkobik/cj1ZLmFjY2VzcyhlLHQsUy5tYWtlQXJyYXkobikpOnIucHVzaChuKSkscnx8W119LGRlcXVldWU6ZnVuY3Rpb24oZSx0KXt0PXR8fCJmeCI7dmFyIG49Uy5xdWV1ZShlLHQpLHI9bi5sZW5ndGgsaT1uLnNoaWZ0KCksbz1TLl9xdWV1ZUhvb2tzKGUsdCk7ImlucHJvZ3Jlc3MiPT09aSYmKGk9bi5zaGlmdCgpLHItLSksaSYmKCJmeCI9PT10JiZuLnVuc2hpZnQoImlucHJvZ3Jlc3MiKSxkZWxldGUgby5zdG9wLGkuY2FsbChlLGZ1bmN0aW9uKCl7Uy5kZXF1ZXVlKGUsdCl9LG8pKSwhciYmbyYmby5lbXB0eS5maXJlKCl9LF9xdWV1ZUhvb2tzOmZ1bmN0aW9uKGUsdCl7dmFyIG49dCsicXVldWVIb29rcyI7cmV0dXJuIFkuZ2V0KGUsbil8fFkuYWNjZXNzKGUsbix7ZW1wdHk6Uy5DYWxsYmFja3MoIm9uY2UgbWVtb3J5IikuYWRkKGZ1bmN0aW9uKCl7WS5yZW1vdmUoZSxbdCsicXVldWUiLG5dKX0pfSl9fSksUy5mbi5leHRlbmQoe3F1ZXVlOmZ1bmN0aW9uKHQsbil7dmFyIGU9MjtyZXR1cm4ic3RyaW5nIiE9dHlwZW9mIHQmJihuPXQsdD0iZngiLGUtLSksYXJndW1lbnRzLmxlbmd0aDxlP1MucXVldWUodGhpc1swXSx0KTp2b2lkIDA9PT1uP3RoaXM6dGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGU9Uy5xdWV1ZSh0aGlzLHQsbik7Uy5fcXVldWVIb29rcyh0aGlzLHQpLCJmeCI9PT10JiYiaW5wcm9ncmVzcyIhPT1lWzBdJiZTLmRlcXVldWUodGhpcyx0KX0pfSxkZXF1ZXVlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtTLmRlcXVldWUodGhpcyxlKX0pfSxjbGVhclF1ZXVlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnF1ZXVlKGV8fCJmeCIsW10pfSxwcm9taXNlOmZ1bmN0aW9uKGUsdCl7dmFyIG4scj0xLGk9Uy5EZWZlcnJlZCgpLG89dGhpcyxhPXRoaXMubGVuZ3RoLHM9ZnVuY3Rpb24oKXstLXJ8fGkucmVzb2x2ZVdpdGgobyxbb10pfTsic3RyaW5nIiE9dHlwZW9mIGUmJih0PWUsZT12b2lkIDApLGU9ZXx8ImZ4Ijt3aGlsZShhLS0pKG49WS5nZXQob1thXSxlKyJxdWV1ZUhvb2tzIikpJiZuLmVtcHR5JiYocisrLG4uZW1wdHkuYWRkKHMpKTtyZXR1cm4gcygpLGkucHJvbWlzZSh0KX19KTt2YXIgZWU9L1srLV0/KD86XGQqXC58KVxkKyg/OltlRV1bKy1dP1xkK3wpLy5zb3VyY2UsdGU9bmV3IFJlZ0V4cCgiXig/OihbKy1dKT18KSgiK2VlKyIpKFthLXolXSopJCIsImkiKSxuZT1bIlRvcCIsIlJpZ2h0IiwiQm90dG9tIiwiTGVmdCJdLHJlPUUuZG9jdW1lbnRFbGVtZW50LGllPWZ1bmN0aW9uKGUpe3JldHVybiBTLmNvbnRhaW5zKGUub3duZXJEb2N1bWVudCxlKX0sb2U9e2NvbXBvc2VkOiEwfTtyZS5nZXRSb290Tm9kZSYmKGllPWZ1bmN0aW9uKGUpe3JldHVybiBTLmNvbnRhaW5zKGUub3duZXJEb2N1bWVudCxlKXx8ZS5nZXRSb290Tm9kZShvZSk9PT1lLm93bmVyRG9jdW1lbnR9KTt2YXIgYWU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4ibm9uZSI9PT0oZT10fHxlKS5zdHlsZS5kaXNwbGF5fHwiIj09PWUuc3R5bGUuZGlzcGxheSYmaWUoZSkmJiJub25lIj09PVMuY3NzKGUsImRpc3BsYXkiKX07ZnVuY3Rpb24gc2UoZSx0LG4scil7dmFyIGksbyxhPTIwLHM9cj9mdW5jdGlvbigpe3JldHVybiByLmN1cigpfTpmdW5jdGlvbigpe3JldHVybiBTLmNzcyhlLHQsIiIpfSx1PXMoKSxsPW4mJm5bM118fChTLmNzc051bWJlclt0XT8iIjoicHgiKSxjPWUubm9kZVR5cGUmJihTLmNzc051bWJlclt0XXx8InB4IiE9PWwmJit1KSYmdGUuZXhlYyhTLmNzcyhlLHQpKTtpZihjJiZjWzNdIT09bCl7dS89MixsPWx8fGNbM10sYz0rdXx8MTt3aGlsZShhLS0pUy5zdHlsZShlLHQsYytsKSwoMS1vKSooMS0obz1zKCkvdXx8LjUpKTw9MCYmKGE9MCksYy89bztjKj0yLFMuc3R5bGUoZSx0LGMrbCksbj1ufHxbXX1yZXR1cm4gbiYmKGM9K2N8fCt1fHwwLGk9blsxXT9jKyhuWzFdKzEpKm5bMl06K25bMl0sciYmKHIudW5pdD1sLHIuc3RhcnQ9YyxyLmVuZD1pKSksaX12YXIgdWU9e307ZnVuY3Rpb24gbGUoZSx0KXtmb3IodmFyIG4scixpLG8sYSxzLHUsbD1bXSxjPTAsZj1lLmxlbmd0aDtjPGY7YysrKShyPWVbY10pLnN0eWxlJiYobj1yLnN0eWxlLmRpc3BsYXksdD8oIm5vbmUiPT09biYmKGxbY109WS5nZXQociwiZGlzcGxheSIpfHxudWxsLGxbY118fChyLnN0eWxlLmRpc3BsYXk9IiIpKSwiIj09PXIuc3R5bGUuZGlzcGxheSYmYWUocikmJihsW2NdPSh1PWE9bz12b2lkIDAsYT0oaT1yKS5vd25lckRvY3VtZW50LHM9aS5ub2RlTmFtZSwodT11ZVtzXSl8fChvPWEuYm9keS5hcHBlbmRDaGlsZChhLmNyZWF0ZUVsZW1lbnQocykpLHU9Uy5jc3MobywiZGlzcGxheSIpLG8ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChvKSwibm9uZSI9PT11JiYodT0iYmxvY2siKSx1ZVtzXT11KSkpKToibm9uZSIhPT1uJiYobFtjXT0ibm9uZSIsWS5zZXQociwiZGlzcGxheSIsbikpKTtmb3IoYz0wO2M8ZjtjKyspbnVsbCE9bFtjXSYmKGVbY10uc3R5bGUuZGlzcGxheT1sW2NdKTtyZXR1cm4gZX1TLmZuLmV4dGVuZCh7c2hvdzpmdW5jdGlvbigpe3JldHVybiBsZSh0aGlzLCEwKX0saGlkZTpmdW5jdGlvbigpe3JldHVybiBsZSh0aGlzKX0sdG9nZ2xlOmZ1bmN0aW9uKGUpe3JldHVybiJib29sZWFuIj09dHlwZW9mIGU/ZT90aGlzLnNob3coKTp0aGlzLmhpZGUoKTp0aGlzLmVhY2goZnVuY3Rpb24oKXthZSh0aGlzKT9TKHRoaXMpLnNob3coKTpTKHRoaXMpLmhpZGUoKX0pfX0pO3ZhciBjZSxmZSxwZT0vXig/OmNoZWNrYm94fHJhZGlvKSQvaSxkZT0vPChbYS16XVteXC9cMD5ceDIwXHRcclxuXGZdKikvaSxoZT0vXiR8Xm1vZHVsZSR8XC8oPzpqYXZhfGVjbWEpc2NyaXB0L2k7Y2U9RS5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCkuYXBwZW5kQ2hpbGQoRS5jcmVhdGVFbGVtZW50KCJkaXYiKSksKGZlPUUuY3JlYXRlRWxlbWVudCgiaW5wdXQiKSkuc2V0QXR0cmlidXRlKCJ0eXBlIiwicmFkaW8iKSxmZS5zZXRBdHRyaWJ1dGUoImNoZWNrZWQiLCJjaGVja2VkIiksZmUuc2V0QXR0cmlidXRlKCJuYW1lIiwidCIpLGNlLmFwcGVuZENoaWxkKGZlKSx5LmNoZWNrQ2xvbmU9Y2UuY2xvbmVOb2RlKCEwKS5jbG9uZU5vZGUoITApLmxhc3RDaGlsZC5jaGVja2VkLGNlLmlubmVySFRNTD0iPHRleHRhcmVhPng8L3RleHRhcmVhPiIseS5ub0Nsb25lQ2hlY2tlZD0hIWNlLmNsb25lTm9kZSghMCkubGFzdENoaWxkLmRlZmF1bHRWYWx1ZSxjZS5pbm5lckhUTUw9IjxvcHRpb24+PC9vcHRpb24+Iix5Lm9wdGlvbj0hIWNlLmxhc3RDaGlsZDt2YXIgZ2U9e3RoZWFkOlsxLCI8dGFibGU+IiwiPC90YWJsZT4iXSxjb2w6WzIsIjx0YWJsZT48Y29sZ3JvdXA+IiwiPC9jb2xncm91cD48L3RhYmxlPiJdLHRyOlsyLCI8dGFibGU+PHRib2R5PiIsIjwvdGJvZHk+PC90YWJsZT4iXSx0ZDpbMywiPHRhYmxlPjx0Ym9keT48dHI+IiwiPC90cj48L3Rib2R5PjwvdGFibGU+Il0sX2RlZmF1bHQ6WzAsIiIsIiJdfTtmdW5jdGlvbiB2ZShlLHQpe3ZhciBuO3JldHVybiBuPSJ1bmRlZmluZWQiIT10eXBlb2YgZS5nZXRFbGVtZW50c0J5VGFnTmFtZT9lLmdldEVsZW1lbnRzQnlUYWdOYW1lKHR8fCIqIik6InVuZGVmaW5lZCIhPXR5cGVvZiBlLnF1ZXJ5U2VsZWN0b3JBbGw/ZS5xdWVyeVNlbGVjdG9yQWxsKHR8fCIqIik6W10sdm9pZCAwPT09dHx8dCYmQShlLHQpP1MubWVyZ2UoW2VdLG4pOm59ZnVuY3Rpb24geWUoZSx0KXtmb3IodmFyIG49MCxyPWUubGVuZ3RoO248cjtuKyspWS5zZXQoZVtuXSwiZ2xvYmFsRXZhbCIsIXR8fFkuZ2V0KHRbbl0sImdsb2JhbEV2YWwiKSl9Z2UudGJvZHk9Z2UudGZvb3Q9Z2UuY29sZ3JvdXA9Z2UuY2FwdGlvbj1nZS50aGVhZCxnZS50aD1nZS50ZCx5Lm9wdGlvbnx8KGdlLm9wdGdyb3VwPWdlLm9wdGlvbj1bMSwiPHNlbGVjdCBtdWx0aXBsZT0nbXVsdGlwbGUnPiIsIjwvc2VsZWN0PiJdKTt2YXIgbWU9Lzx8JiM/XHcrOy87ZnVuY3Rpb24geGUoZSx0LG4scixpKXtmb3IodmFyIG8sYSxzLHUsbCxjLGY9dC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCkscD1bXSxkPTAsaD1lLmxlbmd0aDtkPGg7ZCsrKWlmKChvPWVbZF0pfHwwPT09bylpZigib2JqZWN0Ij09PXcobykpUy5tZXJnZShwLG8ubm9kZVR5cGU/W29dOm8pO2Vsc2UgaWYobWUudGVzdChvKSl7YT1hfHxmLmFwcGVuZENoaWxkKHQuY3JlYXRlRWxlbWVudCgiZGl2IikpLHM9KGRlLmV4ZWMobyl8fFsiIiwiIl0pWzFdLnRvTG93ZXJDYXNlKCksdT1nZVtzXXx8Z2UuX2RlZmF1bHQsYS5pbm5lckhUTUw9dVsxXStTLmh0bWxQcmVmaWx0ZXIobykrdVsyXSxjPXVbMF07d2hpbGUoYy0tKWE9YS5sYXN0Q2hpbGQ7Uy5tZXJnZShwLGEuY2hpbGROb2RlcyksKGE9Zi5maXJzdENoaWxkKS50ZXh0Q29udGVudD0iIn1lbHNlIHAucHVzaCh0LmNyZWF0ZVRleHROb2RlKG8pKTtmLnRleHRDb250ZW50PSIiLGQ9MDt3aGlsZShvPXBbZCsrXSlpZihyJiYtMTxTLmluQXJyYXkobyxyKSlpJiZpLnB1c2gobyk7ZWxzZSBpZihsPWllKG8pLGE9dmUoZi5hcHBlbmRDaGlsZChvKSwic2NyaXB0IiksbCYmeWUoYSksbil7Yz0wO3doaWxlKG89YVtjKytdKWhlLnRlc3Qoby50eXBlfHwiIikmJm4ucHVzaChvKX1yZXR1cm4gZn12YXIgYmU9L14oW14uXSopKD86XC4oLispfCkvO2Z1bmN0aW9uIHdlKCl7cmV0dXJuITB9ZnVuY3Rpb24gVGUoKXtyZXR1cm4hMX1mdW5jdGlvbiBDZShlLHQpe3JldHVybiBlPT09ZnVuY3Rpb24oKXt0cnl7cmV0dXJuIEUuYWN0aXZlRWxlbWVudH1jYXRjaChlKXt9fSgpPT0oImZvY3VzIj09PXQpfWZ1bmN0aW9uIEVlKGUsdCxuLHIsaSxvKXt2YXIgYSxzO2lmKCJvYmplY3QiPT10eXBlb2YgdCl7Zm9yKHMgaW4ic3RyaW5nIiE9dHlwZW9mIG4mJihyPXJ8fG4sbj12b2lkIDApLHQpRWUoZSxzLG4scix0W3NdLG8pO3JldHVybiBlfWlmKG51bGw9PXImJm51bGw9PWk/KGk9bixyPW49dm9pZCAwKTpudWxsPT1pJiYoInN0cmluZyI9PXR5cGVvZiBuPyhpPXIscj12b2lkIDApOihpPXIscj1uLG49dm9pZCAwKSksITE9PT1pKWk9VGU7ZWxzZSBpZighaSlyZXR1cm4gZTtyZXR1cm4gMT09PW8mJihhPWksKGk9ZnVuY3Rpb24oZSl7cmV0dXJuIFMoKS5vZmYoZSksYS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9KS5ndWlkPWEuZ3VpZHx8KGEuZ3VpZD1TLmd1aWQrKykpLGUuZWFjaChmdW5jdGlvbigpe1MuZXZlbnQuYWRkKHRoaXMsdCxpLHIsbil9KX1mdW5jdGlvbiBTZShlLGksbyl7bz8oWS5zZXQoZSxpLCExKSxTLmV2ZW50LmFkZChlLGkse25hbWVzcGFjZTohMSxoYW5kbGVyOmZ1bmN0aW9uKGUpe3ZhciB0LG4scj1ZLmdldCh0aGlzLGkpO2lmKDEmZS5pc1RyaWdnZXImJnRoaXNbaV0pe2lmKHIubGVuZ3RoKShTLmV2ZW50LnNwZWNpYWxbaV18fHt9KS5kZWxlZ2F0ZVR5cGUmJmUuc3RvcFByb3BhZ2F0aW9uKCk7ZWxzZSBpZihyPXMuY2FsbChhcmd1bWVudHMpLFkuc2V0KHRoaXMsaSxyKSx0PW8odGhpcyxpKSx0aGlzW2ldKCksciE9PShuPVkuZ2V0KHRoaXMsaSkpfHx0P1kuc2V0KHRoaXMsaSwhMSk6bj17fSxyIT09bilyZXR1cm4gZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKSxlLnByZXZlbnREZWZhdWx0KCksbiYmbi52YWx1ZX1lbHNlIHIubGVuZ3RoJiYoWS5zZXQodGhpcyxpLHt2YWx1ZTpTLmV2ZW50LnRyaWdnZXIoUy5leHRlbmQoclswXSxTLkV2ZW50LnByb3RvdHlwZSksci5zbGljZSgxKSx0aGlzKX0pLGUuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCkpfX0pKTp2b2lkIDA9PT1ZLmdldChlLGkpJiZTLmV2ZW50LmFkZChlLGksd2UpfVMuZXZlbnQ9e2dsb2JhbDp7fSxhZGQ6ZnVuY3Rpb24odCxlLG4scixpKXt2YXIgbyxhLHMsdSxsLGMsZixwLGQsaCxnLHY9WS5nZXQodCk7aWYoVih0KSl7bi5oYW5kbGVyJiYobj0obz1uKS5oYW5kbGVyLGk9by5zZWxlY3RvciksaSYmUy5maW5kLm1hdGNoZXNTZWxlY3RvcihyZSxpKSxuLmd1aWR8fChuLmd1aWQ9Uy5ndWlkKyspLCh1PXYuZXZlbnRzKXx8KHU9di5ldmVudHM9T2JqZWN0LmNyZWF0ZShudWxsKSksKGE9di5oYW5kbGUpfHwoYT12LmhhbmRsZT1mdW5jdGlvbihlKXtyZXR1cm4idW5kZWZpbmVkIiE9dHlwZW9mIFMmJlMuZXZlbnQudHJpZ2dlcmVkIT09ZS50eXBlP1MuZXZlbnQuZGlzcGF0Y2guYXBwbHkodCxhcmd1bWVudHMpOnZvaWQgMH0pLGw9KGU9KGV8fCIiKS5tYXRjaChQKXx8WyIiXSkubGVuZ3RoO3doaWxlKGwtLSlkPWc9KHM9YmUuZXhlYyhlW2xdKXx8W10pWzFdLGg9KHNbMl18fCIiKS5zcGxpdCgiLiIpLnNvcnQoKSxkJiYoZj1TLmV2ZW50LnNwZWNpYWxbZF18fHt9LGQ9KGk/Zi5kZWxlZ2F0ZVR5cGU6Zi5iaW5kVHlwZSl8fGQsZj1TLmV2ZW50LnNwZWNpYWxbZF18fHt9LGM9Uy5leHRlbmQoe3R5cGU6ZCxvcmlnVHlwZTpnLGRhdGE6cixoYW5kbGVyOm4sZ3VpZDpuLmd1aWQsc2VsZWN0b3I6aSxuZWVkc0NvbnRleHQ6aSYmUy5leHByLm1hdGNoLm5lZWRzQ29udGV4dC50ZXN0KGkpLG5hbWVzcGFjZTpoLmpvaW4oIi4iKX0sbyksKHA9dVtkXSl8fCgocD11W2RdPVtdKS5kZWxlZ2F0ZUNvdW50PTAsZi5zZXR1cCYmITEhPT1mLnNldHVwLmNhbGwodCxyLGgsYSl8fHQuYWRkRXZlbnRMaXN0ZW5lciYmdC5hZGRFdmVudExpc3RlbmVyKGQsYSkpLGYuYWRkJiYoZi5hZGQuY2FsbCh0LGMpLGMuaGFuZGxlci5ndWlkfHwoYy5oYW5kbGVyLmd1aWQ9bi5ndWlkKSksaT9wLnNwbGljZShwLmRlbGVnYXRlQ291bnQrKywwLGMpOnAucHVzaChjKSxTLmV2ZW50Lmdsb2JhbFtkXT0hMCl9fSxyZW1vdmU6ZnVuY3Rpb24oZSx0LG4scixpKXt2YXIgbyxhLHMsdSxsLGMsZixwLGQsaCxnLHY9WS5oYXNEYXRhKGUpJiZZLmdldChlKTtpZih2JiYodT12LmV2ZW50cykpe2w9KHQ9KHR8fCIiKS5tYXRjaChQKXx8WyIiXSkubGVuZ3RoO3doaWxlKGwtLSlpZihkPWc9KHM9YmUuZXhlYyh0W2xdKXx8W10pWzFdLGg9KHNbMl18fCIiKS5zcGxpdCgiLiIpLnNvcnQoKSxkKXtmPVMuZXZlbnQuc3BlY2lhbFtkXXx8e30scD11W2Q9KHI/Zi5kZWxlZ2F0ZVR5cGU6Zi5iaW5kVHlwZSl8fGRdfHxbXSxzPXNbMl0mJm5ldyBSZWdFeHAoIihefFxcLikiK2guam9pbigiXFwuKD86LipcXC58KSIpKyIoXFwufCQpIiksYT1vPXAubGVuZ3RoO3doaWxlKG8tLSljPXBbb10sIWkmJmchPT1jLm9yaWdUeXBlfHxuJiZuLmd1aWQhPT1jLmd1aWR8fHMmJiFzLnRlc3QoYy5uYW1lc3BhY2UpfHxyJiZyIT09Yy5zZWxlY3RvciYmKCIqKiIhPT1yfHwhYy5zZWxlY3Rvcil8fChwLnNwbGljZShvLDEpLGMuc2VsZWN0b3ImJnAuZGVsZWdhdGVDb3VudC0tLGYucmVtb3ZlJiZmLnJlbW92ZS5jYWxsKGUsYykpO2EmJiFwLmxlbmd0aCYmKGYudGVhcmRvd24mJiExIT09Zi50ZWFyZG93bi5jYWxsKGUsaCx2LmhhbmRsZSl8fFMucmVtb3ZlRXZlbnQoZSxkLHYuaGFuZGxlKSxkZWxldGUgdVtkXSl9ZWxzZSBmb3IoZCBpbiB1KVMuZXZlbnQucmVtb3ZlKGUsZCt0W2xdLG4sciwhMCk7Uy5pc0VtcHR5T2JqZWN0KHUpJiZZLnJlbW92ZShlLCJoYW5kbGUgZXZlbnRzIil9fSxkaXNwYXRjaDpmdW5jdGlvbihlKXt2YXIgdCxuLHIsaSxvLGEscz1uZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCksdT1TLmV2ZW50LmZpeChlKSxsPShZLmdldCh0aGlzLCJldmVudHMiKXx8T2JqZWN0LmNyZWF0ZShudWxsKSlbdS50eXBlXXx8W10sYz1TLmV2ZW50LnNwZWNpYWxbdS50eXBlXXx8e307Zm9yKHNbMF09dSx0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKylzW3RdPWFyZ3VtZW50c1t0XTtpZih1LmRlbGVnYXRlVGFyZ2V0PXRoaXMsIWMucHJlRGlzcGF0Y2h8fCExIT09Yy5wcmVEaXNwYXRjaC5jYWxsKHRoaXMsdSkpe2E9Uy5ldmVudC5oYW5kbGVycy5jYWxsKHRoaXMsdSxsKSx0PTA7d2hpbGUoKGk9YVt0KytdKSYmIXUuaXNQcm9wYWdhdGlvblN0b3BwZWQoKSl7dS5jdXJyZW50VGFyZ2V0PWkuZWxlbSxuPTA7d2hpbGUoKG89aS5oYW5kbGVyc1tuKytdKSYmIXUuaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQoKSl1LnJuYW1lc3BhY2UmJiExIT09by5uYW1lc3BhY2UmJiF1LnJuYW1lc3BhY2UudGVzdChvLm5hbWVzcGFjZSl8fCh1LmhhbmRsZU9iaj1vLHUuZGF0YT1vLmRhdGEsdm9pZCAwIT09KHI9KChTLmV2ZW50LnNwZWNpYWxbby5vcmlnVHlwZV18fHt9KS5oYW5kbGV8fG8uaGFuZGxlcikuYXBwbHkoaS5lbGVtLHMpKSYmITE9PT0odS5yZXN1bHQ9cikmJih1LnByZXZlbnREZWZhdWx0KCksdS5zdG9wUHJvcGFnYXRpb24oKSkpfXJldHVybiBjLnBvc3REaXNwYXRjaCYmYy5wb3N0RGlzcGF0Y2guY2FsbCh0aGlzLHUpLHUucmVzdWx0fX0saGFuZGxlcnM6ZnVuY3Rpb24oZSx0KXt2YXIgbixyLGksbyxhLHM9W10sdT10LmRlbGVnYXRlQ291bnQsbD1lLnRhcmdldDtpZih1JiZsLm5vZGVUeXBlJiYhKCJjbGljayI9PT1lLnR5cGUmJjE8PWUuYnV0dG9uKSlmb3IoO2whPT10aGlzO2w9bC5wYXJlbnROb2RlfHx0aGlzKWlmKDE9PT1sLm5vZGVUeXBlJiYoImNsaWNrIiE9PWUudHlwZXx8ITAhPT1sLmRpc2FibGVkKSl7Zm9yKG89W10sYT17fSxuPTA7bjx1O24rKyl2b2lkIDA9PT1hW2k9KHI9dFtuXSkuc2VsZWN0b3IrIiAiXSYmKGFbaV09ci5uZWVkc0NvbnRleHQ/LTE8UyhpLHRoaXMpLmluZGV4KGwpOlMuZmluZChpLHRoaXMsbnVsbCxbbF0pLmxlbmd0aCksYVtpXSYmby5wdXNoKHIpO28ubGVuZ3RoJiZzLnB1c2goe2VsZW06bCxoYW5kbGVyczpvfSl9cmV0dXJuIGw9dGhpcyx1PHQubGVuZ3RoJiZzLnB1c2goe2VsZW06bCxoYW5kbGVyczp0LnNsaWNlKHUpfSksc30sYWRkUHJvcDpmdW5jdGlvbih0LGUpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShTLkV2ZW50LnByb3RvdHlwZSx0LHtlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCxnZXQ6bShlKT9mdW5jdGlvbigpe2lmKHRoaXMub3JpZ2luYWxFdmVudClyZXR1cm4gZSh0aGlzLm9yaWdpbmFsRXZlbnQpfTpmdW5jdGlvbigpe2lmKHRoaXMub3JpZ2luYWxFdmVudClyZXR1cm4gdGhpcy5vcmlnaW5hbEV2ZW50W3RdfSxzZXQ6ZnVuY3Rpb24oZSl7T2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsdCx7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6ZX0pfX0pfSxmaXg6ZnVuY3Rpb24oZSl7cmV0dXJuIGVbUy5leHBhbmRvXT9lOm5ldyBTLkV2ZW50KGUpfSxzcGVjaWFsOntsb2FkOntub0J1YmJsZTohMH0sY2xpY2s6e3NldHVwOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXN8fGU7cmV0dXJuIHBlLnRlc3QodC50eXBlKSYmdC5jbGljayYmQSh0LCJpbnB1dCIpJiZTZSh0LCJjbGljayIsd2UpLCExfSx0cmlnZ2VyOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXN8fGU7cmV0dXJuIHBlLnRlc3QodC50eXBlKSYmdC5jbGljayYmQSh0LCJpbnB1dCIpJiZTZSh0LCJjbGljayIpLCEwfSxfZGVmYXVsdDpmdW5jdGlvbihlKXt2YXIgdD1lLnRhcmdldDtyZXR1cm4gcGUudGVzdCh0LnR5cGUpJiZ0LmNsaWNrJiZBKHQsImlucHV0IikmJlkuZ2V0KHQsImNsaWNrIil8fEEodCwiYSIpfX0sYmVmb3JldW5sb2FkOntwb3N0RGlzcGF0Y2g6ZnVuY3Rpb24oZSl7dm9pZCAwIT09ZS5yZXN1bHQmJmUub3JpZ2luYWxFdmVudCYmKGUub3JpZ2luYWxFdmVudC5yZXR1cm5WYWx1ZT1lLnJlc3VsdCl9fX19LFMucmVtb3ZlRXZlbnQ9ZnVuY3Rpb24oZSx0LG4pe2UucmVtb3ZlRXZlbnRMaXN0ZW5lciYmZS5yZW1vdmVFdmVudExpc3RlbmVyKHQsbil9LFMuRXZlbnQ9ZnVuY3Rpb24oZSx0KXtpZighKHRoaXMgaW5zdGFuY2VvZiBTLkV2ZW50KSlyZXR1cm4gbmV3IFMuRXZlbnQoZSx0KTtlJiZlLnR5cGU/KHRoaXMub3JpZ2luYWxFdmVudD1lLHRoaXMudHlwZT1lLnR5cGUsdGhpcy5pc0RlZmF1bHRQcmV2ZW50ZWQ9ZS5kZWZhdWx0UHJldmVudGVkfHx2b2lkIDA9PT1lLmRlZmF1bHRQcmV2ZW50ZWQmJiExPT09ZS5yZXR1cm5WYWx1ZT93ZTpUZSx0aGlzLnRhcmdldD1lLnRhcmdldCYmMz09PWUudGFyZ2V0Lm5vZGVUeXBlP2UudGFyZ2V0LnBhcmVudE5vZGU6ZS50YXJnZXQsdGhpcy5jdXJyZW50VGFyZ2V0PWUuY3VycmVudFRhcmdldCx0aGlzLnJlbGF0ZWRUYXJnZXQ9ZS5yZWxhdGVkVGFyZ2V0KTp0aGlzLnR5cGU9ZSx0JiZTLmV4dGVuZCh0aGlzLHQpLHRoaXMudGltZVN0YW1wPWUmJmUudGltZVN0YW1wfHxEYXRlLm5vdygpLHRoaXNbUy5leHBhbmRvXT0hMH0sUy5FdmVudC5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOlMuRXZlbnQsaXNEZWZhdWx0UHJldmVudGVkOlRlLGlzUHJvcGFnYXRpb25TdG9wcGVkOlRlLGlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkOlRlLGlzU2ltdWxhdGVkOiExLHByZXZlbnREZWZhdWx0OmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5vcmlnaW5hbEV2ZW50O3RoaXMuaXNEZWZhdWx0UHJldmVudGVkPXdlLGUmJiF0aGlzLmlzU2ltdWxhdGVkJiZlLnByZXZlbnREZWZhdWx0KCl9LHN0b3BQcm9wYWdhdGlvbjpmdW5jdGlvbigpe3ZhciBlPXRoaXMub3JpZ2luYWxFdmVudDt0aGlzLmlzUHJvcGFnYXRpb25TdG9wcGVkPXdlLGUmJiF0aGlzLmlzU2ltdWxhdGVkJiZlLnN0b3BQcm9wYWdhdGlvbigpfSxzdG9wSW1tZWRpYXRlUHJvcGFnYXRpb246ZnVuY3Rpb24oKXt2YXIgZT10aGlzLm9yaWdpbmFsRXZlbnQ7dGhpcy5pc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZD13ZSxlJiYhdGhpcy5pc1NpbXVsYXRlZCYmZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKSx0aGlzLnN0b3BQcm9wYWdhdGlvbigpfX0sUy5lYWNoKHthbHRLZXk6ITAsYnViYmxlczohMCxjYW5jZWxhYmxlOiEwLGNoYW5nZWRUb3VjaGVzOiEwLGN0cmxLZXk6ITAsZGV0YWlsOiEwLGV2ZW50UGhhc2U6ITAsbWV0YUtleTohMCxwYWdlWDohMCxwYWdlWTohMCxzaGlmdEtleTohMCx2aWV3OiEwLCJjaGFyIjohMCxjb2RlOiEwLGNoYXJDb2RlOiEwLGtleTohMCxrZXlDb2RlOiEwLGJ1dHRvbjohMCxidXR0b25zOiEwLGNsaWVudFg6ITAsY2xpZW50WTohMCxvZmZzZXRYOiEwLG9mZnNldFk6ITAscG9pbnRlcklkOiEwLHBvaW50ZXJUeXBlOiEwLHNjcmVlblg6ITAsc2NyZWVuWTohMCx0YXJnZXRUb3VjaGVzOiEwLHRvRWxlbWVudDohMCx0b3VjaGVzOiEwLHdoaWNoOiEwfSxTLmV2ZW50LmFkZFByb3ApLFMuZWFjaCh7Zm9jdXM6ImZvY3VzaW4iLGJsdXI6ImZvY3Vzb3V0In0sZnVuY3Rpb24oZSx0KXtTLmV2ZW50LnNwZWNpYWxbZV09e3NldHVwOmZ1bmN0aW9uKCl7cmV0dXJuIFNlKHRoaXMsZSxDZSksITF9LHRyaWdnZXI6ZnVuY3Rpb24oKXtyZXR1cm4gU2UodGhpcyxlKSwhMH0sX2RlZmF1bHQ6ZnVuY3Rpb24oKXtyZXR1cm4hMH0sZGVsZWdhdGVUeXBlOnR9fSksUy5lYWNoKHttb3VzZWVudGVyOiJtb3VzZW92ZXIiLG1vdXNlbGVhdmU6Im1vdXNlb3V0Iixwb2ludGVyZW50ZXI6InBvaW50ZXJvdmVyIixwb2ludGVybGVhdmU6InBvaW50ZXJvdXQifSxmdW5jdGlvbihlLGkpe1MuZXZlbnQuc3BlY2lhbFtlXT17ZGVsZWdhdGVUeXBlOmksYmluZFR5cGU6aSxoYW5kbGU6ZnVuY3Rpb24oZSl7dmFyIHQsbj1lLnJlbGF0ZWRUYXJnZXQscj1lLmhhbmRsZU9iajtyZXR1cm4gbiYmKG49PT10aGlzfHxTLmNvbnRhaW5zKHRoaXMsbikpfHwoZS50eXBlPXIub3JpZ1R5cGUsdD1yLmhhbmRsZXIuYXBwbHkodGhpcyxhcmd1bWVudHMpLGUudHlwZT1pKSx0fX19KSxTLmZuLmV4dGVuZCh7b246ZnVuY3Rpb24oZSx0LG4scil7cmV0dXJuIEVlKHRoaXMsZSx0LG4scil9LG9uZTpmdW5jdGlvbihlLHQsbixyKXtyZXR1cm4gRWUodGhpcyxlLHQsbixyLDEpfSxvZmY6ZnVuY3Rpb24oZSx0LG4pe3ZhciByLGk7aWYoZSYmZS5wcmV2ZW50RGVmYXVsdCYmZS5oYW5kbGVPYmopcmV0dXJuIHI9ZS5oYW5kbGVPYmosUyhlLmRlbGVnYXRlVGFyZ2V0KS5vZmYoci5uYW1lc3BhY2U/ci5vcmlnVHlwZSsiLiIrci5uYW1lc3BhY2U6ci5vcmlnVHlwZSxyLnNlbGVjdG9yLHIuaGFuZGxlciksdGhpcztpZigib2JqZWN0Ij09dHlwZW9mIGUpe2ZvcihpIGluIGUpdGhpcy5vZmYoaSx0LGVbaV0pO3JldHVybiB0aGlzfXJldHVybiExIT09dCYmImZ1bmN0aW9uIiE9dHlwZW9mIHR8fChuPXQsdD12b2lkIDApLCExPT09biYmKG49VGUpLHRoaXMuZWFjaChmdW5jdGlvbigpe1MuZXZlbnQucmVtb3ZlKHRoaXMsZSxuLHQpfSl9fSk7dmFyIGtlPS88c2NyaXB0fDxzdHlsZXw8bGluay9pLEFlPS9jaGVja2VkXHMqKD86W149XXw9XHMqLmNoZWNrZWQuKS9pLE5lPS9eXHMqPCEoPzpcW0NEQVRBXFt8LS0pfCg/OlxdXF18LS0pPlxzKiQvZztmdW5jdGlvbiBqZShlLHQpe3JldHVybiBBKGUsInRhYmxlIikmJkEoMTEhPT10Lm5vZGVUeXBlP3Q6dC5maXJzdENoaWxkLCJ0ciIpJiZTKGUpLmNoaWxkcmVuKCJ0Ym9keSIpWzBdfHxlfWZ1bmN0aW9uIERlKGUpe3JldHVybiBlLnR5cGU9KG51bGwhPT1lLmdldEF0dHJpYnV0ZSgidHlwZSIpKSsiLyIrZS50eXBlLGV9ZnVuY3Rpb24gcWUoZSl7cmV0dXJuInRydWUvIj09PShlLnR5cGV8fCIiKS5zbGljZSgwLDUpP2UudHlwZT1lLnR5cGUuc2xpY2UoNSk6ZS5yZW1vdmVBdHRyaWJ1dGUoInR5cGUiKSxlfWZ1bmN0aW9uIExlKGUsdCl7dmFyIG4scixpLG8sYSxzO2lmKDE9PT10Lm5vZGVUeXBlKXtpZihZLmhhc0RhdGEoZSkmJihzPVkuZ2V0KGUpLmV2ZW50cykpZm9yKGkgaW4gWS5yZW1vdmUodCwiaGFuZGxlIGV2ZW50cyIpLHMpZm9yKG49MCxyPXNbaV0ubGVuZ3RoO248cjtuKyspUy5ldmVudC5hZGQodCxpLHNbaV1bbl0pO1EuaGFzRGF0YShlKSYmKG89US5hY2Nlc3MoZSksYT1TLmV4dGVuZCh7fSxvKSxRLnNldCh0LGEpKX19ZnVuY3Rpb24gSGUobixyLGksbyl7cj1nKHIpO3ZhciBlLHQsYSxzLHUsbCxjPTAsZj1uLmxlbmd0aCxwPWYtMSxkPXJbMF0saD1tKGQpO2lmKGh8fDE8ZiYmInN0cmluZyI9PXR5cGVvZiBkJiYheS5jaGVja0Nsb25lJiZBZS50ZXN0KGQpKXJldHVybiBuLmVhY2goZnVuY3Rpb24oZSl7dmFyIHQ9bi5lcShlKTtoJiYoclswXT1kLmNhbGwodGhpcyxlLHQuaHRtbCgpKSksSGUodCxyLGksbyl9KTtpZihmJiYodD0oZT14ZShyLG5bMF0ub3duZXJEb2N1bWVudCwhMSxuLG8pKS5maXJzdENoaWxkLDE9PT1lLmNoaWxkTm9kZXMubGVuZ3RoJiYoZT10KSx0fHxvKSl7Zm9yKHM9KGE9Uy5tYXAodmUoZSwic2NyaXB0IiksRGUpKS5sZW5ndGg7YzxmO2MrKyl1PWUsYyE9PXAmJih1PVMuY2xvbmUodSwhMCwhMCkscyYmUy5tZXJnZShhLHZlKHUsInNjcmlwdCIpKSksaS5jYWxsKG5bY10sdSxjKTtpZihzKWZvcihsPWFbYS5sZW5ndGgtMV0ub3duZXJEb2N1bWVudCxTLm1hcChhLHFlKSxjPTA7YzxzO2MrKyl1PWFbY10saGUudGVzdCh1LnR5cGV8fCIiKSYmIVkuYWNjZXNzKHUsImdsb2JhbEV2YWwiKSYmUy5jb250YWlucyhsLHUpJiYodS5zcmMmJiJtb2R1bGUiIT09KHUudHlwZXx8IiIpLnRvTG93ZXJDYXNlKCk/Uy5fZXZhbFVybCYmIXUubm9Nb2R1bGUmJlMuX2V2YWxVcmwodS5zcmMse25vbmNlOnUubm9uY2V8fHUuZ2V0QXR0cmlidXRlKCJub25jZSIpfSxsKTpiKHUudGV4dENvbnRlbnQucmVwbGFjZShOZSwiIiksdSxsKSl9cmV0dXJuIG59ZnVuY3Rpb24gT2UoZSx0LG4pe2Zvcih2YXIgcixpPXQ/Uy5maWx0ZXIodCxlKTplLG89MDtudWxsIT0ocj1pW29dKTtvKyspbnx8MSE9PXIubm9kZVR5cGV8fFMuY2xlYW5EYXRhKHZlKHIpKSxyLnBhcmVudE5vZGUmJihuJiZpZShyKSYmeWUodmUociwic2NyaXB0IikpLHIucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChyKSk7cmV0dXJuIGV9Uy5leHRlbmQoe2h0bWxQcmVmaWx0ZXI6ZnVuY3Rpb24oZSl7cmV0dXJuIGV9LGNsb25lOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcixpLG8sYSxzLHUsbCxjPWUuY2xvbmVOb2RlKCEwKSxmPWllKGUpO2lmKCEoeS5ub0Nsb25lQ2hlY2tlZHx8MSE9PWUubm9kZVR5cGUmJjExIT09ZS5ub2RlVHlwZXx8Uy5pc1hNTERvYyhlKSkpZm9yKGE9dmUoYykscj0wLGk9KG89dmUoZSkpLmxlbmd0aDtyPGk7cisrKXM9b1tyXSx1PWFbcl0sdm9pZCAwLCJpbnB1dCI9PT0obD11Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkpJiZwZS50ZXN0KHMudHlwZSk/dS5jaGVja2VkPXMuY2hlY2tlZDoiaW5wdXQiIT09bCYmInRleHRhcmVhIiE9PWx8fCh1LmRlZmF1bHRWYWx1ZT1zLmRlZmF1bHRWYWx1ZSk7aWYodClpZihuKWZvcihvPW98fHZlKGUpLGE9YXx8dmUoYykscj0wLGk9by5sZW5ndGg7cjxpO3IrKylMZShvW3JdLGFbcl0pO2Vsc2UgTGUoZSxjKTtyZXR1cm4gMDwoYT12ZShjLCJzY3JpcHQiKSkubGVuZ3RoJiZ5ZShhLCFmJiZ2ZShlLCJzY3JpcHQiKSksY30sY2xlYW5EYXRhOmZ1bmN0aW9uKGUpe2Zvcih2YXIgdCxuLHIsaT1TLmV2ZW50LnNwZWNpYWwsbz0wO3ZvaWQgMCE9PShuPWVbb10pO28rKylpZihWKG4pKXtpZih0PW5bWS5leHBhbmRvXSl7aWYodC5ldmVudHMpZm9yKHIgaW4gdC5ldmVudHMpaVtyXT9TLmV2ZW50LnJlbW92ZShuLHIpOlMucmVtb3ZlRXZlbnQobixyLHQuaGFuZGxlKTtuW1kuZXhwYW5kb109dm9pZCAwfW5bUS5leHBhbmRvXSYmKG5bUS5leHBhbmRvXT12b2lkIDApfX19KSxTLmZuLmV4dGVuZCh7ZGV0YWNoOmZ1bmN0aW9uKGUpe3JldHVybiBPZSh0aGlzLGUsITApfSxyZW1vdmU6ZnVuY3Rpb24oZSl7cmV0dXJuIE9lKHRoaXMsZSl9LHRleHQ6ZnVuY3Rpb24oZSl7cmV0dXJuICQodGhpcyxmdW5jdGlvbihlKXtyZXR1cm4gdm9pZCAwPT09ZT9TLnRleHQodGhpcyk6dGhpcy5lbXB0eSgpLmVhY2goZnVuY3Rpb24oKXsxIT09dGhpcy5ub2RlVHlwZSYmMTEhPT10aGlzLm5vZGVUeXBlJiY5IT09dGhpcy5ub2RlVHlwZXx8KHRoaXMudGV4dENvbnRlbnQ9ZSl9KX0sbnVsbCxlLGFyZ3VtZW50cy5sZW5ndGgpfSxhcHBlbmQ6ZnVuY3Rpb24oKXtyZXR1cm4gSGUodGhpcyxhcmd1bWVudHMsZnVuY3Rpb24oZSl7MSE9PXRoaXMubm9kZVR5cGUmJjExIT09dGhpcy5ub2RlVHlwZSYmOSE9PXRoaXMubm9kZVR5cGV8fGplKHRoaXMsZSkuYXBwZW5kQ2hpbGQoZSl9KX0scHJlcGVuZDpmdW5jdGlvbigpe3JldHVybiBIZSh0aGlzLGFyZ3VtZW50cyxmdW5jdGlvbihlKXtpZigxPT09dGhpcy5ub2RlVHlwZXx8MTE9PT10aGlzLm5vZGVUeXBlfHw5PT09dGhpcy5ub2RlVHlwZSl7dmFyIHQ9amUodGhpcyxlKTt0Lmluc2VydEJlZm9yZShlLHQuZmlyc3RDaGlsZCl9fSl9LGJlZm9yZTpmdW5jdGlvbigpe3JldHVybiBIZSh0aGlzLGFyZ3VtZW50cyxmdW5jdGlvbihlKXt0aGlzLnBhcmVudE5vZGUmJnRoaXMucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoZSx0aGlzKX0pfSxhZnRlcjpmdW5jdGlvbigpe3JldHVybiBIZSh0aGlzLGFyZ3VtZW50cyxmdW5jdGlvbihlKXt0aGlzLnBhcmVudE5vZGUmJnRoaXMucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoZSx0aGlzLm5leHRTaWJsaW5nKX0pfSxlbXB0eTpmdW5jdGlvbigpe2Zvcih2YXIgZSx0PTA7bnVsbCE9KGU9dGhpc1t0XSk7dCsrKTE9PT1lLm5vZGVUeXBlJiYoUy5jbGVhbkRhdGEodmUoZSwhMSkpLGUudGV4dENvbnRlbnQ9IiIpO3JldHVybiB0aGlzfSxjbG9uZTpmdW5jdGlvbihlLHQpe3JldHVybiBlPW51bGwhPWUmJmUsdD1udWxsPT10P2U6dCx0aGlzLm1hcChmdW5jdGlvbigpe3JldHVybiBTLmNsb25lKHRoaXMsZSx0KX0pfSxodG1sOmZ1bmN0aW9uKGUpe3JldHVybiAkKHRoaXMsZnVuY3Rpb24oZSl7dmFyIHQ9dGhpc1swXXx8e30sbj0wLHI9dGhpcy5sZW5ndGg7aWYodm9pZCAwPT09ZSYmMT09PXQubm9kZVR5cGUpcmV0dXJuIHQuaW5uZXJIVE1MO2lmKCJzdHJpbmciPT10eXBlb2YgZSYmIWtlLnRlc3QoZSkmJiFnZVsoZGUuZXhlYyhlKXx8WyIiLCIiXSlbMV0udG9Mb3dlckNhc2UoKV0pe2U9Uy5odG1sUHJlZmlsdGVyKGUpO3RyeXtmb3IoO248cjtuKyspMT09PSh0PXRoaXNbbl18fHt9KS5ub2RlVHlwZSYmKFMuY2xlYW5EYXRhKHZlKHQsITEpKSx0LmlubmVySFRNTD1lKTt0PTB9Y2F0Y2goZSl7fX10JiZ0aGlzLmVtcHR5KCkuYXBwZW5kKGUpfSxudWxsLGUsYXJndW1lbnRzLmxlbmd0aCl9LHJlcGxhY2VXaXRoOmZ1bmN0aW9uKCl7dmFyIG49W107cmV0dXJuIEhlKHRoaXMsYXJndW1lbnRzLGZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMucGFyZW50Tm9kZTtTLmluQXJyYXkodGhpcyxuKTwwJiYoUy5jbGVhbkRhdGEodmUodGhpcykpLHQmJnQucmVwbGFjZUNoaWxkKGUsdGhpcykpfSxuKX19KSxTLmVhY2goe2FwcGVuZFRvOiJhcHBlbmQiLHByZXBlbmRUbzoicHJlcGVuZCIsaW5zZXJ0QmVmb3JlOiJiZWZvcmUiLGluc2VydEFmdGVyOiJhZnRlciIscmVwbGFjZUFsbDoicmVwbGFjZVdpdGgifSxmdW5jdGlvbihlLGEpe1MuZm5bZV09ZnVuY3Rpb24oZSl7Zm9yKHZhciB0LG49W10scj1TKGUpLGk9ci5sZW5ndGgtMSxvPTA7bzw9aTtvKyspdD1vPT09aT90aGlzOnRoaXMuY2xvbmUoITApLFMocltvXSlbYV0odCksdS5hcHBseShuLHQuZ2V0KCkpO3JldHVybiB0aGlzLnB1c2hTdGFjayhuKX19KTt2YXIgUGU9bmV3IFJlZ0V4cCgiXigiK2VlKyIpKD8hcHgpW2EteiVdKyQiLCJpIiksUmU9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3O3JldHVybiB0JiZ0Lm9wZW5lcnx8KHQ9QyksdC5nZXRDb21wdXRlZFN0eWxlKGUpfSxNZT1mdW5jdGlvbihlLHQsbil7dmFyIHIsaSxvPXt9O2ZvcihpIGluIHQpb1tpXT1lLnN0eWxlW2ldLGUuc3R5bGVbaV09dFtpXTtmb3IoaSBpbiByPW4uY2FsbChlKSx0KWUuc3R5bGVbaV09b1tpXTtyZXR1cm4gcn0sSWU9bmV3IFJlZ0V4cChuZS5qb2luKCJ8IiksImkiKTtmdW5jdGlvbiBXZShlLHQsbil7dmFyIHIsaSxvLGEscz1lLnN0eWxlO3JldHVybihuPW58fFJlKGUpKSYmKCIiIT09KGE9bi5nZXRQcm9wZXJ0eVZhbHVlKHQpfHxuW3RdKXx8aWUoZSl8fChhPVMuc3R5bGUoZSx0KSksIXkucGl4ZWxCb3hTdHlsZXMoKSYmUGUudGVzdChhKSYmSWUudGVzdCh0KSYmKHI9cy53aWR0aCxpPXMubWluV2lkdGgsbz1zLm1heFdpZHRoLHMubWluV2lkdGg9cy5tYXhXaWR0aD1zLndpZHRoPWEsYT1uLndpZHRoLHMud2lkdGg9cixzLm1pbldpZHRoPWkscy5tYXhXaWR0aD1vKSksdm9pZCAwIT09YT9hKyIiOmF9ZnVuY3Rpb24gRmUoZSx0KXtyZXR1cm57Z2V0OmZ1bmN0aW9uKCl7aWYoIWUoKSlyZXR1cm4odGhpcy5nZXQ9dCkuYXBwbHkodGhpcyxhcmd1bWVudHMpO2RlbGV0ZSB0aGlzLmdldH19fSFmdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXtpZihsKXt1LnN0eWxlLmNzc1RleHQ9InBvc2l0aW9uOmFic29sdXRlO2xlZnQ6LTExMTExcHg7d2lkdGg6NjBweDttYXJnaW4tdG9wOjFweDtwYWRkaW5nOjA7Ym9yZGVyOjAiLGwuc3R5bGUuY3NzVGV4dD0icG9zaXRpb246cmVsYXRpdmU7ZGlzcGxheTpibG9jaztib3gtc2l6aW5nOmJvcmRlci1ib3g7b3ZlcmZsb3c6c2Nyb2xsO21hcmdpbjphdXRvO2JvcmRlcjoxcHg7cGFkZGluZzoxcHg7d2lkdGg6NjAlO3RvcDoxJSIscmUuYXBwZW5kQ2hpbGQodSkuYXBwZW5kQ2hpbGQobCk7dmFyIGU9Qy5nZXRDb21wdXRlZFN0eWxlKGwpO249IjElIiE9PWUudG9wLHM9MTI9PT10KGUubWFyZ2luTGVmdCksbC5zdHlsZS5yaWdodD0iNjAlIixvPTM2PT09dChlLnJpZ2h0KSxyPTM2PT09dChlLndpZHRoKSxsLnN0eWxlLnBvc2l0aW9uPSJhYnNvbHV0ZSIsaT0xMj09PXQobC5vZmZzZXRXaWR0aC8zKSxyZS5yZW1vdmVDaGlsZCh1KSxsPW51bGx9fWZ1bmN0aW9uIHQoZSl7cmV0dXJuIE1hdGgucm91bmQocGFyc2VGbG9hdChlKSl9dmFyIG4scixpLG8sYSxzLHU9RS5jcmVhdGVFbGVtZW50KCJkaXYiKSxsPUUuY3JlYXRlRWxlbWVudCgiZGl2Iik7bC5zdHlsZSYmKGwuc3R5bGUuYmFja2dyb3VuZENsaXA9ImNvbnRlbnQtYm94IixsLmNsb25lTm9kZSghMCkuc3R5bGUuYmFja2dyb3VuZENsaXA9IiIseS5jbGVhckNsb25lU3R5bGU9ImNvbnRlbnQtYm94Ij09PWwuc3R5bGUuYmFja2dyb3VuZENsaXAsUy5leHRlbmQoeSx7Ym94U2l6aW5nUmVsaWFibGU6ZnVuY3Rpb24oKXtyZXR1cm4gZSgpLHJ9LHBpeGVsQm94U3R5bGVzOmZ1bmN0aW9uKCl7cmV0dXJuIGUoKSxvfSxwaXhlbFBvc2l0aW9uOmZ1bmN0aW9uKCl7cmV0dXJuIGUoKSxufSxyZWxpYWJsZU1hcmdpbkxlZnQ6ZnVuY3Rpb24oKXtyZXR1cm4gZSgpLHN9LHNjcm9sbGJveFNpemU6ZnVuY3Rpb24oKXtyZXR1cm4gZSgpLGl9LHJlbGlhYmxlVHJEaW1lbnNpb25zOmZ1bmN0aW9uKCl7dmFyIGUsdCxuLHI7cmV0dXJuIG51bGw9PWEmJihlPUUuY3JlYXRlRWxlbWVudCgidGFibGUiKSx0PUUuY3JlYXRlRWxlbWVudCgidHIiKSxuPUUuY3JlYXRlRWxlbWVudCgiZGl2IiksZS5zdHlsZS5jc3NUZXh0PSJwb3NpdGlvbjphYnNvbHV0ZTtsZWZ0Oi0xMTExMXB4O2JvcmRlci1jb2xsYXBzZTpzZXBhcmF0ZSIsdC5zdHlsZS5jc3NUZXh0PSJib3JkZXI6MXB4IHNvbGlkIix0LnN0eWxlLmhlaWdodD0iMXB4IixuLnN0eWxlLmhlaWdodD0iOXB4IixuLnN0eWxlLmRpc3BsYXk9ImJsb2NrIixyZS5hcHBlbmRDaGlsZChlKS5hcHBlbmRDaGlsZCh0KS5hcHBlbmRDaGlsZChuKSxyPUMuZ2V0Q29tcHV0ZWRTdHlsZSh0KSxhPXBhcnNlSW50KHIuaGVpZ2h0LDEwKStwYXJzZUludChyLmJvcmRlclRvcFdpZHRoLDEwKStwYXJzZUludChyLmJvcmRlckJvdHRvbVdpZHRoLDEwKT09PXQub2Zmc2V0SGVpZ2h0LHJlLnJlbW92ZUNoaWxkKGUpKSxhfX0pKX0oKTt2YXIgQmU9WyJXZWJraXQiLCJNb3oiLCJtcyJdLCRlPUUuY3JlYXRlRWxlbWVudCgiZGl2Iikuc3R5bGUsX2U9e307ZnVuY3Rpb24gemUoZSl7dmFyIHQ9Uy5jc3NQcm9wc1tlXXx8X2VbZV07cmV0dXJuIHR8fChlIGluICRlP2U6X2VbZV09ZnVuY3Rpb24oZSl7dmFyIHQ9ZVswXS50b1VwcGVyQ2FzZSgpK2Uuc2xpY2UoMSksbj1CZS5sZW5ndGg7d2hpbGUobi0tKWlmKChlPUJlW25dK3QpaW4gJGUpcmV0dXJuIGV9KGUpfHxlKX12YXIgVWU9L14obm9uZXx0YWJsZSg/IS1jW2VhXSkuKykvLFhlPS9eLS0vLFZlPXtwb3NpdGlvbjoiYWJzb2x1dGUiLHZpc2liaWxpdHk6ImhpZGRlbiIsZGlzcGxheToiYmxvY2sifSxHZT17bGV0dGVyU3BhY2luZzoiMCIsZm9udFdlaWdodDoiNDAwIn07ZnVuY3Rpb24gWWUoZSx0LG4pe3ZhciByPXRlLmV4ZWModCk7cmV0dXJuIHI/TWF0aC5tYXgoMCxyWzJdLShufHwwKSkrKHJbM118fCJweCIpOnR9ZnVuY3Rpb24gUWUoZSx0LG4scixpLG8pe3ZhciBhPSJ3aWR0aCI9PT10PzE6MCxzPTAsdT0wO2lmKG49PT0ocj8iYm9yZGVyIjoiY29udGVudCIpKXJldHVybiAwO2Zvcig7YTw0O2ErPTIpIm1hcmdpbiI9PT1uJiYodSs9Uy5jc3MoZSxuK25lW2FdLCEwLGkpKSxyPygiY29udGVudCI9PT1uJiYodS09Uy5jc3MoZSwicGFkZGluZyIrbmVbYV0sITAsaSkpLCJtYXJnaW4iIT09biYmKHUtPVMuY3NzKGUsImJvcmRlciIrbmVbYV0rIldpZHRoIiwhMCxpKSkpOih1Kz1TLmNzcyhlLCJwYWRkaW5nIituZVthXSwhMCxpKSwicGFkZGluZyIhPT1uP3UrPVMuY3NzKGUsImJvcmRlciIrbmVbYV0rIldpZHRoIiwhMCxpKTpzKz1TLmNzcyhlLCJib3JkZXIiK25lW2FdKyJXaWR0aCIsITAsaSkpO3JldHVybiFyJiYwPD1vJiYodSs9TWF0aC5tYXgoMCxNYXRoLmNlaWwoZVsib2Zmc2V0Iit0WzBdLnRvVXBwZXJDYXNlKCkrdC5zbGljZSgxKV0tby11LXMtLjUpKXx8MCksdX1mdW5jdGlvbiBKZShlLHQsbil7dmFyIHI9UmUoZSksaT0oIXkuYm94U2l6aW5nUmVsaWFibGUoKXx8bikmJiJib3JkZXItYm94Ij09PVMuY3NzKGUsImJveFNpemluZyIsITEsciksbz1pLGE9V2UoZSx0LHIpLHM9Im9mZnNldCIrdFswXS50b1VwcGVyQ2FzZSgpK3Quc2xpY2UoMSk7aWYoUGUudGVzdChhKSl7aWYoIW4pcmV0dXJuIGE7YT0iYXV0byJ9cmV0dXJuKCF5LmJveFNpemluZ1JlbGlhYmxlKCkmJml8fCF5LnJlbGlhYmxlVHJEaW1lbnNpb25zKCkmJkEoZSwidHIiKXx8ImF1dG8iPT09YXx8IXBhcnNlRmxvYXQoYSkmJiJpbmxpbmUiPT09Uy5jc3MoZSwiZGlzcGxheSIsITEscikpJiZlLmdldENsaWVudFJlY3RzKCkubGVuZ3RoJiYoaT0iYm9yZGVyLWJveCI9PT1TLmNzcyhlLCJib3hTaXppbmciLCExLHIpLChvPXMgaW4gZSkmJihhPWVbc10pKSwoYT1wYXJzZUZsb2F0KGEpfHwwKStRZShlLHQsbnx8KGk/ImJvcmRlciI6ImNvbnRlbnQiKSxvLHIsYSkrInB4In1mdW5jdGlvbiBLZShlLHQsbixyLGkpe3JldHVybiBuZXcgS2UucHJvdG90eXBlLmluaXQoZSx0LG4scixpKX1TLmV4dGVuZCh7Y3NzSG9va3M6e29wYWNpdHk6e2dldDpmdW5jdGlvbihlLHQpe2lmKHQpe3ZhciBuPVdlKGUsIm9wYWNpdHkiKTtyZXR1cm4iIj09PW4/IjEiOm59fX19LGNzc051bWJlcjp7YW5pbWF0aW9uSXRlcmF0aW9uQ291bnQ6ITAsY29sdW1uQ291bnQ6ITAsZmlsbE9wYWNpdHk6ITAsZmxleEdyb3c6ITAsZmxleFNocmluazohMCxmb250V2VpZ2h0OiEwLGdyaWRBcmVhOiEwLGdyaWRDb2x1bW46ITAsZ3JpZENvbHVtbkVuZDohMCxncmlkQ29sdW1uU3RhcnQ6ITAsZ3JpZFJvdzohMCxncmlkUm93RW5kOiEwLGdyaWRSb3dTdGFydDohMCxsaW5lSGVpZ2h0OiEwLG9wYWNpdHk6ITAsb3JkZXI6ITAsb3JwaGFuczohMCx3aWRvd3M6ITAsekluZGV4OiEwLHpvb206ITB9LGNzc1Byb3BzOnt9LHN0eWxlOmZ1bmN0aW9uKGUsdCxuLHIpe2lmKGUmJjMhPT1lLm5vZGVUeXBlJiY4IT09ZS5ub2RlVHlwZSYmZS5zdHlsZSl7dmFyIGksbyxhLHM9WCh0KSx1PVhlLnRlc3QodCksbD1lLnN0eWxlO2lmKHV8fCh0PXplKHMpKSxhPVMuY3NzSG9va3NbdF18fFMuY3NzSG9va3Nbc10sdm9pZCAwPT09bilyZXR1cm4gYSYmImdldCJpbiBhJiZ2b2lkIDAhPT0oaT1hLmdldChlLCExLHIpKT9pOmxbdF07InN0cmluZyI9PT0obz10eXBlb2YgbikmJihpPXRlLmV4ZWMobikpJiZpWzFdJiYobj1zZShlLHQsaSksbz0ibnVtYmVyIiksbnVsbCE9biYmbj09biYmKCJudW1iZXIiIT09b3x8dXx8KG4rPWkmJmlbM118fChTLmNzc051bWJlcltzXT8iIjoicHgiKSkseS5jbGVhckNsb25lU3R5bGV8fCIiIT09bnx8MCE9PXQuaW5kZXhPZigiYmFja2dyb3VuZCIpfHwobFt0XT0iaW5oZXJpdCIpLGEmJiJzZXQiaW4gYSYmdm9pZCAwPT09KG49YS5zZXQoZSxuLHIpKXx8KHU/bC5zZXRQcm9wZXJ0eSh0LG4pOmxbdF09bikpfX0sY3NzOmZ1bmN0aW9uKGUsdCxuLHIpe3ZhciBpLG8sYSxzPVgodCk7cmV0dXJuIFhlLnRlc3QodCl8fCh0PXplKHMpKSwoYT1TLmNzc0hvb2tzW3RdfHxTLmNzc0hvb2tzW3NdKSYmImdldCJpbiBhJiYoaT1hLmdldChlLCEwLG4pKSx2b2lkIDA9PT1pJiYoaT1XZShlLHQscikpLCJub3JtYWwiPT09aSYmdCBpbiBHZSYmKGk9R2VbdF0pLCIiPT09bnx8bj8obz1wYXJzZUZsb2F0KGkpLCEwPT09bnx8aXNGaW5pdGUobyk/b3x8MDppKTppfX0pLFMuZWFjaChbImhlaWdodCIsIndpZHRoIl0sZnVuY3Rpb24oZSx1KXtTLmNzc0hvb2tzW3VdPXtnZXQ6ZnVuY3Rpb24oZSx0LG4pe2lmKHQpcmV0dXJuIVVlLnRlc3QoUy5jc3MoZSwiZGlzcGxheSIpKXx8ZS5nZXRDbGllbnRSZWN0cygpLmxlbmd0aCYmZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aD9KZShlLHUsbik6TWUoZSxWZSxmdW5jdGlvbigpe3JldHVybiBKZShlLHUsbil9KX0sc2V0OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcixpPVJlKGUpLG89IXkuc2Nyb2xsYm94U2l6ZSgpJiYiYWJzb2x1dGUiPT09aS5wb3NpdGlvbixhPShvfHxuKSYmImJvcmRlci1ib3giPT09Uy5jc3MoZSwiYm94U2l6aW5nIiwhMSxpKSxzPW4/UWUoZSx1LG4sYSxpKTowO3JldHVybiBhJiZvJiYocy09TWF0aC5jZWlsKGVbIm9mZnNldCIrdVswXS50b1VwcGVyQ2FzZSgpK3Uuc2xpY2UoMSldLXBhcnNlRmxvYXQoaVt1XSktUWUoZSx1LCJib3JkZXIiLCExLGkpLS41KSkscyYmKHI9dGUuZXhlYyh0KSkmJiJweCIhPT0oclszXXx8InB4IikmJihlLnN0eWxlW3VdPXQsdD1TLmNzcyhlLHUpKSxZZSgwLHQscyl9fX0pLFMuY3NzSG9va3MubWFyZ2luTGVmdD1GZSh5LnJlbGlhYmxlTWFyZ2luTGVmdCxmdW5jdGlvbihlLHQpe2lmKHQpcmV0dXJuKHBhcnNlRmxvYXQoV2UoZSwibWFyZ2luTGVmdCIpKXx8ZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0LU1lKGUse21hcmdpbkxlZnQ6MH0sZnVuY3Rpb24oKXtyZXR1cm4gZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0fSkpKyJweCJ9KSxTLmVhY2goe21hcmdpbjoiIixwYWRkaW5nOiIiLGJvcmRlcjoiV2lkdGgifSxmdW5jdGlvbihpLG8pe1MuY3NzSG9va3NbaStvXT17ZXhwYW5kOmZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0wLG49e30scj0ic3RyaW5nIj09dHlwZW9mIGU/ZS5zcGxpdCgiICIpOltlXTt0PDQ7dCsrKW5baStuZVt0XStvXT1yW3RdfHxyW3QtMl18fHJbMF07cmV0dXJuIG59fSwibWFyZ2luIiE9PWkmJihTLmNzc0hvb2tzW2krb10uc2V0PVllKX0pLFMuZm4uZXh0ZW5kKHtjc3M6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gJCh0aGlzLGZ1bmN0aW9uKGUsdCxuKXt2YXIgcixpLG89e30sYT0wO2lmKEFycmF5LmlzQXJyYXkodCkpe2ZvcihyPVJlKGUpLGk9dC5sZW5ndGg7YTxpO2ErKylvW3RbYV1dPVMuY3NzKGUsdFthXSwhMSxyKTtyZXR1cm4gb31yZXR1cm4gdm9pZCAwIT09bj9TLnN0eWxlKGUsdCxuKTpTLmNzcyhlLHQpfSxlLHQsMTxhcmd1bWVudHMubGVuZ3RoKX19KSwoKFMuVHdlZW49S2UpLnByb3RvdHlwZT17Y29uc3RydWN0b3I6S2UsaW5pdDpmdW5jdGlvbihlLHQsbixyLGksbyl7dGhpcy5lbGVtPWUsdGhpcy5wcm9wPW4sdGhpcy5lYXNpbmc9aXx8Uy5lYXNpbmcuX2RlZmF1bHQsdGhpcy5vcHRpb25zPXQsdGhpcy5zdGFydD10aGlzLm5vdz10aGlzLmN1cigpLHRoaXMuZW5kPXIsdGhpcy51bml0PW98fChTLmNzc051bWJlcltuXT8iIjoicHgiKX0sY3VyOmZ1bmN0aW9uKCl7dmFyIGU9S2UucHJvcEhvb2tzW3RoaXMucHJvcF07cmV0dXJuIGUmJmUuZ2V0P2UuZ2V0KHRoaXMpOktlLnByb3BIb29rcy5fZGVmYXVsdC5nZXQodGhpcyl9LHJ1bjpmdW5jdGlvbihlKXt2YXIgdCxuPUtlLnByb3BIb29rc1t0aGlzLnByb3BdO3JldHVybiB0aGlzLm9wdGlvbnMuZHVyYXRpb24/dGhpcy5wb3M9dD1TLmVhc2luZ1t0aGlzLmVhc2luZ10oZSx0aGlzLm9wdGlvbnMuZHVyYXRpb24qZSwwLDEsdGhpcy5vcHRpb25zLmR1cmF0aW9uKTp0aGlzLnBvcz10PWUsdGhpcy5ub3c9KHRoaXMuZW5kLXRoaXMuc3RhcnQpKnQrdGhpcy5zdGFydCx0aGlzLm9wdGlvbnMuc3RlcCYmdGhpcy5vcHRpb25zLnN0ZXAuY2FsbCh0aGlzLmVsZW0sdGhpcy5ub3csdGhpcyksbiYmbi5zZXQ/bi5zZXQodGhpcyk6S2UucHJvcEhvb2tzLl9kZWZhdWx0LnNldCh0aGlzKSx0aGlzfX0pLmluaXQucHJvdG90eXBlPUtlLnByb3RvdHlwZSwoS2UucHJvcEhvb2tzPXtfZGVmYXVsdDp7Z2V0OmZ1bmN0aW9uKGUpe3ZhciB0O3JldHVybiAxIT09ZS5lbGVtLm5vZGVUeXBlfHxudWxsIT1lLmVsZW1bZS5wcm9wXSYmbnVsbD09ZS5lbGVtLnN0eWxlW2UucHJvcF0/ZS5lbGVtW2UucHJvcF06KHQ9Uy5jc3MoZS5lbGVtLGUucHJvcCwiIikpJiYiYXV0byIhPT10P3Q6MH0sc2V0OmZ1bmN0aW9uKGUpe1MuZnguc3RlcFtlLnByb3BdP1MuZnguc3RlcFtlLnByb3BdKGUpOjEhPT1lLmVsZW0ubm9kZVR5cGV8fCFTLmNzc0hvb2tzW2UucHJvcF0mJm51bGw9PWUuZWxlbS5zdHlsZVt6ZShlLnByb3ApXT9lLmVsZW1bZS5wcm9wXT1lLm5vdzpTLnN0eWxlKGUuZWxlbSxlLnByb3AsZS5ub3crZS51bml0KX19fSkuc2Nyb2xsVG9wPUtlLnByb3BIb29rcy5zY3JvbGxMZWZ0PXtzZXQ6ZnVuY3Rpb24oZSl7ZS5lbGVtLm5vZGVUeXBlJiZlLmVsZW0ucGFyZW50Tm9kZSYmKGUuZWxlbVtlLnByb3BdPWUubm93KX19LFMuZWFzaW5nPXtsaW5lYXI6ZnVuY3Rpb24oZSl7cmV0dXJuIGV9LHN3aW5nOmZ1bmN0aW9uKGUpe3JldHVybi41LU1hdGguY29zKGUqTWF0aC5QSSkvMn0sX2RlZmF1bHQ6InN3aW5nIn0sUy5meD1LZS5wcm90b3R5cGUuaW5pdCxTLmZ4LnN0ZXA9e307dmFyIFplLGV0LHR0LG50LHJ0PS9eKD86dG9nZ2xlfHNob3d8aGlkZSkkLyxpdD0vcXVldWVIb29rcyQvO2Z1bmN0aW9uIG90KCl7ZXQmJighMT09PUUuaGlkZGVuJiZDLnJlcXVlc3RBbmltYXRpb25GcmFtZT9DLnJlcXVlc3RBbmltYXRpb25GcmFtZShvdCk6Qy5zZXRUaW1lb3V0KG90LFMuZnguaW50ZXJ2YWwpLFMuZngudGljaygpKX1mdW5jdGlvbiBhdCgpe3JldHVybiBDLnNldFRpbWVvdXQoZnVuY3Rpb24oKXtaZT12b2lkIDB9KSxaZT1EYXRlLm5vdygpfWZ1bmN0aW9uIHN0KGUsdCl7dmFyIG4scj0wLGk9e2hlaWdodDplfTtmb3IodD10PzE6MDtyPDQ7cis9Mi10KWlbIm1hcmdpbiIrKG49bmVbcl0pXT1pWyJwYWRkaW5nIituXT1lO3JldHVybiB0JiYoaS5vcGFjaXR5PWkud2lkdGg9ZSksaX1mdW5jdGlvbiB1dChlLHQsbil7Zm9yKHZhciByLGk9KGx0LnR3ZWVuZXJzW3RdfHxbXSkuY29uY2F0KGx0LnR3ZWVuZXJzWyIqIl0pLG89MCxhPWkubGVuZ3RoO288YTtvKyspaWYocj1pW29dLmNhbGwobix0LGUpKXJldHVybiByfWZ1bmN0aW9uIGx0KG8sZSx0KXt2YXIgbixhLHI9MCxpPWx0LnByZWZpbHRlcnMubGVuZ3RoLHM9Uy5EZWZlcnJlZCgpLmFsd2F5cyhmdW5jdGlvbigpe2RlbGV0ZSB1LmVsZW19KSx1PWZ1bmN0aW9uKCl7aWYoYSlyZXR1cm4hMTtmb3IodmFyIGU9WmV8fGF0KCksdD1NYXRoLm1heCgwLGwuc3RhcnRUaW1lK2wuZHVyYXRpb24tZSksbj0xLSh0L2wuZHVyYXRpb258fDApLHI9MCxpPWwudHdlZW5zLmxlbmd0aDtyPGk7cisrKWwudHdlZW5zW3JdLnJ1bihuKTtyZXR1cm4gcy5ub3RpZnlXaXRoKG8sW2wsbix0XSksbjwxJiZpP3Q6KGl8fHMubm90aWZ5V2l0aChvLFtsLDEsMF0pLHMucmVzb2x2ZVdpdGgobyxbbF0pLCExKX0sbD1zLnByb21pc2Uoe2VsZW06byxwcm9wczpTLmV4dGVuZCh7fSxlKSxvcHRzOlMuZXh0ZW5kKCEwLHtzcGVjaWFsRWFzaW5nOnt9LGVhc2luZzpTLmVhc2luZy5fZGVmYXVsdH0sdCksb3JpZ2luYWxQcm9wZXJ0aWVzOmUsb3JpZ2luYWxPcHRpb25zOnQsc3RhcnRUaW1lOlplfHxhdCgpLGR1cmF0aW9uOnQuZHVyYXRpb24sdHdlZW5zOltdLGNyZWF0ZVR3ZWVuOmZ1bmN0aW9uKGUsdCl7dmFyIG49Uy5Ud2VlbihvLGwub3B0cyxlLHQsbC5vcHRzLnNwZWNpYWxFYXNpbmdbZV18fGwub3B0cy5lYXNpbmcpO3JldHVybiBsLnR3ZWVucy5wdXNoKG4pLG59LHN0b3A6ZnVuY3Rpb24oZSl7dmFyIHQ9MCxuPWU/bC50d2VlbnMubGVuZ3RoOjA7aWYoYSlyZXR1cm4gdGhpcztmb3IoYT0hMDt0PG47dCsrKWwudHdlZW5zW3RdLnJ1bigxKTtyZXR1cm4gZT8ocy5ub3RpZnlXaXRoKG8sW2wsMSwwXSkscy5yZXNvbHZlV2l0aChvLFtsLGVdKSk6cy5yZWplY3RXaXRoKG8sW2wsZV0pLHRoaXN9fSksYz1sLnByb3BzO2ZvcighZnVuY3Rpb24oZSx0KXt2YXIgbixyLGksbyxhO2ZvcihuIGluIGUpaWYoaT10W3I9WChuKV0sbz1lW25dLEFycmF5LmlzQXJyYXkobykmJihpPW9bMV0sbz1lW25dPW9bMF0pLG4hPT1yJiYoZVtyXT1vLGRlbGV0ZSBlW25dKSwoYT1TLmNzc0hvb2tzW3JdKSYmImV4cGFuZCJpbiBhKWZvcihuIGluIG89YS5leHBhbmQobyksZGVsZXRlIGVbcl0sbyluIGluIGV8fChlW25dPW9bbl0sdFtuXT1pKTtlbHNlIHRbcl09aX0oYyxsLm9wdHMuc3BlY2lhbEVhc2luZyk7cjxpO3IrKylpZihuPWx0LnByZWZpbHRlcnNbcl0uY2FsbChsLG8sYyxsLm9wdHMpKXJldHVybiBtKG4uc3RvcCkmJihTLl9xdWV1ZUhvb2tzKGwuZWxlbSxsLm9wdHMucXVldWUpLnN0b3A9bi5zdG9wLmJpbmQobikpLG47cmV0dXJuIFMubWFwKGMsdXQsbCksbShsLm9wdHMuc3RhcnQpJiZsLm9wdHMuc3RhcnQuY2FsbChvLGwpLGwucHJvZ3Jlc3MobC5vcHRzLnByb2dyZXNzKS5kb25lKGwub3B0cy5kb25lLGwub3B0cy5jb21wbGV0ZSkuZmFpbChsLm9wdHMuZmFpbCkuYWx3YXlzKGwub3B0cy5hbHdheXMpLFMuZngudGltZXIoUy5leHRlbmQodSx7ZWxlbTpvLGFuaW06bCxxdWV1ZTpsLm9wdHMucXVldWV9KSksbH1TLkFuaW1hdGlvbj1TLmV4dGVuZChsdCx7dHdlZW5lcnM6eyIqIjpbZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzLmNyZWF0ZVR3ZWVuKGUsdCk7cmV0dXJuIHNlKG4uZWxlbSxlLHRlLmV4ZWModCksbiksbn1dfSx0d2VlbmVyOmZ1bmN0aW9uKGUsdCl7bShlKT8odD1lLGU9WyIqIl0pOmU9ZS5tYXRjaChQKTtmb3IodmFyIG4scj0wLGk9ZS5sZW5ndGg7cjxpO3IrKyluPWVbcl0sbHQudHdlZW5lcnNbbl09bHQudHdlZW5lcnNbbl18fFtdLGx0LnR3ZWVuZXJzW25dLnVuc2hpZnQodCl9LHByZWZpbHRlcnM6W2Z1bmN0aW9uKGUsdCxuKXt2YXIgcixpLG8sYSxzLHUsbCxjLGY9IndpZHRoImluIHR8fCJoZWlnaHQiaW4gdCxwPXRoaXMsZD17fSxoPWUuc3R5bGUsZz1lLm5vZGVUeXBlJiZhZShlKSx2PVkuZ2V0KGUsImZ4c2hvdyIpO2ZvcihyIGluIG4ucXVldWV8fChudWxsPT0oYT1TLl9xdWV1ZUhvb2tzKGUsImZ4IikpLnVucXVldWVkJiYoYS51bnF1ZXVlZD0wLHM9YS5lbXB0eS5maXJlLGEuZW1wdHkuZmlyZT1mdW5jdGlvbigpe2EudW5xdWV1ZWR8fHMoKX0pLGEudW5xdWV1ZWQrKyxwLmFsd2F5cyhmdW5jdGlvbigpe3AuYWx3YXlzKGZ1bmN0aW9uKCl7YS51bnF1ZXVlZC0tLFMucXVldWUoZSwiZngiKS5sZW5ndGh8fGEuZW1wdHkuZmlyZSgpfSl9KSksdClpZihpPXRbcl0scnQudGVzdChpKSl7aWYoZGVsZXRlIHRbcl0sbz1vfHwidG9nZ2xlIj09PWksaT09PShnPyJoaWRlIjoic2hvdyIpKXtpZigic2hvdyIhPT1pfHwhdnx8dm9pZCAwPT09dltyXSljb250aW51ZTtnPSEwfWRbcl09diYmdltyXXx8Uy5zdHlsZShlLHIpfWlmKCh1PSFTLmlzRW1wdHlPYmplY3QodCkpfHwhUy5pc0VtcHR5T2JqZWN0KGQpKWZvcihyIGluIGYmJjE9PT1lLm5vZGVUeXBlJiYobi5vdmVyZmxvdz1baC5vdmVyZmxvdyxoLm92ZXJmbG93WCxoLm92ZXJmbG93WV0sbnVsbD09KGw9diYmdi5kaXNwbGF5KSYmKGw9WS5nZXQoZSwiZGlzcGxheSIpKSwibm9uZSI9PT0oYz1TLmNzcyhlLCJkaXNwbGF5IikpJiYobD9jPWw6KGxlKFtlXSwhMCksbD1lLnN0eWxlLmRpc3BsYXl8fGwsYz1TLmNzcyhlLCJkaXNwbGF5IiksbGUoW2VdKSkpLCgiaW5saW5lIj09PWN8fCJpbmxpbmUtYmxvY2siPT09YyYmbnVsbCE9bCkmJiJub25lIj09PVMuY3NzKGUsImZsb2F0IikmJih1fHwocC5kb25lKGZ1bmN0aW9uKCl7aC5kaXNwbGF5PWx9KSxudWxsPT1sJiYoYz1oLmRpc3BsYXksbD0ibm9uZSI9PT1jPyIiOmMpKSxoLmRpc3BsYXk9ImlubGluZS1ibG9jayIpKSxuLm92ZXJmbG93JiYoaC5vdmVyZmxvdz0iaGlkZGVuIixwLmFsd2F5cyhmdW5jdGlvbigpe2gub3ZlcmZsb3c9bi5vdmVyZmxvd1swXSxoLm92ZXJmbG93WD1uLm92ZXJmbG93WzFdLGgub3ZlcmZsb3dZPW4ub3ZlcmZsb3dbMl19KSksdT0hMSxkKXV8fCh2PyJoaWRkZW4iaW4gdiYmKGc9di5oaWRkZW4pOnY9WS5hY2Nlc3MoZSwiZnhzaG93Iix7ZGlzcGxheTpsfSksbyYmKHYuaGlkZGVuPSFnKSxnJiZsZShbZV0sITApLHAuZG9uZShmdW5jdGlvbigpe2ZvcihyIGluIGd8fGxlKFtlXSksWS5yZW1vdmUoZSwiZnhzaG93IiksZClTLnN0eWxlKGUscixkW3JdKX0pKSx1PXV0KGc/dltyXTowLHIscCksciBpbiB2fHwodltyXT11LnN0YXJ0LGcmJih1LmVuZD11LnN0YXJ0LHUuc3RhcnQ9MCkpfV0scHJlZmlsdGVyOmZ1bmN0aW9uKGUsdCl7dD9sdC5wcmVmaWx0ZXJzLnVuc2hpZnQoZSk6bHQucHJlZmlsdGVycy5wdXNoKGUpfX0pLFMuc3BlZWQ9ZnVuY3Rpb24oZSx0LG4pe3ZhciByPWUmJiJvYmplY3QiPT10eXBlb2YgZT9TLmV4dGVuZCh7fSxlKTp7Y29tcGxldGU6bnx8IW4mJnR8fG0oZSkmJmUsZHVyYXRpb246ZSxlYXNpbmc6biYmdHx8dCYmIW0odCkmJnR9O3JldHVybiBTLmZ4Lm9mZj9yLmR1cmF0aW9uPTA6Im51bWJlciIhPXR5cGVvZiByLmR1cmF0aW9uJiYoci5kdXJhdGlvbiBpbiBTLmZ4LnNwZWVkcz9yLmR1cmF0aW9uPVMuZnguc3BlZWRzW3IuZHVyYXRpb25dOnIuZHVyYXRpb249Uy5meC5zcGVlZHMuX2RlZmF1bHQpLG51bGwhPXIucXVldWUmJiEwIT09ci5xdWV1ZXx8KHIucXVldWU9ImZ4Iiksci5vbGQ9ci5jb21wbGV0ZSxyLmNvbXBsZXRlPWZ1bmN0aW9uKCl7bShyLm9sZCkmJnIub2xkLmNhbGwodGhpcyksci5xdWV1ZSYmUy5kZXF1ZXVlKHRoaXMsci5xdWV1ZSl9LHJ9LFMuZm4uZXh0ZW5kKHtmYWRlVG86ZnVuY3Rpb24oZSx0LG4scil7cmV0dXJuIHRoaXMuZmlsdGVyKGFlKS5jc3MoIm9wYWNpdHkiLDApLnNob3coKS5lbmQoKS5hbmltYXRlKHtvcGFjaXR5OnR9LGUsbixyKX0sYW5pbWF0ZTpmdW5jdGlvbih0LGUsbixyKXt2YXIgaT1TLmlzRW1wdHlPYmplY3QodCksbz1TLnNwZWVkKGUsbixyKSxhPWZ1bmN0aW9uKCl7dmFyIGU9bHQodGhpcyxTLmV4dGVuZCh7fSx0KSxvKTsoaXx8WS5nZXQodGhpcywiZmluaXNoIikpJiZlLnN0b3AoITApfTtyZXR1cm4gYS5maW5pc2g9YSxpfHwhMT09PW8ucXVldWU/dGhpcy5lYWNoKGEpOnRoaXMucXVldWUoby5xdWV1ZSxhKX0sc3RvcDpmdW5jdGlvbihpLGUsbyl7dmFyIGE9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5zdG9wO2RlbGV0ZSBlLnN0b3AsdChvKX07cmV0dXJuInN0cmluZyIhPXR5cGVvZiBpJiYobz1lLGU9aSxpPXZvaWQgMCksZSYmdGhpcy5xdWV1ZShpfHwiZngiLFtdKSx0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgZT0hMCx0PW51bGwhPWkmJmkrInF1ZXVlSG9va3MiLG49Uy50aW1lcnMscj1ZLmdldCh0aGlzKTtpZih0KXJbdF0mJnJbdF0uc3RvcCYmYShyW3RdKTtlbHNlIGZvcih0IGluIHIpclt0XSYmclt0XS5zdG9wJiZpdC50ZXN0KHQpJiZhKHJbdF0pO2Zvcih0PW4ubGVuZ3RoO3QtLTspblt0XS5lbGVtIT09dGhpc3x8bnVsbCE9aSYmblt0XS5xdWV1ZSE9PWl8fChuW3RdLmFuaW0uc3RvcChvKSxlPSExLG4uc3BsaWNlKHQsMSkpOyFlJiZvfHxTLmRlcXVldWUodGhpcyxpKX0pfSxmaW5pc2g6ZnVuY3Rpb24oYSl7cmV0dXJuITEhPT1hJiYoYT1hfHwiZngiKSx0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgZSx0PVkuZ2V0KHRoaXMpLG49dFthKyJxdWV1ZSJdLHI9dFthKyJxdWV1ZUhvb2tzIl0saT1TLnRpbWVycyxvPW4/bi5sZW5ndGg6MDtmb3IodC5maW5pc2g9ITAsUy5xdWV1ZSh0aGlzLGEsW10pLHImJnIuc3RvcCYmci5zdG9wLmNhbGwodGhpcywhMCksZT1pLmxlbmd0aDtlLS07KWlbZV0uZWxlbT09PXRoaXMmJmlbZV0ucXVldWU9PT1hJiYoaVtlXS5hbmltLnN0b3AoITApLGkuc3BsaWNlKGUsMSkpO2ZvcihlPTA7ZTxvO2UrKyluW2VdJiZuW2VdLmZpbmlzaCYmbltlXS5maW5pc2guY2FsbCh0aGlzKTtkZWxldGUgdC5maW5pc2h9KX19KSxTLmVhY2goWyJ0b2dnbGUiLCJzaG93IiwiaGlkZSJdLGZ1bmN0aW9uKGUscil7dmFyIGk9Uy5mbltyXTtTLmZuW3JdPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gbnVsbD09ZXx8ImJvb2xlYW4iPT10eXBlb2YgZT9pLmFwcGx5KHRoaXMsYXJndW1lbnRzKTp0aGlzLmFuaW1hdGUoc3QociwhMCksZSx0LG4pfX0pLFMuZWFjaCh7c2xpZGVEb3duOnN0KCJzaG93Iiksc2xpZGVVcDpzdCgiaGlkZSIpLHNsaWRlVG9nZ2xlOnN0KCJ0b2dnbGUiKSxmYWRlSW46e29wYWNpdHk6InNob3cifSxmYWRlT3V0OntvcGFjaXR5OiJoaWRlIn0sZmFkZVRvZ2dsZTp7b3BhY2l0eToidG9nZ2xlIn19LGZ1bmN0aW9uKGUscil7Uy5mbltlXT1mdW5jdGlvbihlLHQsbil7cmV0dXJuIHRoaXMuYW5pbWF0ZShyLGUsdCxuKX19KSxTLnRpbWVycz1bXSxTLmZ4LnRpY2s9ZnVuY3Rpb24oKXt2YXIgZSx0PTAsbj1TLnRpbWVycztmb3IoWmU9RGF0ZS5ub3coKTt0PG4ubGVuZ3RoO3QrKykoZT1uW3RdKSgpfHxuW3RdIT09ZXx8bi5zcGxpY2UodC0tLDEpO24ubGVuZ3RofHxTLmZ4LnN0b3AoKSxaZT12b2lkIDB9LFMuZngudGltZXI9ZnVuY3Rpb24oZSl7Uy50aW1lcnMucHVzaChlKSxTLmZ4LnN0YXJ0KCl9LFMuZnguaW50ZXJ2YWw9MTMsUy5meC5zdGFydD1mdW5jdGlvbigpe2V0fHwoZXQ9ITAsb3QoKSl9LFMuZnguc3RvcD1mdW5jdGlvbigpe2V0PW51bGx9LFMuZnguc3BlZWRzPXtzbG93OjYwMCxmYXN0OjIwMCxfZGVmYXVsdDo0MDB9LFMuZm4uZGVsYXk9ZnVuY3Rpb24ocixlKXtyZXR1cm4gcj1TLmZ4JiZTLmZ4LnNwZWVkc1tyXXx8cixlPWV8fCJmeCIsdGhpcy5xdWV1ZShlLGZ1bmN0aW9uKGUsdCl7dmFyIG49Qy5zZXRUaW1lb3V0KGUscik7dC5zdG9wPWZ1bmN0aW9uKCl7Qy5jbGVhclRpbWVvdXQobil9fSl9LHR0PUUuY3JlYXRlRWxlbWVudCgiaW5wdXQiKSxudD1FLmNyZWF0ZUVsZW1lbnQoInNlbGVjdCIpLmFwcGVuZENoaWxkKEUuY3JlYXRlRWxlbWVudCgib3B0aW9uIikpLHR0LnR5cGU9ImNoZWNrYm94Iix5LmNoZWNrT249IiIhPT10dC52YWx1ZSx5Lm9wdFNlbGVjdGVkPW50LnNlbGVjdGVkLCh0dD1FLmNyZWF0ZUVsZW1lbnQoImlucHV0IikpLnZhbHVlPSJ0Iix0dC50eXBlPSJyYWRpbyIseS5yYWRpb1ZhbHVlPSJ0Ij09PXR0LnZhbHVlO3ZhciBjdCxmdD1TLmV4cHIuYXR0ckhhbmRsZTtTLmZuLmV4dGVuZCh7YXR0cjpmdW5jdGlvbihlLHQpe3JldHVybiAkKHRoaXMsUy5hdHRyLGUsdCwxPGFyZ3VtZW50cy5sZW5ndGgpfSxyZW1vdmVBdHRyOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtTLnJlbW92ZUF0dHIodGhpcyxlKX0pfX0pLFMuZXh0ZW5kKHthdHRyOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcixpLG89ZS5ub2RlVHlwZTtpZigzIT09byYmOCE9PW8mJjIhPT1vKXJldHVybiJ1bmRlZmluZWQiPT10eXBlb2YgZS5nZXRBdHRyaWJ1dGU/Uy5wcm9wKGUsdCxuKTooMT09PW8mJlMuaXNYTUxEb2MoZSl8fChpPVMuYXR0ckhvb2tzW3QudG9Mb3dlckNhc2UoKV18fChTLmV4cHIubWF0Y2guYm9vbC50ZXN0KHQpP2N0OnZvaWQgMCkpLHZvaWQgMCE9PW4/bnVsbD09PW4/dm9pZCBTLnJlbW92ZUF0dHIoZSx0KTppJiYic2V0ImluIGkmJnZvaWQgMCE9PShyPWkuc2V0KGUsbix0KSk/cjooZS5zZXRBdHRyaWJ1dGUodCxuKyIiKSxuKTppJiYiZ2V0ImluIGkmJm51bGwhPT0ocj1pLmdldChlLHQpKT9yOm51bGw9PShyPVMuZmluZC5hdHRyKGUsdCkpP3ZvaWQgMDpyKX0sYXR0ckhvb2tzOnt0eXBlOntzZXQ6ZnVuY3Rpb24oZSx0KXtpZigheS5yYWRpb1ZhbHVlJiYicmFkaW8iPT09dCYmQShlLCJpbnB1dCIpKXt2YXIgbj1lLnZhbHVlO3JldHVybiBlLnNldEF0dHJpYnV0ZSgidHlwZSIsdCksbiYmKGUudmFsdWU9biksdH19fX0scmVtb3ZlQXR0cjpmdW5jdGlvbihlLHQpe3ZhciBuLHI9MCxpPXQmJnQubWF0Y2goUCk7aWYoaSYmMT09PWUubm9kZVR5cGUpd2hpbGUobj1pW3IrK10pZS5yZW1vdmVBdHRyaWJ1dGUobil9fSksY3Q9e3NldDpmdW5jdGlvbihlLHQsbil7cmV0dXJuITE9PT10P1MucmVtb3ZlQXR0cihlLG4pOmUuc2V0QXR0cmlidXRlKG4sbiksbn19LFMuZWFjaChTLmV4cHIubWF0Y2guYm9vbC5zb3VyY2UubWF0Y2goL1x3Ky9nKSxmdW5jdGlvbihlLHQpe3ZhciBhPWZ0W3RdfHxTLmZpbmQuYXR0cjtmdFt0XT1mdW5jdGlvbihlLHQsbil7dmFyIHIsaSxvPXQudG9Mb3dlckNhc2UoKTtyZXR1cm4gbnx8KGk9ZnRbb10sZnRbb109cixyPW51bGwhPWEoZSx0LG4pP286bnVsbCxmdFtvXT1pKSxyfX0pO3ZhciBwdD0vXig/OmlucHV0fHNlbGVjdHx0ZXh0YXJlYXxidXR0b24pJC9pLGR0PS9eKD86YXxhcmVhKSQvaTtmdW5jdGlvbiBodChlKXtyZXR1cm4oZS5tYXRjaChQKXx8W10pLmpvaW4oIiAiKX1mdW5jdGlvbiBndChlKXtyZXR1cm4gZS5nZXRBdHRyaWJ1dGUmJmUuZ2V0QXR0cmlidXRlKCJjbGFzcyIpfHwiIn1mdW5jdGlvbiB2dChlKXtyZXR1cm4gQXJyYXkuaXNBcnJheShlKT9lOiJzdHJpbmciPT10eXBlb2YgZSYmZS5tYXRjaChQKXx8W119Uy5mbi5leHRlbmQoe3Byb3A6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gJCh0aGlzLFMucHJvcCxlLHQsMTxhcmd1bWVudHMubGVuZ3RoKX0scmVtb3ZlUHJvcDpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7ZGVsZXRlIHRoaXNbUy5wcm9wRml4W2VdfHxlXX0pfX0pLFMuZXh0ZW5kKHtwcm9wOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcixpLG89ZS5ub2RlVHlwZTtpZigzIT09byYmOCE9PW8mJjIhPT1vKXJldHVybiAxPT09byYmUy5pc1hNTERvYyhlKXx8KHQ9Uy5wcm9wRml4W3RdfHx0LGk9Uy5wcm9wSG9va3NbdF0pLHZvaWQgMCE9PW4/aSYmInNldCJpbiBpJiZ2b2lkIDAhPT0ocj1pLnNldChlLG4sdCkpP3I6ZVt0XT1uOmkmJiJnZXQiaW4gaSYmbnVsbCE9PShyPWkuZ2V0KGUsdCkpP3I6ZVt0XX0scHJvcEhvb2tzOnt0YWJJbmRleDp7Z2V0OmZ1bmN0aW9uKGUpe3ZhciB0PVMuZmluZC5hdHRyKGUsInRhYmluZGV4Iik7cmV0dXJuIHQ/cGFyc2VJbnQodCwxMCk6cHQudGVzdChlLm5vZGVOYW1lKXx8ZHQudGVzdChlLm5vZGVOYW1lKSYmZS5ocmVmPzA6LTF9fX0scHJvcEZpeDp7ImZvciI6Imh0bWxGb3IiLCJjbGFzcyI6ImNsYXNzTmFtZSJ9fSkseS5vcHRTZWxlY3RlZHx8KFMucHJvcEhvb2tzLnNlbGVjdGVkPXtnZXQ6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5wYXJlbnROb2RlO3JldHVybiB0JiZ0LnBhcmVudE5vZGUmJnQucGFyZW50Tm9kZS5zZWxlY3RlZEluZGV4LG51bGx9LHNldDpmdW5jdGlvbihlKXt2YXIgdD1lLnBhcmVudE5vZGU7dCYmKHQuc2VsZWN0ZWRJbmRleCx0LnBhcmVudE5vZGUmJnQucGFyZW50Tm9kZS5zZWxlY3RlZEluZGV4KX19KSxTLmVhY2goWyJ0YWJJbmRleCIsInJlYWRPbmx5IiwibWF4TGVuZ3RoIiwiY2VsbFNwYWNpbmciLCJjZWxsUGFkZGluZyIsInJvd1NwYW4iLCJjb2xTcGFuIiwidXNlTWFwIiwiZnJhbWVCb3JkZXIiLCJjb250ZW50RWRpdGFibGUiXSxmdW5jdGlvbigpe1MucHJvcEZpeFt0aGlzLnRvTG93ZXJDYXNlKCldPXRoaXN9KSxTLmZuLmV4dGVuZCh7YWRkQ2xhc3M6ZnVuY3Rpb24odCl7dmFyIGUsbixyLGksbyxhLHMsdT0wO2lmKG0odCkpcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbihlKXtTKHRoaXMpLmFkZENsYXNzKHQuY2FsbCh0aGlzLGUsZ3QodGhpcykpKX0pO2lmKChlPXZ0KHQpKS5sZW5ndGgpd2hpbGUobj10aGlzW3UrK10paWYoaT1ndChuKSxyPTE9PT1uLm5vZGVUeXBlJiYiICIraHQoaSkrIiAiKXthPTA7d2hpbGUobz1lW2ErK10pci5pbmRleE9mKCIgIitvKyIgIik8MCYmKHIrPW8rIiAiKTtpIT09KHM9aHQocikpJiZuLnNldEF0dHJpYnV0ZSgiY2xhc3MiLHMpfXJldHVybiB0aGlzfSxyZW1vdmVDbGFzczpmdW5jdGlvbih0KXt2YXIgZSxuLHIsaSxvLGEscyx1PTA7aWYobSh0KSlyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKGUpe1ModGhpcykucmVtb3ZlQ2xhc3ModC5jYWxsKHRoaXMsZSxndCh0aGlzKSkpfSk7aWYoIWFyZ3VtZW50cy5sZW5ndGgpcmV0dXJuIHRoaXMuYXR0cigiY2xhc3MiLCIiKTtpZigoZT12dCh0KSkubGVuZ3RoKXdoaWxlKG49dGhpc1t1KytdKWlmKGk9Z3Qobikscj0xPT09bi5ub2RlVHlwZSYmIiAiK2h0KGkpKyIgIil7YT0wO3doaWxlKG89ZVthKytdKXdoaWxlKC0xPHIuaW5kZXhPZigiICIrbysiICIpKXI9ci5yZXBsYWNlKCIgIitvKyIgIiwiICIpO2khPT0ocz1odChyKSkmJm4uc2V0QXR0cmlidXRlKCJjbGFzcyIscyl9cmV0dXJuIHRoaXN9LHRvZ2dsZUNsYXNzOmZ1bmN0aW9uKGksdCl7dmFyIG89dHlwZW9mIGksYT0ic3RyaW5nIj09PW98fEFycmF5LmlzQXJyYXkoaSk7cmV0dXJuImJvb2xlYW4iPT10eXBlb2YgdCYmYT90P3RoaXMuYWRkQ2xhc3MoaSk6dGhpcy5yZW1vdmVDbGFzcyhpKTptKGkpP3RoaXMuZWFjaChmdW5jdGlvbihlKXtTKHRoaXMpLnRvZ2dsZUNsYXNzKGkuY2FsbCh0aGlzLGUsZ3QodGhpcyksdCksdCl9KTp0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgZSx0LG4scjtpZihhKXt0PTAsbj1TKHRoaXMpLHI9dnQoaSk7d2hpbGUoZT1yW3QrK10pbi5oYXNDbGFzcyhlKT9uLnJlbW92ZUNsYXNzKGUpOm4uYWRkQ2xhc3MoZSl9ZWxzZSB2b2lkIDAhPT1pJiYiYm9vbGVhbiIhPT1vfHwoKGU9Z3QodGhpcykpJiZZLnNldCh0aGlzLCJfX2NsYXNzTmFtZV9fIixlKSx0aGlzLnNldEF0dHJpYnV0ZSYmdGhpcy5zZXRBdHRyaWJ1dGUoImNsYXNzIixlfHwhMT09PWk/IiI6WS5nZXQodGhpcywiX19jbGFzc05hbWVfXyIpfHwiIikpfSl9LGhhc0NsYXNzOmZ1bmN0aW9uKGUpe3ZhciB0LG4scj0wO3Q9IiAiK2UrIiAiO3doaWxlKG49dGhpc1tyKytdKWlmKDE9PT1uLm5vZGVUeXBlJiYtMTwoIiAiK2h0KGd0KG4pKSsiICIpLmluZGV4T2YodCkpcmV0dXJuITA7cmV0dXJuITF9fSk7dmFyIHl0PS9cci9nO1MuZm4uZXh0ZW5kKHt2YWw6ZnVuY3Rpb24obil7dmFyIHIsZSxpLHQ9dGhpc1swXTtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oaT1tKG4pLHRoaXMuZWFjaChmdW5jdGlvbihlKXt2YXIgdDsxPT09dGhpcy5ub2RlVHlwZSYmKG51bGw9PSh0PWk/bi5jYWxsKHRoaXMsZSxTKHRoaXMpLnZhbCgpKTpuKT90PSIiOiJudW1iZXIiPT10eXBlb2YgdD90Kz0iIjpBcnJheS5pc0FycmF5KHQpJiYodD1TLm1hcCh0LGZ1bmN0aW9uKGUpe3JldHVybiBudWxsPT1lPyIiOmUrIiJ9KSksKHI9Uy52YWxIb29rc1t0aGlzLnR5cGVdfHxTLnZhbEhvb2tzW3RoaXMubm9kZU5hbWUudG9Mb3dlckNhc2UoKV0pJiYic2V0ImluIHImJnZvaWQgMCE9PXIuc2V0KHRoaXMsdCwidmFsdWUiKXx8KHRoaXMudmFsdWU9dCkpfSkpOnQ/KHI9Uy52YWxIb29rc1t0LnR5cGVdfHxTLnZhbEhvb2tzW3Qubm9kZU5hbWUudG9Mb3dlckNhc2UoKV0pJiYiZ2V0ImluIHImJnZvaWQgMCE9PShlPXIuZ2V0KHQsInZhbHVlIikpP2U6InN0cmluZyI9PXR5cGVvZihlPXQudmFsdWUpP2UucmVwbGFjZSh5dCwiIik6bnVsbD09ZT8iIjplOnZvaWQgMH19KSxTLmV4dGVuZCh7dmFsSG9va3M6e29wdGlvbjp7Z2V0OmZ1bmN0aW9uKGUpe3ZhciB0PVMuZmluZC5hdHRyKGUsInZhbHVlIik7cmV0dXJuIG51bGwhPXQ/dDpodChTLnRleHQoZSkpfX0sc2VsZWN0OntnZXQ6ZnVuY3Rpb24oZSl7dmFyIHQsbixyLGk9ZS5vcHRpb25zLG89ZS5zZWxlY3RlZEluZGV4LGE9InNlbGVjdC1vbmUiPT09ZS50eXBlLHM9YT9udWxsOltdLHU9YT9vKzE6aS5sZW5ndGg7Zm9yKHI9bzwwP3U6YT9vOjA7cjx1O3IrKylpZigoKG49aVtyXSkuc2VsZWN0ZWR8fHI9PT1vKSYmIW4uZGlzYWJsZWQmJighbi5wYXJlbnROb2RlLmRpc2FibGVkfHwhQShuLnBhcmVudE5vZGUsIm9wdGdyb3VwIikpKXtpZih0PVMobikudmFsKCksYSlyZXR1cm4gdDtzLnB1c2godCl9cmV0dXJuIHN9LHNldDpmdW5jdGlvbihlLHQpe3ZhciBuLHIsaT1lLm9wdGlvbnMsbz1TLm1ha2VBcnJheSh0KSxhPWkubGVuZ3RoO3doaWxlKGEtLSkoKHI9aVthXSkuc2VsZWN0ZWQ9LTE8Uy5pbkFycmF5KFMudmFsSG9va3Mub3B0aW9uLmdldChyKSxvKSkmJihuPSEwKTtyZXR1cm4gbnx8KGUuc2VsZWN0ZWRJbmRleD0tMSksb319fX0pLFMuZWFjaChbInJhZGlvIiwiY2hlY2tib3giXSxmdW5jdGlvbigpe1MudmFsSG9va3NbdGhpc109e3NldDpmdW5jdGlvbihlLHQpe2lmKEFycmF5LmlzQXJyYXkodCkpcmV0dXJuIGUuY2hlY2tlZD0tMTxTLmluQXJyYXkoUyhlKS52YWwoKSx0KX19LHkuY2hlY2tPbnx8KFMudmFsSG9va3NbdGhpc10uZ2V0PWZ1bmN0aW9uKGUpe3JldHVybiBudWxsPT09ZS5nZXRBdHRyaWJ1dGUoInZhbHVlIik/Im9uIjplLnZhbHVlfSl9KSx5LmZvY3VzaW49Im9uZm9jdXNpbiJpbiBDO3ZhciBtdD0vXig/OmZvY3VzaW5mb2N1c3xmb2N1c291dGJsdXIpJC8seHQ9ZnVuY3Rpb24oZSl7ZS5zdG9wUHJvcGFnYXRpb24oKX07Uy5leHRlbmQoUy5ldmVudCx7dHJpZ2dlcjpmdW5jdGlvbihlLHQsbixyKXt2YXIgaSxvLGEscyx1LGwsYyxmLHA9W258fEVdLGQ9di5jYWxsKGUsInR5cGUiKT9lLnR5cGU6ZSxoPXYuY2FsbChlLCJuYW1lc3BhY2UiKT9lLm5hbWVzcGFjZS5zcGxpdCgiLiIpOltdO2lmKG89Zj1hPW49bnx8RSwzIT09bi5ub2RlVHlwZSYmOCE9PW4ubm9kZVR5cGUmJiFtdC50ZXN0KGQrUy5ldmVudC50cmlnZ2VyZWQpJiYoLTE8ZC5pbmRleE9mKCIuIikmJihkPShoPWQuc3BsaXQoIi4iKSkuc2hpZnQoKSxoLnNvcnQoKSksdT1kLmluZGV4T2YoIjoiKTwwJiYib24iK2QsKGU9ZVtTLmV4cGFuZG9dP2U6bmV3IFMuRXZlbnQoZCwib2JqZWN0Ij09dHlwZW9mIGUmJmUpKS5pc1RyaWdnZXI9cj8yOjMsZS5uYW1lc3BhY2U9aC5qb2luKCIuIiksZS5ybmFtZXNwYWNlPWUubmFtZXNwYWNlP25ldyBSZWdFeHAoIihefFxcLikiK2guam9pbigiXFwuKD86LipcXC58KSIpKyIoXFwufCQpIik6bnVsbCxlLnJlc3VsdD12b2lkIDAsZS50YXJnZXR8fChlLnRhcmdldD1uKSx0PW51bGw9PXQ/W2VdOlMubWFrZUFycmF5KHQsW2VdKSxjPVMuZXZlbnQuc3BlY2lhbFtkXXx8e30scnx8IWMudHJpZ2dlcnx8ITEhPT1jLnRyaWdnZXIuYXBwbHkobix0KSkpe2lmKCFyJiYhYy5ub0J1YmJsZSYmIXgobikpe2ZvcihzPWMuZGVsZWdhdGVUeXBlfHxkLG10LnRlc3QocytkKXx8KG89by5wYXJlbnROb2RlKTtvO289by5wYXJlbnROb2RlKXAucHVzaChvKSxhPW87YT09PShuLm93bmVyRG9jdW1lbnR8fEUpJiZwLnB1c2goYS5kZWZhdWx0Vmlld3x8YS5wYXJlbnRXaW5kb3d8fEMpfWk9MDt3aGlsZSgobz1wW2krK10pJiYhZS5pc1Byb3BhZ2F0aW9uU3RvcHBlZCgpKWY9byxlLnR5cGU9MTxpP3M6Yy5iaW5kVHlwZXx8ZCwobD0oWS5nZXQobywiZXZlbnRzIil8fE9iamVjdC5jcmVhdGUobnVsbCkpW2UudHlwZV0mJlkuZ2V0KG8sImhhbmRsZSIpKSYmbC5hcHBseShvLHQpLChsPXUmJm9bdV0pJiZsLmFwcGx5JiZWKG8pJiYoZS5yZXN1bHQ9bC5hcHBseShvLHQpLCExPT09ZS5yZXN1bHQmJmUucHJldmVudERlZmF1bHQoKSk7cmV0dXJuIGUudHlwZT1kLHJ8fGUuaXNEZWZhdWx0UHJldmVudGVkKCl8fGMuX2RlZmF1bHQmJiExIT09Yy5fZGVmYXVsdC5hcHBseShwLnBvcCgpLHQpfHwhVihuKXx8dSYmbShuW2RdKSYmIXgobikmJigoYT1uW3VdKSYmKG5bdV09bnVsbCksUy5ldmVudC50cmlnZ2VyZWQ9ZCxlLmlzUHJvcGFnYXRpb25TdG9wcGVkKCkmJmYuYWRkRXZlbnRMaXN0ZW5lcihkLHh0KSxuW2RdKCksZS5pc1Byb3BhZ2F0aW9uU3RvcHBlZCgpJiZmLnJlbW92ZUV2ZW50TGlzdGVuZXIoZCx4dCksUy5ldmVudC50cmlnZ2VyZWQ9dm9pZCAwLGEmJihuW3VdPWEpKSxlLnJlc3VsdH19LHNpbXVsYXRlOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1TLmV4dGVuZChuZXcgUy5FdmVudCxuLHt0eXBlOmUsaXNTaW11bGF0ZWQ6ITB9KTtTLmV2ZW50LnRyaWdnZXIocixudWxsLHQpfX0pLFMuZm4uZXh0ZW5kKHt0cmlnZ2VyOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe1MuZXZlbnQudHJpZ2dlcihlLHQsdGhpcyl9KX0sdHJpZ2dlckhhbmRsZXI6ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzWzBdO2lmKG4pcmV0dXJuIFMuZXZlbnQudHJpZ2dlcihlLHQsbiwhMCl9fSkseS5mb2N1c2lufHxTLmVhY2goe2ZvY3VzOiJmb2N1c2luIixibHVyOiJmb2N1c291dCJ9LGZ1bmN0aW9uKG4scil7dmFyIGk9ZnVuY3Rpb24oZSl7Uy5ldmVudC5zaW11bGF0ZShyLGUudGFyZ2V0LFMuZXZlbnQuZml4KGUpKX07Uy5ldmVudC5zcGVjaWFsW3JdPXtzZXR1cDpmdW5jdGlvbigpe3ZhciBlPXRoaXMub3duZXJEb2N1bWVudHx8dGhpcy5kb2N1bWVudHx8dGhpcyx0PVkuYWNjZXNzKGUscik7dHx8ZS5hZGRFdmVudExpc3RlbmVyKG4saSwhMCksWS5hY2Nlc3MoZSxyLCh0fHwwKSsxKX0sdGVhcmRvd246ZnVuY3Rpb24oKXt2YXIgZT10aGlzLm93bmVyRG9jdW1lbnR8fHRoaXMuZG9jdW1lbnR8fHRoaXMsdD1ZLmFjY2VzcyhlLHIpLTE7dD9ZLmFjY2VzcyhlLHIsdCk6KGUucmVtb3ZlRXZlbnRMaXN0ZW5lcihuLGksITApLFkucmVtb3ZlKGUscikpfX19KTt2YXIgYnQ9Qy5sb2NhdGlvbix3dD17Z3VpZDpEYXRlLm5vdygpfSxUdD0vXD8vO1MucGFyc2VYTUw9ZnVuY3Rpb24oZSl7dmFyIHQsbjtpZighZXx8InN0cmluZyIhPXR5cGVvZiBlKXJldHVybiBudWxsO3RyeXt0PShuZXcgQy5ET01QYXJzZXIpLnBhcnNlRnJvbVN0cmluZyhlLCJ0ZXh0L3htbCIpfWNhdGNoKGUpe31yZXR1cm4gbj10JiZ0LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJwYXJzZXJlcnJvciIpWzBdLHQmJiFufHxTLmVycm9yKCJJbnZhbGlkIFhNTDogIisobj9TLm1hcChuLmNoaWxkTm9kZXMsZnVuY3Rpb24oZSl7cmV0dXJuIGUudGV4dENvbnRlbnR9KS5qb2luKCJcbiIpOmUpKSx0fTt2YXIgQ3Q9L1xbXF0kLyxFdD0vXHI/XG4vZyxTdD0vXig/OnN1Ym1pdHxidXR0b258aW1hZ2V8cmVzZXR8ZmlsZSkkL2ksa3Q9L14oPzppbnB1dHxzZWxlY3R8dGV4dGFyZWF8a2V5Z2VuKS9pO2Z1bmN0aW9uIEF0KG4sZSxyLGkpe3ZhciB0O2lmKEFycmF5LmlzQXJyYXkoZSkpUy5lYWNoKGUsZnVuY3Rpb24oZSx0KXtyfHxDdC50ZXN0KG4pP2kobix0KTpBdChuKyJbIisoIm9iamVjdCI9PXR5cGVvZiB0JiZudWxsIT10P2U6IiIpKyJdIix0LHIsaSl9KTtlbHNlIGlmKHJ8fCJvYmplY3QiIT09dyhlKSlpKG4sZSk7ZWxzZSBmb3IodCBpbiBlKUF0KG4rIlsiK3QrIl0iLGVbdF0scixpKX1TLnBhcmFtPWZ1bmN0aW9uKGUsdCl7dmFyIG4scj1bXSxpPWZ1bmN0aW9uKGUsdCl7dmFyIG49bSh0KT90KCk6dDtyW3IubGVuZ3RoXT1lbmNvZGVVUklDb21wb25lbnQoZSkrIj0iK2VuY29kZVVSSUNvbXBvbmVudChudWxsPT1uPyIiOm4pfTtpZihudWxsPT1lKXJldHVybiIiO2lmKEFycmF5LmlzQXJyYXkoZSl8fGUuanF1ZXJ5JiYhUy5pc1BsYWluT2JqZWN0KGUpKVMuZWFjaChlLGZ1bmN0aW9uKCl7aSh0aGlzLm5hbWUsdGhpcy52YWx1ZSl9KTtlbHNlIGZvcihuIGluIGUpQXQobixlW25dLHQsaSk7cmV0dXJuIHIuam9pbigiJiIpfSxTLmZuLmV4dGVuZCh7c2VyaWFsaXplOmZ1bmN0aW9uKCl7cmV0dXJuIFMucGFyYW0odGhpcy5zZXJpYWxpemVBcnJheSgpKX0sc2VyaWFsaXplQXJyYXk6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24oKXt2YXIgZT1TLnByb3AodGhpcywiZWxlbWVudHMiKTtyZXR1cm4gZT9TLm1ha2VBcnJheShlKTp0aGlzfSkuZmlsdGVyKGZ1bmN0aW9uKCl7dmFyIGU9dGhpcy50eXBlO3JldHVybiB0aGlzLm5hbWUmJiFTKHRoaXMpLmlzKCI6ZGlzYWJsZWQiKSYma3QudGVzdCh0aGlzLm5vZGVOYW1lKSYmIVN0LnRlc3QoZSkmJih0aGlzLmNoZWNrZWR8fCFwZS50ZXN0KGUpKX0pLm1hcChmdW5jdGlvbihlLHQpe3ZhciBuPVModGhpcykudmFsKCk7cmV0dXJuIG51bGw9PW4/bnVsbDpBcnJheS5pc0FycmF5KG4pP1MubWFwKG4sZnVuY3Rpb24oZSl7cmV0dXJue25hbWU6dC5uYW1lLHZhbHVlOmUucmVwbGFjZShFdCwiXHJcbiIpfX0pOntuYW1lOnQubmFtZSx2YWx1ZTpuLnJlcGxhY2UoRXQsIlxyXG4iKX19KS5nZXQoKX19KTt2YXIgTnQ9LyUyMC9nLGp0PS8jLiokLyxEdD0vKFs/Jl0pXz1bXiZdKi8scXQ9L14oLio/KTpbIFx0XSooW15cclxuXSopJC9nbSxMdD0vXig/OkdFVHxIRUFEKSQvLEh0PS9eXC9cLy8sT3Q9e30sUHQ9e30sUnQ9IiovIi5jb25jYXQoIioiKSxNdD1FLmNyZWF0ZUVsZW1lbnQoImEiKTtmdW5jdGlvbiBJdChvKXtyZXR1cm4gZnVuY3Rpb24oZSx0KXsic3RyaW5nIiE9dHlwZW9mIGUmJih0PWUsZT0iKiIpO3ZhciBuLHI9MCxpPWUudG9Mb3dlckNhc2UoKS5tYXRjaChQKXx8W107aWYobSh0KSl3aGlsZShuPWlbcisrXSkiKyI9PT1uWzBdPyhuPW4uc2xpY2UoMSl8fCIqIiwob1tuXT1vW25dfHxbXSkudW5zaGlmdCh0KSk6KG9bbl09b1tuXXx8W10pLnB1c2godCl9fWZ1bmN0aW9uIFd0KHQsaSxvLGEpe3ZhciBzPXt9LHU9dD09PVB0O2Z1bmN0aW9uIGwoZSl7dmFyIHI7cmV0dXJuIHNbZV09ITAsUy5lYWNoKHRbZV18fFtdLGZ1bmN0aW9uKGUsdCl7dmFyIG49dChpLG8sYSk7cmV0dXJuInN0cmluZyIhPXR5cGVvZiBufHx1fHxzW25dP3U/IShyPW4pOnZvaWQgMDooaS5kYXRhVHlwZXMudW5zaGlmdChuKSxsKG4pLCExKX0pLHJ9cmV0dXJuIGwoaS5kYXRhVHlwZXNbMF0pfHwhc1siKiJdJiZsKCIqIil9ZnVuY3Rpb24gRnQoZSx0KXt2YXIgbixyLGk9Uy5hamF4U2V0dGluZ3MuZmxhdE9wdGlvbnN8fHt9O2ZvcihuIGluIHQpdm9pZCAwIT09dFtuXSYmKChpW25dP2U6cnx8KHI9e30pKVtuXT10W25dKTtyZXR1cm4gciYmUy5leHRlbmQoITAsZSxyKSxlfU10LmhyZWY9YnQuaHJlZixTLmV4dGVuZCh7YWN0aXZlOjAsbGFzdE1vZGlmaWVkOnt9LGV0YWc6e30sYWpheFNldHRpbmdzOnt1cmw6YnQuaHJlZix0eXBlOiJHRVQiLGlzTG9jYWw6L14oPzphYm91dHxhcHB8YXBwLXN0b3JhZ2V8ListZXh0ZW5zaW9ufGZpbGV8cmVzfHdpZGdldCk6JC8udGVzdChidC5wcm90b2NvbCksZ2xvYmFsOiEwLHByb2Nlc3NEYXRhOiEwLGFzeW5jOiEwLGNvbnRlbnRUeXBlOiJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQ7IGNoYXJzZXQ9VVRGLTgiLGFjY2VwdHM6eyIqIjpSdCx0ZXh0OiJ0ZXh0L3BsYWluIixodG1sOiJ0ZXh0L2h0bWwiLHhtbDoiYXBwbGljYXRpb24veG1sLCB0ZXh0L3htbCIsanNvbjoiYXBwbGljYXRpb24vanNvbiwgdGV4dC9qYXZhc2NyaXB0In0sY29udGVudHM6e3htbDovXGJ4bWxcYi8saHRtbDovXGJodG1sLyxqc29uOi9cYmpzb25cYi99LHJlc3BvbnNlRmllbGRzOnt4bWw6InJlc3BvbnNlWE1MIix0ZXh0OiJyZXNwb25zZVRleHQiLGpzb246InJlc3BvbnNlSlNPTiJ9LGNvbnZlcnRlcnM6eyIqIHRleHQiOlN0cmluZywidGV4dCBodG1sIjohMCwidGV4dCBqc29uIjpKU09OLnBhcnNlLCJ0ZXh0IHhtbCI6Uy5wYXJzZVhNTH0sZmxhdE9wdGlvbnM6e3VybDohMCxjb250ZXh0OiEwfX0sYWpheFNldHVwOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQ/RnQoRnQoZSxTLmFqYXhTZXR0aW5ncyksdCk6RnQoUy5hamF4U2V0dGluZ3MsZSl9LGFqYXhQcmVmaWx0ZXI6SXQoT3QpLGFqYXhUcmFuc3BvcnQ6SXQoUHQpLGFqYXg6ZnVuY3Rpb24oZSx0KXsib2JqZWN0Ij09dHlwZW9mIGUmJih0PWUsZT12b2lkIDApLHQ9dHx8e307dmFyIGMsZixwLG4sZCxyLGgsZyxpLG8sdj1TLmFqYXhTZXR1cCh7fSx0KSx5PXYuY29udGV4dHx8dixtPXYuY29udGV4dCYmKHkubm9kZVR5cGV8fHkuanF1ZXJ5KT9TKHkpOlMuZXZlbnQseD1TLkRlZmVycmVkKCksYj1TLkNhbGxiYWNrcygib25jZSBtZW1vcnkiKSx3PXYuc3RhdHVzQ29kZXx8e30sYT17fSxzPXt9LHU9ImNhbmNlbGVkIixUPXtyZWFkeVN0YXRlOjAsZ2V0UmVzcG9uc2VIZWFkZXI6ZnVuY3Rpb24oZSl7dmFyIHQ7aWYoaCl7aWYoIW4pe249e307d2hpbGUodD1xdC5leGVjKHApKW5bdFsxXS50b0xvd2VyQ2FzZSgpKyIgIl09KG5bdFsxXS50b0xvd2VyQ2FzZSgpKyIgIl18fFtdKS5jb25jYXQodFsyXSl9dD1uW2UudG9Mb3dlckNhc2UoKSsiICJdfXJldHVybiBudWxsPT10P251bGw6dC5qb2luKCIsICIpfSxnZXRBbGxSZXNwb25zZUhlYWRlcnM6ZnVuY3Rpb24oKXtyZXR1cm4gaD9wOm51bGx9LHNldFJlcXVlc3RIZWFkZXI6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbnVsbD09aCYmKGU9c1tlLnRvTG93ZXJDYXNlKCldPXNbZS50b0xvd2VyQ2FzZSgpXXx8ZSxhW2VdPXQpLHRoaXN9LG92ZXJyaWRlTWltZVR5cGU6ZnVuY3Rpb24oZSl7cmV0dXJuIG51bGw9PWgmJih2Lm1pbWVUeXBlPWUpLHRoaXN9LHN0YXR1c0NvZGU6ZnVuY3Rpb24oZSl7dmFyIHQ7aWYoZSlpZihoKVQuYWx3YXlzKGVbVC5zdGF0dXNdKTtlbHNlIGZvcih0IGluIGUpd1t0XT1bd1t0XSxlW3RdXTtyZXR1cm4gdGhpc30sYWJvcnQ6ZnVuY3Rpb24oZSl7dmFyIHQ9ZXx8dTtyZXR1cm4gYyYmYy5hYm9ydCh0KSxsKDAsdCksdGhpc319O2lmKHgucHJvbWlzZShUKSx2LnVybD0oKGV8fHYudXJsfHxidC5ocmVmKSsiIikucmVwbGFjZShIdCxidC5wcm90b2NvbCsiLy8iKSx2LnR5cGU9dC5tZXRob2R8fHQudHlwZXx8di5tZXRob2R8fHYudHlwZSx2LmRhdGFUeXBlcz0odi5kYXRhVHlwZXx8IioiKS50b0xvd2VyQ2FzZSgpLm1hdGNoKFApfHxbIiJdLG51bGw9PXYuY3Jvc3NEb21haW4pe3I9RS5jcmVhdGVFbGVtZW50KCJhIik7dHJ5e3IuaHJlZj12LnVybCxyLmhyZWY9ci5ocmVmLHYuY3Jvc3NEb21haW49TXQucHJvdG9jb2wrIi8vIitNdC5ob3N0IT1yLnByb3RvY29sKyIvLyIrci5ob3N0fWNhdGNoKGUpe3YuY3Jvc3NEb21haW49ITB9fWlmKHYuZGF0YSYmdi5wcm9jZXNzRGF0YSYmInN0cmluZyIhPXR5cGVvZiB2LmRhdGEmJih2LmRhdGE9Uy5wYXJhbSh2LmRhdGEsdi50cmFkaXRpb25hbCkpLFd0KE90LHYsdCxUKSxoKXJldHVybiBUO2ZvcihpIGluKGc9Uy5ldmVudCYmdi5nbG9iYWwpJiYwPT1TLmFjdGl2ZSsrJiZTLmV2ZW50LnRyaWdnZXIoImFqYXhTdGFydCIpLHYudHlwZT12LnR5cGUudG9VcHBlckNhc2UoKSx2Lmhhc0NvbnRlbnQ9IUx0LnRlc3Qodi50eXBlKSxmPXYudXJsLnJlcGxhY2UoanQsIiIpLHYuaGFzQ29udGVudD92LmRhdGEmJnYucHJvY2Vzc0RhdGEmJjA9PT0odi5jb250ZW50VHlwZXx8IiIpLmluZGV4T2YoImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCIpJiYodi5kYXRhPXYuZGF0YS5yZXBsYWNlKE50LCIrIikpOihvPXYudXJsLnNsaWNlKGYubGVuZ3RoKSx2LmRhdGEmJih2LnByb2Nlc3NEYXRhfHwic3RyaW5nIj09dHlwZW9mIHYuZGF0YSkmJihmKz0oVHQudGVzdChmKT8iJiI6Ij8iKSt2LmRhdGEsZGVsZXRlIHYuZGF0YSksITE9PT12LmNhY2hlJiYoZj1mLnJlcGxhY2UoRHQsIiQxIiksbz0oVHQudGVzdChmKT8iJiI6Ij8iKSsiXz0iK3d0Lmd1aWQrKytvKSx2LnVybD1mK28pLHYuaWZNb2RpZmllZCYmKFMubGFzdE1vZGlmaWVkW2ZdJiZULnNldFJlcXVlc3RIZWFkZXIoIklmLU1vZGlmaWVkLVNpbmNlIixTLmxhc3RNb2RpZmllZFtmXSksUy5ldGFnW2ZdJiZULnNldFJlcXVlc3RIZWFkZXIoIklmLU5vbmUtTWF0Y2giLFMuZXRhZ1tmXSkpLCh2LmRhdGEmJnYuaGFzQ29udGVudCYmITEhPT12LmNvbnRlbnRUeXBlfHx0LmNvbnRlbnRUeXBlKSYmVC5zZXRSZXF1ZXN0SGVhZGVyKCJDb250ZW50LVR5cGUiLHYuY29udGVudFR5cGUpLFQuc2V0UmVxdWVzdEhlYWRlcigiQWNjZXB0Iix2LmRhdGFUeXBlc1swXSYmdi5hY2NlcHRzW3YuZGF0YVR5cGVzWzBdXT92LmFjY2VwdHNbdi5kYXRhVHlwZXNbMF1dKygiKiIhPT12LmRhdGFUeXBlc1swXT8iLCAiK1J0KyI7IHE9MC4wMSI6IiIpOnYuYWNjZXB0c1siKiJdKSx2LmhlYWRlcnMpVC5zZXRSZXF1ZXN0SGVhZGVyKGksdi5oZWFkZXJzW2ldKTtpZih2LmJlZm9yZVNlbmQmJighMT09PXYuYmVmb3JlU2VuZC5jYWxsKHksVCx2KXx8aCkpcmV0dXJuIFQuYWJvcnQoKTtpZih1PSJhYm9ydCIsYi5hZGQodi5jb21wbGV0ZSksVC5kb25lKHYuc3VjY2VzcyksVC5mYWlsKHYuZXJyb3IpLGM9V3QoUHQsdix0LFQpKXtpZihULnJlYWR5U3RhdGU9MSxnJiZtLnRyaWdnZXIoImFqYXhTZW5kIixbVCx2XSksaClyZXR1cm4gVDt2LmFzeW5jJiYwPHYudGltZW91dCYmKGQ9Qy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7VC5hYm9ydCgidGltZW91dCIpfSx2LnRpbWVvdXQpKTt0cnl7aD0hMSxjLnNlbmQoYSxsKX1jYXRjaChlKXtpZihoKXRocm93IGU7bCgtMSxlKX19ZWxzZSBsKC0xLCJObyBUcmFuc3BvcnQiKTtmdW5jdGlvbiBsKGUsdCxuLHIpe3ZhciBpLG8sYSxzLHUsbD10O2h8fChoPSEwLGQmJkMuY2xlYXJUaW1lb3V0KGQpLGM9dm9pZCAwLHA9cnx8IiIsVC5yZWFkeVN0YXRlPTA8ZT80OjAsaT0yMDA8PWUmJmU8MzAwfHwzMDQ9PT1lLG4mJihzPWZ1bmN0aW9uKGUsdCxuKXt2YXIgcixpLG8sYSxzPWUuY29udGVudHMsdT1lLmRhdGFUeXBlczt3aGlsZSgiKiI9PT11WzBdKXUuc2hpZnQoKSx2b2lkIDA9PT1yJiYocj1lLm1pbWVUeXBlfHx0LmdldFJlc3BvbnNlSGVhZGVyKCJDb250ZW50LVR5cGUiKSk7aWYocilmb3IoaSBpbiBzKWlmKHNbaV0mJnNbaV0udGVzdChyKSl7dS51bnNoaWZ0KGkpO2JyZWFrfWlmKHVbMF1pbiBuKW89dVswXTtlbHNle2ZvcihpIGluIG4pe2lmKCF1WzBdfHxlLmNvbnZlcnRlcnNbaSsiICIrdVswXV0pe289aTticmVha31hfHwoYT1pKX1vPW98fGF9aWYobylyZXR1cm4gbyE9PXVbMF0mJnUudW5zaGlmdChvKSxuW29dfSh2LFQsbikpLCFpJiYtMTxTLmluQXJyYXkoInNjcmlwdCIsdi5kYXRhVHlwZXMpJiZTLmluQXJyYXkoImpzb24iLHYuZGF0YVR5cGVzKTwwJiYodi5jb252ZXJ0ZXJzWyJ0ZXh0IHNjcmlwdCJdPWZ1bmN0aW9uKCl7fSkscz1mdW5jdGlvbihlLHQsbixyKXt2YXIgaSxvLGEscyx1LGw9e30sYz1lLmRhdGFUeXBlcy5zbGljZSgpO2lmKGNbMV0pZm9yKGEgaW4gZS5jb252ZXJ0ZXJzKWxbYS50b0xvd2VyQ2FzZSgpXT1lLmNvbnZlcnRlcnNbYV07bz1jLnNoaWZ0KCk7d2hpbGUobylpZihlLnJlc3BvbnNlRmllbGRzW29dJiYobltlLnJlc3BvbnNlRmllbGRzW29dXT10KSwhdSYmciYmZS5kYXRhRmlsdGVyJiYodD1lLmRhdGFGaWx0ZXIodCxlLmRhdGFUeXBlKSksdT1vLG89Yy5zaGlmdCgpKWlmKCIqIj09PW8pbz11O2Vsc2UgaWYoIioiIT09dSYmdSE9PW8pe2lmKCEoYT1sW3UrIiAiK29dfHxsWyIqICIrb10pKWZvcihpIGluIGwpaWYoKHM9aS5zcGxpdCgiICIpKVsxXT09PW8mJihhPWxbdSsiICIrc1swXV18fGxbIiogIitzWzBdXSkpeyEwPT09YT9hPWxbaV06ITAhPT1sW2ldJiYobz1zWzBdLGMudW5zaGlmdChzWzFdKSk7YnJlYWt9aWYoITAhPT1hKWlmKGEmJmVbInRocm93cyJdKXQ9YSh0KTtlbHNlIHRyeXt0PWEodCl9Y2F0Y2goZSl7cmV0dXJue3N0YXRlOiJwYXJzZXJlcnJvciIsZXJyb3I6YT9lOiJObyBjb252ZXJzaW9uIGZyb20gIit1KyIgdG8gIitvfX19cmV0dXJue3N0YXRlOiJzdWNjZXNzIixkYXRhOnR9fSh2LHMsVCxpKSxpPyh2LmlmTW9kaWZpZWQmJigodT1ULmdldFJlc3BvbnNlSGVhZGVyKCJMYXN0LU1vZGlmaWVkIikpJiYoUy5sYXN0TW9kaWZpZWRbZl09dSksKHU9VC5nZXRSZXNwb25zZUhlYWRlcigiZXRhZyIpKSYmKFMuZXRhZ1tmXT11KSksMjA0PT09ZXx8IkhFQUQiPT09di50eXBlP2w9Im5vY29udGVudCI6MzA0PT09ZT9sPSJub3Rtb2RpZmllZCI6KGw9cy5zdGF0ZSxvPXMuZGF0YSxpPSEoYT1zLmVycm9yKSkpOihhPWwsIWUmJmx8fChsPSJlcnJvciIsZTwwJiYoZT0wKSkpLFQuc3RhdHVzPWUsVC5zdGF0dXNUZXh0PSh0fHxsKSsiIixpP3gucmVzb2x2ZVdpdGgoeSxbbyxsLFRdKTp4LnJlamVjdFdpdGgoeSxbVCxsLGFdKSxULnN0YXR1c0NvZGUodyksdz12b2lkIDAsZyYmbS50cmlnZ2VyKGk/ImFqYXhTdWNjZXNzIjoiYWpheEVycm9yIixbVCx2LGk/bzphXSksYi5maXJlV2l0aCh5LFtULGxdKSxnJiYobS50cmlnZ2VyKCJhamF4Q29tcGxldGUiLFtULHZdKSwtLVMuYWN0aXZlfHxTLmV2ZW50LnRyaWdnZXIoImFqYXhTdG9wIikpKX1yZXR1cm4gVH0sZ2V0SlNPTjpmdW5jdGlvbihlLHQsbil7cmV0dXJuIFMuZ2V0KGUsdCxuLCJqc29uIil9LGdldFNjcmlwdDpmdW5jdGlvbihlLHQpe3JldHVybiBTLmdldChlLHZvaWQgMCx0LCJzY3JpcHQiKX19KSxTLmVhY2goWyJnZXQiLCJwb3N0Il0sZnVuY3Rpb24oZSxpKXtTW2ldPWZ1bmN0aW9uKGUsdCxuLHIpe3JldHVybiBtKHQpJiYocj1yfHxuLG49dCx0PXZvaWQgMCksUy5hamF4KFMuZXh0ZW5kKHt1cmw6ZSx0eXBlOmksZGF0YVR5cGU6cixkYXRhOnQsc3VjY2VzczpufSxTLmlzUGxhaW5PYmplY3QoZSkmJmUpKX19KSxTLmFqYXhQcmVmaWx0ZXIoZnVuY3Rpb24oZSl7dmFyIHQ7Zm9yKHQgaW4gZS5oZWFkZXJzKSJjb250ZW50LXR5cGUiPT09dC50b0xvd2VyQ2FzZSgpJiYoZS5jb250ZW50VHlwZT1lLmhlYWRlcnNbdF18fCIiKX0pLFMuX2V2YWxVcmw9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBTLmFqYXgoe3VybDplLHR5cGU6IkdFVCIsZGF0YVR5cGU6InNjcmlwdCIsY2FjaGU6ITAsYXN5bmM6ITEsZ2xvYmFsOiExLGNvbnZlcnRlcnM6eyJ0ZXh0IHNjcmlwdCI6ZnVuY3Rpb24oKXt9fSxkYXRhRmlsdGVyOmZ1bmN0aW9uKGUpe1MuZ2xvYmFsRXZhbChlLHQsbil9fSl9LFMuZm4uZXh0ZW5kKHt3cmFwQWxsOmZ1bmN0aW9uKGUpe3ZhciB0O3JldHVybiB0aGlzWzBdJiYobShlKSYmKGU9ZS5jYWxsKHRoaXNbMF0pKSx0PVMoZSx0aGlzWzBdLm93bmVyRG9jdW1lbnQpLmVxKDApLmNsb25lKCEwKSx0aGlzWzBdLnBhcmVudE5vZGUmJnQuaW5zZXJ0QmVmb3JlKHRoaXNbMF0pLHQubWFwKGZ1bmN0aW9uKCl7dmFyIGU9dGhpczt3aGlsZShlLmZpcnN0RWxlbWVudENoaWxkKWU9ZS5maXJzdEVsZW1lbnRDaGlsZDtyZXR1cm4gZX0pLmFwcGVuZCh0aGlzKSksdGhpc30sd3JhcElubmVyOmZ1bmN0aW9uKG4pe3JldHVybiBtKG4pP3RoaXMuZWFjaChmdW5jdGlvbihlKXtTKHRoaXMpLndyYXBJbm5lcihuLmNhbGwodGhpcyxlKSl9KTp0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgZT1TKHRoaXMpLHQ9ZS5jb250ZW50cygpO3QubGVuZ3RoP3Qud3JhcEFsbChuKTplLmFwcGVuZChuKX0pfSx3cmFwOmZ1bmN0aW9uKHQpe3ZhciBuPW0odCk7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbihlKXtTKHRoaXMpLndyYXBBbGwobj90LmNhbGwodGhpcyxlKTp0KX0pfSx1bndyYXA6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMucGFyZW50KGUpLm5vdCgiYm9keSIpLmVhY2goZnVuY3Rpb24oKXtTKHRoaXMpLnJlcGxhY2VXaXRoKHRoaXMuY2hpbGROb2Rlcyl9KSx0aGlzfX0pLFMuZXhwci5wc2V1ZG9zLmhpZGRlbj1mdW5jdGlvbihlKXtyZXR1cm4hUy5leHByLnBzZXVkb3MudmlzaWJsZShlKX0sUy5leHByLnBzZXVkb3MudmlzaWJsZT1mdW5jdGlvbihlKXtyZXR1cm4hIShlLm9mZnNldFdpZHRofHxlLm9mZnNldEhlaWdodHx8ZS5nZXRDbGllbnRSZWN0cygpLmxlbmd0aCl9LFMuYWpheFNldHRpbmdzLnhocj1mdW5jdGlvbigpe3RyeXtyZXR1cm4gbmV3IEMuWE1MSHR0cFJlcXVlc3R9Y2F0Y2goZSl7fX07dmFyIEJ0PXswOjIwMCwxMjIzOjIwNH0sJHQ9Uy5hamF4U2V0dGluZ3MueGhyKCk7eS5jb3JzPSEhJHQmJiJ3aXRoQ3JlZGVudGlhbHMiaW4gJHQseS5hamF4PSR0PSEhJHQsUy5hamF4VHJhbnNwb3J0KGZ1bmN0aW9uKGkpe3ZhciBvLGE7aWYoeS5jb3JzfHwkdCYmIWkuY3Jvc3NEb21haW4pcmV0dXJue3NlbmQ6ZnVuY3Rpb24oZSx0KXt2YXIgbixyPWkueGhyKCk7aWYoci5vcGVuKGkudHlwZSxpLnVybCxpLmFzeW5jLGkudXNlcm5hbWUsaS5wYXNzd29yZCksaS54aHJGaWVsZHMpZm9yKG4gaW4gaS54aHJGaWVsZHMpcltuXT1pLnhockZpZWxkc1tuXTtmb3IobiBpbiBpLm1pbWVUeXBlJiZyLm92ZXJyaWRlTWltZVR5cGUmJnIub3ZlcnJpZGVNaW1lVHlwZShpLm1pbWVUeXBlKSxpLmNyb3NzRG9tYWlufHxlWyJYLVJlcXVlc3RlZC1XaXRoIl18fChlWyJYLVJlcXVlc3RlZC1XaXRoIl09IlhNTEh0dHBSZXF1ZXN0IiksZSlyLnNldFJlcXVlc3RIZWFkZXIobixlW25dKTtvPWZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbigpe28mJihvPWE9ci5vbmxvYWQ9ci5vbmVycm9yPXIub25hYm9ydD1yLm9udGltZW91dD1yLm9ucmVhZHlzdGF0ZWNoYW5nZT1udWxsLCJhYm9ydCI9PT1lP3IuYWJvcnQoKToiZXJyb3IiPT09ZT8ibnVtYmVyIiE9dHlwZW9mIHIuc3RhdHVzP3QoMCwiZXJyb3IiKTp0KHIuc3RhdHVzLHIuc3RhdHVzVGV4dCk6dChCdFtyLnN0YXR1c118fHIuc3RhdHVzLHIuc3RhdHVzVGV4dCwidGV4dCIhPT0oci5yZXNwb25zZVR5cGV8fCJ0ZXh0Iil8fCJzdHJpbmciIT10eXBlb2Ygci5yZXNwb25zZVRleHQ/e2JpbmFyeTpyLnJlc3BvbnNlfTp7dGV4dDpyLnJlc3BvbnNlVGV4dH0sci5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKSkpfX0sci5vbmxvYWQ9bygpLGE9ci5vbmVycm9yPXIub250aW1lb3V0PW8oImVycm9yIiksdm9pZCAwIT09ci5vbmFib3J0P3Iub25hYm9ydD1hOnIub25yZWFkeXN0YXRlY2hhbmdlPWZ1bmN0aW9uKCl7ND09PXIucmVhZHlTdGF0ZSYmQy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7byYmYSgpfSl9LG89bygiYWJvcnQiKTt0cnl7ci5zZW5kKGkuaGFzQ29udGVudCYmaS5kYXRhfHxudWxsKX1jYXRjaChlKXtpZihvKXRocm93IGV9fSxhYm9ydDpmdW5jdGlvbigpe28mJm8oKX19fSksUy5hamF4UHJlZmlsdGVyKGZ1bmN0aW9uKGUpe2UuY3Jvc3NEb21haW4mJihlLmNvbnRlbnRzLnNjcmlwdD0hMSl9KSxTLmFqYXhTZXR1cCh7YWNjZXB0czp7c2NyaXB0OiJ0ZXh0L2phdmFzY3JpcHQsIGFwcGxpY2F0aW9uL2phdmFzY3JpcHQsIGFwcGxpY2F0aW9uL2VjbWFzY3JpcHQsIGFwcGxpY2F0aW9uL3gtZWNtYXNjcmlwdCJ9LGNvbnRlbnRzOntzY3JpcHQ6L1xiKD86amF2YXxlY21hKXNjcmlwdFxiL30sY29udmVydGVyczp7InRleHQgc2NyaXB0IjpmdW5jdGlvbihlKXtyZXR1cm4gUy5nbG9iYWxFdmFsKGUpLGV9fX0pLFMuYWpheFByZWZpbHRlcigic2NyaXB0IixmdW5jdGlvbihlKXt2b2lkIDA9PT1lLmNhY2hlJiYoZS5jYWNoZT0hMSksZS5jcm9zc0RvbWFpbiYmKGUudHlwZT0iR0VUIil9KSxTLmFqYXhUcmFuc3BvcnQoInNjcmlwdCIsZnVuY3Rpb24obil7dmFyIHIsaTtpZihuLmNyb3NzRG9tYWlufHxuLnNjcmlwdEF0dHJzKXJldHVybntzZW5kOmZ1bmN0aW9uKGUsdCl7cj1TKCI8c2NyaXB0PiIpLmF0dHIobi5zY3JpcHRBdHRyc3x8e30pLnByb3Aoe2NoYXJzZXQ6bi5zY3JpcHRDaGFyc2V0LHNyYzpuLnVybH0pLm9uKCJsb2FkIGVycm9yIixpPWZ1bmN0aW9uKGUpe3IucmVtb3ZlKCksaT1udWxsLGUmJnQoImVycm9yIj09PWUudHlwZT80MDQ6MjAwLGUudHlwZSl9KSxFLmhlYWQuYXBwZW5kQ2hpbGQoclswXSl9LGFib3J0OmZ1bmN0aW9uKCl7aSYmaSgpfX19KTt2YXIgX3QsenQ9W10sVXQ9Lyg9KVw/KD89JnwkKXxcP1w/LztTLmFqYXhTZXR1cCh7anNvbnA6ImNhbGxiYWNrIixqc29ucENhbGxiYWNrOmZ1bmN0aW9uKCl7dmFyIGU9enQucG9wKCl8fFMuZXhwYW5kbysiXyIrd3QuZ3VpZCsrO3JldHVybiB0aGlzW2VdPSEwLGV9fSksUy5hamF4UHJlZmlsdGVyKCJqc29uIGpzb25wIixmdW5jdGlvbihlLHQsbil7dmFyIHIsaSxvLGE9ITEhPT1lLmpzb25wJiYoVXQudGVzdChlLnVybCk/InVybCI6InN0cmluZyI9PXR5cGVvZiBlLmRhdGEmJjA9PT0oZS5jb250ZW50VHlwZXx8IiIpLmluZGV4T2YoImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCIpJiZVdC50ZXN0KGUuZGF0YSkmJiJkYXRhIik7aWYoYXx8Impzb25wIj09PWUuZGF0YVR5cGVzWzBdKXJldHVybiByPWUuanNvbnBDYWxsYmFjaz1tKGUuanNvbnBDYWxsYmFjayk/ZS5qc29ucENhbGxiYWNrKCk6ZS5qc29ucENhbGxiYWNrLGE/ZVthXT1lW2FdLnJlcGxhY2UoVXQsIiQxIityKTohMSE9PWUuanNvbnAmJihlLnVybCs9KFR0LnRlc3QoZS51cmwpPyImIjoiPyIpK2UuanNvbnArIj0iK3IpLGUuY29udmVydGVyc1sic2NyaXB0IGpzb24iXT1mdW5jdGlvbigpe3JldHVybiBvfHxTLmVycm9yKHIrIiB3YXMgbm90IGNhbGxlZCIpLG9bMF19LGUuZGF0YVR5cGVzWzBdPSJqc29uIixpPUNbcl0sQ1tyXT1mdW5jdGlvbigpe289YXJndW1lbnRzfSxuLmFsd2F5cyhmdW5jdGlvbigpe3ZvaWQgMD09PWk/UyhDKS5yZW1vdmVQcm9wKHIpOkNbcl09aSxlW3JdJiYoZS5qc29ucENhbGxiYWNrPXQuanNvbnBDYWxsYmFjayx6dC5wdXNoKHIpKSxvJiZtKGkpJiZpKG9bMF0pLG89aT12b2lkIDB9KSwic2NyaXB0In0pLHkuY3JlYXRlSFRNTERvY3VtZW50PSgoX3Q9RS5pbXBsZW1lbnRhdGlvbi5jcmVhdGVIVE1MRG9jdW1lbnQoIiIpLmJvZHkpLmlubmVySFRNTD0iPGZvcm0+PC9mb3JtPjxmb3JtPjwvZm9ybT4iLDI9PT1fdC5jaGlsZE5vZGVzLmxlbmd0aCksUy5wYXJzZUhUTUw9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiJzdHJpbmciIT10eXBlb2YgZT9bXTooImJvb2xlYW4iPT10eXBlb2YgdCYmKG49dCx0PSExKSx0fHwoeS5jcmVhdGVIVE1MRG9jdW1lbnQ/KChyPSh0PUUuaW1wbGVtZW50YXRpb24uY3JlYXRlSFRNTERvY3VtZW50KCIiKSkuY3JlYXRlRWxlbWVudCgiYmFzZSIpKS5ocmVmPUUubG9jYXRpb24uaHJlZix0LmhlYWQuYXBwZW5kQ2hpbGQocikpOnQ9RSksbz0hbiYmW10sKGk9Ti5leGVjKGUpKT9bdC5jcmVhdGVFbGVtZW50KGlbMV0pXTooaT14ZShbZV0sdCxvKSxvJiZvLmxlbmd0aCYmUyhvKS5yZW1vdmUoKSxTLm1lcmdlKFtdLGkuY2hpbGROb2RlcykpKTt2YXIgcixpLG99LFMuZm4ubG9hZD1mdW5jdGlvbihlLHQsbil7dmFyIHIsaSxvLGE9dGhpcyxzPWUuaW5kZXhPZigiICIpO3JldHVybi0xPHMmJihyPWh0KGUuc2xpY2UocykpLGU9ZS5zbGljZSgwLHMpKSxtKHQpPyhuPXQsdD12b2lkIDApOnQmJiJvYmplY3QiPT10eXBlb2YgdCYmKGk9IlBPU1QiKSwwPGEubGVuZ3RoJiZTLmFqYXgoe3VybDplLHR5cGU6aXx8IkdFVCIsZGF0YVR5cGU6Imh0bWwiLGRhdGE6dH0pLmRvbmUoZnVuY3Rpb24oZSl7bz1hcmd1bWVudHMsYS5odG1sKHI/UygiPGRpdj4iKS5hcHBlbmQoUy5wYXJzZUhUTUwoZSkpLmZpbmQocik6ZSl9KS5hbHdheXMobiYmZnVuY3Rpb24oZSx0KXthLmVhY2goZnVuY3Rpb24oKXtuLmFwcGx5KHRoaXMsb3x8W2UucmVzcG9uc2VUZXh0LHQsZV0pfSl9KSx0aGlzfSxTLmV4cHIucHNldWRvcy5hbmltYXRlZD1mdW5jdGlvbih0KXtyZXR1cm4gUy5ncmVwKFMudGltZXJzLGZ1bmN0aW9uKGUpe3JldHVybiB0PT09ZS5lbGVtfSkubGVuZ3RofSxTLm9mZnNldD17c2V0T2Zmc2V0OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcixpLG8sYSxzLHUsbD1TLmNzcyhlLCJwb3NpdGlvbiIpLGM9UyhlKSxmPXt9OyJzdGF0aWMiPT09bCYmKGUuc3R5bGUucG9zaXRpb249InJlbGF0aXZlIikscz1jLm9mZnNldCgpLG89Uy5jc3MoZSwidG9wIiksdT1TLmNzcyhlLCJsZWZ0IiksKCJhYnNvbHV0ZSI9PT1sfHwiZml4ZWQiPT09bCkmJi0xPChvK3UpLmluZGV4T2YoImF1dG8iKT8oYT0ocj1jLnBvc2l0aW9uKCkpLnRvcCxpPXIubGVmdCk6KGE9cGFyc2VGbG9hdChvKXx8MCxpPXBhcnNlRmxvYXQodSl8fDApLG0odCkmJih0PXQuY2FsbChlLG4sUy5leHRlbmQoe30scykpKSxudWxsIT10LnRvcCYmKGYudG9wPXQudG9wLXMudG9wK2EpLG51bGwhPXQubGVmdCYmKGYubGVmdD10LmxlZnQtcy5sZWZ0K2kpLCJ1c2luZyJpbiB0P3QudXNpbmcuY2FsbChlLGYpOmMuY3NzKGYpfX0sUy5mbi5leHRlbmQoe29mZnNldDpmdW5jdGlvbih0KXtpZihhcmd1bWVudHMubGVuZ3RoKXJldHVybiB2b2lkIDA9PT10P3RoaXM6dGhpcy5lYWNoKGZ1bmN0aW9uKGUpe1Mub2Zmc2V0LnNldE9mZnNldCh0aGlzLHQsZSl9KTt2YXIgZSxuLHI9dGhpc1swXTtyZXR1cm4gcj9yLmdldENsaWVudFJlY3RzKCkubGVuZ3RoPyhlPXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksbj1yLm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXcse3RvcDplLnRvcCtuLnBhZ2VZT2Zmc2V0LGxlZnQ6ZS5sZWZ0K24ucGFnZVhPZmZzZXR9KTp7dG9wOjAsbGVmdDowfTp2b2lkIDB9LHBvc2l0aW9uOmZ1bmN0aW9uKCl7aWYodGhpc1swXSl7dmFyIGUsdCxuLHI9dGhpc1swXSxpPXt0b3A6MCxsZWZ0OjB9O2lmKCJmaXhlZCI9PT1TLmNzcyhyLCJwb3NpdGlvbiIpKXQ9ci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtlbHNle3Q9dGhpcy5vZmZzZXQoKSxuPXIub3duZXJEb2N1bWVudCxlPXIub2Zmc2V0UGFyZW50fHxuLmRvY3VtZW50RWxlbWVudDt3aGlsZShlJiYoZT09PW4uYm9keXx8ZT09PW4uZG9jdW1lbnRFbGVtZW50KSYmInN0YXRpYyI9PT1TLmNzcyhlLCJwb3NpdGlvbiIpKWU9ZS5wYXJlbnROb2RlO2UmJmUhPT1yJiYxPT09ZS5ub2RlVHlwZSYmKChpPVMoZSkub2Zmc2V0KCkpLnRvcCs9Uy5jc3MoZSwiYm9yZGVyVG9wV2lkdGgiLCEwKSxpLmxlZnQrPVMuY3NzKGUsImJvcmRlckxlZnRXaWR0aCIsITApKX1yZXR1cm57dG9wOnQudG9wLWkudG9wLVMuY3NzKHIsIm1hcmdpblRvcCIsITApLGxlZnQ6dC5sZWZ0LWkubGVmdC1TLmNzcyhyLCJtYXJnaW5MZWZ0IiwhMCl9fX0sb2Zmc2V0UGFyZW50OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5vZmZzZXRQYXJlbnQ7d2hpbGUoZSYmInN0YXRpYyI9PT1TLmNzcyhlLCJwb3NpdGlvbiIpKWU9ZS5vZmZzZXRQYXJlbnQ7cmV0dXJuIGV8fHJlfSl9fSksUy5lYWNoKHtzY3JvbGxMZWZ0OiJwYWdlWE9mZnNldCIsc2Nyb2xsVG9wOiJwYWdlWU9mZnNldCJ9LGZ1bmN0aW9uKHQsaSl7dmFyIG89InBhZ2VZT2Zmc2V0Ij09PWk7Uy5mblt0XT1mdW5jdGlvbihlKXtyZXR1cm4gJCh0aGlzLGZ1bmN0aW9uKGUsdCxuKXt2YXIgcjtpZih4KGUpP3I9ZTo5PT09ZS5ub2RlVHlwZSYmKHI9ZS5kZWZhdWx0Vmlldyksdm9pZCAwPT09bilyZXR1cm4gcj9yW2ldOmVbdF07cj9yLnNjcm9sbFRvKG8/ci5wYWdlWE9mZnNldDpuLG8/bjpyLnBhZ2VZT2Zmc2V0KTplW3RdPW59LHQsZSxhcmd1bWVudHMubGVuZ3RoKX19KSxTLmVhY2goWyJ0b3AiLCJsZWZ0Il0sZnVuY3Rpb24oZSxuKXtTLmNzc0hvb2tzW25dPUZlKHkucGl4ZWxQb3NpdGlvbixmdW5jdGlvbihlLHQpe2lmKHQpcmV0dXJuIHQ9V2UoZSxuKSxQZS50ZXN0KHQpP1MoZSkucG9zaXRpb24oKVtuXSsicHgiOnR9KX0pLFMuZWFjaCh7SGVpZ2h0OiJoZWlnaHQiLFdpZHRoOiJ3aWR0aCJ9LGZ1bmN0aW9uKGEscyl7Uy5lYWNoKHtwYWRkaW5nOiJpbm5lciIrYSxjb250ZW50OnMsIiI6Im91dGVyIithfSxmdW5jdGlvbihyLG8pe1MuZm5bb109ZnVuY3Rpb24oZSx0KXt2YXIgbj1hcmd1bWVudHMubGVuZ3RoJiYocnx8ImJvb2xlYW4iIT10eXBlb2YgZSksaT1yfHwoITA9PT1lfHwhMD09PXQ/Im1hcmdpbiI6ImJvcmRlciIpO3JldHVybiAkKHRoaXMsZnVuY3Rpb24oZSx0LG4pe3ZhciByO3JldHVybiB4KGUpPzA9PT1vLmluZGV4T2YoIm91dGVyIik/ZVsiaW5uZXIiK2FdOmUuZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50WyJjbGllbnQiK2FdOjk9PT1lLm5vZGVUeXBlPyhyPWUuZG9jdW1lbnRFbGVtZW50LE1hdGgubWF4KGUuYm9keVsic2Nyb2xsIithXSxyWyJzY3JvbGwiK2FdLGUuYm9keVsib2Zmc2V0IithXSxyWyJvZmZzZXQiK2FdLHJbImNsaWVudCIrYV0pKTp2b2lkIDA9PT1uP1MuY3NzKGUsdCxpKTpTLnN0eWxlKGUsdCxuLGkpfSxzLG4/ZTp2b2lkIDAsbil9fSl9KSxTLmVhY2goWyJhamF4U3RhcnQiLCJhamF4U3RvcCIsImFqYXhDb21wbGV0ZSIsImFqYXhFcnJvciIsImFqYXhTdWNjZXNzIiwiYWpheFNlbmQiXSxmdW5jdGlvbihlLHQpe1MuZm5bdF09ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMub24odCxlKX19KSxTLmZuLmV4dGVuZCh7YmluZDpmdW5jdGlvbihlLHQsbil7cmV0dXJuIHRoaXMub24oZSxudWxsLHQsbil9LHVuYmluZDpmdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLm9mZihlLG51bGwsdCl9LGRlbGVnYXRlOmZ1bmN0aW9uKGUsdCxuLHIpe3JldHVybiB0aGlzLm9uKHQsZSxuLHIpfSx1bmRlbGVnYXRlOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gMT09PWFyZ3VtZW50cy5sZW5ndGg/dGhpcy5vZmYoZSwiKioiKTp0aGlzLm9mZih0LGV8fCIqKiIsbil9LGhvdmVyOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMubW91c2VlbnRlcihlKS5tb3VzZWxlYXZlKHR8fGUpfX0pLFMuZWFjaCgiYmx1ciBmb2N1cyBmb2N1c2luIGZvY3Vzb3V0IHJlc2l6ZSBzY3JvbGwgY2xpY2sgZGJsY2xpY2sgbW91c2Vkb3duIG1vdXNldXAgbW91c2Vtb3ZlIG1vdXNlb3ZlciBtb3VzZW91dCBtb3VzZWVudGVyIG1vdXNlbGVhdmUgY2hhbmdlIHNlbGVjdCBzdWJtaXQga2V5ZG93biBrZXlwcmVzcyBrZXl1cCBjb250ZXh0bWVudSIuc3BsaXQoIiAiKSxmdW5jdGlvbihlLG4pe1MuZm5bbl09ZnVuY3Rpb24oZSx0KXtyZXR1cm4gMDxhcmd1bWVudHMubGVuZ3RoP3RoaXMub24obixudWxsLGUsdCk6dGhpcy50cmlnZ2VyKG4pfX0pO3ZhciBYdD0vXltcc1x1RkVGRlx4QTBdK3xbXHNcdUZFRkZceEEwXSskL2c7Uy5wcm94eT1mdW5jdGlvbihlLHQpe3ZhciBuLHIsaTtpZigic3RyaW5nIj09dHlwZW9mIHQmJihuPWVbdF0sdD1lLGU9biksbShlKSlyZXR1cm4gcj1zLmNhbGwoYXJndW1lbnRzLDIpLChpPWZ1bmN0aW9uKCl7cmV0dXJuIGUuYXBwbHkodHx8dGhpcyxyLmNvbmNhdChzLmNhbGwoYXJndW1lbnRzKSkpfSkuZ3VpZD1lLmd1aWQ9ZS5ndWlkfHxTLmd1aWQrKyxpfSxTLmhvbGRSZWFkeT1mdW5jdGlvbihlKXtlP1MucmVhZHlXYWl0Kys6Uy5yZWFkeSghMCl9LFMuaXNBcnJheT1BcnJheS5pc0FycmF5LFMucGFyc2VKU09OPUpTT04ucGFyc2UsUy5ub2RlTmFtZT1BLFMuaXNGdW5jdGlvbj1tLFMuaXNXaW5kb3c9eCxTLmNhbWVsQ2FzZT1YLFMudHlwZT13LFMubm93PURhdGUubm93LFMuaXNOdW1lcmljPWZ1bmN0aW9uKGUpe3ZhciB0PVMudHlwZShlKTtyZXR1cm4oIm51bWJlciI9PT10fHwic3RyaW5nIj09PXQpJiYhaXNOYU4oZS1wYXJzZUZsb2F0KGUpKX0sUy50cmltPWZ1bmN0aW9uKGUpe3JldHVybiBudWxsPT1lPyIiOihlKyIiKS5yZXBsYWNlKFh0LCIiKX0sImZ1bmN0aW9uIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZCYmZGVmaW5lKCJqcXVlcnkiLFtdLGZ1bmN0aW9uKCl7cmV0dXJuIFN9KTt2YXIgVnQ9Qy5qUXVlcnksR3Q9Qy4kO3JldHVybiBTLm5vQ29uZmxpY3Q9ZnVuY3Rpb24oZSl7cmV0dXJuIEMuJD09PVMmJihDLiQ9R3QpLGUmJkMualF1ZXJ5PT09UyYmKEMualF1ZXJ5PVZ0KSxTfSwidW5kZWZpbmVkIj09dHlwZW9mIGUmJihDLmpRdWVyeT1DLiQ9UyksU30pOwo="},{"meta":{"name":"notify.js","url":"https://cdn.jsdelivr.net/npm/notify-js-legacy@0.4.1/notify.js","ts":1716552744209,"mimetype":"text/javascript"},"source":"LyogTm90aWZ5LmpzIC0gaHR0cDovL25vdGlmeWpzLmNvbS8gQ29weXJpZ2h0IChjKSAyMDE1IE1JVCAqLwooZnVuY3Rpb24gKGZhY3RvcnkpIHsKCS8vIFVNRCBzdGFydAoJLy8gaHR0cHM6Ly9naXRodWIuY29tL3VtZGpzL3VtZC9ibG9iL21hc3Rlci9qcXVlcnlQbHVnaW5Db21tb25qcy5qcwoJaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCkgewoJCS8vIEFNRC4gUmVnaXN0ZXIgYXMgYW4gYW5vbnltb3VzIG1vZHVsZS4KCQlkZWZpbmUoWydqcXVlcnknXSwgZmFjdG9yeSk7Cgl9IGVsc2UgaWYgKHR5cGVvZiBtb2R1bGUgPT09ICdvYmplY3QnICYmIG1vZHVsZS5leHBvcnRzKSB7CgkJLy8gTm9kZS9Db21tb25KUwoJCW1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oIHJvb3QsIGpRdWVyeSApIHsKCQkJaWYgKCBqUXVlcnkgPT09IHVuZGVmaW5lZCApIHsKCQkJCS8vIHJlcXVpcmUoJ2pRdWVyeScpIHJldHVybnMgYSBmYWN0b3J5IHRoYXQgcmVxdWlyZXMgd2luZG93IHRvCgkJCQkvLyBidWlsZCBhIGpRdWVyeSBpbnN0YW5jZSwgd2Ugbm9ybWFsaXplIGhvdyB3ZSB1c2UgbW9kdWxlcwoJCQkJLy8gdGhhdCByZXF1aXJlIHRoaXMgcGF0dGVybiBidXQgdGhlIHdpbmRvdyBwcm92aWRlZCBpcyBhIG5vb3AKCQkJCS8vIGlmIGl0J3MgZGVmaW5lZCAoaG93IGpxdWVyeSB3b3JrcykKCQkJCWlmICggdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgKSB7CgkJCQkJalF1ZXJ5ID0gcmVxdWlyZSgnanF1ZXJ5Jyk7CgkJCQl9CgkJCQllbHNlIHsKCQkJCQlqUXVlcnkgPSByZXF1aXJlKCdqcXVlcnknKShyb290KTsKCQkJCX0KCQkJfQoJCQlmYWN0b3J5KGpRdWVyeSk7CgkJCXJldHVybiBqUXVlcnk7CgkJfTsKCX0gZWxzZSB7CgkJLy8gQnJvd3NlciBnbG9iYWxzCgkJZmFjdG9yeShqUXVlcnkpOwoJfQp9KGZ1bmN0aW9uICgkKSB7CgkvL0lFOCBpbmRleE9mIHBvbHlmaWxsCgl2YXIgaW5kZXhPZiA9IFtdLmluZGV4T2YgfHwgZnVuY3Rpb24oaXRlbSkgewoJCWZvciAodmFyIGkgPSAwLCBsID0gdGhpcy5sZW5ndGg7IGkgPCBsOyBpKyspIHsKCQkJaWYgKGkgaW4gdGhpcyAmJiB0aGlzW2ldID09PSBpdGVtKSB7CgkJCQlyZXR1cm4gaTsKCQkJfQoJCX0KCQlyZXR1cm4gLTE7Cgl9OwoKCXZhciBwbHVnaW5OYW1lID0gIm5vdGlmeSI7Cgl2YXIgcGx1Z2luQ2xhc3NOYW1lID0gcGx1Z2luTmFtZSArICJqcyI7Cgl2YXIgYmxhbmtGaWVsZE5hbWUgPSBwbHVnaW5OYW1lICsgIiFibGFuayI7CgoJdmFyIHBvc2l0aW9ucyA9IHsKCQl0OiAidG9wIiwKCQltOiAibWlkZGxlIiwKCQliOiAiYm90dG9tIiwKCQlsOiAibGVmdCIsCgkJYzogImNlbnRlciIsCgkJcjogInJpZ2h0IgoJfTsKCXZhciBoQWxpZ25zID0gWyJsIiwgImMiLCAiciJdOwoJdmFyIHZBbGlnbnMgPSBbInQiLCAibSIsICJiIl07Cgl2YXIgbWFpblBvc2l0aW9ucyA9IFsidCIsICJiIiwgImwiLCAiciJdOwoJdmFyIG9wcG9zaXRlcyA9IHsKCQl0OiAiYiIsCgkJbTogbnVsbCwKCQliOiAidCIsCgkJbDogInIiLAoJCWM6IG51bGwsCgkJcjogImwiCgl9OwoKCXZhciBwYXJzZVBvc2l0aW9uID0gZnVuY3Rpb24oc3RyKSB7CgkJdmFyIHBvczsKCQlwb3MgPSBbXTsKCQkkLmVhY2goc3RyLnNwbGl0KC9cVysvKSwgZnVuY3Rpb24oaSwgd29yZCkgewoJCQl2YXIgdzsKCQkJdyA9IHdvcmQudG9Mb3dlckNhc2UoKS5jaGFyQXQoMCk7CgkJCWlmIChwb3NpdGlvbnNbd10pIHsKCQkJCXJldHVybiBwb3MucHVzaCh3KTsKCQkJfQoJCX0pOwoJCXJldHVybiBwb3M7Cgl9OwoKCXZhciBzdHlsZXMgPSB7fTsKCgl2YXIgY29yZVN0eWxlID0gewoJCW5hbWU6ICJjb3JlIiwKCQlodG1sOiAiPGRpdiBjbGFzcz1cIiIgKyBwbHVnaW5DbGFzc05hbWUgKyAiLXdyYXBwZXJcIj5cbgk8ZGl2IGNsYXNzPVwiIiArIHBsdWdpbkNsYXNzTmFtZSArICItYXJyb3dcIj48L2Rpdj5cbgk8ZGl2IGNsYXNzPVwiIiArIHBsdWdpbkNsYXNzTmFtZSArICItY29udGFpbmVyXCI+PC9kaXY+XG48L2Rpdj4iLAoJCWNzczogIi4iICsgcGx1Z2luQ2xhc3NOYW1lICsgIi1jb3JuZXIge1xuCXBvc2l0aW9uOiBmaXhlZDtcbgltYXJnaW46IDVweDtcbgl6LWluZGV4OiAxMDUwO1xufVxuXG4uIiArIHBsdWdpbkNsYXNzTmFtZSArICItY29ybmVyIC4iICsgcGx1Z2luQ2xhc3NOYW1lICsgIi13cmFwcGVyLFxuLiIgKyBwbHVnaW5DbGFzc05hbWUgKyAiLWNvcm5lciAuIiArIHBsdWdpbkNsYXNzTmFtZSArICItY29udGFpbmVyIHtcbglwb3NpdGlvbjogcmVsYXRpdmU7XG4JZGlzcGxheTogYmxvY2s7XG4JaGVpZ2h0OiBpbmhlcml0O1xuCXdpZHRoOiBpbmhlcml0O1xuCW1hcmdpbjogM3B4O1xufVxuXG4uIiArIHBsdWdpbkNsYXNzTmFtZSArICItd3JhcHBlciB7XG4Jei1pbmRleDogMTtcbglwb3NpdGlvbjogYWJzb2x1dGU7XG4JZGlzcGxheTogaW5saW5lLWJsb2NrO1xuCWhlaWdodDogMDtcbgl3aWR0aDogMDtcbn1cblxuLiIgKyBwbHVnaW5DbGFzc05hbWUgKyAiLWNvbnRhaW5lciB7XG4JZGlzcGxheTogbm9uZTtcbgl6LWluZGV4OiAxO1xuCXBvc2l0aW9uOiBhYnNvbHV0ZTtcbn1cblxuLiIgKyBwbHVnaW5DbGFzc05hbWUgKyAiLWhpZGFibGUge1xuCWN1cnNvcjogcG9pbnRlcjtcbn1cblxuW2RhdGEtbm90aWZ5LXRleHRdLFtkYXRhLW5vdGlmeS1odG1sXSB7XG4JcG9zaXRpb246IHJlbGF0aXZlO1xufVxuXG4uIiArIHBsdWdpbkNsYXNzTmFtZSArICItYXJyb3cge1xuCXBvc2l0aW9uOiBhYnNvbHV0ZTtcbgl6LWluZGV4OiAyO1xuCXdpZHRoOiAwO1xuCWhlaWdodDogMDtcbn0iCgl9OwoKCXZhciBzdHlsZVByZWZpeGVzID0gewoJCSJib3JkZXItcmFkaXVzIjogWyItd2Via2l0LSIsICItbW96LSJdCgl9OwoKCXZhciBnZXRTdHlsZSA9IGZ1bmN0aW9uKG5hbWUpIHsKCQlyZXR1cm4gc3R5bGVzW25hbWVdOwoJfTsKCgl2YXIgYWRkU3R5bGUgPSBmdW5jdGlvbihuYW1lLCBkZWYpIHsKCQlpZiAoIW5hbWUpIHsKCQkJdGhyb3cgIk1pc3NpbmcgU3R5bGUgbmFtZSI7CgkJfQoJCWlmICghZGVmKSB7CgkJCXRocm93ICJNaXNzaW5nIFN0eWxlIGRlZmluaXRpb24iOwoJCX0KCQlpZiAoIWRlZi5odG1sKSB7CgkJCXRocm93ICJNaXNzaW5nIFN0eWxlIEhUTUwiOwoJCX0KCQkvL3JlbW92ZSBleGlzdGluZyBzdHlsZQoJCXZhciBleGlzdGluZyA9IHN0eWxlc1tuYW1lXTsKCQlpZiAoZXhpc3RpbmcgJiYgZXhpc3RpbmcuY3NzRWxlbSkgewoJCQlpZiAod2luZG93LmNvbnNvbGUpIHsKCQkJCWNvbnNvbGUud2FybihwbHVnaW5OYW1lICsgIjogb3ZlcndyaXRpbmcgc3R5bGUgJyIgKyBuYW1lICsgIiciKTsKCQkJfQoJCQlzdHlsZXNbbmFtZV0uY3NzRWxlbS5yZW1vdmUoKTsKCQl9CgkJZGVmLm5hbWUgPSBuYW1lOwoJCXN0eWxlc1tuYW1lXSA9IGRlZjsKCQl2YXIgY3NzVGV4dCA9ICIiOwoJCWlmIChkZWYuY2xhc3NlcykgewoJCQkkLmVhY2goZGVmLmNsYXNzZXMsIGZ1bmN0aW9uKGNsYXNzTmFtZSwgcHJvcHMpIHsKCQkJCWNzc1RleHQgKz0gIi4iICsgcGx1Z2luQ2xhc3NOYW1lICsgIi0iICsgZGVmLm5hbWUgKyAiLSIgKyBjbGFzc05hbWUgKyAiIHtcbiI7CgkJCQkkLmVhY2gocHJvcHMsIGZ1bmN0aW9uKG5hbWUsIHZhbCkgewoJCQkJCWlmIChzdHlsZVByZWZpeGVzW25hbWVdKSB7CgkJCQkJCSQuZWFjaChzdHlsZVByZWZpeGVzW25hbWVdLCBmdW5jdGlvbihpLCBwcmVmaXgpIHsKCQkJCQkJCXJldHVybiBjc3NUZXh0ICs9ICIJIiArIHByZWZpeCArIG5hbWUgKyAiOiAiICsgdmFsICsgIjtcbiI7CgkJCQkJCX0pOwoJCQkJCX0KCQkJCQlyZXR1cm4gY3NzVGV4dCArPSAiCSIgKyBuYW1lICsgIjogIiArIHZhbCArICI7XG4iOwoJCQkJfSk7CgkJCQlyZXR1cm4gY3NzVGV4dCArPSAifVxuIjsKCQkJfSk7CgkJfQoJCWlmIChkZWYuY3NzKSB7CgkJCWNzc1RleHQgKz0gIi8qIHN0eWxlcyBmb3IgIiArIGRlZi5uYW1lICsgIiAqL1xuIiArIGRlZi5jc3M7CgkJfQoJCWlmIChjc3NUZXh0KSB7CgkJCWRlZi5jc3NFbGVtID0gaW5zZXJ0Q1NTKGNzc1RleHQpOwoJCQlkZWYuY3NzRWxlbS5hdHRyKCJpZCIsICJub3RpZnktIiArIGRlZi5uYW1lKTsKCQl9CgkJdmFyIGZpZWxkcyA9IHt9OwoJCXZhciBlbGVtID0gJChkZWYuaHRtbCk7CgkJZmluZEZpZWxkcygiaHRtbCIsIGVsZW0sIGZpZWxkcyk7CgkJZmluZEZpZWxkcygidGV4dCIsIGVsZW0sIGZpZWxkcyk7CgkJZGVmLmZpZWxkcyA9IGZpZWxkczsKCX07CgoJdmFyIGluc2VydENTUyA9IGZ1bmN0aW9uKGNzc1RleHQpIHsKCQl2YXIgZSwgZWxlbSwgZXJyb3I7CgkJZWxlbSA9IGNyZWF0ZUVsZW0oInN0eWxlIik7CgkJZWxlbS5hdHRyKCJ0eXBlIiwgJ3RleHQvY3NzJyk7CgkJJCgiaGVhZCIpLmFwcGVuZChlbGVtKTsKCQl0cnkgewoJCQllbGVtLmh0bWwoY3NzVGV4dCk7CgkJfSBjYXRjaCAoXykgewoJCQllbGVtWzBdLnN0eWxlU2hlZXQuY3NzVGV4dCA9IGNzc1RleHQ7CgkJfQoJCXJldHVybiBlbGVtOwoJfTsKCgl2YXIgZmluZEZpZWxkcyA9IGZ1bmN0aW9uKHR5cGUsIGVsZW0sIGZpZWxkcykgewoJCXZhciBhdHRyOwoJCWlmICh0eXBlICE9PSAiaHRtbCIpIHsKCQkJdHlwZSA9ICJ0ZXh0IjsKCQl9CgkJYXR0ciA9ICJkYXRhLW5vdGlmeS0iICsgdHlwZTsKCQlyZXR1cm4gZmluZChlbGVtLCAiWyIgKyBhdHRyICsgIl0iKS5lYWNoKGZ1bmN0aW9uKCkgewoJCQl2YXIgbmFtZTsKCQkJbmFtZSA9ICQodGhpcykuYXR0cihhdHRyKTsKCQkJaWYgKCFuYW1lKSB7CgkJCQluYW1lID0gYmxhbmtGaWVsZE5hbWU7CgkJCX0KCQkJZmllbGRzW25hbWVdID0gdHlwZTsKCQl9KTsKCX07CgoJdmFyIGZpbmQgPSBmdW5jdGlvbihlbGVtLCBzZWxlY3RvcikgewoJCWlmIChlbGVtLmlzKHNlbGVjdG9yKSkgewoJCQlyZXR1cm4gZWxlbTsKCQl9IGVsc2UgewoJCQlyZXR1cm4gZWxlbS5maW5kKHNlbGVjdG9yKTsKCQl9Cgl9OwoKCXZhciBwbHVnaW5PcHRpb25zID0gewoJCWNsaWNrVG9IaWRlOiB0cnVlLAoJCWF1dG9IaWRlOiB0cnVlLAoJCWF1dG9IaWRlRGVsYXk6IDUwMDAsCgkJYXJyb3dTaG93OiB0cnVlLAoJCWFycm93U2l6ZTogNSwKCQlicmVha05ld0xpbmVzOiB0cnVlLAoJCWVsZW1lbnRQb3NpdGlvbjogImJvdHRvbSIsCgkJZ2xvYmFsUG9zaXRpb246ICJ0b3AgcmlnaHQiLAoJCXN0eWxlOiAiYm9vdHN0cmFwIiwKCQljbGFzc05hbWU6ICJlcnJvciIsCgkJc2hvd0FuaW1hdGlvbjogInNsaWRlRG93biIsCgkJc2hvd0R1cmF0aW9uOiA0MDAsCgkJaGlkZUFuaW1hdGlvbjogInNsaWRlVXAiLAoJCWhpZGVEdXJhdGlvbjogMjAwLAoJCWdhcDogNQoJfTsKCgl2YXIgaW5oZXJpdCA9IGZ1bmN0aW9uKGEsIGIpIHsKCQl2YXIgRjsKCQlGID0gZnVuY3Rpb24oKSB7fTsKCQlGLnByb3RvdHlwZSA9IGE7CgkJcmV0dXJuICQuZXh0ZW5kKHRydWUsIG5ldyBGKCksIGIpOwoJfTsKCgl2YXIgZGVmYXVsdHMgPSBmdW5jdGlvbihvcHRzKSB7CgkJcmV0dXJuICQuZXh0ZW5kKHBsdWdpbk9wdGlvbnMsIG9wdHMpOwoJfTsKCgl2YXIgY3JlYXRlRWxlbSA9IGZ1bmN0aW9uKHRhZykgewoJCXJldHVybiAkKCI8IiArIHRhZyArICI+PC8iICsgdGFnICsgIj4iKTsKCX07CgoJdmFyIGdsb2JhbEFuY2hvcnMgPSB7fTsKCgl2YXIgZ2V0QW5jaG9yRWxlbWVudCA9IGZ1bmN0aW9uKGVsZW1lbnQpIHsKCQl2YXIgcmFkaW9zOwoJCWlmIChlbGVtZW50LmlzKCdbdHlwZT1yYWRpb10nKSkgewoJCQlyYWRpb3MgPSBlbGVtZW50LnBhcmVudHMoJ2Zvcm06Zmlyc3QnKS5maW5kKCdbdHlwZT1yYWRpb10nKS5maWx0ZXIoZnVuY3Rpb24oaSwgZSkgewoJCQkJcmV0dXJuICQoZSkuYXR0cigibmFtZSIpID09PSBlbGVtZW50LmF0dHIoIm5hbWUiKTsKCQkJfSk7CgkJCWVsZW1lbnQgPSByYWRpb3MuZmlyc3QoKTsKCQl9CgkJcmV0dXJuIGVsZW1lbnQ7Cgl9OwoKCXZhciBpbmNyID0gZnVuY3Rpb24ob2JqLCBwb3MsIHZhbCkgewoJCXZhciBvcHAsIHRlbXA7CgkJaWYgKHR5cGVvZiB2YWwgPT09ICJzdHJpbmciKSB7CgkJCXZhbCA9IHBhcnNlSW50KHZhbCwgMTApOwoJCX0gZWxzZSBpZiAodHlwZW9mIHZhbCAhPT0gIm51bWJlciIpIHsKCQkJcmV0dXJuOwoJCX0KCQlpZiAoaXNOYU4odmFsKSkgewoJCQlyZXR1cm47CgkJfQoJCW9wcCA9IHBvc2l0aW9uc1tvcHBvc2l0ZXNbcG9zLmNoYXJBdCgwKV1dOwoJCXRlbXAgPSBwb3M7CgkJaWYgKG9ialtvcHBdICE9PSB1bmRlZmluZWQpIHsKCQkJcG9zID0gcG9zaXRpb25zW29wcC5jaGFyQXQoMCldOwoJCQl2YWwgPSAtdmFsOwoJCX0KCQlpZiAob2JqW3Bvc10gPT09IHVuZGVmaW5lZCkgewoJCQlvYmpbcG9zXSA9IHZhbDsKCQl9IGVsc2UgewoJCQlvYmpbcG9zXSArPSB2YWw7CgkJfQoJCXJldHVybiBudWxsOwoJfTsKCgl2YXIgcmVhbGlnbiA9IGZ1bmN0aW9uKGFsaWdubWVudCwgaW5uZXIsIG91dGVyKSB7CgkJaWYgKGFsaWdubWVudCA9PT0gImwiIHx8IGFsaWdubWVudCA9PT0gInQiKSB7CgkJCXJldHVybiAwOwoJCX0gZWxzZSBpZiAoYWxpZ25tZW50ID09PSAiYyIgfHwgYWxpZ25tZW50ID09PSAibSIpIHsKCQkJcmV0dXJuIG91dGVyIC8gMiAtIGlubmVyIC8gMjsKCQl9IGVsc2UgaWYgKGFsaWdubWVudCA9PT0gInIiIHx8IGFsaWdubWVudCA9PT0gImIiKSB7CgkJCXJldHVybiBvdXRlciAtIGlubmVyOwoJCX0KCQl0aHJvdyAiSW52YWxpZCBhbGlnbm1lbnQiOwoJfTsKCgl2YXIgZW5jb2RlID0gZnVuY3Rpb24odGV4dCkgewoJCWVuY29kZS5lID0gZW5jb2RlLmUgfHwgY3JlYXRlRWxlbSgiZGl2Iik7CgkJcmV0dXJuIGVuY29kZS5lLnRleHQodGV4dCkuaHRtbCgpOwoJfTsKCglmdW5jdGlvbiBOb3RpZmljYXRpb24oZWxlbSwgZGF0YSwgb3B0aW9ucykgewoJCWlmICh0eXBlb2Ygb3B0aW9ucyA9PT0gInN0cmluZyIpIHsKCQkJb3B0aW9ucyA9IHsKCQkJCWNsYXNzTmFtZTogb3B0aW9ucwoJCQl9OwoJCX0KCQl0aGlzLm9wdGlvbnMgPSBpbmhlcml0KHBsdWdpbk9wdGlvbnMsICQuaXNQbGFpbk9iamVjdChvcHRpb25zKSA/IG9wdGlvbnMgOiB7fSk7CgkJdGhpcy5sb2FkSFRNTCgpOwoJCXRoaXMud3JhcHBlciA9ICQoY29yZVN0eWxlLmh0bWwpOwoJCWlmICh0aGlzLm9wdGlvbnMuY2xpY2tUb0hpZGUpIHsKCQkJdGhpcy53cmFwcGVyLmFkZENsYXNzKHBsdWdpbkNsYXNzTmFtZSArICItaGlkYWJsZSIpOwoJCX0KCQl0aGlzLndyYXBwZXIuZGF0YShwbHVnaW5DbGFzc05hbWUsIHRoaXMpOwoJCXRoaXMuYXJyb3cgPSB0aGlzLndyYXBwZXIuZmluZCgiLiIgKyBwbHVnaW5DbGFzc05hbWUgKyAiLWFycm93Iik7CgkJdGhpcy5jb250YWluZXIgPSB0aGlzLndyYXBwZXIuZmluZCgiLiIgKyBwbHVnaW5DbGFzc05hbWUgKyAiLWNvbnRhaW5lciIpOwoJCXRoaXMuY29udGFpbmVyLmFwcGVuZCh0aGlzLnVzZXJDb250YWluZXIpOwoJCWlmIChlbGVtICYmIGVsZW0ubGVuZ3RoKSB7CgkJCXRoaXMuZWxlbWVudFR5cGUgPSBlbGVtLmF0dHIoInR5cGUiKTsKCQkJdGhpcy5vcmlnaW5hbEVsZW1lbnQgPSBlbGVtOwoJCQl0aGlzLmVsZW0gPSBnZXRBbmNob3JFbGVtZW50KGVsZW0pOwoJCQl0aGlzLmVsZW0uZGF0YShwbHVnaW5DbGFzc05hbWUsIHRoaXMpOwoJCQl0aGlzLmVsZW0uYmVmb3JlKHRoaXMud3JhcHBlcik7CgkJfQoJCXRoaXMuY29udGFpbmVyLmhpZGUoKTsKCQl0aGlzLnJ1bihkYXRhKTsKCX0KCglOb3RpZmljYXRpb24ucHJvdG90eXBlLmxvYWRIVE1MID0gZnVuY3Rpb24oKSB7CgkJdmFyIHN0eWxlOwoJCXN0eWxlID0gdGhpcy5nZXRTdHlsZSgpOwoJCXRoaXMudXNlckNvbnRhaW5lciA9ICQoc3R5bGUuaHRtbCk7CgkJdGhpcy51c2VyRmllbGRzID0gc3R5bGUuZmllbGRzOwoJfTsKCglOb3RpZmljYXRpb24ucHJvdG90eXBlLnNob3cgPSBmdW5jdGlvbihzaG93LCB1c2VyQ2FsbGJhY2spIHsKCQl2YXIgYXJncywgY2FsbGJhY2ssIGVsZW1zLCBmbiwgaGlkZGVuOwoJCWNhbGxiYWNrID0gKGZ1bmN0aW9uKF90aGlzKSB7CgkJCXJldHVybiBmdW5jdGlvbigpIHsKCQkJCWlmICghc2hvdyAmJiAhX3RoaXMuZWxlbSkgewoJCQkJCV90aGlzLmRlc3Ryb3koKTsKCQkJCX0KCQkJCWlmICh1c2VyQ2FsbGJhY2spIHsKCQkJCQlyZXR1cm4gdXNlckNhbGxiYWNrKCk7CgkJCQl9CgkJCX07CgkJfSkodGhpcyk7CgkJaGlkZGVuID0gdGhpcy5jb250YWluZXIucGFyZW50KCkucGFyZW50cygnOmhpZGRlbicpLmxlbmd0aCA+IDA7CgkJZWxlbXMgPSB0aGlzLmNvbnRhaW5lci5hZGQodGhpcy5hcnJvdyk7CgkJYXJncyA9IFtdOwoJCWlmIChoaWRkZW4gJiYgc2hvdykgewoJCQlmbiA9ICJzaG93IjsKCQl9IGVsc2UgaWYgKGhpZGRlbiAmJiAhc2hvdykgewoJCQlmbiA9ICJoaWRlIjsKCQl9IGVsc2UgaWYgKCFoaWRkZW4gJiYgc2hvdykgewoJCQlmbiA9IHRoaXMub3B0aW9ucy5zaG93QW5pbWF0aW9uOwoJCQlhcmdzLnB1c2godGhpcy5vcHRpb25zLnNob3dEdXJhdGlvbik7CgkJfSBlbHNlIGlmICghaGlkZGVuICYmICFzaG93KSB7CgkJCWZuID0gdGhpcy5vcHRpb25zLmhpZGVBbmltYXRpb247CgkJCWFyZ3MucHVzaCh0aGlzLm9wdGlvbnMuaGlkZUR1cmF0aW9uKTsKCQl9IGVsc2UgewoJCQlyZXR1cm4gY2FsbGJhY2soKTsKCQl9CgkJYXJncy5wdXNoKGNhbGxiYWNrKTsKCQlyZXR1cm4gZWxlbXNbZm5dLmFwcGx5KGVsZW1zLCBhcmdzKTsKCX07CgoJTm90aWZpY2F0aW9uLnByb3RvdHlwZS5zZXRHbG9iYWxQb3NpdGlvbiA9IGZ1bmN0aW9uKCkgewoJCXZhciBwID0gdGhpcy5nZXRQb3NpdGlvbigpOwoJCXZhciBwTWFpbiA9IHBbMF07CgkJdmFyIHBBbGlnbiA9IHBbMV07CgkJdmFyIG1haW4gPSBwb3NpdGlvbnNbcE1haW5dOwoJCXZhciBhbGlnbiA9IHBvc2l0aW9uc1twQWxpZ25dOwoJCXZhciBrZXkgPSBwTWFpbiArICJ8IiArIHBBbGlnbjsKCQl2YXIgYW5jaG9yID0gZ2xvYmFsQW5jaG9yc1trZXldOwoJCWlmICghYW5jaG9yKSB7CgkJCWFuY2hvciA9IGdsb2JhbEFuY2hvcnNba2V5XSA9IGNyZWF0ZUVsZW0oImRpdiIpOwoJCQl2YXIgY3NzID0ge307CgkJCWNzc1ttYWluXSA9IDA7CgkJCWlmIChhbGlnbiA9PT0gIm1pZGRsZSIpIHsKCQkJCWNzcy50b3AgPSAnNDUlJzsKCQkJfSBlbHNlIGlmIChhbGlnbiA9PT0gImNlbnRlciIpIHsKCQkJCWNzcy5sZWZ0ID0gJzQ1JSc7CgkJCX0gZWxzZSB7CgkJCQljc3NbYWxpZ25dID0gMDsKCQkJfQoJCQlhbmNob3IuY3NzKGNzcykuYWRkQ2xhc3MocGx1Z2luQ2xhc3NOYW1lICsgIi1jb3JuZXIiKTsKCQkJJCgiYm9keSIpLmFwcGVuZChhbmNob3IpOwoJCX0KCQlyZXR1cm4gYW5jaG9yLnByZXBlbmQodGhpcy53cmFwcGVyKTsKCX07CgoJTm90aWZpY2F0aW9uLnByb3RvdHlwZS5zZXRFbGVtZW50UG9zaXRpb24gPSBmdW5jdGlvbigpIHsKCQl2YXIgYXJyb3dDb2xvciwgYXJyb3dDc3MsIGFycm93U2l6ZSwgY29sb3IsIGNvbnRILCBjb250VywgY3NzLCBlbGVtSCwgZWxlbUlILCBlbGVtSVcsIGVsZW1Qb3MsIGVsZW1XLCBnYXAsIGosIGssIGxlbiwgbGVuMSwgbWFpbkZ1bGwsIG1hcmdpbiwgb3BwLCBvcHBGdWxsLCBwQWxpZ24sIHBBcnJvdywgcE1haW4sIHBvcywgcG9zRnVsbCwgcG9zaXRpb24sIHJlZiwgd3JhcFBvczsKCQlwb3NpdGlvbiA9IHRoaXMuZ2V0UG9zaXRpb24oKTsKCQlwTWFpbiA9IHBvc2l0aW9uWzBdOwoJCXBBbGlnbiA9IHBvc2l0aW9uWzFdOwoJCXBBcnJvdyA9IHBvc2l0aW9uWzJdOwoJCWVsZW1Qb3MgPSB0aGlzLmVsZW0ucG9zaXRpb24oKTsKCQllbGVtSCA9IHRoaXMuZWxlbS5vdXRlckhlaWdodCgpOwoJCWVsZW1XID0gdGhpcy5lbGVtLm91dGVyV2lkdGgoKTsKCQllbGVtSUggPSB0aGlzLmVsZW0uaW5uZXJIZWlnaHQoKTsKCQllbGVtSVcgPSB0aGlzLmVsZW0uaW5uZXJXaWR0aCgpOwoJCXdyYXBQb3MgPSB0aGlzLndyYXBwZXIucG9zaXRpb24oKTsKCQljb250SCA9IHRoaXMuY29udGFpbmVyLmhlaWdodCgpOwoJCWNvbnRXID0gdGhpcy5jb250YWluZXIud2lkdGgoKTsKCQltYWluRnVsbCA9IHBvc2l0aW9uc1twTWFpbl07CgkJb3BwID0gb3Bwb3NpdGVzW3BNYWluXTsKCQlvcHBGdWxsID0gcG9zaXRpb25zW29wcF07CgkJY3NzID0ge307CgkJY3NzW29wcEZ1bGxdID0gcE1haW4gPT09ICJiIiA/IGVsZW1IIDogcE1haW4gPT09ICJyIiA/IGVsZW1XIDogMDsKCQlpbmNyKGNzcywgInRvcCIsIGVsZW1Qb3MudG9wIC0gd3JhcFBvcy50b3ApOwoJCWluY3IoY3NzLCAibGVmdCIsIGVsZW1Qb3MubGVmdCAtIHdyYXBQb3MubGVmdCk7CgkJcmVmID0gWyJ0b3AiLCAibGVmdCJdOwoJCWZvciAoaiA9IDAsIGxlbiA9IHJlZi5sZW5ndGg7IGogPCBsZW47IGorKykgewoJCQlwb3MgPSByZWZbal07CgkJCW1hcmdpbiA9IHBhcnNlSW50KHRoaXMuZWxlbS5jc3MoIm1hcmdpbi0iICsgcG9zKSwgMTApOwoJCQlpZiAobWFyZ2luKSB7CgkJCQlpbmNyKGNzcywgcG9zLCBtYXJnaW4pOwoJCQl9CgkJfQoJCWdhcCA9IE1hdGgubWF4KDAsIHRoaXMub3B0aW9ucy5nYXAgLSAodGhpcy5vcHRpb25zLmFycm93U2hvdyA/IGFycm93U2l6ZSA6IDApKTsKCQlpbmNyKGNzcywgb3BwRnVsbCwgZ2FwKTsKCQlpZiAoIXRoaXMub3B0aW9ucy5hcnJvd1Nob3cpIHsKCQkJdGhpcy5hcnJvdy5oaWRlKCk7CgkJfSBlbHNlIHsKCQkJYXJyb3dTaXplID0gdGhpcy5vcHRpb25zLmFycm93U2l6ZTsKCQkJYXJyb3dDc3MgPSAkLmV4dGVuZCh7fSwgY3NzKTsKCQkJYXJyb3dDb2xvciA9IHRoaXMudXNlckNvbnRhaW5lci5jc3MoImJvcmRlci1jb2xvciIpIHx8IHRoaXMudXNlckNvbnRhaW5lci5jc3MoImJvcmRlci10b3AtY29sb3IiKSB8fCB0aGlzLnVzZXJDb250YWluZXIuY3NzKCJiYWNrZ3JvdW5kLWNvbG9yIikgfHwgIndoaXRlIjsKCQkJZm9yIChrID0gMCwgbGVuMSA9IG1haW5Qb3NpdGlvbnMubGVuZ3RoOyBrIDwgbGVuMTsgaysrKSB7CgkJCQlwb3MgPSBtYWluUG9zaXRpb25zW2tdOwoJCQkJcG9zRnVsbCA9IHBvc2l0aW9uc1twb3NdOwoJCQkJaWYgKHBvcyA9PT0gb3BwKSB7CgkJCQkJY29udGludWU7CgkJCQl9CgkJCQljb2xvciA9IHBvc0Z1bGwgPT09IG1haW5GdWxsID8gYXJyb3dDb2xvciA6ICJ0cmFuc3BhcmVudCI7CgkJCQlhcnJvd0Nzc1siYm9yZGVyLSIgKyBwb3NGdWxsXSA9IGFycm93U2l6ZSArICJweCBzb2xpZCAiICsgY29sb3I7CgkJCX0KCQkJaW5jcihjc3MsIHBvc2l0aW9uc1tvcHBdLCBhcnJvd1NpemUpOwoJCQlpZiAoaW5kZXhPZi5jYWxsKG1haW5Qb3NpdGlvbnMsIHBBbGlnbikgPj0gMCkgewoJCQkJaW5jcihhcnJvd0NzcywgcG9zaXRpb25zW3BBbGlnbl0sIGFycm93U2l6ZSAqIDIpOwoJCQl9CgkJfQoJCWlmIChpbmRleE9mLmNhbGwodkFsaWducywgcE1haW4pID49IDApIHsKCQkJaW5jcihjc3MsICJsZWZ0IiwgcmVhbGlnbihwQWxpZ24sIGNvbnRXLCBlbGVtVykpOwoJCQlpZiAoYXJyb3dDc3MpIHsKCQkJCWluY3IoYXJyb3dDc3MsICJsZWZ0IiwgcmVhbGlnbihwQWxpZ24sIGFycm93U2l6ZSwgZWxlbUlXKSk7CgkJCX0KCQl9IGVsc2UgaWYgKGluZGV4T2YuY2FsbChoQWxpZ25zLCBwTWFpbikgPj0gMCkgewoJCQlpbmNyKGNzcywgInRvcCIsIHJlYWxpZ24ocEFsaWduLCBjb250SCwgZWxlbUgpKTsKCQkJaWYgKGFycm93Q3NzKSB7CgkJCQlpbmNyKGFycm93Q3NzLCAidG9wIiwgcmVhbGlnbihwQWxpZ24sIGFycm93U2l6ZSwgZWxlbUlIKSk7CgkJCX0KCQl9CgkJaWYgKHRoaXMuY29udGFpbmVyLmlzKCI6dmlzaWJsZSIpKSB7CgkJCWNzcy5kaXNwbGF5ID0gImJsb2NrIjsKCQl9CgkJdGhpcy5jb250YWluZXIucmVtb3ZlQXR0cigic3R5bGUiKS5jc3MoY3NzKTsKCQlpZiAoYXJyb3dDc3MpIHsKCQkJcmV0dXJuIHRoaXMuYXJyb3cucmVtb3ZlQXR0cigic3R5bGUiKS5jc3MoYXJyb3dDc3MpOwoJCX0KCX07CgoJTm90aWZpY2F0aW9uLnByb3RvdHlwZS5nZXRQb3NpdGlvbiA9IGZ1bmN0aW9uKCkgewoJCXZhciBwb3MsIHJlZiwgcmVmMSwgcmVmMiwgcmVmMywgcmVmNCwgcmVmNSwgdGV4dDsKCQl0ZXh0ID0gdGhpcy5vcHRpb25zLnBvc2l0aW9uIHx8ICh0aGlzLmVsZW0gPyB0aGlzLm9wdGlvbnMuZWxlbWVudFBvc2l0aW9uIDogdGhpcy5vcHRpb25zLmdsb2JhbFBvc2l0aW9uKTsKCQlwb3MgPSBwYXJzZVBvc2l0aW9uKHRleHQpOwoJCWlmIChwb3MubGVuZ3RoID09PSAwKSB7CgkJCXBvc1swXSA9ICJiIjsKCQl9CgkJaWYgKHJlZiA9IHBvc1swXSwgaW5kZXhPZi5jYWxsKG1haW5Qb3NpdGlvbnMsIHJlZikgPCAwKSB7CgkJCXRocm93ICJNdXN0IGJlIG9uZSBvZiBbIiArIG1haW5Qb3NpdGlvbnMgKyAiXSI7CgkJfQoJCWlmIChwb3MubGVuZ3RoID09PSAxIHx8ICgocmVmMSA9IHBvc1swXSwgaW5kZXhPZi5jYWxsKHZBbGlnbnMsIHJlZjEpID49IDApICYmIChyZWYyID0gcG9zWzFdLCBpbmRleE9mLmNhbGwoaEFsaWducywgcmVmMikgPCAwKSkgfHwgKChyZWYzID0gcG9zWzBdLCBpbmRleE9mLmNhbGwoaEFsaWducywgcmVmMykgPj0gMCkgJiYgKHJlZjQgPSBwb3NbMV0sIGluZGV4T2YuY2FsbCh2QWxpZ25zLCByZWY0KSA8IDApKSkgewoJCQlwb3NbMV0gPSAocmVmNSA9IHBvc1swXSwgaW5kZXhPZi5jYWxsKGhBbGlnbnMsIHJlZjUpID49IDApID8gIm0iIDogImwiOwoJCX0KCQlpZiAocG9zLmxlbmd0aCA9PT0gMikgewoJCQlwb3NbMl0gPSBwb3NbMV07CgkJfQoJCXJldHVybiBwb3M7Cgl9OwoKCU5vdGlmaWNhdGlvbi5wcm90b3R5cGUuZ2V0U3R5bGUgPSBmdW5jdGlvbihuYW1lKSB7CgkJdmFyIHN0eWxlOwoJCWlmICghbmFtZSkgewoJCQluYW1lID0gdGhpcy5vcHRpb25zLnN0eWxlOwoJCX0KCQlpZiAoIW5hbWUpIHsKCQkJbmFtZSA9ICJkZWZhdWx0IjsKCQl9CgkJc3R5bGUgPSBzdHlsZXNbbmFtZV07CgkJaWYgKCFzdHlsZSkgewoJCQl0aHJvdyAiTWlzc2luZyBzdHlsZTogIiArIG5hbWU7CgkJfQoJCXJldHVybiBzdHlsZTsKCX07CgoJTm90aWZpY2F0aW9uLnByb3RvdHlwZS51cGRhdGVDbGFzc2VzID0gZnVuY3Rpb24oKSB7CgkJdmFyIGNsYXNzZXMsIHN0eWxlOwoJCWNsYXNzZXMgPSBbImJhc2UiXTsKCQlpZiAoJC5pc0FycmF5KHRoaXMub3B0aW9ucy5jbGFzc05hbWUpKSB7CgkJCWNsYXNzZXMgPSBjbGFzc2VzLmNvbmNhdCh0aGlzLm9wdGlvbnMuY2xhc3NOYW1lKTsKCQl9IGVsc2UgaWYgKHRoaXMub3B0aW9ucy5jbGFzc05hbWUpIHsKCQkJY2xhc3Nlcy5wdXNoKHRoaXMub3B0aW9ucy5jbGFzc05hbWUpOwoJCX0KCQlzdHlsZSA9IHRoaXMuZ2V0U3R5bGUoKTsKCQljbGFzc2VzID0gJC5tYXAoY2xhc3NlcywgZnVuY3Rpb24obikgewoJCQlyZXR1cm4gcGx1Z2luQ2xhc3NOYW1lICsgIi0iICsgc3R5bGUubmFtZSArICItIiArIG47CgkJfSkuam9pbigiICIpOwoJCXJldHVybiB0aGlzLnVzZXJDb250YWluZXIuYXR0cigiY2xhc3MiLCBjbGFzc2VzKTsKCX07CgoJTm90aWZpY2F0aW9uLnByb3RvdHlwZS5ydW4gPSBmdW5jdGlvbihkYXRhLCBvcHRpb25zKSB7CgkJdmFyIGQsIGRhdGFzLCBuYW1lLCB0eXBlLCB2YWx1ZTsKCQlpZiAoJC5pc1BsYWluT2JqZWN0KG9wdGlvbnMpKSB7CgkJCSQuZXh0ZW5kKHRoaXMub3B0aW9ucywgb3B0aW9ucyk7CgkJfSBlbHNlIGlmICgkLnR5cGUob3B0aW9ucykgPT09ICJzdHJpbmciKSB7CgkJCXRoaXMub3B0aW9ucy5jbGFzc05hbWUgPSBvcHRpb25zOwoJCX0KCQlpZiAodGhpcy5jb250YWluZXIgJiYgIWRhdGEpIHsKCQkJdGhpcy5zaG93KGZhbHNlKTsKCQkJcmV0dXJuOwoJCX0gZWxzZSBpZiAoIXRoaXMuY29udGFpbmVyICYmICFkYXRhKSB7CgkJCXJldHVybjsKCQl9CgkJZGF0YXMgPSB7fTsKCQlpZiAoJC5pc1BsYWluT2JqZWN0KGRhdGEpKSB7CgkJCWRhdGFzID0gZGF0YTsKCQl9IGVsc2UgewoJCQlkYXRhc1tibGFua0ZpZWxkTmFtZV0gPSBkYXRhOwoJCX0KCQlmb3IgKG5hbWUgaW4gZGF0YXMpIHsKCQkJZCA9IGRhdGFzW25hbWVdOwoJCQl0eXBlID0gdGhpcy51c2VyRmllbGRzW25hbWVdOwoJCQlpZiAoIXR5cGUpIHsKCQkJCWNvbnRpbnVlOwoJCQl9CgkJCWlmICh0eXBlID09PSAidGV4dCIpIHsKCQkJCWQgPSBlbmNvZGUoZCk7CgkJCQlpZiAodGhpcy5vcHRpb25zLmJyZWFrTmV3TGluZXMpIHsKCQkJCQlkID0gZC5yZXBsYWNlKC9cbi9nLCAnPGJyLz4nKTsKCQkJCX0KCQkJfQoJCQl2YWx1ZSA9IG5hbWUgPT09IGJsYW5rRmllbGROYW1lID8gJycgOiAnPScgKyBuYW1lOwoJCQlmaW5kKHRoaXMudXNlckNvbnRhaW5lciwgIltkYXRhLW5vdGlmeS0iICsgdHlwZSArIHZhbHVlICsgIl0iKS5odG1sKGQpOwoJCX0KCQl0aGlzLnVwZGF0ZUNsYXNzZXMoKTsKCQlpZiAodGhpcy5lbGVtKSB7CgkJCXRoaXMuc2V0RWxlbWVudFBvc2l0aW9uKCk7CgkJfSBlbHNlIHsKCQkJdGhpcy5zZXRHbG9iYWxQb3NpdGlvbigpOwoJCX0KCQl0aGlzLnNob3codHJ1ZSk7CgkJaWYgKHRoaXMub3B0aW9ucy5hdXRvSGlkZSkgewoJCQljbGVhclRpbWVvdXQodGhpcy5hdXRvaGlkZVRpbWVyKTsKCQkJdGhpcy5hdXRvaGlkZVRpbWVyID0gc2V0VGltZW91dCh0aGlzLnNob3cuYmluZCh0aGlzLCBmYWxzZSksIHRoaXMub3B0aW9ucy5hdXRvSGlkZURlbGF5KTsKCQl9Cgl9OwoKCU5vdGlmaWNhdGlvbi5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uKCkgewoJCXRoaXMud3JhcHBlci5kYXRhKHBsdWdpbkNsYXNzTmFtZSwgbnVsbCk7CgkJdGhpcy53cmFwcGVyLnJlbW92ZSgpOwoJfTsKCgkkW3BsdWdpbk5hbWVdID0gZnVuY3Rpb24oZWxlbSwgZGF0YSwgb3B0aW9ucykgewoJCWlmICgoZWxlbSAmJiBlbGVtLm5vZGVOYW1lKSB8fCBlbGVtLmpxdWVyeSkgewoJCQkkKGVsZW0pW3BsdWdpbk5hbWVdKGRhdGEsIG9wdGlvbnMpOwoJCX0gZWxzZSB7CgkJCW9wdGlvbnMgPSBkYXRhOwoJCQlkYXRhID0gZWxlbTsKCQkJbmV3IE5vdGlmaWNhdGlvbihudWxsLCBkYXRhLCBvcHRpb25zKTsKCQl9CgkJcmV0dXJuIGVsZW07Cgl9OwoKCSQuZm5bcGx1Z2luTmFtZV0gPSBmdW5jdGlvbihkYXRhLCBvcHRpb25zKSB7CgkJJCh0aGlzKS5lYWNoKGZ1bmN0aW9uKCkgewoJCQl2YXIgcHJldiA9IGdldEFuY2hvckVsZW1lbnQoJCh0aGlzKSkuZGF0YShwbHVnaW5DbGFzc05hbWUpOwoJCQlpZiAocHJldikgewoJCQkJcHJldi5kZXN0cm95KCk7CgkJCX0KCQkJdmFyIGN1cnIgPSBuZXcgTm90aWZpY2F0aW9uKCQodGhpcyksIGRhdGEsIG9wdGlvbnMpOwoJCX0pOwoJCXJldHVybiB0aGlzOwoJfTsKCgkkLmV4dGVuZCgkW3BsdWdpbk5hbWVdLCB7CgkJZGVmYXVsdHM6IGRlZmF1bHRzLAoJCWFkZFN0eWxlOiBhZGRTdHlsZSwKCQlwbHVnaW5PcHRpb25zOiBwbHVnaW5PcHRpb25zLAoJCWdldFN0eWxlOiBnZXRTdHlsZSwKCQlpbnNlcnRDU1M6IGluc2VydENTUwoJfSk7CgoJLy9hbHdheXMgaW5jbHVkZSB0aGUgZGVmYXVsdCBib290c3RyYXAgc3R5bGUKCWFkZFN0eWxlKCJib290c3RyYXAiLCB7CgkJaHRtbDogIjxkaXY+XG48c3BhbiBkYXRhLW5vdGlmeS10ZXh0Pjwvc3Bhbj5cbjwvZGl2PiIsCgkJY2xhc3NlczogewoJCQliYXNlOiB7CgkJCQkiZm9udC13ZWlnaHQiOiAiYm9sZCIsCgkJCQkicGFkZGluZyI6ICI4cHggMTVweCA4cHggMTRweCIsCgkJCQkidGV4dC1zaGFkb3ciOiAiMCAxcHggMCByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuNSkiLAoJCQkJImJhY2tncm91bmQtY29sb3IiOiAiI2ZjZjhlMyIsCgkJCQkiYm9yZGVyIjogIjFweCBzb2xpZCAjZmJlZWQ1IiwKCQkJCSJib3JkZXItcmFkaXVzIjogIjRweCIsCgkJCQkid2hpdGUtc3BhY2UiOiAibm93cmFwIiwKCQkJCSJwYWRkaW5nLWxlZnQiOiAiMjVweCIsCgkJCQkiYmFja2dyb3VuZC1yZXBlYXQiOiAibm8tcmVwZWF0IiwKCQkJCSJiYWNrZ3JvdW5kLXBvc2l0aW9uIjogIjNweCA3cHgiCgkJCX0sCgkJCWVycm9yOiB7CgkJCQkiY29sb3IiOiAiI0I5NEE0OCIsCgkJCQkiYmFja2dyb3VuZC1jb2xvciI6ICIjRjJERURFIiwKCQkJCSJib3JkZXItY29sb3IiOiAiI0VFRDNENyIsCgkJCQkiYmFja2dyb3VuZC1pbWFnZSI6ICJ1cmwoZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFCUUFBQUFVQ0FZQUFBQ05pUjBOQUFBQUdYUkZXSFJUYjJaMGQyRnlaUUJCWkc5aVpTQkpiV0ZuWlZKbFlXUjVjY2xsUEFBQUF0UkpSRUZVZU5xa1ZjMXUwMEFRSHErZE9EKzBwb0lRZmtJamFsVzBTRUdxUk11Um5Ib3MzRGp3QUgwQXJseVFlQU5PT1NNZUFBNVZqeUJ4S0JRaGdTcFZVS0tRTkdsb0ZkdzRjV3cyanRmTU9uYTZKT1VBckRUYXpYaS9iM2RtNTVzb2NQcVFoRmthKythSEJzSThHc29wUkpFUk5GbFk4OEZDRWs5WWl3ZjhSaGdSeWFIRlFwUEhDRG1aRzVvWDJ1aTJ5aWxrY1RUMUFjRHNiWUMxTk1BeU9pN3pUWDJBZ3g3QTlsdUFsODhCYXVpaVEvY0phWlFmSXBBbG5nRGN2WlpNcmw4dkZQSzUrWGt0cldseDMvZWhaNXI5K3Q2ZStXVm5wMXB4bk5JamdCZTQvNmRBeXNRYzhkc21Id1BjVzlDMGgzZlcxaGFuczFsdHdKaHkwR3hLN1haYlVsTXA1V3cyZXlhbjYrZnQvZjJGQXFYR0s0Q3ZRazVIdWVGejdENkdPWnRJcksrc3J1cGR4MUdSQkJxTkJ0emMyQWlNcjduUHBsUmRLaGIxcTZxNnpqRmhya2xFRk9VdXRvUTUweGNYODZabHFhWnBRcmZiQmR1MlI2L0cxOXpYNlhTZ2g2Ulg1dWJ5SENNOG5xU0lENklDckdpWmpHWVl4b2pFc2l3NFBEd01TTDVWS3NDOFlmNFZSWUZ6TXpNYXh3amxKU2xDeUFROWwwQ1c0NFBCQUR6WGhlN3hNZGk5SHRUcmRZakZZa0RRTDBjbjRYZHEyL0VBRStJbkNudkFEVGYyZWFoNFN4OXZFeFFqa3FYVDZhQUVSSUNNZXdkL1VBcC9JZVlBTk0yam94dCtxNVZJK2llcTJpMFdnM2w2RE56SHdURVJQZ28xa283WEJYajN2ZGxzVDJGK1V1aEloWWtwN3U3Q2Fya2NyRk9DdFIzSDVKaXdiQUllSW1qVC9ZUUtLQnRHalJGQ1U1SVVnRlJlN2ZGNGNDTlZJUE1ZbzNWS3F4d2p5TkFYTmVwdW9weXFubGQ2MDJxVnNmUnBFa2t6K0dGTDF3UGo2eVNYQnBKdFdWYTV4bGhwY3loQk53cFpIbXRYOEFHZ2ZJRXhvMFpwemtXVlRCR2lYQ1NFYUhoNjIvUG9SMHAvdkhhY3p4WEduajRiU28rRzc4bEVMVTgwaDF1b2dCd1dMZjVZbHNQbWdERWQ0TTIzNnhqbSs4bm00SXVFLzl1Ky9QSDJKWFpmYnd6NHp3MVdiTytTUVBwWGZ3Ry9CQmdBaENOWmlTYi9wT1FBQUFBQVNVVk9SSzVDWUlJPSkiCgkJCX0sCgkJCXN1Y2Nlc3M6IHsKCQkJCSJjb2xvciI6ICIjNDY4ODQ3IiwKCQkJCSJiYWNrZ3JvdW5kLWNvbG9yIjogIiNERkYwRDgiLAoJCQkJImJvcmRlci1jb2xvciI6ICIjRDZFOUM2IiwKCQkJCSJiYWNrZ3JvdW5kLWltYWdlIjogInVybChkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUJRQUFBQVVDQVlBQUFDTmlSME5BQUFBR1hSRldIUlRiMlowZDJGeVpRQkJaRzlpWlNCSmJXRm5aVkpsWVdSNWNjbGxQQUFBQXV0SlJFRlVlTnEwbGN0UEUwRWN4Mzh6dS9SRlMxRXJ5cXRnSkZBMDhZQ2lNWklBUVE0ZVJHOGVER2RQSmlZZVRJd0hUZndQaUFjdlhJd1hMd29YUGFEeGtXZ1E2aXNsS2xKTFNRV0xVcmFQTFR2N0dtZTMyem9GOUtTVGZMTzd2NTN2WjNkL003L2ZJdGgrSU82SU50Mmpqb0E3YmpIQ0pvQWx6Q1J3NTlZd0hZakJuZk1QcUFLV1FZS2pHa2ZDSnFBRjB4d1pqaXBRdEEzTXhlU0c4N1ZoT09ZZWdWclVDeTdVWk05UzZUTElkQWFteVNUY2xaZFloRmhSSGxvR1lnN21nWnYxWnp6dHZndWQ3VjF0YlEydHdZQTM0TEptRjRwNWRYRjFLVHVmbkUrU3hlSnR1Q1pOc0xEQ1FVMCtSeUtURjI3VW53MTAxbDhlNmhuczN1MFBCYWxPUlZWVmtjYUVLQkpEZ1YzK2NHTTR0S0ttSStvaGxJR255Z0tYMDByU0Jmc3p6L24ydVh2ODF3ZDYrcnQxb3JzWkNIUmRyMUltazJGMktvYjNodXRTeFc4dGhzZDhBWE5hbG45RDdDVGZBNk8rMFVna011d1Z2RUZGVWJiQWNya2NUQTgrQXRPazhFNktpUWlEbU1GU0RxWkl0QXpFVlF2aVJrZERkYUZnUHA4SFNaS0FFQUw1UWg3U3EybElKQkp3djJzY1Vxa1VuS29aZ05oY0RLaEtnNWFIKzFJa2NvdUNBZEZHQVFzdVdaWWhPandGSFE5Nm9hZ1dnUm9Vb3YxVDlrUkJFT0RBd3hNMlF0RVVsK1dwK0xuOVZSbzZCY013NEVySFJZakg0L0IyNkFsUW9RUVRSZEhXd2NkOUFINTcrVUFYZGR2REQzN0RtckJCVjM0V2ZxaVhQbDYxZyt2cjZ4QTl6c0dlTTlnT2RzTlhrZ3BFdFR3VnZ3T2tsWExLbTYrL3A1ZXp3azRCK2o2ZHJvQnMyQ3NHYS9nTnM2Ukl4YXpsNFRjMjVtcFRndy9hcFBSMUxZbE5SRkF6Z3NPeGt5WFlMSU0xVjhOTXd5QWtKU2N0RDFlR1ZLaXE1d1dqU1Bkam1lVGtpS3ZWVzRmMllQSFdsM0dBVnE2eW1jeUNUZ292TTNGenlSaURlMlRhS2NFS3NMcEp2TkhqWmdQTnFFdHlpNm1aSW00U1JGeUxNVXNPTlNTZGtQZUZ0WTFuMG1jem9ZM0JIVExod1BSeTkvbHpjemlDdzlBQ0kreXFsMFZMemNHQVpiWVNNNUNDU1pnMS85b2Mvbm43K2k4TjlwLzhBbjRKTUFEeGhIK3hIZnVpS3dBQUFBQkpSVTVFcmtKZ2dnPT0pIgoJCQl9LAoJCQlpbmZvOiB7CgkJCQkiY29sb3IiOiAiIzNBODdBRCIsCgkJCQkiYmFja2dyb3VuZC1jb2xvciI6ICIjRDlFREY3IiwKCQkJCSJib3JkZXItY29sb3IiOiAiI0JDRThGMSIsCgkJCQkiYmFja2dyb3VuZC1pbWFnZSI6ICJ1cmwoZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFCUUFBQUFVQ0FZQUFBQ05pUjBOQUFBQUJtSkxSMFFBL3dEL0FQK2d2YWVUQUFBQUNYQklXWE1BQUFzVEFBQUxFd0VBbXB3WUFBQUFCM1JKVFVVSDNRWUZBaGtTc2Rlcy9RQUFBOGRKUkVGVU9NdlZsR3RNVzJVWXgvL1BPYVdIWGc2bExhVzB5cEF0dzFVQ2dibmlOT0xjVk9MbUFqSFpvbE9ZbHhtVEdYVlpkQW5SZlhRbSs3U29VNG1YYU9haVpzRXBDOUZraVFzNlo2YmRDbk5ZcnVNNktOQnc2WVdld3psOXorc0hJbUVXdit2ejdYbVQ5NWYvKzMvKzd3UDgxNHYrZWZET1YzL1NvWDNsSEFBKzZPRGVVRmZNZmpPV01BRGdkaytlRUt6MHBGN2FRZE1BY09LTExqcmNWTVZYM3hkV04yOS9HaFlQN1N2blAwY1dmUzhjYVNrZkhac1BFOUZnbnQwMkpOdXRRMFFZSEIyZER6OS9wS1g4UWpqdU85eFV4ZC82NkhkeFRlQ0haM3JvalFPYkdRQmN1TmpmcGxrRDNiMTlZLzZNcmltU2FLZ1NNbXBHVTVXZXZtRS9zd2E2T3k3M3RRSEEwUmRyMk1tdi82QTFuOXc5c3VRNzA5N1o5bE00RmxUZ1REcnpaVHU0U3RYVmZwaUk0OHJWY1VETTVjbUVrc3JGbkh4ZnBUdFUvM0JGUXpDUUYvMmJZVm9OYkg3em1JdGJTb01qNDBKU3ptTXlYNXFEdnJpQTdRZHJJSXBBKzNjZHNNcHUwblhJOGNWME10S1hDUFplditnQ0VNMVMyTkhQdldmUC9oTCs3RlNyMyswcDVSQkV5aEVONUpDS1lyOFhuQVNNVDB4Qk55elFHUWVJOGZqc0dEMzlSTVBrN3NlMmJkNVp0VHlvRllYZnRGNnkzN2d4N05lVXRKSk9URmxBSERaTER1SUxVM2ozK0g1b09yRDN5V2JJenR1Z2FBemduQktKdUJMcEdmUXJTOHdPNEZaZ1YrYzFJeGFMZ1dWVTB0TUxFRVRDb3M0eE16RUl2OWNKWFFjeWFnSXdpZ0RHd0pnT0F0SEF3QWhpc1FVankwT1JHRVJpRUxnRzRpYWtrem80TVlBeGNNNWhBTWkxV1dHMXlZQ0pJY01VYUJrVlJMZEdlU1UyOTk1VExXemNVQXpPTko3SjZGQlZCWUlnZ016bUZidmRCVjQ0Q29yZzh2amh6QytFSkVsOFUxa0p0Z1lyaEN6Z2MvdnZUd1hLU2liMXBhUkZWUlZPUkRBSkFzdzVGdVRhSkVoV00yU0hCM21PQWxoa054d3VMemVKc0d3cVd6ZjVURk5kS2d0WTVxSHA2WkZmNjdZL3NBVmFkQ2FWWTVZQUNERGIzT2k0TklqTG5XTXcyUXRoQ0JJc1Zoc1VUVTl0dlhzamVxOStYMWQ3NS9LRXM0TE5PZmNkZi8rSHRoTW52d3hPRDB3bUhhWHI3Wkl0bjJ3dUgyU25CemJaQWJQSndwUHgrVlF1emNtN2RnUkNCNTdhMXVCelVEUkw0YmZuSTBSRTBlYVhkOVc4OW1wanFIWm5VSTVIaDJsMmRrWlpVaE9xcGkycVNtcE9tWjY0VHV1OXFsei9TRVhvNk1FSGEzd09pcDQ2RjFuNzYzM2Vla1Y4ZHM4V3hqbjM3V2w2M1ZWYStlajVvZUVaLzgyWkJFVEpqcEoxUmJpajJEM1ovMXRyWFV2THNibENLMFhmT3gwU1gya01zbjlkWCtkKzdLZjZoOG80QUl5a3VmZmpUOEwyMExVK3c0QVpkNVZ2RVBZK1hwV3FMVjMyN0hSN0R6WHVEbkQ4citvdmtCZWhKOGkreThZQUFBQUFTVVZPUks1Q1lJST0pIgoJCQl9LAoJCQl3YXJuOiB7CgkJCQkiY29sb3IiOiAiI0MwOTg1MyIsCgkJCQkiYmFja2dyb3VuZC1jb2xvciI6ICIjRkNGOEUzIiwKCQkJCSJib3JkZXItY29sb3IiOiAiI0ZCRUVENSIsCgkJCQkiYmFja2dyb3VuZC1pbWFnZSI6ICJ1cmwoZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFCUUFBQUFVQ0FNQUFBQzZWKzAvQUFBQkpsQk1WRVhyNmViLzJvRC93aTcveGpyLzBtUC95a2YvdFFEL3ZCai8zbzcvdVEvL3Z5TC90d2ViaGdELzRwelgxSzN6OGUzNDl2SzZ0SENpbENXYmlReW1uMGpHd29ycjZkWFF6YTNIeGNLa24xdld2Vi81dVJmazRkWFoxYkQxOCsvNTJZZWJpQW15cjVTOW1oQ3pyV3E1dDZ1ZmpSSDU0YUxzMG9TK3FENzUxWHFQaEF5Ymh3WHN1akczc20rWmswUFR3RzZTaGcrUGhoT2Jod09QZ1FMNHpWMm5seXJmMjd1TGZnQ1BoUkh1N09tTGdBYWZreWlXa0QzbDQ5aWJpQWZUczBDK2xnQ25pd0Q0c2dESnhxT2lsekRXb3dXRmZBSDA4dWViaWc2cXBGSEJ2SC9hdzI2RmZRVFF6c3Z5OE95RWZ6MjByM2pBdmFLYmhnRzlxMG5jMkxiWnhYYW5vVXUvdTVXU2dnQ3RwMWFucEpLZG1Gei96bFgvMW5HSmlZbXVxNUR4NytzQUFBRG9QVVpTQUFBQUFYUlNUbE1BUU9iWVpnQUFBQUZpUzBkRUFJZ0ZIVWdBQUFBSmNFaFpjd0FBQ3hNQUFBc1RBUUNhbkJnQUFBQUhkRWxOUlFmZEJnVUJHaGg0YWFoNUFBQUFsa2xFUVZRWTAyTmdvQklJRThFVWN3bjFGa0lYTTFUajVkRFVRaFBVNTAyTWk3WFhReEd6NXVWSWpHT0pVVVVXODFIbllFeU1pMkhWY1VPSUNRWnpNTVlteHJFeU15bEp3Z1V0NUJsaldSTGptSm00cEkxaFlwNVNRTEdZeERnbUxuWk9WeHVvb0NsSURLZ1hLTWJONWdnVjFBQ0xKY2FCeE5nY29pR0NCaVp3ZFd4T0VUQkRyVHlFRmV5MGpZSjRlSGpNR1dnRUFJcFJGUkNVdDA4cUFBQUFBRWxGVGtTdVFtQ0MpIgoJCQl9CgkJfQoJfSk7CgoJJChmdW5jdGlvbigpIHsKCQlpbnNlcnRDU1MoY29yZVN0eWxlLmNzcykuYXR0cigiaWQiLCAiY29yZS1ub3RpZnkiKTsKCQkkKGRvY3VtZW50KS5vbigiY2xpY2siLCAiLiIgKyBwbHVnaW5DbGFzc05hbWUgKyAiLWhpZGFibGUiLCBmdW5jdGlvbihlKSB7CgkJCSQodGhpcykudHJpZ2dlcigibm90aWZ5LWhpZGUiKTsKCQl9KTsKCQkkKGRvY3VtZW50KS5vbigibm90aWZ5LWhpZGUiLCAiLiIgKyBwbHVnaW5DbGFzc05hbWUgKyAiLXdyYXBwZXIiLCBmdW5jdGlvbihlKSB7CgkJCXZhciBlbGVtID0gJCh0aGlzKS5kYXRhKHBsdWdpbkNsYXNzTmFtZSk7CgkJCWlmKGVsZW0pIHsKCQkJCWVsZW0uc2hvdyhmYWxzZSk7CgkJCX0KCQl9KTsKCX0pOwoKfSkpOwo="}]},{"name":"Kill YouTube Channel Video Autoplay","options":{"check_for_updates":true,"comment":null,"compat_foreach":false,"compat_metadata":false,"compat_powerful_this":null,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"merge_connects":true,"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_connects":[],"orig_excludes":[],"orig_includes":[],"orig_matches":["https://www.youtube.com/*"],"orig_noframes":true,"orig_run_at":"document-end","use_blockers":[],"use_connects":[],"use_excludes":[],"use_includes":[],"use_matches":[]},"run_at":null,"sandbox":null,"tab_types":null,"unwrap":null,"user_modified":null},"storage":{"ts":1715999537203,"data":{}},"enabled":false,"position":12,"file_url":"https://greasyfork.org/scripts/399862-kill-youtube-channel-video-autoplay/code/Kill%20YouTube%20Channel%20Video%20Autoplay.user.js","uuid":"d27f61f4-946e-4c3e-9813-c5179bfcce98","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICAgICBLaWxsIFlvdVR1YmUgQ2hhbm5lbCBWaWRlbyBBdXRvcGxheQovLyBAbmFtZTpkZSAgICAgICAgIEtpbGwgWW91VHViZSBDaGFubmVsIFZpZGVvIEF1dG9wbGF5Ci8vIEBuYW1lOmVuICAgICAgICAgS2lsbCBZb3VUdWJlIENoYW5uZWwgVmlkZW8gQXV0b3BsYXkKLy8gQG5hbWU6ZXMgICAgICAgICBLaWxsIFlvdVR1YmUgQ2hhbm5lbCBWaWRlbyBBdXRvcGxheQovLyBAbmFtZTppdCAgICAgICAgIEtpbGwgWW91VHViZSBDaGFubmVsIFZpZGVvIEF1dG9wbGF5Ci8vIEBuYW1lOmphICAgICAgICAgS2lsbCBZb3VUdWJlIENoYW5uZWwgVmlkZW8gQXV0b3BsYXkKLy8gQG5hbWU6ZnIgICAgICAgICBLaWxsIFlvdVR1YmUgQ2hhbm5lbCBWaWRlbyBBdXRvcGxheQovLyBAbmFtZTprbyAgICAgICAgIEtpbGwgWW91VHViZSBDaGFubmVsIFZpZGVvIEF1dG9wbGF5Ci8vIEBuYW1lOnBsICAgICAgICAgS2lsbCBZb3VUdWJlIENoYW5uZWwgVmlkZW8gQXV0b3BsYXkKLy8gQG5hbWU6cnUgICAgICAgICBLaWxsIFlvdVR1YmUgQ2hhbm5lbCBWaWRlbyBBdXRvcGxheQovLyBAbmFtZTp6aCAgICAgICAgIEtpbGwgWW91VHViZSBDaGFubmVsIFZpZGVvIEF1dG9wbGF5Ci8vIEBuYW1lc3BhY2UgICAgICAga2lsbFlvdVR1YmVDaGFubmVsVmlkZW9BdXRvcGxheQovLyBAdmVyc2lvbiAgICAgICAgIDAuMi4xCi8vIEBkZXNjcmlwdGlvbiAgICAgS2lsbCBhdXRvcGxheSBvbiBZb3VUdWJlIGNoYW5uZWwgYW5kIHVzZXIgcGFnZXMKLy8gQGRlc2NyaXB0aW9uOmRlICBCZWVuZGVuIFNpZSBkaWUgYXV0b21hdGlzY2hlIFdpZWRlcmdhYmUgYXVmIGRlbSBZb3VUdWJlLUthbmFsIHVuZCBkZW4gQmVudXR6ZXJzZWl0ZW4KLy8gQGRlc2NyaXB0aW9uOmVuICBLaWxsIGF1dG9wbGF5IG9uIFlvdVR1YmUgY2hhbm5lbCBhbmQgdXNlciBwYWdlcwovLyBAZGVzY3JpcHRpb246ZXMgIEVsaW1pbmEgbGEgcmVwcm9kdWNjacOzbiBhdXRvbcOhdGljYSBlbiBlbCBjYW5hbCBkZSBZb3VUdWJlIHkgZW4gbGFzIHDDoWdpbmFzIGRlbCB1c3VhcmlvCi8vIEBkZXNjcmlwdGlvbjppdCAgVWNjaWRpIGxhIHJpcHJvZHV6aW9uZSBhdXRvbWF0aWNhIHN1bCBjYW5hbGUgWW91VHViZSBlIHN1bGxlIHBhZ2luZSB1dGVudGUKLy8gQGRlc2NyaXB0aW9uOmphICBZb3VUdWJl44OB44Oj44Oz44ON44Or44Go44Om44O844K244O844Oa44O844K444Gu6Ieq5YuV5YaN55Sf44KS57WC5LqG44GZ44KLCi8vIEBkZXNjcmlwdGlvbjpmciAgVHVleiBsYSBsZWN0dXJlIGF1dG9tYXRpcXVlIHN1ciBsYSBjaGHDrm5lIFlvdVR1YmUgZXQgbGVzIHBhZ2VzIHV0aWxpc2F0ZXVyCi8vIEBkZXNjcmlwdGlvbjprbyAgWW91VHViZSDssYTrhJAg67CPIOyCrOyaqeyekCDtjpjsnbTsp4Dsl5DshJwg7J6Q64+ZIOyerOyDnSDspJHsp4AKLy8gQGRlc2NyaXB0aW9uOnBsICBaYWJpaiBhdXRvb2R0d2FyemFuaWUgbmEga2FuYWxlIFlvdVR1YmUgaSBzdHJvbmFjaCB1xbx5dGtvd25pa8OzdwovLyBAZGVzY3JpcHRpb246cnUgINCj0LHQuNGA0LDQtdGCINCw0LLRgtC+0LfQsNC/0YPRgdC6INCy0LjQtNC10L4g0L3QsCDRgdGC0YDQsNC90LjRhtCw0YUg0LrQsNC90LDQu9CwINC4INC/0L7Qu9GM0LfQvtCy0LDRgtC10LvRjyDQvdCwIFlvdVR1YmUKLy8gQGRlc2NyaXB0aW9uOnpoICDnu4jmraJZb3VUdWJl6aKR6YGT5ZKM55So5oi36aG16Z2i5LiK55qE6Ieq5Yqo5pKt5pS+Ci8vIEBhdXRob3IgICAgICAgICAgQmxhbmsKLy8gQG1hdGNoICAgICAgICAgICBodHRwczovL3d3dy55b3V0dWJlLmNvbS8qCi8vIEBydW4tYXQgICAgICAgICAgZG9jdW1lbnQtZW5kCi8vIEBncmFudCAgICAgICAgICAgbm9uZQovLyBAbm9mcmFtZXMKLy8gPT0vVXNlclNjcmlwdD09CgooZnVuY3Rpb24gbWFpbigpIHsKICAndXNlIHN0cmljdCc7CgogIGNvbnN0IGxvZyA9ICguLi5hcmdzKSA9PiBjb25zb2xlLmxvZyhgJHtHTS5pbmZvLnNjcmlwdC5uYW1lfTpgLCAuLi5hcmdzKTsKICBsb2coJ3N0YXJ0Jyk7CgogIGNvbnN0IHJvb3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCd5dGQtcGFnZS1tYW5hZ2VyJyk7CiAgaWYgKCFyb290KSByZXR1cm4gbG9nKCdyb290IG5vZGUgbm90IGZvdW5kLCBleGl0Jyk7CgogIHsgLy8gdHJ5IHRvIHByZXZlbnQgYXV0b3BsYXkgdy9vIG9ic2VydmVyCiAgICBjb25zdCB2aWRlbyA9IHJvb3QucXVlcnlTZWxlY3RvcigneXRkLWNoYW5uZWwtdmlkZW8tcGxheWVyLXJlbmRlcmVyJyk/LnF1ZXJ5U2VsZWN0b3IoJ3ZpZGVvJyk7CiAgICBpZiAodmlkZW8pIHsKICAgICAgdmlkZW8uYWRkRXZlbnRMaXN0ZW5lcignbG9hZHN0YXJ0JywgKGUpID0+IGUudGFyZ2V0LnBhdXNlKCksIHsgcGFzc2l2ZTogdHJ1ZSB9KTsKICAgICAgcmV0dXJuIGxvZygnY2hhbm5lbCB2aWRlbyBhdXRvcGxheSBwcmV2ZW50ZWQgdy9vIG9ic2VydmVyJyk7CiAgICB9CiAgfQoKICBjb25zdCBvYnNlcnZlciA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKChtdXRhdGlvbnNMaXN0KSA9PiB7CiAgICBjb25zdCBjaGFubmVsUmVuZGVyZXIgPSByb290LnF1ZXJ5U2VsZWN0b3IoJ3l0ZC1jaGFubmVsLXZpZGVvLXBsYXllci1yZW5kZXJlcicpOwogICAgbXV0YXRpb25zTGlzdC5zb21lKChtdXRhdGlvblJlY29yZCkgPT4gewogICAgICBpZiAoIW11dGF0aW9uUmVjb3JkLnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ2h0bWw1LXZpZGVvLWNvbnRhaW5lcicpKSByZXR1cm4gZmFsc2U7CiAgICAgIHJldHVybiBBcnJheS5mcm9tKG11dGF0aW9uUmVjb3JkLmFkZGVkTm9kZXMpLnNvbWUoKG5vZGUpID0+IHsKICAgICAgICBpZiAobm9kZS5ub2RlTmFtZSA9PT0gJ1ZJREVPJykgewogICAgICAgICAgbG9nKCd2aWRlbyBjYXB0dXJlZCcpOwogICAgICAgICAgaWYgKGNoYW5uZWxSZW5kZXJlcj8uY29udGFpbnMobm9kZSkpIHsKICAgICAgICAgICAgb2JzZXJ2ZXIuZGlzY29ubmVjdCgpOwogICAgICAgICAgICBub2RlLmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWRzdGFydCcsIChlKSA9PiBlLnRhcmdldC5wYXVzZSgpLCB7IHBhc3NpdmU6IHRydWUgfSk7CiAgICAgICAgICAgIGxvZygnY2hhbm5lbCB2aWRlbyBhdXRvcGxheSBwcmV2ZW50ZWQnKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0pOwogICAgfSk7CiAgfSk7CiAgb2JzZXJ2ZXIub2JzZXJ2ZShyb290LCB7IGNoaWxkTGlzdDogdHJ1ZSwgc3VidHJlZTogdHJ1ZSB9KTsKICByZXR1cm4gbG9nKCdvYnNlcnZlciBvYnNlcnZlJyk7Cn0oKSk7Cg=="}],"settings":{"configMode":100,"connect_mode":"ask","default_tab_types":"incognito+normal","enabled":true,"external_connect":"all","external_update_interval":1,"favicon_service":"google","forbiddenPages":["*example.org/*","*paypal.tld/*","*kemdikbud.go.id/*","*stripe.com/*","https://*deutsche-bank-24.tld/*","https://*bankofamerica.tld/*","/^.*:\\/\\/apis\\.google\\.com\\/((?!render)([^\\/]+)\\/)+([^\\/]+)?$/","*://www.facebook.com/plugins/*","*://platform.twitter.com/widgets/*","https://drive.google.com/*","http://rerips.com/*","http://drakoric.com/*","https://torrentwal.net/*","https://*.google.com/*","https://*.google.co.id/*","https://www.google.com/","https://www.google.com/*","https://www.google.co.id/","https://www.google.co.id/*","https://softgateon.herokuapp.com/*","http://driverename.iblogbox.com/*","https://www.mm1rza.com/*","https://blog.mm1rza.com/*","https://www.tokopedia.com/*","https://shopee.co.id/*","https://account.microsoft.com/*","https://ibanking.bankjateng.co.id/*","https://mm1rza.com/*","https://web.whatsapp.com/*","https://speedtest.cbn.id/*","https://www.netflix.com/*","https://laksa19.github.io/*","/^[^:/#?]*:\\/\\/([^#?/]*\\.)?portal\\.biznetgio\\.com(:[0-9]{1,5})?\\/.*$/","/^[^:/#?]*:\\/\\/([^#?/]*\\.)?toweroffantasy\\.interactivemap\\.app(:[0-9]{1,5})?\\/.*$/","/^[^:/#?]*:\\/\\/([^#?/]*\\.)?seller\\.tokopedia\\.com(:[0-9]{1,5})?\\/.*$/","/^[^:/#?]*:\\/\\/([^#?/]*\\.)?chat\\.openai\\.com(:[0-9]{1,5})?\\/.*$/","/^[^:/#?]*:\\/\\/([^#?/]*\\.)?cloud-as\\.ruijienetworks\\.com(:[0-9]{1,5})?\\/.*$/","/^[^:/#?]*:\\/\\/([^#?/]*\\.)?laporankerma\\.kemdikbud\\.go\\.id(:[0-9]{1,5})?\\/.*$/","/^[^:/#?]*:\\/\\/([^#?/]*\\.)?pddikti-admin\\.kemdikbud\\.go\\.id(:[0-9]{1,5})?\\/.*$/","/^[^:/#?]*:\\/\\/([^#?/]*\\.)?sister\\.kemdikbud\\.go\\.id(:[0-9]{1,5})?\\/.*$/","/^[^:/#?]*:\\/\\/([^#?/]*\\.)?pddikti\\.kemdikbud\\.go\\.id(:[0-9]{1,5})?\\/.*$/","/^[^:/#?]*:\\/\\/([^#?/]*\\.)?web3triads\\.com(:[0-9]{1,5})?\\/.*$/","/^[^:/#?]*:\\/\\/([^#?/]*\\.)?mnet\\.my\\.id(:[0-9]{1,5})?\\/.*$/","/^[^:/#?]*:\\/\\/([^#?/]*\\.)?login\\.teamviewer\\.com(:[0-9]{1,5})?\\/.*$/","/^[^:/#?]*:\\/\\/([^#?/]*\\.)?stats\\.uptimerobot\\.com(:[0-9]{1,5})?\\/.*$/","/^[^:/#?]*:\\/\\/([^#?/]*\\.)?tunnel\\.hostddns\\.us(:[0-9]{1,5})?\\/.*$/","/^[^:/#?]*:\\/\\/([^#?/]*\\.)?ad4msan\\.com(:[0-9]{1,5})?\\/.*$/","/^[^:/#?]*:\\/\\/([^#?/]*\\.)?103\\.189\\.96\\.18(:[0-9]{1,5})?\\/.*$/","/^[^:/#?]*:\\/\\/([^#?/]*\\.)?127\\.0\\.0\\.1(:[0-9]{1,5})?\\/.*$/","/^[^:/#?]*:\\/\\/([^#?/]*\\.)?inviglory\\.com(:[0-9]{1,5})?\\/.*$/","/^[^:/#?]*:\\/\\/([^#?/]*\\.)?192\\.168\\.99\\.253(:[0-9]{1,5})?\\/.*$/","/^[^:/#?]*:\\/\\/([^#?/]*\\.)?hallonet\\.id(:[0-9]{1,5})?\\/.*$/","/^[^:/#?]*:\\/\\/([^#?/]*\\.)?dev\\.miuiflash\\.com(:[0-9]{1,5})?\\/.*$/","/^[^:/#?]*:\\/\\/([^#?/]*\\.)?play\\.pixels\\.xyz(:[0-9]{1,5})?\\/.*$/","/^[^:/#?]*:\\/\\/([^#?/]*\\.)?pmb\\.akubisa\\.ac\\.id(:[0-9]{1,5})?\\/.*$/","/^[^:/#?]*:\\/\\/([^#?/]*\\.)?akuntansi\\.akubisa\\.ac\\.id(:[0-9]{1,5})?\\/.*$/","/^[^:/#?]*:\\/\\/([^#?/]*\\.)?akubisa\\.ac\\.id(:[0-9]{1,5})?\\/.*$/","/^[^:/#?]*:\\/\\/([^#?/]*\\.)?10\\.10\\.2\\.18(:[0-9]{1,5})?\\/.*$/","/^[^:/#?]*:\\/\\/([^#?/]*\\.)?bilhanet\\.com(:[0-9]{1,5})?\\/.*$/","/^[^:/#?]*:\\/\\/([^#?/]*\\.)?my\\.idnix\\.net(:[0-9]{1,5})?\\/.*$/","/^[^:/#?]*:\\/\\/([^#?/]*\\.)?new\\.clientzone\\.rumahweb\\.com(:[0-9]{1,5})?\\/.*$/","/^[^:/#?]*:\\/\\/([^#?/]*\\.)?account\\.ui\\.com(:[0-9]{1,5})?\\/.*$/","/^[^:/#?]*:\\/\\/([^#?/]*\\.)?ispdesign\\.ui\\.com(:[0-9]{1,5})?\\/.*$/","/^[^:/#?]*:\\/\\/([^#?/]*\\.)?reyee\\.ruijie\\.com(:[0-9]{1,5})?\\/.*$/","/^[^:/#?]*:\\/\\/([^#?/]*\\.)?www\\.ruijienetworks\\.com(:[0-9]{1,5})?\\/.*$/","/^[^:/#?]*:\\/\\/([^#?/]*\\.)?preview\\.themeforest\\.net(:[0-9]{1,5})?\\/.*$/","/^[^:/#?]*:\\/\\/([^#?/]*\\.)?192\\.168\\.18\\.1(:[0-9]{1,5})?\\/.*$/","/^[^:/#?]*:\\/\\/([^#?/]*\\.)?mega\\.nz(:[0-9]{1,5})?\\/.*$/","/^[^:/#?]*:\\/\\/([^#?/]*\\.)?10\\.10\\.2\\.11(:[0-9]{1,5})?\\/.*$/","/^[^:/#?]*:\\/\\/([^#?/]*\\.)?192\\.168\\.99\\.245(:[0-9]{1,5})?\\/.*$/","/^[^:/#?]*:\\/\\/([^#?/]*\\.)?www\\.visionplus\\.id(:[0-9]{1,5})?\\/.*$/","/^[^:/#?]*:\\/\\/([^#?/]*\\.)?103\\.216\\.106\\.2(:[0-9]{1,5})?\\/.*$/","/^[^:/#?]*:\\/\\/([^#?/]*\\.)?www\\.zedge\\.net(:[0-9]{1,5})?\\/.*$/","/^[^:/#?]*:\\/\\/([^#?/]*\\.)?one\\.one\\.one\\.one(:[0-9]{1,5})?\\/.*$/","/^[^:/#?]*:\\/\\/([^#?/]*\\.)?order\\.rumahweb\\.com(:[0-9]{1,5})?\\/.*$/","/^[^:/#?]*:\\/\\/([^#?/]*\\.)?chatgpt\\.com(:[0-9]{1,5})?\\/.*$/","/^[^:/#?]*:\\/\\/([^#?/]*\\.)?seller\\.shopee\\.co\\.id(:[0-9]{1,5})?\\/.*$/","/^[^:/#?]*:\\/\\/([^#?/]*\\.)?sibraja\\.lldikti6\\.id(:[0-9]{1,5})?\\/.*$/","/^[^:/#?]*:\\/\\/([^#?/]*\\.)?akuntansi\\.trunojoyo\\.ac\\.id(:[0-9]{1,5})?\\/.*$/","/^[^:/#?]*:\\/\\/([^#?/]*\\.)?nms-iptr\\.ldp\\.net\\.id(:[0-9]{1,5})?\\/.*$/","/^[^:/#?]*:\\/\\/([^#?/]*\\.)?mrtg\\.biznetnetworks\\.com(:[0-9]{1,5})?\\/.*$/","/^[^:/#?]*:\\/\\/([^#?/]*\\.)?www\\.maxmind\\.com(:[0-9]{1,5})?\\/.*$/"],"incognito_mode":"temporary","layout":"default","layout_user_css":"","native_import":true,"native_import_path":"","native_import_post_action":"disable","notification_showUpdate":"changelog","page_filter_mode":"black","page_whitelist":["/https?:\\/\\/greasyfork\\.org\\/.*/","http://xkcd.com/970/"],"require_sri_mode":"supported","reset_sync":null,"run_sync":null,"sandbox_mode":"default","scriptUpdateCheckPeriod":21600000,"script_blacklist_server":[{"rules":["/https?:\\/\\/userscripts\\.org\\/scripts\\/(source|version)/(102614).*\\.user\\.js/"],"severity":2},{"name":"SaveFrom.net helper","reason":"Shows advertisements","rules":["/https?:\\/\\/sf-addon\\.com\\/.*\\/.*\\.user\\.js/","/https?:\\/\\/.*\\.sf-helper\\.com\\/.*\\.user\\.js/"],"severity":3},{"reasons":{"en":"Used for a phishing compain to compromise users of baon-nutrition.com"},"rules":["/https?:\\/\\/files\\.ulysse\\.travel\\/.*\\.user\\.js/"],"severity":8}],"script_include_mode":"default","statistics_enabled":false,"sync_enabled":false,"sync_type":"4","webrequest_fixCSP":"yes","webrequest_modHeaders":"yes"}}